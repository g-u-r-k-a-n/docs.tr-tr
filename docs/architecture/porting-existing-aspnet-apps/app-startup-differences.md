---
title: ASP.NET MVC ve ASP.NET Core arasındaki uygulama başlatma farklılıkları
description: ASP.NET MVC ve ASP.NET Core uygulamaların nasıl çalıştığı konusunda önemli ölçüde farklılık gösterir. Önemli farklılıkları ve ASP.NET MVC 'den ASP.NET Core geçiş yapmayı öğrenin.
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: eaf8d8fac42ddebbb944273b672666e0bd2b1a67
ms.sourcegitcommit: 42d436ebc2a7ee02fc1848c7742bc7d80e13fc2f
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/04/2021
ms.locfileid: "102106167"
---
# <a name="app-startup-differences-between-aspnet-mvc-and-aspnet-core"></a><span data-ttu-id="e25a8-104">ASP.NET MVC ve ASP.NET Core arasındaki uygulama başlatma farklılıkları</span><span class="sxs-lookup"><span data-stu-id="e25a8-104">App startup differences between ASP.NET MVC and ASP.NET Core</span></span>

<span data-ttu-id="e25a8-105">ASP.NET MVC uygulamaları, Windows işletim sistemlerinde bulunan birincil web sunucusu olan Internet Information Server (IIS) içinde tamamen geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-105">ASP.NET MVC apps lived entirely within Internet Information Server (IIS), the primary web server available on Windows operating systems.</span></span> <span data-ttu-id="e25a8-106">ASP.NET MVC 'den farklı olarak ASP.NET Core uygulamalar yürütülebilir uygulamalardır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-106">Unlike ASP.NET MVC, ASP.NET Core apps are executable apps.</span></span> <span data-ttu-id="e25a8-107">Bunları kullanarak komut satırından çalıştırabilirsiniz `dotnet run` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-107">You can run them from the command line, using `dotnet run`.</span></span> <span data-ttu-id="e25a8-108">Tüm C# programları, genellikle `public static void Main()` veya benzer bir çeşitleme (Belki de bağımsız değişkenlerle veya destek ile) gibi bir giriş noktası yöntemi vardır `async` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-108">They have an entry point method like all C# programs, typically `public static void Main()` or a similar variation (perhaps with arguments or `async` support).</span></span> <span data-ttu-id="e25a8-109">Bu muhtemelen ASP.NET Core ve ASP.NET MVC arasındaki en büyük mimari farklılığı ve ASP.NET Core Windows dışı sistemlerde çalışmasına izin veren çeşitli farklardan biridir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-109">This is perhaps the biggest architectural difference between ASP.NET Core and ASP.NET MVC, and is one of several differences that allows ASP.NET Core to run on non-Windows systems.</span></span>

## <a name="aspnet-mvc-startup"></a><span data-ttu-id="e25a8-110">ASP.NET MVC başlatması</span><span class="sxs-lookup"><span data-stu-id="e25a8-110">ASP.NET MVC Startup</span></span>

<span data-ttu-id="e25a8-111">IIS 'de barındırılan ASP.NET Apps, belirli nesneleri başlatmak ve bir istek geldiğinde belirli yöntemleri çağırmak için IIS 'yi kullanır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-111">Hosted within IIS, ASP.NET apps rely on IIS to instantiate certain objects and call certain methods when a request arrives.</span></span> <span data-ttu-id="e25a8-112">ASP.NET, ' den türetilen *Global. asax* dosyasının sınıfının bir örneğini oluşturur `HttpApplication` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-112">ASP.NET creates an instance of the *Global.asax* file's class, which derives from `HttpApplication`.</span></span> <span data-ttu-id="e25a8-113">İlk istek alındığında, isteğin kendisini işlemeye başlamadan önce, ASP.NET, `Application_Start` *genel. asax* dosyasının sınıfındaki yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-113">When the first request is received, before handling the request itself, ASP.NET calls the `Application_Start` method in the *Global.asax* file's class.</span></span> <span data-ttu-id="e25a8-114">ASP.NET MVC uygulaması başladığında çalıştırılması gereken tüm mantık bu yönteme eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-114">Any logic that needs to run when the ASP.NET MVC app begins can be added to this method.</span></span>

<span data-ttu-id="e25a8-115">ASP.NET MVC ve Web API için birçok NuGet paketi, uygulamanın başlatılması sırasında bazı kodlar çalıştırmaya izin vermek için [Webactivator](https://github.com/davidebbo/WebActivator) paketini kullanır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-115">Many NuGet packages for ASP.NET MVC and Web API use the [WebActivator](https://github.com/davidebbo/WebActivator) package to let them run some code during app startup.</span></span> <span data-ttu-id="e25a8-116">Kurala göre, bu kod genellikle bir *App_Start* klasöre eklenir ve özniteliği aracılığıyla hemen önce veya hemen sonrasında çalıştırılacak şekilde yapılandırılır `Application_Start` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-116">By convention, this code would typically be added to an *App_Start* folder and would be configured via attribute to run either immediately before or just after `Application_Start`.</span></span>

<span data-ttu-id="e25a8-117">Ayrıca, [.net (OWıN) Için açık Web arabirimi ve ASP.NET MVC Ile proje Katana](/aspnet/aspnet/overview/owin-and-katana/getting-started-with-owin-and-katana)öğesini kullanmak da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="e25a8-117">It's also possible to use the [Open Web Interface for .NET (OWIN) and Project Katana with ASP.NET MVC](/aspnet/aspnet/overview/owin-and-katana/getting-started-with-owin-and-katana).</span></span> <span data-ttu-id="e25a8-118">Bu durumda, uygulama ASP.NET Core, istek ara yazılımı ayarlamanın ne kadar davranına benzer bir şekilde ayarlamaktan sorumlu bir *Startup.cs* dosyası içerir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-118">When doing so, the app will include a *Startup.cs* file that is responsible for setting up request middleware in a way that's very similar to how ASP.NET Core behaves.</span></span>

<span data-ttu-id="e25a8-119">ASP.NET MVC uygulamanız başlatıldığında kodu çalıştırmanız gerekirse, genellikle bu yaklaşımlardan birini kullanacaktır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-119">If you need to run code when your ASP.NET MVC app starts up, it will typically use one of these approaches.</span></span>

## <a name="aspnet-core-startup"></a><span data-ttu-id="e25a8-120">ASP.NET Core başlangıç</span><span class="sxs-lookup"><span data-stu-id="e25a8-120">ASP.NET Core Startup</span></span>

<span data-ttu-id="e25a8-121">Daha önce belirtildiği gibi ASP.NET Core uygulamalar tek başına programlardır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-121">As noted previously, ASP.NET Core apps are standalone programs.</span></span> <span data-ttu-id="e25a8-122">Bu nedenle, genellikle uygulamanın giriş noktasını içeren bir *program.cs* dosyası içerirler.</span><span class="sxs-lookup"><span data-stu-id="e25a8-122">As such, they typically include a *Program.cs* file containing the entry point for the app.</span></span> <span data-ttu-id="e25a8-123">Şekil 2-1 ' de bu dosyanın tipik bir örneği gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-123">A typical example of this file is shown in Figure 2-1.</span></span>

```csharp
public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =>
        Host.CreateDefaultBuilder(args)
            .ConfigureWebHostDefaults(webBuilder =>
            {
                webBuilder.UseStartup<Startup>();
            });
}
```

<span data-ttu-id="e25a8-124">**Şekil 2-1**.</span><span class="sxs-lookup"><span data-stu-id="e25a8-124">**Figure 2-1**.</span></span> <span data-ttu-id="e25a8-125">Tipik bir ASP.NET Core *program.cs* dosyası.</span><span class="sxs-lookup"><span data-stu-id="e25a8-125">A typical ASP.NET Core *Program.cs* file.</span></span>

<span data-ttu-id="e25a8-126">Şekil 2-1 ' de gösterilen kod, uygulama için bir *konak* oluşturur, oluşturur ve çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-126">The code shown in Figure 2-1 creates a *host* for the app, builds it, and runs it.</span></span> <span data-ttu-id="e25a8-127">ASP.NET Core uygulama, gösterilen tarafından yapılandırılan ana bilgisayar içinde çalışır `IHostBuilder` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-127">The ASP.NET Core app runs within the host configured by the `IHostBuilder` shown.</span></span> <span data-ttu-id="e25a8-128">Kullanarak bir ASP.NET Core uygulamasını tamamen yapılandırmak mümkün olsa `IHostBuilder` da, genellikle bu çalışmanın toplu işi bir `Startup` sınıfta yapılır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-128">While it's possible to completely configure an ASP.NET Core app using the `IHostBuilder`, typically the bulk of this work is done in a `Startup` class.</span></span>

<span data-ttu-id="e25a8-129">`Startup`Sınıfı, ana bilgisayar için iki yöntem sunar: `ConfigureServices` ve `Configure` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-129">The `Startup` class exposes two methods to the host: `ConfigureServices` and `Configure`.</span></span> <span data-ttu-id="e25a8-130">`ConfigureServices`Yöntemi, uygulamanın kullanacağı Hizmetleri ve ilgili yaşam sürelerini tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-130">The `ConfigureServices` method is used to define the services the app will use and their respective lifetimes.</span></span> <span data-ttu-id="e25a8-131">`Configure`Yöntemi, bir uygulamaya yönelik her isteğin, ara yazılım tarafından oluşturulan bir istek işlem hattı ayarlanarak nasıl işleneceğini tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-131">The `Configure` method is used to define how each request to the app will be handled by setting up a request pipeline composed of middleware.</span></span>

<span data-ttu-id="e25a8-132">Uygulamanın hizmetlerini veya istek işlem hattını yapılandırma ile ilgili kodun yanı sıra, uygulamalar uygulama başladığında çalışması gereken başka bir koda de sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-132">In addition to code related to configuring the app's services or request pipeline, apps may have other code that must run when the app begins.</span></span> <span data-ttu-id="e25a8-133">Bu tür kodlar genellikle *program.cs* ' a yerleştirilir veya olarak kaydedilir ve `IHostedService` uygulama başlatıldığında [genel ana bilgisayar](/aspnet/core/fundamentals/host/generic-host?preserve-view=true&view=aspnetcore-3.1) tarafından başlatılır.</span><span class="sxs-lookup"><span data-stu-id="e25a8-133">Such code is typically placed in *Program.cs* or registered as an `IHostedService`, which will be started by the [generic host](/aspnet/core/fundamentals/host/generic-host?preserve-view=true&view=aspnetcore-3.1) when the app starts.</span></span>

<span data-ttu-id="e25a8-134">`IHostedService`Arabirim yalnızca iki yöntem sunar `StartAsync` ve `StopAsync` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-134">The `IHostedService` interface just exposes two methods, `StartAsync` and `StopAsync`.</span></span> <span data-ttu-id="e25a8-135">Arabirimini ' a kaydedersiniz `ConfigureServices` ve konak, uygulama başlamadan önce yöntemi çağıran geri kalanı yapar `StartAsync` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-135">You register the interface in `ConfigureServices` and the host does the rest, calling the `StartAsync` method before the app starts up.</span></span>

## <a name="porting-considerations"></a><span data-ttu-id="e25a8-136">Taşıma konuları</span><span class="sxs-lookup"><span data-stu-id="e25a8-136">Porting considerations</span></span>

<span data-ttu-id="e25a8-137">Uygulamalarını ASP.NET MVC 'den ASP.NET Core 'e geçirmek isteyen ekipler, uygulamaları başlatıldığında hangi kodun çalıştırıldığını belirlemek ve bu kodun ASP.NET Core uygulamalarında uygun konumu belirlemektir.</span><span class="sxs-lookup"><span data-stu-id="e25a8-137">Teams looking to migrate their apps from ASP.NET MVC to ASP.NET Core need to identify what code is being run when their app starts up and determine the appropriate location for such code in their ASP.NET Core app.</span></span> <span data-ttu-id="e25a8-138">Uygulama başladığında çalışması gereken özel kod için, özellikle zaman uyumsuz kod, önerilen yaklaşım genellikle bu tür kodları uygulamalara koymalıdır `IHostedService` .</span><span class="sxs-lookup"><span data-stu-id="e25a8-138">For custom code needed to run when the app starts up, especially async code, the recommended approach is typically to put such code into `IHostedService` implementations.</span></span>

## <a name="references"></a><span data-ttu-id="e25a8-139">Başvurular</span><span class="sxs-lookup"><span data-stu-id="e25a8-139">References</span></span>

- <span data-ttu-id="e25a8-140">[IIS 7 için ASP.NET uygulama yaşam döngüsüne genel bakış](/previous-versions/aspnet/bb470252(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e25a8-140">[ASP.NET Application Life Cycle Overview for IIS 7](/previous-versions/aspnet/bb470252(v=vs.100))</span></span>
- <span data-ttu-id="e25a8-141">[IIS 5 ve 6 için ASP.NET uygulama yaşam döngüsüne genel bakış](/previous-versions/aspnet/ms178473(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e25a8-141">[ASP.NET Application Life Cycle Overview for IIS 5 and 6](/previous-versions/aspnet/ms178473(v=vs.100))</span></span>
- [<span data-ttu-id="e25a8-142">OWIN ve Katana ile Çalışmaya Başlama</span><span class="sxs-lookup"><span data-stu-id="e25a8-142">Getting Started with OWIN and Katana</span></span>](/aspnet/aspnet/overview/owin-and-katana/getting-started-with-owin-and-katana)
- [<span data-ttu-id="e25a8-143">WebActivator</span><span class="sxs-lookup"><span data-stu-id="e25a8-143">WebActivator</span></span>](https://github.com/davidebbo/WebActivator)
- [<span data-ttu-id="e25a8-144">ASP.NET Core 'de uygulama başlatma</span><span class="sxs-lookup"><span data-stu-id="e25a8-144">App Startup in ASP.NET Core</span></span>](/aspnet/core/fundamentals/startup?preserve-view=true&view=aspnetcore-3.1)
- [<span data-ttu-id="e25a8-145">ASP.NET Core .NET genel ana bilgisayarı</span><span class="sxs-lookup"><span data-stu-id="e25a8-145">.NET Generic Host in ASP.NET Core</span></span>](/aspnet/core/fundamentals/host/generic-host?preserve-view=true&view=aspnetcore-3.1)
- [<span data-ttu-id="e25a8-146">Ihostedservice</span><span class="sxs-lookup"><span data-stu-id="e25a8-146">IHostedService</span></span>](../microservices/multi-container-microservice-net-applications/background-tasks-with-ihostedservice.md)

>[!div class="step-by-step"]
><span data-ttu-id="e25a8-147">[Önceki](architectural-differences.md) 
> [Sonraki](hosting-differences.md)</span><span class="sxs-lookup"><span data-stu-id="e25a8-147">[Previous](architectural-differences.md)
[Next](hosting-differences.md)</span></span>
