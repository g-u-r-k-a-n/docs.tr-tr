---
title: Project. json ' dan .NET Core geçişi
description: Project. JSON kullanarak eski bir .NET Core projesini geçirmeyi öğrenin
ms.date: 07/19/2017
ms.openlocfilehash: f81d01c052c3632c48a5f961be86eab686c2074e
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/07/2020
ms.locfileid: "75714352"
---
# <a name="migrating-net-core-projects-from-projectjson"></a><span data-ttu-id="aa3ec-103">Project. json ' dan .NET Core projelerini geçirme</span><span class="sxs-lookup"><span data-stu-id="aa3ec-103">Migrating .NET Core projects from project.json</span></span>

<span data-ttu-id="aa3ec-104">Bu belgede .NET Core projeleri için aşağıdaki üç geçiş senaryosu ele alınmaktadır:</span><span class="sxs-lookup"><span data-stu-id="aa3ec-104">This document covers the following three migration scenarios for .NET Core projects:</span></span>

1. [<span data-ttu-id="aa3ec-105">*Project. JSON* ' un geçerli bir en son şemasından *csproj* 'a geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-105">Migration from a valid latest schema of *project.json* to *csproj*</span></span>](#migration-from-projectjson-to-csproj)
2. [<span data-ttu-id="aa3ec-106">DNX 'ten csproj 'a geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-106">Migration from DNX to csproj</span></span>](#migration-from-dnx-to-csproj)
3. [<span data-ttu-id="aa3ec-107">RC3 ve önceki .NET Core csproj projelerinden son biçime geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-107">Migration from RC3 and previous .NET Core csproj projects to the final format</span></span>](#migration-from-earlier-net-core-csproj-formats-to-rtm-csproj)

<span data-ttu-id="aa3ec-108">Bu belge yalnızca Project. JSON kullanan eski .NET Core projelerine uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-108">This document is only applicable to older .NET Core projects that use project.json.</span></span> <span data-ttu-id="aa3ec-109">.NET Framework .NET Core 'a geçiş için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-109">It does not apply to migrating from .NET Framework to .NET Core.</span></span>

## <a name="migration-from-projectjson-to-csproj"></a><span data-ttu-id="aa3ec-110">Project. JSON 'dan csproj 'a geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-110">Migration from project.json to csproj</span></span>

<span data-ttu-id="aa3ec-111">*Project. JSON* ' dan *. csproj* 'a geçiş, aşağıdaki yöntemlerden biri kullanılarak yapılabilir:</span><span class="sxs-lookup"><span data-stu-id="aa3ec-111">Migration from *project.json* to *.csproj* can be done using one of the following methods:</span></span>

- [<span data-ttu-id="aa3ec-112">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="aa3ec-112">Visual Studio</span></span>](#visual-studio)
- [<span data-ttu-id="aa3ec-113">DotNet geçiş komut satırı aracı</span><span class="sxs-lookup"><span data-stu-id="aa3ec-113">dotnet migrate command-line tool</span></span>](#dotnet-migrate)

<span data-ttu-id="aa3ec-114">Her iki yöntem de projeleri geçirmek için aynı temel altyapıyı kullanır, bu nedenle sonuçlar her ikisi için de aynı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-114">Both methods use the same underlying engine to migrate the projects, so the results will be the same for both.</span></span> <span data-ttu-id="aa3ec-115">Çoğu durumda, projeyi geçirmek için şu iki yönden birini kullanmak yeterlidir *. JSON* , gereken tek şeydir ve proje dosyasının el ile düzenlenmesinin *gerekli değildir.*</span><span class="sxs-lookup"><span data-stu-id="aa3ec-115">In most cases, using one of these two ways to migrate the *project.json* to *csproj* is the only thing that is needed, and no further manual editing of the project file is necessary.</span></span> <span data-ttu-id="aa3ec-116">Elde edilen *. csproj* dosyası, kapsayan dizin adı ile aynı ada sahip olacaktır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-116">The resulting *.csproj* file will be named the same as the containing directory name.</span></span>

### <a name="visual-studio"></a><span data-ttu-id="aa3ec-117">{1&gt;Visual Studio&lt;1}</span><span class="sxs-lookup"><span data-stu-id="aa3ec-117">Visual Studio</span></span>

<span data-ttu-id="aa3ec-118">Visual Studio 2017 veya Visual Studio 2019 sürüm 16,2 ve önceki sürümlerde *.* xproj dosyalarına başvuran bir *. xproj* dosyası veya çözüm dosyası açtığınızda **tek yönlü yükseltme** iletişim kutusu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-118">When you open an *.xproj* file or a solution file that references *.xproj* files in Visual Studio 2017 or Visual Studio 2019 version 16.2 and earlier, the **One-way upgrade** dialog appears.</span></span> <span data-ttu-id="aa3ec-119">İletişim kutusunda geçirilecek projeler görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-119">The dialog displays the projects to be migrated.</span></span> <span data-ttu-id="aa3ec-120">Bir çözüm dosyası açarsanız, çözüm dosyasında belirtilen tüm projeler listelenir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-120">If you open a solution file, all the projects specified in the solution file are listed.</span></span> <span data-ttu-id="aa3ec-121">Geçirilecek projelerin listesini gözden geçirin ve **Tamam ' ı**seçin.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-121">Review the list of projects to be migrated and select **OK**.</span></span>

![Geçirilecek projelerin listesini gösteren tek yönlü yükseltme iletişim kutusu](media/one-way-upgrade.jpg)

<span data-ttu-id="aa3ec-123">Visual Studio seçilen projeleri otomatik olarak geçirir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-123">Visual Studio migrates the selected projects automatically.</span></span> <span data-ttu-id="aa3ec-124">Bir çözümü geçirirken, tüm projeler ' i seçmezseniz, bu çözümden kalan projeleri yükseltmenizi isteyen iletişim kutusu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-124">When migrating a solution, if you don't choose all projects, the same dialog appears asking you to upgrade the remaining projects from that solution.</span></span> <span data-ttu-id="aa3ec-125">Proje geçirildikten sonra, **Çözüm Gezgini** penceresinde projeye sağ tıklayıp, **\<proje adını >. csproj**öğesini seçerek içeriğini görebilir ve değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-125">After the project is migrated, you can see and modify its contents by right-clicking the project in the **Solution Explorer** window and selecting **Edit \<project name>.csproj**.</span></span>

<span data-ttu-id="aa3ec-126">Geçirilen dosyalar (*Project. JSON*, *Global. JSON*, *. xproj*ve çözüm dosyası) bir *yedekleme* klasörüne taşınır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-126">Files that were migrated (*project.json*, *global.json*, *.xproj*, and solution file) are moved to a *Backup* folder.</span></span> <span data-ttu-id="aa3ec-127">Geçirilen çözüm dosyası Visual Studio 2017 veya Visual Studio 2019 sürümüne yükseltilir ve bu çözüm dosyasını Visual Studio 2015 veya önceki sürümlerde açamazsınız.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-127">The migrated solution file is upgraded to Visual Studio 2017 or Visual Studio 2019 and you won't be able to open that solution file in Visual Studio 2015 or earlier versions.</span></span> <span data-ttu-id="aa3ec-128">Bir geçiş raporu içeren *UpgradeLog. htm* adlı bir dosya Ayrıca otomatik olarak kaydedilir ve açılır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-128">A file named *UpgradeLog.htm* that contains a migration report is also saved and opened automatically.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aa3ec-129">Visual Studio 2019 sürüm 16,3 ve sonrasında, bir *. xproj* dosyasını yükleyemez veya geçiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-129">In Visual Studio 2019 version 16.3 and later, you cannot load or migrate an *.xproj* file.</span></span> <span data-ttu-id="aa3ec-130">Ayrıca, Visual Studio 2015 bir *. xproj* dosyasını geçirebilme olanağı sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-130">Additionally, Visual Studio 2015 doesn't provide the ability to migrate an *.xproj* file.</span></span> <span data-ttu-id="aa3ec-131">Bu Visual Studio sürümlerinden birini kullanıyorsanız, Visual Studio 'nun uygun bir sürümünü yükledikten sonra veya bir sonraki adımda açıklanan komut satırı geçiş aracını kullanın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-131">If you're using one of these Visual Studio versions, either install a suitable version of Visual Studio, or use the command line migration tool that's described next.</span></span>

### <a name="dotnet-migrate"></a><span data-ttu-id="aa3ec-132">dotnet migrate</span><span class="sxs-lookup"><span data-stu-id="aa3ec-132">dotnet migrate</span></span>

<span data-ttu-id="aa3ec-133">Komut satırı senaryosunda, [`dotnet migrate`](../tools/dotnet-migrate.md) komutunu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-133">In the command-line scenario, you can use the [`dotnet migrate`](../tools/dotnet-migrate.md) command.</span></span> <span data-ttu-id="aa3ec-134">Nerede bulunanlara bağlı olarak bir projeyi, çözümü veya bir klasör kümesini o sırada geçirir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-134">It migrates a project, a solution, or a set of folders in that order, depending on which ones were found.</span></span> <span data-ttu-id="aa3ec-135">Bir projeyi geçirdiğinizde, proje ve tüm bağımlılıkları geçirilir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-135">When you migrate a project, the project and all its dependencies are migrated.</span></span>

<span data-ttu-id="aa3ec-136">Geçirilen dosyalar (*Project. JSON*, *Global. JSON*ve *. xproj*) bir *yedekleme* klasörüne taşınır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-136">Files that were migrated (*project.json*, *global.json*, and *.xproj*) are moved to a *backup* folder.</span></span>

> [!NOTE]
> <span data-ttu-id="aa3ec-137">Visual Studio Code kullanıyorsanız, `dotnet migrate` komutu *Tasks. JSON*gibi Visual Studio Code özgü dosyaları değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-137">If you are using Visual Studio Code, the `dotnet migrate` command does not modify Visual Studio Code-specific files such as *tasks.json*.</span></span> <span data-ttu-id="aa3ec-138">Bu dosyaların el ile değiştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-138">These files need to be changed manually.</span></span>
> <span data-ttu-id="aa3ec-139">Bu, Visual Studio dışında bir düzenleyici veya tümleşik geliştirme ortamı (IDE) kullanıyorsanız de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-139">This is also true if you are using an editor or Integrated Development Environment (IDE) other than Visual Studio.</span></span>

<span data-ttu-id="aa3ec-140">*Project. JSON* ve *. csproj* biçimlerinin karşılaştırması için [Project. JSON ve csproj özellikleri arasında bir eşleme](../tools/project-json-to-csproj.md) görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-140">See [A mapping between project.json and csproj properties](../tools/project-json-to-csproj.md) for a comparison of *project.json* and *.csproj* formats.</span></span>

<span data-ttu-id="aa3ec-141">Bir hata alırsanız:</span><span class="sxs-lookup"><span data-stu-id="aa3ec-141">If you get an error:</span></span>

> <span data-ttu-id="aa3ec-142">DotNet komutuyla eşleşen çalıştırılabilir bulunamadı-geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-142">No executable found matching command dotnet-migrate</span></span>

<span data-ttu-id="aa3ec-143">Hangi sürümü kullandığınızı görmek için `dotnet --version` çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-143">Run `dotnet --version` to see which version you are using.</span></span> <span data-ttu-id="aa3ec-144">[`dotnet migrate`](../tools/dotnet-migrate.md) .NET Core SDK 1.0.0 ' de tanıtılmıştı ve sürüm 3.0.100 ' de kaldırıldı.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-144">[`dotnet migrate`](../tools/dotnet-migrate.md) was introduced in .NET Core SDK 1.0.0 and removed in version 3.0.100.</span></span>
<span data-ttu-id="aa3ec-145">Geçerli veya üst dizinde *Global. JSON* dosyanız varsa ve belirttiği `sdk` sürümü bu aralığın dışındaysa bu hatayı alırsınız.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-145">You'll get this error if you have a *global.json* file in the current or parent directory, and the `sdk` version it specifies is outside this range.</span></span>

## <a name="migration-from-dnx-to-csproj"></a><span data-ttu-id="aa3ec-146">DNX 'ten csproj 'a geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-146">Migration from DNX to csproj</span></span>

<span data-ttu-id="aa3ec-147">.NET Core geliştirme için DNX kullanmaya devam ediyorsanız, geçiş işleminiz iki aşamada yapılmalıdır:</span><span class="sxs-lookup"><span data-stu-id="aa3ec-147">If you are still using DNX for .NET Core development, your migration process should be done in two stages:</span></span>

1. <span data-ttu-id="aa3ec-148">DNX 'ten Project-JSON etkin CLı 'ye geçiş yapmak için [mevcut DNX geçiş kılavuzunu](from-dnx.md) kullanın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-148">Use the [existing DNX migration guidance](from-dnx.md) to migrate from DNX to project-json enabled CLI.</span></span>
2. <span data-ttu-id="aa3ec-149">*Project. JSON* ' dan *. csproj*'a geçiş yapmak için önceki bölümdeki adımları izleyin.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-149">Follow the steps from the previous section to migrate from *project.json* to *.csproj*.</span></span>  

> [!NOTE]
> <span data-ttu-id="aa3ec-150">DNX, .NET Core CLI Preview 1 sürümü sırasında resmi kullanım dışı duruma geldi.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-150">DNX has become officially deprecated during the Preview 1 release of the .NET Core CLI.</span></span>

## <a name="migration-from-earlier-net-core-csproj-formats-to-rtm-csproj"></a><span data-ttu-id="aa3ec-151">Önceki .NET Core csproj biçimlerinden RTM csproj 'e geçiş</span><span class="sxs-lookup"><span data-stu-id="aa3ec-151">Migration from earlier .NET Core csproj formats to RTM csproj</span></span>

<span data-ttu-id="aa3ec-152">.NET Core csproj biçimi, her yeni alet yayın öncesi sürümü ile değiştirilmiştir ve gelişiyor.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-152">The .NET Core csproj format has been changing and evolving with each new pre-release version of the tooling.</span></span> <span data-ttu-id="aa3ec-153">Proje dosyanızı csproj 'ın önceki sürümlerinden en son sürümüne geçiren bir araç yoktur, bu nedenle proje dosyasını el ile düzenlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-153">There is no tool that will migrate your project file from earlier versions of csproj to the latest, so you need to manually edit the project file.</span></span> <span data-ttu-id="aa3ec-154">Asıl adımlar, geçirdiğiniz proje dosyasının sürümüne bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-154">The actual steps depend on the version of the project file you are migrating.</span></span> <span data-ttu-id="aa3ec-155">Sürümler arasında gerçekleşen değişikliklere göre göz önünde bulundurmanız gereken bazı yönergeler aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="aa3ec-155">The following is some guidance to consider based on the changes that happened between versions:</span></span>

- <span data-ttu-id="aa3ec-156">Araçlar sürümü özelliğini, varsa `<Project>` öğesinden kaldırın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-156">Remove the tools version property from the `<Project>` element, if it exists.</span></span>
- <span data-ttu-id="aa3ec-157">XML ad alanını (`xmlns`) `<Project>` öğesinden kaldırın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-157">Remove the XML namespace (`xmlns`) from the `<Project>` element.</span></span>
- <span data-ttu-id="aa3ec-158">Yoksa, `Sdk` özniteliğini `<Project>` öğesine ekleyin ve `Microsoft.NET.Sdk` ya da `Microsoft.NET.Sdk.Web`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-158">If it doesn't exist, add the `Sdk` attribute to the `<Project>` element and set it to `Microsoft.NET.Sdk` or `Microsoft.NET.Sdk.Web`.</span></span> <span data-ttu-id="aa3ec-159">Bu öznitelik, projenin kullanılacak SDK 'Yı kullandığını belirtir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-159">This attribute specifies that the project uses the SDK to be used.</span></span> <span data-ttu-id="aa3ec-160">`Microsoft.NET.Sdk.Web` Web uygulamaları için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-160">`Microsoft.NET.Sdk.Web` is used for web apps.</span></span>
- <span data-ttu-id="aa3ec-161">`<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` ve `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` deyimlerini projenin üst ve alt kısmından kaldırın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-161">Remove the `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` and `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` statements from the top and bottom of the project.</span></span> <span data-ttu-id="aa3ec-162">Bu içeri aktarma deyimleri SDK tarafından kapsanıyor, bu nedenle projenin projede olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-162">These import statements are implied by the SDK, so there is no need for them to be in the project.</span></span>
- <span data-ttu-id="aa3ec-163">Projenizdeki öğelerin `<PackageReference>` `Microsoft.NETCore.App` veya `NETStandard.Library` varsa, bunları kaldırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-163">If you have `Microsoft.NETCore.App` or `NETStandard.Library` `<PackageReference>` items in your project, you should remove them.</span></span> <span data-ttu-id="aa3ec-164">Bu paket başvuruları [SDK tarafından kapsanıyor](https://aka.ms/sdkimplicitrefs).</span><span class="sxs-lookup"><span data-stu-id="aa3ec-164">These package references are [implied by the SDK](https://aka.ms/sdkimplicitrefs).</span></span>
- <span data-ttu-id="aa3ec-165">Varsa `Microsoft.NET.Sdk` `<PackageReference>` öğesi kaldırın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-165">Remove the `Microsoft.NET.Sdk` `<PackageReference>` element, if it exists.</span></span> <span data-ttu-id="aa3ec-166">SDK başvurusu, `<Project>` öğesindeki `Sdk` özniteliği aracılığıyla gelir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-166">The SDK reference comes through the `Sdk` attribute on the `<Project>` element.</span></span>
- <span data-ttu-id="aa3ec-167">[SDK tarafından kapsanan](../tools/csproj.md#default-compilation-includes-in-net-core-projects) [genelleştirmeler](https://en.wikipedia.org/wiki/Glob_(programming)) kaldırın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-167">Remove the [globs](https://en.wikipedia.org/wiki/Glob_(programming)) that are [implied by the SDK](../tools/csproj.md#default-compilation-includes-in-net-core-projects).</span></span> <span data-ttu-id="aa3ec-168">Derleme öğeleri yineleneceği için bu genelleştirmeler, projenizde bir hata oluşmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-168">Leaving these globs in your project will cause an error on build because compile items will be duplicated.</span></span>

<span data-ttu-id="aa3ec-169">Bu adımların ardından projenizin RTM .NET Core csproj biçimiyle tamamen uyumlu olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-169">After these steps your project should be fully compatible with the RTM .NET Core csproj format.</span></span>

<span data-ttu-id="aa3ec-170">Eski csproj biçiminden yenisine geçişten önceki ve sonraki örneklere örnek olarak, .NET bloguna yönelik [Visual Studio 2017 RC – .NET Core Araçları ' nı güncelleştirme geliştirmeleri](https://devblogs.microsoft.com/dotnet/updating-visual-studio-2017-rc-net-core-tooling-improvements/) makalesine bakın.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-170">For examples of before and after the migration from old csproj format to the new one, see the [Updating Visual Studio 2017 RC – .NET Core Tooling improvements](https://devblogs.microsoft.com/dotnet/updating-visual-studio-2017-rc-net-core-tooling-improvements/) article on the .NET blog.</span></span>

## <a name="see-also"></a><span data-ttu-id="aa3ec-171">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="aa3ec-171">See also</span></span>

- [<span data-ttu-id="aa3ec-172">Taşıma, geçirme ve Visual Studio projelerini yükseltme</span><span class="sxs-lookup"><span data-stu-id="aa3ec-172">Port, Migrate, and Upgrade Visual Studio Projects</span></span>](/visualstudio/porting/port-migrate-and-upgrade-visual-studio-projects)
