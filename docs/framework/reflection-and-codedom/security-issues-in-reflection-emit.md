---
title: Yansıma Yaymadaki Güvenlik Sorunları
ms.date: 03/30/2017
helpviewer_keywords:
- partially trusted code
- emitting dynamic assemblies, security
- reflection emit, security
- reflection emit, partial trust scenarios
- partial trust,emitting dynamic methods
- anonymously hosted dynamic methods [.NET Framework]
- emitting dynamic assemblies,partial trust scenarios
- dynamic assemblies, security
ms.assetid: 0f8bf8fa-b993-478f-87ab-1a1a7976d298
ms.openlocfilehash: 11eb4c9bc4ba1b1fe9051a04d12f893e693fb175
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79180469"
---
# <a name="security-issues-in-reflection-emit"></a><span data-ttu-id="f4967-102">Yansıma Yaymadaki Güvenlik Sorunları</span><span class="sxs-lookup"><span data-stu-id="f4967-102">Security Issues in Reflection Emit</span></span>
<span data-ttu-id="f4967-103">.NET Framework, her biri kendi güvenlik sorunları olan Microsoft ara dilini (MSIL) yayan üç yol sağlar:</span><span class="sxs-lookup"><span data-stu-id="f4967-103">The .NET Framework provides three ways to emit Microsoft intermediate language (MSIL), each with its own security issues:</span></span>  
  
- [<span data-ttu-id="f4967-104">Dinamik montajlar</span><span class="sxs-lookup"><span data-stu-id="f4967-104">Dynamic assemblies</span></span>](#Dynamic_Assemblies)  
  
- [<span data-ttu-id="f4967-105">Anonim olarak barındırılan dinamik yöntemler</span><span class="sxs-lookup"><span data-stu-id="f4967-105">Anonymously hosted dynamic methods</span></span>](#Anonymously_Hosted_Dynamic_Methods)  
  
- [<span data-ttu-id="f4967-106">Varolan derlemelerle ilişkili dinamik yöntemler</span><span class="sxs-lookup"><span data-stu-id="f4967-106">Dynamic methods associated with existing assemblies</span></span>](#Dynamic_Methods_Associated_with_Existing_Assemblies)  
  
 <span data-ttu-id="f4967-107">Dinamik kodu oluşturma biçiminiz ne olursa olsun, oluşturulan kodu niçin yürüttüğün, oluşturulan kodun kullandığı tür ve yöntemlerin gerektirdiği tüm izinleri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="f4967-107">Regardless of the way you generate dynamic code, executing the generated code requires all the permissions that are required by the types and methods the generated code uses.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-108">Kod ayansıtmak ve kod yayan için gereken izinler ,.NET Framework'ün sonraki sürümleriyle değiştirildi.</span><span class="sxs-lookup"><span data-stu-id="f4967-108">The permissions that are required for reflecting on code and emitting code have changed with succeeding releases of the .NET Framework.</span></span> <span data-ttu-id="f4967-109">Bu konunun ilerleyen saatlerinde [Sürüm Bilgileri'ne](#Version_Information)bakın.</span><span class="sxs-lookup"><span data-stu-id="f4967-109">See [Version Information](#Version_Information), later in this topic.</span></span>  
  
<a name="Dynamic_Assemblies"></a>
## <a name="dynamic-assemblies"></a><span data-ttu-id="f4967-110">Dinamik Montajlar</span><span class="sxs-lookup"><span data-stu-id="f4967-110">Dynamic Assemblies</span></span>  
 <span data-ttu-id="f4967-111">Dinamik derlemeler <xref:System.AppDomain.DefineDynamicAssembly%2A?displayProperty=nameWithType> yöntemin aşırı yükleri kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="f4967-111">Dynamic assemblies are created by using overloads of the <xref:System.AppDomain.DefineDynamicAssembly%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f4967-112">Bu yöntemin çoğu,makine genelinde güvenlik ilkesinin ortadan kaldırılması nedeniyle .NET Framework 4'te amortismana ayrılır.</span><span class="sxs-lookup"><span data-stu-id="f4967-112">Most overloads of this method are deprecated in the .NET Framework 4, because of the elimination of machine-wide security policy.</span></span> <span data-ttu-id="f4967-113">(Bkz. [Güvenlik Değişiklikleri](../security/security-changes.md).) Kalan aşırı yüklemeler, güven düzeyine bakılmaksızın herhangi bir kod tarafından yürütülebilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-113">(See [Security Changes](../security/security-changes.md).) The remaining overloads can be executed by any code, regardless of trust level.</span></span> <span data-ttu-id="f4967-114">Bu aşırı yüklemeler iki gruba ayrılır: oluşturulduğunda dinamik derlemeye uygulanacak özniteliklerin listesini belirtenler ve olmayanlar.</span><span class="sxs-lookup"><span data-stu-id="f4967-114">These overloads fall into two groups: those that specify a list of attributes to apply to the dynamic assembly when it is created, and those that do not.</span></span> <span data-ttu-id="f4967-115">Derleme için saydamlık modelini belirtmezseniz, <xref:System.Security.SecurityRulesAttribute> oluşturduğunuzda özniteliği uygulayarak, saydamlık modeli yayan derlemeden devralır.</span><span class="sxs-lookup"><span data-stu-id="f4967-115">If you do not specify the transparency model for the assembly, by applying the <xref:System.Security.SecurityRulesAttribute> attribute when you create it, the transparency model is inherited from the emitting assembly.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-116">Oluşturulduktan sonra dinamik derlemeye uyguladığınız öznitelikler, <xref:System.Reflection.Emit.AssemblyBuilder.SetCustomAttribute%2A> yöntemi kullanarak, derleme diske kaydedilip yeniden belleğe yüklenene kadar etkili olmaz.</span><span class="sxs-lookup"><span data-stu-id="f4967-116">Attributes that you apply to the dynamic assembly after it is created, by using the <xref:System.Reflection.Emit.AssemblyBuilder.SetCustomAttribute%2A> method, do not take effect until the assembly has been saved to disk and loaded into memory again.</span></span>  
  
 <span data-ttu-id="f4967-117">Dinamik bir derlemedeki kod, diğer derlemelerde görünür türlere ve üyelere erişebilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-117">Code in a dynamic assembly can access visible types and members in other assemblies.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-118">Dinamik derlemeler, dinamik <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> yöntemlerin genel olmayan türlere ve üyelere erişmesine izin veren ve bayraklar kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="f4967-118">Dynamic assemblies do not use the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> and <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flags that allow dynamic methods to access nonpublic types and members.</span></span>  
  
 <span data-ttu-id="f4967-119">Geçici dinamik derlemeler bellekte oluşturulur ve hiçbir zaman diske kaydedilmez, bu nedenle dosya erişim izinleri gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="f4967-119">Transient dynamic assemblies are created in memory and never saved to disk, so they require no file access permissions.</span></span> <span data-ttu-id="f4967-120">Dinamik bir derlemeyi <xref:System.Security.Permissions.FileIOPermission> diske kaydetmek için uygun bayraklarla birlikte gerekir.</span><span class="sxs-lookup"><span data-stu-id="f4967-120">Saving a dynamic assembly to disk requires <xref:System.Security.Permissions.FileIOPermission> with the appropriate flags.</span></span>  
  
### <a name="generating-dynamic-assemblies-from-partially-trusted-code"></a><span data-ttu-id="f4967-121">Kısmen Güvenilen Koddan Dinamik Derlemeler Oluşturma</span><span class="sxs-lookup"><span data-stu-id="f4967-121">Generating Dynamic Assemblies from Partially Trusted Code</span></span>  
 <span data-ttu-id="f4967-122">Internet izinleri olan bir derlemenin geçici dinamik bir derleme oluşturup kodunu yürütebileceği koşulları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="f4967-122">Consider the conditions in which an assembly with Internet permissions can generate a transient dynamic assembly and execute its code:</span></span>  
  
- <span data-ttu-id="f4967-123">Dinamik derleme yalnızca genel türleri ve diğer derlemelerin üyelerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="f4967-123">The dynamic assembly uses only public types and members of other assemblies.</span></span>  
  
- <span data-ttu-id="f4967-124">Bu tür ve üyeler tarafından talep edilen izinler, kısmen güvenilen derlemenin hibe kümesine dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-124">The permissions demanded by those types and members are included in the grant set of the partially trusted assembly.</span></span>  
  
- <span data-ttu-id="f4967-125">Derleme diske kaydedilmez.</span><span class="sxs-lookup"><span data-stu-id="f4967-125">The assembly is not saved to disk.</span></span>  
  
- <span data-ttu-id="f4967-126">Hata ayıklama sembolleri oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="f4967-126">Debug symbols are not generated.</span></span> <span data-ttu-id="f4967-127">(`Internet` `LocalIntranet` ve izin setleri gerekli izinleri içermez.)</span><span class="sxs-lookup"><span data-stu-id="f4967-127">(`Internet` and `LocalIntranet` permission sets do not include the necessary permissions.)</span></span>  
  
<a name="Anonymously_Hosted_Dynamic_Methods"></a>
## <a name="anonymously-hosted-dynamic-methods"></a><span data-ttu-id="f4967-128">Anonim Barındırılan Dinamik Yöntemler</span><span class="sxs-lookup"><span data-stu-id="f4967-128">Anonymously Hosted Dynamic Methods</span></span>  
 <span data-ttu-id="f4967-129">Anonim olarak barındırılan dinamik yöntemler, <xref:System.Reflection.Emit.DynamicMethod> <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%29> ilişkili bir tür veya modül belirtmeyen <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%2CSystem.Boolean%29>iki oluşturucu kullanılarak oluşturulur ve.</span><span class="sxs-lookup"><span data-stu-id="f4967-129">Anonymously hosted dynamic methods are created by using the two <xref:System.Reflection.Emit.DynamicMethod> constructors that do not specify an associated type or module, <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%29> and <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%2CSystem.Boolean%29>.</span></span> <span data-ttu-id="f4967-130">Bu oluşturucular dinamik yöntemleri sistem tarafından sağlanan, tamamen güvenilir, güvenlik saydam bir derlemeye yerletirler.</span><span class="sxs-lookup"><span data-stu-id="f4967-130">These constructors place the dynamic methods in a system-provided, fully trusted, security-transparent assembly.</span></span> <span data-ttu-id="f4967-131">Bu oluşturucuları kullanmak veya dinamik yöntemler için kod oluşturmak için izin gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f4967-131">No permissions are required to use these constructors or to emit code for the dynamic methods.</span></span>  
  
 <span data-ttu-id="f4967-132">Bunun yerine, anonim olarak barındırılan dinamik bir yöntem oluşturulduğunda, çağrı yığını yakalanır.</span><span class="sxs-lookup"><span data-stu-id="f4967-132">Instead, when an anonymously hosted dynamic method is created, the call stack is captured.</span></span> <span data-ttu-id="f4967-133">Yöntem oluşturulduğunda, yakalanan çağrı yığınına karşı güvenlik talepleri yapılır.</span><span class="sxs-lookup"><span data-stu-id="f4967-133">When the method is constructed, security demands are made against the captured call stack.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-134">Kavramsal olarak, talepler yöntemin inşası sırasında yapılır.</span><span class="sxs-lookup"><span data-stu-id="f4967-134">Conceptually, demands are made during the construction of the method.</span></span> <span data-ttu-id="f4967-135">Diğer bir süre, her MSIL yürüyüşü yayınlanırken talepler yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-135">That is, demands could be made as each MSIL instruction is emitted.</span></span> <span data-ttu-id="f4967-136">Geçerli uygulamada, <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A?displayProperty=nameWithType> tüm talepler yöntem çağrıldığında veya tam zamanında (JIT) derleyici çağrıldığında, yöntem çağrılmadan <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A>çağrıldığında yapılır.</span><span class="sxs-lookup"><span data-stu-id="f4967-136">In the current implementation, all demands are made when the <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A?displayProperty=nameWithType> method is called or when the just-in-time (JIT) compiler is invoked, if the method is invoked without calling <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A>.</span></span>  
  
 <span data-ttu-id="f4967-137">Uygulama etki alanı buna izin verirse, anonim olarak barındırılan dinamik yöntemler JIT görünürlük denetimlerini atlayabilir, aşağıdaki kısıtlamaya tabidir: Anonim olarak barındırılan dinamik bir yöntemle erişilen genel olmayan türler ve üyeler, hibe kümeleri olan derlemelerde olmalıdır yayan çağrı yığınının hibe kümesine eşit veya alt kümeleri vardır.</span><span class="sxs-lookup"><span data-stu-id="f4967-137">If the application domain permits it, anonymously hosted dynamic methods can skip JIT visibility checks, subject to the following restriction: The nonpublic types and members accessed by an anonymously hosted dynamic method must be in assemblies whose grant sets are equal to, or subsets of, the grant set of the emitting call stack.</span></span> <span data-ttu-id="f4967-138">Uygulama etki alanı <xref:System.Security.Permissions.ReflectionPermission> <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> bayrakla hibe veriyorsa, JIT görünürlük denetimlerini atlamak için bu sınırlı yeteneği etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-138">This restricted ability to skip JIT visibility checks is enabled if the application domain grants <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
- <span data-ttu-id="f4967-139">Yönteminiz yalnızca genel türleri ve üyeleri kullanıyorsa, inşaat sırasında izin gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f4967-139">If your method uses only public types and members, no permissions are required during construction.</span></span>  
  
- <span data-ttu-id="f4967-140">JIT görünürlük denetimlerinin atlanması gerektiğini belirtirseniz, yöntem oluşturulduğunda yapılan <xref:System.Security.Permissions.ReflectionPermission> talep, <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> erişilen genel olmayan üyeyi içeren derlemenin bayrak ve hibe kümesini içerir.</span><span class="sxs-lookup"><span data-stu-id="f4967-140">If you specify that JIT visibility checks should be skipped, the demand that is made when the method is constructed includes <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag and the grant set of the assembly that contains the nonpublic member that is being accessed.</span></span>  
  
 <span data-ttu-id="f4967-141">Kamu üyesi olmayan üyenin hibe seti dikkate alındığından, kısmen güvenilen <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> kod, güvenilen meclislerin kamuya açık olmayan üyelerini çalıştırarak ayrıcalıklarını yükseltemez.</span><span class="sxs-lookup"><span data-stu-id="f4967-141">Because the grant set of the nonpublic member is taken into consideration, partially trusted code that has been granted <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> cannot elevate its privileges by executing nonpublic members of trusted assemblies.</span></span>  
  
 <span data-ttu-id="f4967-142">Diğer yayılan kodlarda olduğu gibi, dinamik yöntemin yürütülmesi, dinamik yöntemin kullandığı yöntemlertarafından hangi izinlerin talep edildiğini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="f4967-142">As with any other emitted code, executing the dynamic method requires whatever permissions are demanded by the methods the dynamic method uses.</span></span>  
  
 <span data-ttu-id="f4967-143">Anonim olarak barındırılan dinamik yöntemleri barındıran sistem derlemesi, .NET Framework 4'ten önce .NET Framework'de kullanılan saydamlık modeli olan <xref:System.Security.SecurityRuleSet.Level1?displayProperty=nameWithType> saydamlık modelini kullanır.</span><span class="sxs-lookup"><span data-stu-id="f4967-143">The system assembly that hosts anonymously-hosted dynamic methods uses the <xref:System.Security.SecurityRuleSet.Level1?displayProperty=nameWithType> transparency model, which is the transparency model that was used in the .NET Framework before the .NET Framework 4.</span></span>  
  
 <span data-ttu-id="f4967-144">Daha fazla bilgi <xref:System.Reflection.Emit.DynamicMethod> için sınıfa bakın.</span><span class="sxs-lookup"><span data-stu-id="f4967-144">For more information, see the <xref:System.Reflection.Emit.DynamicMethod> class.</span></span>  
  
### <a name="generating-anonymously-hosted-dynamic-methods-from-partially-trusted-code"></a><span data-ttu-id="f4967-145">Kısmen Güvenilen Koddan Anonim Olarak Barındırılan Dinamik Yöntemler Oluşturma</span><span class="sxs-lookup"><span data-stu-id="f4967-145">Generating Anonymously Hosted Dynamic Methods from Partially Trusted Code</span></span>  
 <span data-ttu-id="f4967-146">Internet izinleri olan bir derlemenin anonim olarak barındırılan dinamik bir yöntem oluşturup çalıştırabileceği koşulları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="f4967-146">Consider the conditions in which an assembly with Internet permissions can generate an anonymously hosted dynamic method and execute it:</span></span>  
  
- <span data-ttu-id="f4967-147">Dinamik yöntem yalnızca ortak türleri ve üyeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="f4967-147">The dynamic method uses only public types and members.</span></span> <span data-ttu-id="f4967-148">Hibe kümesi, <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>kamu dışı türleri ve hibe kümesi yayan derlemenin hibe kümesine eşit olan herhangi bir derlemenin üyelerini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-148">If its grant set includes <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>, it can use nonpublic types and members of any assembly whose grant set is equal to, or a subset of, the grant set of the emitting assembly.</span></span>  
  
- <span data-ttu-id="f4967-149">Dinamik yöntem tarafından kullanılan tüm türler ve üyeler tarafından gerekli olan izinler, kısmen güvenilen derlemenin hibe kümesine dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-149">The permissions that are required by all the types and members used by the dynamic method are included in the grant set of the partially trusted assembly.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-150">Dinamik yöntemler hata ayıklama sembollerini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="f4967-150">Dynamic methods do not support debug symbols.</span></span>  
  
<a name="Dynamic_Methods_Associated_with_Existing_Assemblies"></a>
## <a name="dynamic-methods-associated-with-existing-assemblies"></a><span data-ttu-id="f4967-151">Varolan Derlemelerle İlişkili Dinamik Yöntemler</span><span class="sxs-lookup"><span data-stu-id="f4967-151">Dynamic Methods Associated with Existing Assemblies</span></span>  
 <span data-ttu-id="f4967-152">Dinamik bir yöntemi varolan bir derlemedeki bir tür veya <xref:System.Reflection.Emit.DynamicMethod> modülle ilişkilendirmek için, ilişkili türü veya modülü belirten yapıcılardan herhangi birini kullanın.</span><span class="sxs-lookup"><span data-stu-id="f4967-152">To associate a dynamic method with a type or module in an existing assembly, use any of the <xref:System.Reflection.Emit.DynamicMethod> constructors that specify the associated type or module.</span></span> <span data-ttu-id="f4967-153">Dinamik bir yöntemi varolan bir tür veya modülle ilişkilendirmek, dinamik yöntemin genel olmayan türlere ve üyelere erişmesini sağladığından, bu oluşturucuları çağırmak için gereken izinler farklılık gösterir:</span><span class="sxs-lookup"><span data-stu-id="f4967-153">The permissions that are required to call these constructors vary, because associating a dynamic method with an existing type or module gives the dynamic method access to nonpublic types and members:</span></span>  
  
- <span data-ttu-id="f4967-154">Bir türle ilişkili dinamik bir yöntem, bu türdeki tüm üyelere, hatta özel üyelere ve ilişkili türü içeren derlemedeki tüm dahili türlere ve üyelere erişebilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-154">A dynamic method that is associated with a type has access to all members of that type, even private members, and to all internal types and members in the assembly that contains the associated type.</span></span>  
  
- <span data-ttu-id="f4967-155">Bir modülle ilişkili dinamik bir yöntem, `internal` modüldeki tüm`Friend` tür ve `assembly` üyelere (Visual Basic'te, ortak dilde çalışma zamanı meta verilerinde) erişebilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-155">A dynamic method that is associated with a module has access to all the `internal` types and members (`Friend` in Visual Basic, `assembly` in common language runtime metadata) in the module.</span></span>  
  
 <span data-ttu-id="f4967-156">Ayrıca, JIT derleyicisinin görünürlük denetimlerini atlama yeteneğini belirten bir oluşturucu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f4967-156">In addition, you can use a constructor that specifies the ability to skip the visibility checks of the JIT compiler.</span></span> <span data-ttu-id="f4967-157">Bunu yapmak, dinamik yönteminizin erişim düzeyine bakılmaksızın tüm derlemelerde tüm türve üyelere erişmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="f4967-157">Doing so gives your dynamic method access to all types and members in all assemblies, regardless of access level.</span></span>  
  
 <span data-ttu-id="f4967-158">Oluşturucu tarafından talep edilen izinler, dinamik yönteminizi vermeye ne kadar erişim vermeye karar verdiğinize bağlıdır:</span><span class="sxs-lookup"><span data-stu-id="f4967-158">The permissions demanded by the constructor depend on how much access you decide to give your dynamic method:</span></span>  
  
- <span data-ttu-id="f4967-159">Yönteminiz yalnızca genel türleri ve üyeleri kullanıyorsa ve bunu kendi türünüzle veya kendi modülünüzle ilişkilendiriyorsanız, izin gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f4967-159">If your method uses only public types and members, and you associate it with your own type or your own module, no permissions are required.</span></span>  
  
- <span data-ttu-id="f4967-160">JIT görünürlük denetimlerinin atlanınması gerektiğini belirtirseniz, <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> oluşturucu bayrakla birlikte talep eder. <xref:System.Security.Permissions.ReflectionPermission></span><span class="sxs-lookup"><span data-stu-id="f4967-160">If you specify that JIT visibility checks should be skipped, the constructor demands <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
- <span data-ttu-id="f4967-161">Dinamik yöntemi başka bir türle, hatta kendi derlemenizdeki başka bir <xref:System.Security.Permissions.ReflectionPermission> türle ilişkilendirirseniz, oluşturucu <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> bayrak ve <xref:System.Security.Permissions.SecurityPermission> <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> bayrakla talep tesniye olur.</span><span class="sxs-lookup"><span data-stu-id="f4967-161">If you associate the dynamic method with another type, even another type in your own assembly, the constructor demands <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag and <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> flag.</span></span>  
  
- <span data-ttu-id="f4967-162">Dinamik yöntemi başka bir derlemede bir tür veya modülle ilişkilendirerseniz, oluşturucu iki şey ister: <xref:System.Security.Permissions.ReflectionPermission> <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> bayrak ve diğer modülü içeren derlemenin hibe kümesi.</span><span class="sxs-lookup"><span data-stu-id="f4967-162">If you associate the dynamic method with a type or module in another assembly, the constructor demands two things: <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag, and the grant set of the assembly that contains the other module.</span></span> <span data-ttu-id="f4967-163">Diğer bir deyişle, arama yığınınız hedef modülün hibe kümesindeki <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>tüm izinleri ve .</span><span class="sxs-lookup"><span data-stu-id="f4967-163">That is, your call stack must include all the permissions in the grant set of the target module, plus <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="f4967-164">Geriye dönük uyumluluk için, hedef hibe kümesi <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> artı için talep <xref:System.Security.Permissions.SecurityPermission> başarısız <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> olursa, oluşturucu bayrak ile talep eder.</span><span class="sxs-lookup"><span data-stu-id="f4967-164">For backward compatibility, if the demand for the target grant set plus <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> fails, the constructor demands <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> flag.</span></span>  
  
 <span data-ttu-id="f4967-165">Bu listedeki öğeler yayan derlemenin hibe kümesi açısından açıklansa da, taleplerin uygulama etki alanı sınırı da dahil olmak üzere tam çağrı yığınına karşı yapıldığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="f4967-165">Although the items in this list are described in terms of the grant set of the emitting assembly, remember that the demands are made against the full call stack, including the application domain boundary.</span></span>  
  
 <span data-ttu-id="f4967-166">Daha fazla bilgi <xref:System.Reflection.Emit.DynamicMethod> için sınıfa bakın.</span><span class="sxs-lookup"><span data-stu-id="f4967-166">For more information, see the <xref:System.Reflection.Emit.DynamicMethod> class.</span></span>  
  
### <a name="generating-dynamic-methods-from-partially-trusted-code"></a><span data-ttu-id="f4967-167">Kısmen Güvenilen Koddan Dinamik Yöntemler Oluşturma</span><span class="sxs-lookup"><span data-stu-id="f4967-167">Generating Dynamic Methods from Partially Trusted Code</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-168">Kısmen güvenilen koddan dinamik yöntemler oluşturmanın önerilen [yolu, anonim olarak barındırılan dinamik yöntemleri](#Anonymously_Hosted_Dynamic_Methods)kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="f4967-168">The recommended way to generate dynamic methods from partially trusted code is to use [anonymously hosted dynamic methods](#Anonymously_Hosted_Dynamic_Methods).</span></span>  
  
 <span data-ttu-id="f4967-169">Internet izinleri olan bir derlemenin dinamik bir yöntem oluşturup çalıştırabileceği koşulları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="f4967-169">Consider the conditions in which an assembly with Internet permissions can generate a dynamic method and execute it:</span></span>  
  
- <span data-ttu-id="f4967-170">Dinamik yöntem, modülü ya da yayan türüyle ilişkilidir veya hibe <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> kümesi içerir ve hibe kümesi yayan derlemenin hibe kümesine eşit olan bir derlemedeki modülle veya bir alt kümesiyle ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="f4967-170">Either the dynamic method is associated with the module or type that emits it, or its grant set includes <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> and it is associated with a module in an assembly whose grant set is equal to, or a subset of, the grant set of the emitting assembly.</span></span>  
  
- <span data-ttu-id="f4967-171">Dinamik yöntem yalnızca ortak türleri ve üyeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="f4967-171">The dynamic method uses only public types and members.</span></span> <span data-ttu-id="f4967-172">Hibe kümesi, <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> hibe kümesi yayan derlemenin hibe kümesine eşit olan bir derlemedeki bir modülü içeriyorsa ve bu modülle ilişkiliyse, ilişkili modülde (Visual `internal` `Friend` Basic'te, `assembly` ortak dilde çalışma zamanı meta verilerinde) işaretlenmiş türleri ve üyeleri kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-172">If its grant set includes <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> and it is associated with a module in an assembly whose grant set is equal to, or a subset of, the grant set of the emitting assembly, it can use types and members marked `internal` (`Friend` in Visual Basic, `assembly` in common language runtime metadata) in the associated module.</span></span>  
  
- <span data-ttu-id="f4967-173">Dinamik yöntem tarafından kullanılan tüm tür ve üyeler tarafından talep edilen izinler, kısmen güvenilen derlemenin hibe kümesine dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-173">The permissions demanded by all the types and members used by the dynamic method are included in the grant set of the partially trusted assembly.</span></span>  
  
- <span data-ttu-id="f4967-174">Dinamik yöntem JIT görünürlük denetimlerini atlamaz.</span><span class="sxs-lookup"><span data-stu-id="f4967-174">The dynamic method does not skip JIT visibility checks.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-175">Dinamik yöntemler hata ayıklama sembollerini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="f4967-175">Dynamic methods do not support debug symbols.</span></span>  
  
<a name="Version_Information"></a>
## <a name="version-information"></a><span data-ttu-id="f4967-176">Sürüm Bilgileri</span><span class="sxs-lookup"><span data-stu-id="f4967-176">Version Information</span></span>  
 <span data-ttu-id="f4967-177">.NET Framework 4'ten başlayarak, makine genelinde güvenlik ilkesi ortadan kaldırılır ve güvenlik saydamlığı varsayılan zorlama mekanizması haline gelir.</span><span class="sxs-lookup"><span data-stu-id="f4967-177">Starting with the .NET Framework 4, machine-wide security policy is eliminated and security transparency becomes the default enforcement mechanism.</span></span> <span data-ttu-id="f4967-178">[Bkz. Güvenlik Değişiklikleri](../security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="f4967-178">See [Security Changes](../security/security-changes.md).</span></span>  
  
 <span data-ttu-id="f4967-179">.NET Framework 2.0 Service Pack <xref:System.Security.Permissions.ReflectionPermission> 1'den başlayarak, dinamik derlemeler ve dinamik yöntemler yayan <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> bayrak artık gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="f4967-179">Starting with the .NET Framework 2.0 Service Pack 1, <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> flag is no longer required when emitting dynamic assemblies and dynamic methods.</span></span> <span data-ttu-id="f4967-180">Bu bayrak .NET Framework'ün önceki tüm sürümlerinde gereklidir.</span><span class="sxs-lookup"><span data-stu-id="f4967-180">This flag is required in all earlier versions of the .NET Framework.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f4967-181"><xref:System.Security.Permissions.ReflectionPermission><xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> bayrak ile varsayılan olarak `FullTrust` ve `LocalIntranet` adlandırılmış izin kümeleri dahildir, ancak `Internet` izin kümesinde değil.</span><span class="sxs-lookup"><span data-stu-id="f4967-181"><xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> flag is included by default in the `FullTrust` and `LocalIntranet` named permission sets, but not in the `Internet` permission set.</span></span> <span data-ttu-id="f4967-182">Bu nedenle, .NET Framework'ün önceki sürümlerinde, bir kitaplık yalnızca <xref:System.Security.PermissionSet.Assert%2A> bir <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>.'yi çalıştırırsa Internet izinleriyle kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="f4967-182">Therefore, in earlier versions of the .NET Framework, a library can be used with Internet permissions only if it executes an <xref:System.Security.PermissionSet.Assert%2A> for <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>.</span></span> <span data-ttu-id="f4967-183">Bu tür kitaplıklar, kodlama hataları güvenlik açıkları neden olabilir, çünkü dikkatli güvenlik incelemesi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="f4967-183">Such libraries require careful security review because coding errors could result in security holes.</span></span> <span data-ttu-id="f4967-184">.NET Framework 2.0 SP1, kod oluşturma doğal olarak ayrıcalıklı bir işlem olmadığından, kodun herhangi bir güvenlik talebi vermeden kısmi güven senaryolarında yayımlanmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="f4967-184">The .NET Framework 2.0 SP1 allows code to be emitted in partial trust scenarios without issuing any security demands, because generating code is not inherently a privileged operation.</span></span> <span data-ttu-id="f4967-185">Diğer bir süre, oluşturulan kodun, onu yayıtan derlemeden daha fazla izini yoktur.</span><span class="sxs-lookup"><span data-stu-id="f4967-185">That is, the generated code has no more permissions than the assembly that emits it.</span></span> <span data-ttu-id="f4967-186">Bu, kod yayan kitaplıkların güvenlik saydam olmasını sağlar <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>ve güvenli bir kitaplık yazma görevini basitleştiren bir türe koyma gereksinimini ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="f4967-186">This allows libraries that emit code to be security transparent and removes the need to assert <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>, which simplifies the task of writing a secure library.</span></span>  
  
 <span data-ttu-id="f4967-187">Buna ek olarak, .NET Framework 2.0 <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> SP1, kısmen güvenilen dinamik yöntemlerden herkese açık olmayan türlere ve üyelere erişmek için bayrak sunar.</span><span class="sxs-lookup"><span data-stu-id="f4967-187">In addition, the .NET Framework 2.0 SP1 introduces the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag for accessing nonpublic types and members from partially trusted dynamic methods.</span></span> <span data-ttu-id="f4967-188">.NET Framework'ün önceki <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> sürümlerinde, genel olmayan türlere ve üyelere erişen dinamik yöntemler için bayrak gerekir; bu, kısmen güvenilen koda asla verilmemesi gereken bir izindir.</span><span class="sxs-lookup"><span data-stu-id="f4967-188">Earlier versions of the .NET Framework require the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag for dynamic methods that access nonpublic types and members; this is a permission that should never be granted to partially trusted code.</span></span>  
  
 <span data-ttu-id="f4967-189">Son olarak, .NET Framework 2.0 SP1 anonim olarak barındırılan yöntemleri sunar.</span><span class="sxs-lookup"><span data-stu-id="f4967-189">Finally, the .NET Framework 2.0 SP1 introduces anonymously hosted methods.</span></span>  
  
### <a name="obtaining-information-on-types-and-members"></a><span data-ttu-id="f4967-190">Türleri ve Üyeleri Hakkında Bilgi Edinme</span><span class="sxs-lookup"><span data-stu-id="f4967-190">Obtaining Information on Types and Members</span></span>  
 <span data-ttu-id="f4967-191">.NET Framework 2.0'dan başlayarak, genel olmayan türler ve üyeler hakkında bilgi almak için izin gerekmez.</span><span class="sxs-lookup"><span data-stu-id="f4967-191">Starting with the .NET Framework 2.0, no permissions are required to obtain information about nonpublic types and members.</span></span> <span data-ttu-id="f4967-192">Yansıma dinamik yöntemler yontmak için gerekli bilgileri elde etmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="f4967-192">Reflection is used to obtain information needed to emit dynamic methods.</span></span> <span data-ttu-id="f4967-193">Örneğin, <xref:System.Reflection.MethodInfo> nesneler yöntem çağrıları yontmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="f4967-193">For example, <xref:System.Reflection.MethodInfo> objects are used to emit method calls.</span></span> <span data-ttu-id="f4967-194">.NET Framework'ün önceki <xref:System.Security.Permissions.ReflectionPermission> <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> sürümlerinde bayrak gerekir.</span><span class="sxs-lookup"><span data-stu-id="f4967-194">Earlier versions of the .NET Framework require <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flag.</span></span> <span data-ttu-id="f4967-195">Daha fazla bilgi için Yansıma [için Güvenlik Hususları'na](security-considerations-for-reflection.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="f4967-195">For more information, see [Security Considerations for Reflection](security-considerations-for-reflection.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f4967-196">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="f4967-196">See also</span></span>

- [<span data-ttu-id="f4967-197">Yansımayla İlgili Güvenlik Konuları</span><span class="sxs-lookup"><span data-stu-id="f4967-197">Security Considerations for Reflection</span></span>](security-considerations-for-reflection.md)
- [<span data-ttu-id="f4967-198">Dinamik Yöntemleri ve Derlemeleri Yayma</span><span class="sxs-lookup"><span data-stu-id="f4967-198">Emitting Dynamic Methods and Assemblies</span></span>](emitting-dynamic-methods-and-assemblies.md)
