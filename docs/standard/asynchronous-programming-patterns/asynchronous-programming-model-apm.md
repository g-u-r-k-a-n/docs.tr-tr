---
title: Zaman Uyumsuz Programlama Modeli (APM)
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- ending asynchronous operations
- starting asynchronous operations
- beginning asynchronous operations
- asynchronous programming, ending operations
- asynchronous programming
- stopping asynchronous operations
- asynchronous programming, beginning operations
ms.assetid: c9b3501e-6bc6-40f9-8efd-4b6d9e39ccf0
ms.openlocfilehash: 0a9ea3c8c9c589bb5954fa9771ffd1bb095f6d73
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "73140145"
---
# <a name="asynchronous-programming-model-apm"></a><span data-ttu-id="437c0-102">Zaman Uyumsuz Programlama Modeli (APM)</span><span class="sxs-lookup"><span data-stu-id="437c0-102">Asynchronous Programming Model (APM)</span></span>
<span data-ttu-id="437c0-103">Tasarım deseni kullanan bir eşzamanlı işlem, sırasıyla asynchronous işlemi *OperationName'i* başlatan ve `BeginOperationName` `EndOperationName` sona erdirebilen iki yöntem olarak uygulanır. <xref:System.IAsyncResult></span><span class="sxs-lookup"><span data-stu-id="437c0-103">An asynchronous operation that uses the <xref:System.IAsyncResult> design pattern is implemented as two methods named `BeginOperationName` and `EndOperationName` that begin and end the asynchronous operation *OperationName* respectively.</span></span> <span data-ttu-id="437c0-104">Örneğin, <xref:System.IO.FileStream> sınıf bir <xref:System.IO.FileStream.BeginRead%2A> dosyadan baytları eşit bir şekilde okumak için ve <xref:System.IO.FileStream.EndRead%2A> yöntemleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="437c0-104">For example, the <xref:System.IO.FileStream> class provides the <xref:System.IO.FileStream.BeginRead%2A> and <xref:System.IO.FileStream.EndRead%2A> methods to asynchronously read bytes from a file.</span></span> <span data-ttu-id="437c0-105">Bu yöntemler <xref:System.IO.FileStream.Read%2A> yöntemin asynchronous sürümünü uygular.</span><span class="sxs-lookup"><span data-stu-id="437c0-105">These methods implement the asynchronous version of the <xref:System.IO.FileStream.Read%2A> method.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="437c0-106">.NET Framework 4'ten başlayarak, Görev Paralel Kitaplığı asynchronous ve paralel programlama için yeni bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="437c0-106">Starting with the .NET Framework 4, the Task Parallel Library provides a new model for asynchronous and parallel programming.</span></span> <span data-ttu-id="437c0-107">Daha fazla bilgi için [Görev Paralel Kitaplığı (TPL)](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md) ve [Görev Tabanlı Eşzamanlı Desen (TAP)](../../../docs/standard/asynchronous-programming-patterns/task-based-asynchronous-pattern-tap.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="437c0-107">For more information, see [Task Parallel Library (TPL)](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md) and [Task-based Asynchronous Pattern (TAP)](../../../docs/standard/asynchronous-programming-patterns/task-based-asynchronous-pattern-tap.md)).</span></span>  
  
 <span data-ttu-id="437c0-108">Aramadan `BeginOperationName`sonra, asynchronous işlemi farklı bir iş parçacığı üzerinde gerçekleşirken bir uygulama arama iş parçacığı üzerinde yönergeleri yürütmeye devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="437c0-108">After calling `BeginOperationName`, an application can continue executing instructions on the calling thread while the asynchronous operation takes place on a different thread.</span></span> <span data-ttu-id="437c0-109">Her arama `BeginOperationName`için , uygulama `EndOperationName` da operasyonun sonuçlarını almak için aramak gerekir.</span><span class="sxs-lookup"><span data-stu-id="437c0-109">For each call to `BeginOperationName`, the application should also call `EndOperationName` to get the results of the operation.</span></span>  
  
## <a name="beginning-an-asynchronous-operation"></a><span data-ttu-id="437c0-110">Bir Eşzamanlı İşlem Ebaş</span><span class="sxs-lookup"><span data-stu-id="437c0-110">Beginning an Asynchronous Operation</span></span>  
 <span data-ttu-id="437c0-111">Yöntem, `BeginOperationName` asynchronous işlemi *OperationName* başlar ve <xref:System.IAsyncResult> arabirimi uygulayan bir nesne döndürür.</span><span class="sxs-lookup"><span data-stu-id="437c0-111">The `BeginOperationName` method begins asynchronous operation *OperationName* and returns an object that implements the <xref:System.IAsyncResult> interface.</span></span> <span data-ttu-id="437c0-112"><xref:System.IAsyncResult>nesneler, bir eşzamanlı işlem le ilgili bilgileri depolar.</span><span class="sxs-lookup"><span data-stu-id="437c0-112"><xref:System.IAsyncResult> objects store information about an asynchronous operation.</span></span> <span data-ttu-id="437c0-113">Aşağıdaki tabloda bir eşzamanlı işlem hakkında bilgi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="437c0-113">The following table shows information about an asynchronous operation.</span></span>  
  
|<span data-ttu-id="437c0-114">Üye</span><span class="sxs-lookup"><span data-stu-id="437c0-114">Member</span></span>|<span data-ttu-id="437c0-115">Açıklama</span><span class="sxs-lookup"><span data-stu-id="437c0-115">Description</span></span>|  
|------------|-----------------|  
|<xref:System.IAsyncResult.AsyncState%2A>|<span data-ttu-id="437c0-116">Eşzamanlı işlem hakkında bilgi içeren isteğe bağlı uygulamaya özgü bir nesne.</span><span class="sxs-lookup"><span data-stu-id="437c0-116">An optional application-specific object that contains information about the asynchronous operation.</span></span>|  
|<xref:System.IAsyncResult.AsyncWaitHandle%2A>|<span data-ttu-id="437c0-117">Eşil <xref:System.Threading.WaitHandle> işlem tamamlanana kadar uygulama yürütmesini engellemek için kullanılabilecek bir a.</span><span class="sxs-lookup"><span data-stu-id="437c0-117">A <xref:System.Threading.WaitHandle> that can be used to block application execution until the asynchronous operation completes.</span></span>|  
|<xref:System.IAsyncResult.CompletedSynchronously%2A>|<span data-ttu-id="437c0-118">Ayrı `BeginOperationName` <xref:System.Threading.ThreadPool> bir iş parçacığı üzerinde tamamlamak yerine aramak için kullanılan iş parçacığı üzerinde eşenkron işlemin tamamlanıp tamamlanmadığını gösteren bir değer.</span><span class="sxs-lookup"><span data-stu-id="437c0-118">A value that indicates whether the asynchronous operation completed on the thread used to call `BeginOperationName` instead of completing on a separate <xref:System.Threading.ThreadPool> thread.</span></span>|  
|<xref:System.IAsyncResult.IsCompleted%2A>|<span data-ttu-id="437c0-119">Eşsenkronize işlemin tamamlanıp tamamlanmadığını gösteren bir değer.</span><span class="sxs-lookup"><span data-stu-id="437c0-119">A value that indicates whether the asynchronous operation has completed.</span></span>|  
  
 <span data-ttu-id="437c0-120">Yöntem, `BeginOperationName` yöntemin değer veya başvuru ile geçirilen eşzamanlı sürümünün imzasında bildirilen parametreleri alır.</span><span class="sxs-lookup"><span data-stu-id="437c0-120">A `BeginOperationName` method takes any parameters declared in the signature of the synchronous version of the method that are passed by value or by reference.</span></span> <span data-ttu-id="437c0-121">Herhangi bir çıkış parametreleri `BeginOperationName` yöntem imzasının bir parçası değildir.</span><span class="sxs-lookup"><span data-stu-id="437c0-121">Any out parameters are not part of the `BeginOperationName` method signature.</span></span> <span data-ttu-id="437c0-122">Yöntem `BeginOperationName` imzası da iki ek parametre içerir.</span><span class="sxs-lookup"><span data-stu-id="437c0-122">The `BeginOperationName` method signature also includes two additional parameters.</span></span> <span data-ttu-id="437c0-123">Bunlardan ilki, eşzamanlı <xref:System.AsyncCallback> işlem tamamlandığında adı verilen bir yönteme başvuran bir temsilci tanımlar.</span><span class="sxs-lookup"><span data-stu-id="437c0-123">The first of these defines an <xref:System.AsyncCallback> delegate that references a method that is called when the asynchronous operation completes.</span></span> <span data-ttu-id="437c0-124">Arayan, işlem `null` `Nothing` tamamlandığında bir yöntemin çağrılması istemiyorsa (Visual Basic'te) belirtebilir.</span><span class="sxs-lookup"><span data-stu-id="437c0-124">The caller can specify `null` (`Nothing` in Visual Basic) if it does not want a method invoked when the operation completes.</span></span> <span data-ttu-id="437c0-125">İkinci ek parametre kullanıcı tanımlı bir nesnedir.</span><span class="sxs-lookup"><span data-stu-id="437c0-125">The second additional parameter is a user-defined object.</span></span> <span data-ttu-id="437c0-126">Bu nesne, uygulama için özel durum bilgilerini, eşzamanlı işlem tamamlandığında çağrılan yönteme geçirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="437c0-126">This object can be used to pass application-specific state information to the method invoked when the asynchronous operation completes.</span></span> <span data-ttu-id="437c0-127">Bir `BeginOperationName` yöntem, dosyadan okunan baytları depolamak için bayt dizisi gibi <xref:System.AsyncCallback> ek işlem özgü parametreleri alırsa, `BeginOperationName` yöntem imzasındaki son parametreler ve uygulama durumu nesnesi olur.</span><span class="sxs-lookup"><span data-stu-id="437c0-127">If a `BeginOperationName` method takes additional operation-specific parameters, such as a byte array to store bytes read from a file, the <xref:System.AsyncCallback> and application state object are the last parameters in the `BeginOperationName` method signature.</span></span>  
  
 <span data-ttu-id="437c0-128">`BeginOperationName`denetimi hemen arama iş parçacığına döndürür.</span><span class="sxs-lookup"><span data-stu-id="437c0-128">`BeginOperationName` returns control to the calling thread immediately.</span></span> <span data-ttu-id="437c0-129">`BeginOperationName` Yöntem özel durumlar atarsa, özel durumlar eşenkron işlem başlamadan önce atılır.</span><span class="sxs-lookup"><span data-stu-id="437c0-129">If the `BeginOperationName` method throws exceptions, the exceptions are thrown before the asynchronous operation is started.</span></span> <span data-ttu-id="437c0-130">`BeginOperationName` Yöntem özel durumlar atarsa, geri arama yöntemi çağrılmaz.</span><span class="sxs-lookup"><span data-stu-id="437c0-130">If the `BeginOperationName` method throws exceptions, the callback method is not invoked.</span></span>  
  
## <a name="ending-an-asynchronous-operation"></a><span data-ttu-id="437c0-131">Eşkron İşleme Son Verme</span><span class="sxs-lookup"><span data-stu-id="437c0-131">Ending an Asynchronous Operation</span></span>  
 <span data-ttu-id="437c0-132">Yöntem `EndOperationName` asynchronous işlemi *OperationName*sona erer.</span><span class="sxs-lookup"><span data-stu-id="437c0-132">The `EndOperationName` method ends asynchronous operation *OperationName*.</span></span> <span data-ttu-id="437c0-133">Yöntemin `EndOperationName` geri dönüş değeri, senkron muadili tarafından döndürülen tipteki tiptir ve eşzamanlı işlem için özeldir.</span><span class="sxs-lookup"><span data-stu-id="437c0-133">The return value of the `EndOperationName` method is the same type returned by its synchronous counterpart and is specific to the asynchronous operation.</span></span> <span data-ttu-id="437c0-134">Örneğin, <xref:System.IO.FileStream.EndRead%2A> yöntem a'dan <xref:System.IO.FileStream> okunan bayt sayısını <xref:System.Net.Dns.EndGetHostByName%2A> döndürür <xref:System.Net.IPHostEntry> ve yöntem ana bilgisayar hakkında bilgi içeren bir nesneyi döndürür.</span><span class="sxs-lookup"><span data-stu-id="437c0-134">For example, the <xref:System.IO.FileStream.EndRead%2A> method returns the number of bytes read from a <xref:System.IO.FileStream> and the <xref:System.Net.Dns.EndGetHostByName%2A> method returns an <xref:System.Net.IPHostEntry> object that contains information about a host computer.</span></span> <span data-ttu-id="437c0-135">Yöntem, `EndOperationName` yöntemin senkron sürümünün imzasında bildirilen herhangi bir çıkar veya ref parametrelerini alır.</span><span class="sxs-lookup"><span data-stu-id="437c0-135">The `EndOperationName` method takes any out or ref parameters declared in the signature of the synchronous version of the method.</span></span> <span data-ttu-id="437c0-136">Senkron yöntemden parametrelere ek olarak, `EndOperationName` yöntem de <xref:System.IAsyncResult> bir parametre içerir.</span><span class="sxs-lookup"><span data-stu-id="437c0-136">In addition to the parameters from the synchronous method, the `EndOperationName` method also includes an <xref:System.IAsyncResult> parameter.</span></span> <span data-ttu-id="437c0-137">Arayanlar, karşılık gelen çağrı tarafından döndürülen örneği `BeginOperationName`geçmelidir.</span><span class="sxs-lookup"><span data-stu-id="437c0-137">Callers must pass the instance returned by the corresponding call to `BeginOperationName`.</span></span>  
  
 <span data-ttu-id="437c0-138"><xref:System.IAsyncResult> Nesne tarafından temsil edilen eşzamanlı işlem çağrıldığında `EndOperationName` tamamlanmadıysa, `EndOperationName` çağrı iş parçacığı asynchronous işlemi tamamlanana kadar engeller.</span><span class="sxs-lookup"><span data-stu-id="437c0-138">If the asynchronous operation represented by the <xref:System.IAsyncResult> object has not completed when `EndOperationName` is called, `EndOperationName` blocks the calling thread until the asynchronous operation is complete.</span></span> <span data-ttu-id="437c0-139">Eşsenkronize işlem tarafından atılan özel durumlar `EndOperationName` yöntemden atılır.</span><span class="sxs-lookup"><span data-stu-id="437c0-139">Exceptions thrown by the asynchronous operation are thrown from the `EndOperationName` method.</span></span> <span data-ttu-id="437c0-140">`EndOperationName` Yöntemi aynı <xref:System.IAsyncResult> ile birden çok kez çağırmanın etkisi tanımlanmamıştır.</span><span class="sxs-lookup"><span data-stu-id="437c0-140">The effect of calling the `EndOperationName` method multiple times with the same <xref:System.IAsyncResult> is not defined.</span></span> <span data-ttu-id="437c0-141">Aynı şekilde, `EndOperationName` ilgili Begin <xref:System.IAsyncResult> yöntemi tarafından döndürülmeyen bir yöntemle çağrılması da tanımlanmaz.</span><span class="sxs-lookup"><span data-stu-id="437c0-141">Likewise, calling the `EndOperationName` method with an <xref:System.IAsyncResult> that was not returned by the related Begin method is also not defined.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="437c0-142">Tanımlanmamış senaryolardan biri için, uygulayıcılar <xref:System.InvalidOperationException>atmayı düşünmelidir.</span><span class="sxs-lookup"><span data-stu-id="437c0-142">For either of the undefined scenarios, implementers should consider throwing <xref:System.InvalidOperationException>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="437c0-143">Bu tasarım deseninin uygulayıcıları, asenkron işlemin doğru <xref:System.IAsyncResult.IsCompleted%2A> ayarlanarak tamamlandığını, eşzamanlı geri arama yöntemini (belirtilmişse) <xref:System.IAsyncResult.AsyncWaitHandle%2A>ve sinyalizasyonu yapan asenkron işlemin tamamlandığını arayana bildirmelidir.</span><span class="sxs-lookup"><span data-stu-id="437c0-143">Implementers of this design pattern should notify the caller that the asynchronous operation completed by setting <xref:System.IAsyncResult.IsCompleted%2A> to true, calling the asynchronous callback method (if one was specified) and signaling the <xref:System.IAsyncResult.AsyncWaitHandle%2A>.</span></span>  
  
 <span data-ttu-id="437c0-144">Uygulama geliştiricilerin, eşzamanlı işlemin sonuçlarına erişmek için çeşitli tasarım seçenekleri vardır.</span><span class="sxs-lookup"><span data-stu-id="437c0-144">Application developers have several design choices for accessing the results of the asynchronous operation.</span></span> <span data-ttu-id="437c0-145">Doğru seçim, uygulamanın işlem tamamlandığında yürütülebilecek yönergelere sahip olup olmadığına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="437c0-145">The correct choice depends on whether the application has instructions that can execute while the operation completes.</span></span> <span data-ttu-id="437c0-146">Bir uygulama, eşenkron işlemin sonuçlarını alana kadar ek bir çalışma gerçekleştiremiyorsa, sonuçlar kullanılabilir olana kadar uygulamanın engellenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="437c0-146">If an application cannot perform any additional work until it receives the results of the asynchronous operation, the application must block until the results are available.</span></span> <span data-ttu-id="437c0-147">Bir eşzamanlı işlem tamamlanana kadar engellemek için aşağıdaki yaklaşımlardan birini kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="437c0-147">To block until an asynchronous operation completes, you can use one of the following approaches:</span></span>  
  
- <span data-ttu-id="437c0-148">Uygulamanın ana iş parçacığından arama, `EndOperationName` işlem tamamlanana kadar uygulama yürütmesini engelleyin.</span><span class="sxs-lookup"><span data-stu-id="437c0-148">Call `EndOperationName` from the application’s main thread, blocking application execution until the operation is complete.</span></span> <span data-ttu-id="437c0-149">Bu tekniği gösteren [bir](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-by-ending-an-async-operation.md)örnek için bkz.</span><span class="sxs-lookup"><span data-stu-id="437c0-149">For an example that illustrates this technique, see [Blocking Application Execution by Ending an Async Operation](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-by-ending-an-async-operation.md).</span></span>  
  
- <span data-ttu-id="437c0-150">Bir <xref:System.IAsyncResult.AsyncWaitHandle%2A> veya daha fazla işlem tamamlanana kadar uygulama yürütmesini engellemek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="437c0-150">Use the <xref:System.IAsyncResult.AsyncWaitHandle%2A> to block application execution until one or more operations are complete.</span></span> <span data-ttu-id="437c0-151">Bu tekniği gösteren bir örnek için, [bkz.](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-using-an-asyncwaithandle.md)</span><span class="sxs-lookup"><span data-stu-id="437c0-151">For an example that illustrates this technique, see [Blocking Application Execution Using an AsyncWaitHandle](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-using-an-asyncwaithandle.md).</span></span>  
  
 <span data-ttu-id="437c0-152">Eşkron işlemi tamamlarken engellenmesi gerekmeyen uygulamalar aşağıdaki yaklaşımlardan birini kullanabilir:</span><span class="sxs-lookup"><span data-stu-id="437c0-152">Applications that do not need to block while the asynchronous operation completes can use one of the following approaches:</span></span>  
  
- <span data-ttu-id="437c0-153"><xref:System.IAsyncResult.IsCompleted%2A> Mülkü periyodik olarak kontrol ederek ve işlem `EndOperationName` tamamlandığında arayarak işlemi tamamlama durumu için anket.</span><span class="sxs-lookup"><span data-stu-id="437c0-153">Poll for operation completion status by checking the <xref:System.IAsyncResult.IsCompleted%2A> property periodically and calling `EndOperationName` when the operation is complete.</span></span> <span data-ttu-id="437c0-154">Bu tekniği gösteren bir örnek için, Bir [Eşzamanlı İşlemin Durumu Için Yoklama](../../../docs/standard/asynchronous-programming-patterns/polling-for-the-status-of-an-asynchronous-operation.md)bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="437c0-154">For an example that illustrates this technique, see [Polling for the Status of an Asynchronous Operation](../../../docs/standard/asynchronous-programming-patterns/polling-for-the-status-of-an-asynchronous-operation.md).</span></span>  
  
- <span data-ttu-id="437c0-155">İşlem <xref:System.AsyncCallback> tamamlandığında çağrılacak bir yöntem belirtmek için bir temsilci kullanın.</span><span class="sxs-lookup"><span data-stu-id="437c0-155">Use an <xref:System.AsyncCallback> delegate to specify a method to be invoked when the operation is complete.</span></span> <span data-ttu-id="437c0-156">Bu tekniği gösteren [bir](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-to-end-an-asynchronous-operation.md)örnek için bkz.</span><span class="sxs-lookup"><span data-stu-id="437c0-156">For an example that illustrates this technique, see [Using an AsyncCallback Delegate to End an Asynchronous Operation](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-to-end-an-asynchronous-operation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="437c0-157">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="437c0-157">See also</span></span>

- [<span data-ttu-id="437c0-158">Olay Tabanlı Zaman Uyumsuz Desen (EAP)</span><span class="sxs-lookup"><span data-stu-id="437c0-158">Event-based Asynchronous Pattern (EAP)</span></span>](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md)
- [<span data-ttu-id="437c0-159">Zaman Uyumlu Metotları Zaman Uyumsuz Olarak Çağırma</span><span class="sxs-lookup"><span data-stu-id="437c0-159">Calling Synchronous Methods Asynchronously</span></span>](../../../docs/standard/asynchronous-programming-patterns/calling-synchronous-methods-asynchronously.md)
- [<span data-ttu-id="437c0-160">Bir AsyncCallback Temsilcisi ve Durum Nesnesi Kullanma</span><span class="sxs-lookup"><span data-stu-id="437c0-160">Using an AsyncCallback Delegate and State Object</span></span>](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md)
