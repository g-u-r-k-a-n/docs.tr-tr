---
title: XAML Tür Dönüştürücülerine Genel Bakış
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converters
- XAML [XAML Services], TypeConverter
- type conversion for XAML [XAML Services]
ms.assetid: 51a65860-efcb-4fe0-95a0-1c679cde66b7
ms.openlocfilehash: 6e78210178fda65bb3baad0d24eb3a20cd6f2a3e
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90540119"
---
# <a name="overview-of-type-converters-for-xaml"></a><span data-ttu-id="eca41-102">XAML için tür Dönüştürücülerine genel bakış</span><span class="sxs-lookup"><span data-stu-id="eca41-102">Overview of type converters for XAML</span></span>

<span data-ttu-id="eca41-103">Tür dönüştürücüler, XAML biçimlendirme içindeki bir dizeden bir nesne grafiğinde belirli nesnelere dönüştüren bir nesne yazıcı için arz mantığı sağlar.</span><span class="sxs-lookup"><span data-stu-id="eca41-103">Type converters supply logic for an object writer that converts from a string in XAML markup into particular objects in an object graph.</span></span> <span data-ttu-id="eca41-104">.NET XAML hizmetlerinde tür dönüştürücüsü öğesinden türetilen bir sınıf olmalıdır <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="eca41-104">In .NET XAML Services, the type converter must be a class that derives from <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="eca41-105">Bazı dönüştürücüler XAML kayıt yolunu da destekler ve serileştirme biçimlendirmesinde bir nesneyi dize biçiminde seri hale getirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-105">Some converters also support the XAML save path and can be used to serialize an object into a string form in serialization markup.</span></span> <span data-ttu-id="eca41-106">Bu konu, XAML 'deki tür dönüştürücülerinin nasıl ve ne zaman çağrılacağını açıklar ve metot geçersiz kılmaları için uygulama önerisi sağlar <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="eca41-106">This topic describes how and when type converters in XAML are invoked, and provides implementation advice for the method overrides of <xref:System.ComponentModel.TypeConverter>.</span></span>

## <a name="type-conversion-concepts"></a><span data-ttu-id="eca41-107">Tür dönüştürme kavramları</span><span class="sxs-lookup"><span data-stu-id="eca41-107">Type Conversion Concepts</span></span>

<span data-ttu-id="eca41-108">Aşağıdaki bölümlerde, XAML 'nin dizeleri nasıl kullandığı hakkında temel kavramlar ve .NET XAML Hizmetleri 'ndeki nesne yazıcılarının bir XAML kaynağında karşılaşılan bazı dize değerlerini işlemek için tür dönüştürücülerinin nasıl kullanıldığı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="eca41-108">The following sections explain basic concepts about how XAML uses strings, and how object writers in .NET XAML Services use type converters to process some of the string values that are encountered in a XAML source.</span></span>

### <a name="xaml-and-string-values"></a><span data-ttu-id="eca41-109">XAML ve dize değerleri</span><span class="sxs-lookup"><span data-stu-id="eca41-109">XAML and String Values</span></span>

<span data-ttu-id="eca41-110">XAML dosyasında bir öznitelik değeri ayarladığınızda, bu değerin başlangıç türü genel anlamda bir dize ve bir XML anlamda dize özniteliği değeri olur.</span><span class="sxs-lookup"><span data-stu-id="eca41-110">When you set an attribute value in a XAML file, the initial type of that value is a string in a general sense, and a string attribute value in an XML sense.</span></span> <span data-ttu-id="eca41-111">Gibi diğer temel öğeler de <xref:System.Double> BIR XAML işlemcisine ilk olarak dizelerdir.</span><span class="sxs-lookup"><span data-stu-id="eca41-111">Even other primitives such as <xref:System.Double> are initially strings to a XAML processor.</span></span>

<span data-ttu-id="eca41-112">Çoğu durumda, bir XAML işlemcisinin bir öznitelik değerini işlemek için iki bilgi parçasına ihtiyacı vardır.</span><span class="sxs-lookup"><span data-stu-id="eca41-112">In most cases, a XAML processor needs two pieces of information to process an attribute value.</span></span> <span data-ttu-id="eca41-113">İlk bilgi parçası, ayarlanmakta olan özelliğin değer türüdür.</span><span class="sxs-lookup"><span data-stu-id="eca41-113">The first piece of information is the value type of the property that is being set.</span></span> <span data-ttu-id="eca41-114">Bir öznitelik değerini tanımlayan ve XAML 'de işlenen herhangi bir dize, sonunda, son olarak o türdeki bir değere dönüştürülmelidir veya çözümlenmelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-114">Any string that defines an attribute value and that is processed in XAML must ultimately be converted or resolved to a value of that type.</span></span> <span data-ttu-id="eca41-115">Değer, XAML ayrıştırıcısı (sayısal değer gibi) tarafından anlaşılan bir temel ise, dizenin doğrudan dönüştürülmesine denenir.</span><span class="sxs-lookup"><span data-stu-id="eca41-115">If the value is a primitive that is understood by the XAML parser (such as a numeric value), a direct conversion of the string is attempted.</span></span> <span data-ttu-id="eca41-116">Özniteliğin değeri bir numaralandırmaya başvuruyorsa, sağlanan dize, bu Numaralandırmadaki adlandırılmış bir sabit ile bir ad eşleşmesi için denetlenir.</span><span class="sxs-lookup"><span data-stu-id="eca41-116">If the value for the attribute references an enumeration, the supplied string is checked for a name match to a named constant in that enumeration.</span></span> <span data-ttu-id="eca41-117">Değer, ayrıştırıcının anlamış bir temel veya sabit bir ad numaralandırmasından değilse, uygulanabilir tür, dönüştürülmüş bir dizeye dayalı bir değer veya başvuru sağlayabilmelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-117">If the value is not a parser-understood primitive or a constant name from an enumeration, the applicable type must be able to provide a value or reference that is based on a converted string.</span></span>

> [!NOTE]
> <span data-ttu-id="eca41-118">XAML dil yönergeleri tür dönüştürücülerini kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="eca41-118">XAML language directives do not use type converters.</span></span>

### <a name="type-converters-and-markup-extensions"></a><span data-ttu-id="eca41-119">Tür dönüştürücüler ve biçimlendirme uzantıları</span><span class="sxs-lookup"><span data-stu-id="eca41-119">Type Converters and Markup Extensions</span></span>

<span data-ttu-id="eca41-120">Biçimlendirme uzantısı kullanımları, özellik türünü ve diğer konuları kontrol etmeden önce bir XAML işlemcisi tarafından işlenmelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-120">Markup extension usages must be handled by a XAML processor before it checks for property type and other considerations.</span></span> <span data-ttu-id="eca41-121">Örneğin, normalde bir öznitelik olarak ayarlanan bir özelliğin tür dönüştürmesi varsa, ancak belirli bir durumda biçimlendirme uzantısı kullanımı ile ayarlanırsa, biçimlendirme uzantısı davranışı önce işlenir.</span><span class="sxs-lookup"><span data-stu-id="eca41-121">For example, if a property being set as an attribute normally has a type conversion, but in a particular case is set by a markup extension usage, then the markup extension behavior processes first.</span></span> <span data-ttu-id="eca41-122">Biçimlendirme uzantısının gerekli olduğu yaygın bir durum, zaten var olan bir nesneye başvuru yapmak.</span><span class="sxs-lookup"><span data-stu-id="eca41-122">One common situation where a markup extension is necessary is to make a reference to an object that already exists.</span></span> <span data-ttu-id="eca41-123">Bu senaryo için, durum bilgisi olmayan bir tür dönüştürücüsü yalnızca yeni bir örnek oluşturabilir ve bu, istenmeyebilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-123">For this scenario, a stateless type converter can only generate a new instance, which might not be desirable.</span></span> <span data-ttu-id="eca41-124">Biçimlendirme uzantıları hakkında daha fazla bilgi için bkz. [xaml Için biçimlendirme uzantıları genel bakış](markup-extensions-overview.md).</span><span class="sxs-lookup"><span data-stu-id="eca41-124">For more information about markup extensions, see [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span></span>

### <a name="native-type-converters"></a><span data-ttu-id="eca41-125">Yerel tür dönüştürücüler</span><span class="sxs-lookup"><span data-stu-id="eca41-125">Native Type Converters</span></span>

<span data-ttu-id="eca41-126">Windows Presentation Foundation (WPF) ve .NET XAML Hizmetleri uygulamalarında, yerel tür dönüştürme işlemesi olan belirli CLR türleri vardır.</span><span class="sxs-lookup"><span data-stu-id="eca41-126">In the Windows Presentation Foundation (WPF) and .NET XAML services implementations, there are certain CLR types that have native type conversion handling.</span></span> <span data-ttu-id="eca41-127">Ancak, bu CLR türleri temel öğeler olarak genel olarak düşünülmez.</span><span class="sxs-lookup"><span data-stu-id="eca41-127">However, those CLR types are not conventionally thought of as primitives.</span></span> <span data-ttu-id="eca41-128">Bu tür bir örnek vardır <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="eca41-128">An example of such a type is <xref:System.DateTime>.</span></span> <span data-ttu-id="eca41-129">Bunun bir nedeni .NET Framework mimarinin nasıl çalıştığına yöneliktir: tür, <xref:System.DateTime> .net 'teki en temel kitaplık olan mscorlib 'de tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="eca41-129">One reason for this is how the .NET Framework architecture works: the type <xref:System.DateTime> is defined in mscorlib, the most basic library in .NET.</span></span> <span data-ttu-id="eca41-130"><xref:System.DateTime> bağımlılık tanıtan başka bir derlemeden gelen bir öznitelikle ilişkilendirilememesine izin verilmez ( <xref:System.ComponentModel.TypeConverterAttribute> sistem).</span><span class="sxs-lookup"><span data-stu-id="eca41-130"><xref:System.DateTime> is not permitted to be attributed with an attribute that comes from another assembly that introduces a dependency (<xref:System.ComponentModel.TypeConverterAttribute> is from System).</span></span> <span data-ttu-id="eca41-131">Bu nedenle, Attributing tarafından her zamanki tür dönüştürücüsü bulma mekanizması desteklenemez.</span><span class="sxs-lookup"><span data-stu-id="eca41-131">Therefore, the usual type converter discovery mechanism by attributing cannot be supported.</span></span> <span data-ttu-id="eca41-132">Bunun yerine, XAML ayrıştırıcısı yerel işleme ihtiyacı olan türlerin bir listesini içerir ve bu türleri gerçek temel elemanların işlenme biçimine benzer şekilde işler.</span><span class="sxs-lookup"><span data-stu-id="eca41-132">Instead, the XAML parser has a list of types that need native processing, and it processes these types similar to how the true primitives are processed.</span></span> <span data-ttu-id="eca41-133"><xref:System.DateTime>Bu durumda, bu işlem öğesine bir çağrı içerir <xref:System.DateTime.Parse%2A> .</span><span class="sxs-lookup"><span data-stu-id="eca41-133">In the case of <xref:System.DateTime>, this processing involves a call to <xref:System.DateTime.Parse%2A>.</span></span>

## <a name="implementing-a-type-converter"></a><span data-ttu-id="eca41-134">Tür Dönüştürücüsü uygulama</span><span class="sxs-lookup"><span data-stu-id="eca41-134">Implementing a Type Converter</span></span>

<span data-ttu-id="eca41-135">Aşağıdaki bölümlerde sınıfının API 'SI ele alınmaktadır <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="eca41-135">The following sections discuss the API of the <xref:System.ComponentModel.TypeConverter> class.</span></span>

### <a name="typeconverter"></a><span data-ttu-id="eca41-136">TypeConverter</span><span class="sxs-lookup"><span data-stu-id="eca41-136">TypeConverter</span></span>

<span data-ttu-id="eca41-137">.NET XAML Hizmetleri ' nin altında, XAML için kullanılan tüm tür dönüştürücüler taban sınıftan türetilen sınıflardır <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="eca41-137">Under .NET XAML Services, all type converters that are used for XAML purposes are classes that derive from the base class <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="eca41-138"><xref:System.ComponentModel.TypeConverter>Sınıf, XAML silinmeden önce .NET Framework sürümlerinde vardı; özgün senaryolardan biri, <xref:System.ComponentModel.TypeConverter> Visual Designer 'daki Özellik düzenleyicileri için dize dönüştürmesi sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="eca41-138">The <xref:System.ComponentModel.TypeConverter> class existed in versions of the .NET Framework before XAML existed; one of the original <xref:System.ComponentModel.TypeConverter> scenarios was to provide string conversion for property editors in visual designers.</span></span>

<span data-ttu-id="eca41-139">XAML için, rolü <xref:System.ComponentModel.TypeConverter> genişletilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-139">For XAML, the role of <xref:System.ComponentModel.TypeConverter> is expanded.</span></span> <span data-ttu-id="eca41-140">XAML amaçları için, <xref:System.ComponentModel.TypeConverter> belirli-dize ve dize dönüştürmelerinde destek sağlamak için temel sınıftır.</span><span class="sxs-lookup"><span data-stu-id="eca41-140">For XAML purposes, <xref:System.ComponentModel.TypeConverter> is the base class for providing support for certain to-string and from-string conversions.</span></span> <span data-ttu-id="eca41-141">From-String, XAML 'den bir dize özniteliği değeri ayrıştırmayı mümkün.</span><span class="sxs-lookup"><span data-stu-id="eca41-141">From-string enables parsing a string attribute value from XAML.</span></span> <span data-ttu-id="eca41-142">-String, belirli bir nesne özelliğinin çalışma zamanı değerini seri hale getirme için XAML içindeki bir özniteliğe geri işlemeye olanak sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-142">To-string might enable processing a run-time value of a particular object property back into an attribute in XAML for serialization.</span></span>

<span data-ttu-id="eca41-143"><xref:System.ComponentModel.TypeConverter> XAML işleme amaçları için-String ve from-String ' i dönüştürmeye uygun dört üyeyi tanımlar:</span><span class="sxs-lookup"><span data-stu-id="eca41-143"><xref:System.ComponentModel.TypeConverter> defines four members that are relevant for converting to-string and from-string for XAML processing purposes:</span></span>

- <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>

- <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>

- <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>

- <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>

<span data-ttu-id="eca41-144">Bu üyelerin en önemli yöntemi, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> giriş dizesini gereken nesne türüne dönüştüren ' dir.</span><span class="sxs-lookup"><span data-stu-id="eca41-144">Of these members, the most important method is <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>, which converts the input string to the required object type.</span></span> <span data-ttu-id="eca41-145"><xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>Yöntemi, dönüştürücünün amaçlanan hedef türüne daha geniş bir tür dönüştürmek için uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-145">The <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method can be implemented to convert a wider range of types into the intended destination type of the converter.</span></span> <span data-ttu-id="eca41-146">Bu nedenle, çalışma zamanı dönüştürmelerini destekleme gibi XAML 'in ötesine genişleyen amaçlar sunabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-146">Therefore, it can serve purposes that extend beyond XAML, such as supporting run-time conversions.</span></span> <span data-ttu-id="eca41-147">Ancak, XAML kullanımı için yalnızca bir girişi işleyecede kod yolu <xref:System.String> önemlidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-147">However, for XAML use, only the code path that can process a <xref:System.String> input is important.</span></span>

<span data-ttu-id="eca41-148">İkinci en önemli Yöntem <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> .</span><span class="sxs-lookup"><span data-stu-id="eca41-148">The second-most important method is <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span> <span data-ttu-id="eca41-149">Bir uygulama, biçimlendirme gösterimine dönüştürülürse (örneğin, XAML 'ye bir dosya olarak kaydedilirse), bir <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> xaml metin yazıcısının bir biçimlendirme temsili oluşturmak için daha büyük senaryoya dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-149">If an application is converted to a markup representation (for example, if it is saved to XAML as a file), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is involved in the larger scenario of a XAML text writer to produce a markup representation.</span></span> <span data-ttu-id="eca41-150">Bu durumda, XAML için önemli kod yolu çağıranın bir ' ı geçirme yoludur `destinationType` <xref:System.String> .</span><span class="sxs-lookup"><span data-stu-id="eca41-150">In this case, the important code path for XAML is when the caller passes a `destinationType` of <xref:System.String>.</span></span>

<span data-ttu-id="eca41-151"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> ve, <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> bir hizmet uygulamanın yeteneklerini sorguladığında kullanılan destek yöntemleridir <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="eca41-151"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> and <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> are support methods that are used when a service queries the capabilities of the <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="eca41-152">Bu yöntemleri, `true` dönüştürücünün eşit dönüştürme yöntemlerinin desteklediği türe özgü durumlar için döndürmek üzere uygulamalısınız.</span><span class="sxs-lookup"><span data-stu-id="eca41-152">You must implement these methods to return `true` for type-specific cases that the equivalent conversion methods of your converter support.</span></span> <span data-ttu-id="eca41-153">XAML amaçları için bu genellikle tür anlamına gelir <xref:System.String> .</span><span class="sxs-lookup"><span data-stu-id="eca41-153">For XAML purposes, this generally means the <xref:System.String> type.</span></span>

### <a name="culture-information-and-type-converters-for-xaml"></a><span data-ttu-id="eca41-154">XAML için kültür bilgileri ve tür dönüştürücüler</span><span class="sxs-lookup"><span data-stu-id="eca41-154">Culture Information and Type Converters for XAML</span></span>

<span data-ttu-id="eca41-155">Her <xref:System.ComponentModel.TypeConverter> uygulama, dönüştürme için geçerli bir dize olduğunu benzersiz bir şekilde yorumlayabilir ve ayrıca parametre olarak geçirilen tür açıklamasını kullanabilir veya yoksayabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-155">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what is a valid string for a conversion, and it can also use or ignore the type description that is passed as parameters.</span></span> <span data-ttu-id="eca41-156">Kültür ve XAML türü dönüştürme için önemli bir göz önünde bulundurmanız gerekenler şunlardır: öznitelik değerleri olarak yerelleştirilebilir dizeler kullanılması XAML tarafından desteklenmekle birlikte, bu yerelleştirilebilir dizeleri belirli kültür gereksinimlerine sahip tür dönüştürücüsü girişi olarak kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="eca41-156">An important consideration for culture and XAML type conversion is the following: although using localizable strings as attribute values is supported by XAML, you cannot use these localizable strings as type converter input with specific culture requirements.</span></span> <span data-ttu-id="eca41-157">Bu sınırlama, XAML öznitelik değerleri için tür dönüştürücülerinin kültür kullanan sabit dil XAML işleme davranışına sahip olması gerektiğini içerir `en-US` .</span><span class="sxs-lookup"><span data-stu-id="eca41-157">This limitation is because type converters for XAML attribute values involve a necessarily fixed-language XAML-processing behavior that uses `en-US` culture.</span></span> <span data-ttu-id="eca41-158">Bu kısıtlamanın tasarım nedenleri hakkında daha fazla bilgi için bkz. XAML dil belirtimi ([ \[ MS-xaml \] ](/previous-versions/msp-n-p/ff650760(v=pandp.10))) veya [WPF Genelleştirme ve yerelleştirme genel bakış](/dotnet/desktop/wpf/advanced/wpf-globalization-and-localization-overview).</span><span class="sxs-lookup"><span data-stu-id="eca41-158">For more information about the design reasons for this restriction, see the XAML language specification ([\[MS-XAML\]](/previous-versions/msp-n-p/ff650760(v=pandp.10))) or [WPF Globalization and Localization Overview](/dotnet/desktop/wpf/advanced/wpf-globalization-and-localization-overview).</span></span>

<span data-ttu-id="eca41-159">Kültüre bir sorun olabilecek bir örnek olarak, bazı kültürler dize biçimindeki sayılar için ondalık nokta sınırlayıcısı olarak bir nokta yerine virgül kullanır.</span><span class="sxs-lookup"><span data-stu-id="eca41-159">As an example where culture can be an issue, some cultures use a comma instead of a period as the decimal point delimiter for numbers in string form.</span></span> <span data-ttu-id="eca41-160">Bu kullanım, çok sayıda mevcut tür dönüştürücülerinin sahip olduğu ve sınırlayıcı olarak virgül kullanmanın olduğu davranış ile çakışıyor.</span><span class="sxs-lookup"><span data-stu-id="eca41-160">This use collides with the behavior that many existing type converters have, which is to use a comma as a delimiter.</span></span> <span data-ttu-id="eca41-161">Bir kültürü `xml:lang` çevreleyen XAML içinde geçirme sorunu çözmez.</span><span class="sxs-lookup"><span data-stu-id="eca41-161">Passing a culture through `xml:lang` in the surrounding XAML does not solve the issue.</span></span>

### <a name="implementing-convertfrom"></a><span data-ttu-id="eca41-162">ConvertFrom uygulama</span><span class="sxs-lookup"><span data-stu-id="eca41-162">Implementing ConvertFrom</span></span>

<span data-ttu-id="eca41-163"><xref:System.ComponentModel.TypeConverter>Xaml 'yi destekleyen bir uygulama olarak kullanılabilmesi için, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> Bu dönüştürücünün yöntemi parametre olarak bir dize kabul etmelidir `value` .</span><span class="sxs-lookup"><span data-stu-id="eca41-163">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method for that converter must accept a string as the `value` parameter.</span></span> <span data-ttu-id="eca41-164">Dize geçerli bir biçimeyse ve uygulama tarafından dönüştürülemiyorsa <xref:System.ComponentModel.TypeConverter> , döndürülen nesne, özellik tarafından beklenen türe bir tür dönüştürmeyi desteklemelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-164">If the string is in a valid format and can be converted by the <xref:System.ComponentModel.TypeConverter> implementation, the returned object must support a cast to the type that is expected by the property.</span></span> <span data-ttu-id="eca41-165">Aksi takdirde, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> uygulamanın dönmesi gerekir `null` .</span><span class="sxs-lookup"><span data-stu-id="eca41-165">Otherwise, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation must return `null`.</span></span>

<span data-ttu-id="eca41-166">Her <xref:System.ComponentModel.TypeConverter> uygulama, dönüştürme için geçerli bir dize oluşturduğunu benzersiz bir şekilde yorumlayabilir ve ayrıca parametre olarak geçirilen tür açıklaması veya kültür bağlamlarını kullanabilir veya yoksayabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-166">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what constitutes a valid string for a conversion, and it can also use or ignore the type description or culture contexts that are passed as parameters.</span></span> <span data-ttu-id="eca41-167">Ancak, WPF XAML işleme değerleri her durumda tür açıklaması bağlamına geçirmeyebilir ve ayrıca, temelinde kültürü geçirmeyebilir `xml:lang` .</span><span class="sxs-lookup"><span data-stu-id="eca41-167">However, the WPF XAML processing might not pass values to the type description context in all cases and also might not pass culture based on `xml:lang`.</span></span>

> [!NOTE]
> <span data-ttu-id="eca41-168">Parantez ( {} ), özellikle de açma küme ayracı ({) dize biçiminizdeki bir öğe olarak kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="eca41-168">Do not use the braces ({}), specifically the opening brace ({), as an element of your string format.</span></span> <span data-ttu-id="eca41-169">Bu karakterler bir işaretleme uzantısı sırası için giriş ve çıkış olarak ayrılmıştır.</span><span class="sxs-lookup"><span data-stu-id="eca41-169">These characters are reserved as the entry and exit for a markup extension sequence.</span></span>

<span data-ttu-id="eca41-170">Tür dönüştürücüsünün .NET XAML Hizmetleri nesne yazıcısından bir XAML hizmetine erişimi olması gerektiğinde bir özel durum oluşturmak için uygundur, ancak <xref:System.IServiceProvider.GetService%2A> bağlamda gerçekleştirilen çağrının bu hizmeti döndürmez.</span><span class="sxs-lookup"><span data-stu-id="eca41-170">It is appropriate to throw an exception when your type converter must have access to a XAML service from .NET XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>

### <a name="implementing-convertto"></a><span data-ttu-id="eca41-171">ConvertTo uygulama</span><span class="sxs-lookup"><span data-stu-id="eca41-171">Implementing ConvertTo</span></span>

<span data-ttu-id="eca41-172"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A> , serileştirme desteği için büyük olasılıkla kullanılıyor.</span><span class="sxs-lookup"><span data-stu-id="eca41-172"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is potentially used for serialization support.</span></span> <span data-ttu-id="eca41-173"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A>Özel tür ve tür Dönüştürücüsü için serileştirme desteği, mutlak bir gereksinim değildir.</span><span class="sxs-lookup"><span data-stu-id="eca41-173">Serialization support through <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> for your custom type and its type converter is not an absolute requirement.</span></span> <span data-ttu-id="eca41-174">Ancak, bir denetim uyguladıysanız veya sınıfınızın özelliklerinin veya tasarımının bir parçası olarak serileştirilmesi kullanıyorsanız, uygulamanız gerekir <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> .</span><span class="sxs-lookup"><span data-stu-id="eca41-174">However, if you are implementing a control, or using serialization of as part of the features or design of your class, you should implement <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span>

<span data-ttu-id="eca41-175"><xref:System.ComponentModel.TypeConverter>Xaml 'yi destekleyen bir uygulama olarak kullanılabilmesi için, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> Bu dönüştürücünün yöntemi parametre olarak desteklenen türün (veya bir değerin) bir örneğini kabul etmelidir `value` .</span><span class="sxs-lookup"><span data-stu-id="eca41-175">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> method for that converter must accept an instance of the type (or a value) that is supported as the `value` parameter.</span></span> <span data-ttu-id="eca41-176">`destinationType`Parametre türü olduğunda <xref:System.String> , döndürülen nesnenin olarak yayınlanamayacak olması gerekir <xref:System.String> .</span><span class="sxs-lookup"><span data-stu-id="eca41-176">When the `destinationType` parameter is of type <xref:System.String>, the returned object must be able to be cast as <xref:System.String>.</span></span> <span data-ttu-id="eca41-177">Döndürülen dize, seri hale getirilmiş bir değeri temsil etmelidir `value` .</span><span class="sxs-lookup"><span data-stu-id="eca41-177">The returned string must represent a serialized value of `value`.</span></span> <span data-ttu-id="eca41-178">İdeal olarak, seçtiğiniz serileştirme biçimi, bu dizenin aynı dönüştürücünün uygulamasına geçirilmesiyle aynı değeri <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> , önemli ölçüde bilgi kaybı olmadan oluşturabilebilmelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-178">Ideally, the serialization format that you choose should be able to generate the same value as if that string were passed to the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation of the same converter, without significant loss of information.</span></span>

<span data-ttu-id="eca41-179">Değer seri hale getirilemez veya dönüştürücü Serileştirmeyi desteklemiyorsa, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> uygulama döndürmelidir `null` ve bir özel durum oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-179">If the value cannot be serialized or the converter does not support serialization, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> implementation must return `null` and can throw an exception.</span></span> <span data-ttu-id="eca41-180">Ancak, özel durumlar oluşturuyorsanız, bu dönüştürmeyi uygulamanızın bir parçası olarak kullanmayı, <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> özel durumların önüne geçmek için en iyi şekilde denetim altına almanız gerektiğini bildirmelisiniz <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> .</span><span class="sxs-lookup"><span data-stu-id="eca41-180">However, if you do throw exceptions, you should report the inability to use that conversion as part of your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation so that the best practice of checking with <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> first to avoid exceptions is supported.</span></span>

<span data-ttu-id="eca41-181">`destinationType`Parametre türü değilse <xref:System.String> , kendi dönüştürücü işleme seçeneğini belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="eca41-181">If the `destinationType` parameter is not of type <xref:System.String>, you can choose your own converter handling.</span></span> <span data-ttu-id="eca41-182">Genellikle temel uygulama işlemeye döndürürseniz, temel içinde <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> belirli bir özel durum yükseltilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-182">Typically, you revert to base implementation handling, which in the base <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> raises a specific exception.</span></span>

<span data-ttu-id="eca41-183">Tür dönüştürücüsünün .NET XAML Hizmetleri nesne yazıcısından bir XAML hizmetine erişimi olması gerektiğinde bir özel durum oluşturmak için uygundur, ancak <xref:System.IServiceProvider.GetService%2A> bağlamda gerçekleştirilen çağrının bu hizmeti döndürmez.</span><span class="sxs-lookup"><span data-stu-id="eca41-183">It is appropriate to throw an exception when your type converter must have access to a XAML service from .NET XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>

### <a name="implementing-canconvertfrom"></a><span data-ttu-id="eca41-184">Canconvertuygulama</span><span class="sxs-lookup"><span data-stu-id="eca41-184">Implementing CanConvertFrom</span></span>

<span data-ttu-id="eca41-185"><xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>Uygulamanız `true` türü için döndürmelidir `sourceType` <xref:System.String> , aksi takdirde temel uygulamaya ertelemelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-185">Your <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> implementation should return `true` for `sourceType` of type <xref:System.String> and otherwise, defer to the base implementation.</span></span> <span data-ttu-id="eca41-186">' Den özel durumlar atamayın <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> .</span><span class="sxs-lookup"><span data-stu-id="eca41-186">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>.</span></span>

### <a name="implementing-canconvertto"></a><span data-ttu-id="eca41-187">Canconvertuygulama</span><span class="sxs-lookup"><span data-stu-id="eca41-187">Implementing CanConvertTo</span></span>

<span data-ttu-id="eca41-188"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>Uygulamanız `true` türü için döndürmelidir `destinationType` <xref:System.String> , aksi takdirde temel uygulamaya ertelemelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-188">Your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation should return `true` for `destinationType` of type <xref:System.String>, and otherwise defer to the base implementation.</span></span> <span data-ttu-id="eca41-189">' Den özel durumlar atamayın <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> .</span><span class="sxs-lookup"><span data-stu-id="eca41-189">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>.</span></span>

## <a name="applying-the-typeconverterattribute"></a><span data-ttu-id="eca41-190">TypeConverterAttribute uygulanıyor</span><span class="sxs-lookup"><span data-stu-id="eca41-190">Applying the TypeConverterAttribute</span></span>

<span data-ttu-id="eca41-191">Özel tür dönüştürücüsünün .NET XAML Hizmetleri tarafından özel bir sınıf için davranan tür dönüştürücüsü olarak kullanılması için, ' yi <xref:System.ComponentModel.TypeConverterAttribute> sınıf tanımınıza uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="eca41-191">For your custom type converter to be used as the acting type converter for a custom class by .NET XAML Services, you must apply the <xref:System.ComponentModel.TypeConverterAttribute> to your class definition.</span></span> <span data-ttu-id="eca41-192"><xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A>Özniteliği aracılığıyla belirttiğiniz, özel tür dönüştürücünün tür adı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="eca41-192">The <xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> that you specify through the attribute must be the type name of your custom type converter.</span></span> <span data-ttu-id="eca41-193">Bu özniteliği uygularsanız, bir XAML işlemcisi, özellik türünün özel sınıf türünü kullandığı değerleri işlediğinde, dizeleri belirtebilir ve nesne örnekleri döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-193">If you apply this attribute, when a XAML processor handles values where the property type uses your custom class type, it can input strings and return object instances.</span></span>

<span data-ttu-id="eca41-194">Ayrıca özellik başına bir tür dönüştürücüsü sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="eca41-194">You can also provide a type converter on a per-property basis.</span></span> <span data-ttu-id="eca41-195">Sınıf tanımına bir uygulamak yerine <xref:System.ComponentModel.TypeConverterAttribute> , bunu bir özellik tanımına (Ana tanım, `get` / `set` içindeki uygulamaları değil) uygulayın.</span><span class="sxs-lookup"><span data-stu-id="eca41-195">Instead of applying a <xref:System.ComponentModel.TypeConverterAttribute> to the class definition, apply it to a property definition (the main definition, not the `get`/`set` implementations within it).</span></span> <span data-ttu-id="eca41-196">Özelliğin türü, özel tür dönüştürücülü tarafından işlenen türle eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="eca41-196">The type of the property must match the type that is processed by your custom type converter.</span></span> <span data-ttu-id="eca41-197">Bu öznitelik uygulandığında, bir XAML işlemcisi bu özelliğin değerlerini işlediğinde, giriş dizelerini işleyebilir ve nesne örnekleri döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="eca41-197">With this attribute applied, when a XAML processor handles values of that property, it can process input strings and return object instances.</span></span> <span data-ttu-id="eca41-198">Özellik başına tür dönüştürücüsü tekniği, Microsoft .NET çerçevesinden veya sınıf tanımını denetleyemeyip bir başka kitaplıktan bir özellik türü kullanmayı tercih ediyorsanız yararlıdır <xref:System.ComponentModel.TypeConverterAttribute> .</span><span class="sxs-lookup"><span data-stu-id="eca41-198">The per-property type converter technique is useful if you choose to use a property type from Microsoft .NET Framework or from some other library where you cannot control the class definition and cannot apply a <xref:System.ComponentModel.TypeConverterAttribute> there.</span></span>

<span data-ttu-id="eca41-199">Özel bir ekli üye için tür dönüştürme davranışı sağlamak için, <xref:System.ComponentModel.TypeConverterAttribute> `Get` ekli üye için uygulama deseninin erişimci metoduna uygulayın.</span><span class="sxs-lookup"><span data-stu-id="eca41-199">To supply a type conversion behavior for a custom attached member, apply <xref:System.ComponentModel.TypeConverterAttribute> to the `Get` accessor method of the implementation pattern for the attached member.</span></span>

## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="eca41-200">Biçimlendirme Uzantısı uygulamasından hizmet sağlayıcı bağlamına erişme</span><span class="sxs-lookup"><span data-stu-id="eca41-200">Accessing Service Provider Context from a Markup Extension Implementation</span></span>

<span data-ttu-id="eca41-201">Kullanılabilir hizmetler herhangi bir değer Dönüştürücüsü için aynıdır.</span><span class="sxs-lookup"><span data-stu-id="eca41-201">The available services are the same for any value converter.</span></span> <span data-ttu-id="eca41-202">Fark, her bir değer dönüştürücünün hizmet bağlamını nasıl aldığına ilişkin farktır.</span><span class="sxs-lookup"><span data-stu-id="eca41-202">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="eca41-203">Hizmetlere ve kullanılabilir hizmetlere erişme, [xaml Için biçimlendirme uzantıları ve biçimlendirme uzantıları](type-converters-and-markup-extensions.md)konu başlığı altında belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="eca41-203">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions.md).</span></span>

## <a name="type-converters-in-the-xaml-node-stream"></a><span data-ttu-id="eca41-204">XAML düğüm akışında tür dönüştürücüler</span><span class="sxs-lookup"><span data-stu-id="eca41-204">Type Converters in the XAML Node Stream</span></span>

<span data-ttu-id="eca41-205">XAML düğüm akışıyla çalışıyorsanız, bir tür dönüştürücüsünün eylemi veya nihai sonucu henüz yürütülmemiştir.</span><span class="sxs-lookup"><span data-stu-id="eca41-205">If you are working with a XAML node stream, the action or end result of a type converter is not yet executed.</span></span> <span data-ttu-id="eca41-206">Yükleme yolunda, son olarak, yüklenecek öznitelik dizesinin bir başlangıç üyesi ve bitiş üyesi içinde metin değeri olarak kalması gerekir.</span><span class="sxs-lookup"><span data-stu-id="eca41-206">In a load path, the attribute string that eventually needs to be type-converted in order to load remains as a text value within a start member and end member.</span></span> <span data-ttu-id="eca41-207">Bu işlem için sonunda gereken tür dönüştürücüsü, özelliği kullanılarak belirlenebilir <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="eca41-207">The type converter that is eventually needed for this operation can be determined by using the <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="eca41-208">Ancak, öğesinden geçerli bir değer elde etmek, <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> Bu tür bilgilere temel üye aracılığıyla erişebilen veya üyenin kullandığı nesne değerinin türü olan xaml şema bağlamına sahip olur.</span><span class="sxs-lookup"><span data-stu-id="eca41-208">However, obtaining a valid value from <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> relies on having a XAML schema context, which can access such information through the underlying member, or the type of the object value that the member uses.</span></span> <span data-ttu-id="eca41-209">Tür dönüştürme davranışının çağrılması, tür eşlemesi gerektirdiğinden ve bir dönüştürücü örneği oluştururken XAML şeması bağlamını de gerektirir.</span><span class="sxs-lookup"><span data-stu-id="eca41-209">Invoking the type conversion behavior also requires the XAML schema context because that requires type-mapping and creating a converter instance.</span></span>

## <a name="see-also"></a><span data-ttu-id="eca41-210">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="eca41-210">See also</span></span>

- <xref:System.ComponentModel.TypeConverterAttribute>
- [<span data-ttu-id="eca41-211">XAML İçin Tür Dönüştürücüleri ve İşaretleme Uzantıları</span><span class="sxs-lookup"><span data-stu-id="eca41-211">Type Converters and Markup Extensions for XAML</span></span>](type-converters-and-markup-extensions.md)
- [<span data-ttu-id="eca41-212">XAML'ye Genel Bakış (WPF)</span><span class="sxs-lookup"><span data-stu-id="eca41-212">XAML Overview (WPF)</span></span>](../fundamentals/xaml.md)
