---
title: Nesne materialization (WCF Veri Hizmetleri)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, querying
ms.assetid: f0dbf7b0-0292-4e31-9ae4-b98288336dc1
ms.openlocfilehash: 68b04ac59d1b73d6e66a5a7836ce1bfe30d9c681
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/12/2019
ms.locfileid: "73975186"
---
# <a name="object-materialization-wcf-data-services"></a><span data-ttu-id="1c6ed-102">Nesne materialization (WCF Veri Hizmetleri)</span><span class="sxs-lookup"><span data-stu-id="1c6ed-102">Object Materialization (WCF Data Services)</span></span>

<span data-ttu-id="1c6ed-103">.NET Framework tabanlı bir istemci uygulamasında açık veri Protokolü (OData) akışını tüketmek için **hizmet başvurusu Ekle** iletişim kutusunu kullandığınızda, akış tarafından kullanıma sunulan veri modelindeki her bir varlık türü için eşdeğer veri sınıfları oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-103">When you use the **Add Service Reference** dialog to consume an Open Data Protocol (OData) feed in a .NET Framework-based client application, equivalent data classes are generated for each entity type in the data model exposed by the feed.</span></span> <span data-ttu-id="1c6ed-104">Daha fazla bilgi için bkz. [veri hizmeti Istemci kitaplığı oluşturma](generating-the-data-service-client-library-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c6ed-104">For more information, see [Generating the Data Service Client Library](generating-the-data-service-client-library-wcf-data-services.md).</span></span> <span data-ttu-id="1c6ed-105">Bir sorgu tarafından döndürülen varlık verileri, bu oluşturulan istemci veri hizmeti sınıflarından birinin bir örneğine getirilir.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-105">Entity data that is returned by a query is materialized into an instance of one of these generated client data service classes.</span></span> <span data-ttu-id="1c6ed-106">İzlenen nesneler için birleştirme seçenekleri ve kimlik çözümlemesi hakkında daha fazla bilgi için bkz. [veri hizmeti bağlamını yönetme](managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c6ed-106">For information about merge options and identity resolution for tracked objects, see [Managing the Data Service Context](managing-the-data-service-context-wcf-data-services.md).</span></span>

[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="1c6ed-107">, araç tarafından oluşturulan veri sınıflarını kullanmak yerine kendi istemci veri hizmeti sınıflarınızı tanımlamanızı da sağlar.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-107">also enables you to define your own client data service classes rather than using the tool-generated data classes.</span></span> <span data-ttu-id="1c6ed-108">Bu, "düz eski CLR nesnesi" (POCO) veri sınıfları olarak da bilinen kendi veri sınıflarınızı kullanmanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-108">This enables you to use your own data classes, also known as "plain-old CLR object" (POCO) data classes.</span></span> <span data-ttu-id="1c6ed-109">Bu tür özel veri sınıflarını kullanırken, veri sınıfını <xref:System.Data.Services.Common.DataServiceKeyAttribute> veya <xref:System.Data.Services.Common.DataServiceEntityAttribute> ile özniteleyebilir ve istemcideki tür adlarının veri hizmetinin veri modelindeki tür adlarıyla eşleştiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-109">When using these types of custom data classes, you should attribute the data class with either <xref:System.Data.Services.Common.DataServiceKeyAttribute> or <xref:System.Data.Services.Common.DataServiceEntityAttribute> and ensure that type names on the client match type names in the data model of the data service.</span></span>

<span data-ttu-id="1c6ed-110">Kitaplık sorgu yanıt iletisini aldıktan sonra, OData akışından döndürülen verileri sorgu türünde olan istemci veri hizmeti sınıflarının örneklerine çıkarır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-110">After the library receives the query response message, it materializes the returned data from the OData feed into instances of client data service classes that are of the type of the query.</span></span> <span data-ttu-id="1c6ed-111">Bu nesneleri üreten genel süreç aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="1c6ed-111">The general process for materializing these objects is as follows:</span></span>

1. <span data-ttu-id="1c6ed-112">İstemci kitaplığı, yanıt iletisi akışındaki `entry` öğeden serileştirilmiş türü okur ve aşağıdaki yollarla doğru türün yeni bir örneğini oluşturmaya çalışır:</span><span class="sxs-lookup"><span data-stu-id="1c6ed-112">The client library reads the serialized type from the `entry` element in the response message feed and attempts to create a new instance of the correct type, in one of the following ways:</span></span>

    - <span data-ttu-id="1c6ed-113">Akışta bildirildiği tür <xref:System.Data.Services.Client.DataServiceQuery%601>türüyle aynı ada sahip olduğunda, bu türün yeni bir örneği boş Oluşturucu kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-113">When the type declared in the feed has the same name as the type of the <xref:System.Data.Services.Client.DataServiceQuery%601>, a new instance of this type is created by using the empty constructor.</span></span>

    - <span data-ttu-id="1c6ed-114">Akışta bildirildiği tür, <xref:System.Data.Services.Client.DataServiceQuery%601>türünden türetilmiş bir türle aynı ada sahip olduğunda, bu türetilmiş türün yeni bir örneği boş Oluşturucu kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-114">When the type declared in the feed has the same name as a type that is derived from the type of the <xref:System.Data.Services.Client.DataServiceQuery%601>, a new instance of this derived type is created by using the empty constructor.</span></span>

    - <span data-ttu-id="1c6ed-115">Akışta belirtilen tür <xref:System.Data.Services.Client.DataServiceQuery%601> veya herhangi bir türetilmiş tür türüyle eşleştirilemezse, sorgulanan türün yeni bir örneği boş Oluşturucu kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-115">When the type declared in the feed cannot be matched to the type of the <xref:System.Data.Services.Client.DataServiceQuery%601> or any derived types, a new instance of the queried type is created by using the empty constructor.</span></span>

    - <span data-ttu-id="1c6ed-116"><xref:System.Data.Services.Client.DataServiceContext.ResolveType%2A> özelliği ayarlandığında, sağlanan temsilci varsayılan ad tabanlı tür eşlemesini geçersiz kılmak için çağrılır ve bunun yerine <xref:System.Func%602> tarafından döndürülen türün yeni bir örneği oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-116">When the <xref:System.Data.Services.Client.DataServiceContext.ResolveType%2A> property is set, the supplied delegate is called to override the default name-based type mapping and a new instance of the type returned by the <xref:System.Func%602> is created instead.</span></span> <span data-ttu-id="1c6ed-117">Bu temsilci null değer döndürürse, bunun yerine sorgulanan türün yeni bir örneği oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-117">If this delegate returns a null value, a new instance of the queried type is created instead.</span></span> <span data-ttu-id="1c6ed-118">Devralma senaryolarını desteklemek için varsayılan ad tabanlı tür adı eşlemesini geçersiz kılmak gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-118">It may be required to override the default name-based type name mapping to support inheritance scenarios.</span></span>

2. <span data-ttu-id="1c6ed-119">İstemci kitaplığı, varlığın kimlik değeri olan `entry``id` öğeden URI değerini okur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-119">The client library reads the URI value from the `id` element of the `entry`, which is the identity value of the entity.</span></span> <span data-ttu-id="1c6ed-120"><xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> bir <xref:System.Data.Services.Client.MergeOption.NoTracking> değeri kullanılmamışsa, kimlik değeri <xref:System.Data.Services.Client.DataServiceContext>nesneyi izlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-120">Unless a <xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> value of <xref:System.Data.Services.Client.MergeOption.NoTracking> is used, the identity value is used to track the object in the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c6ed-121">Kimlik değeri, bir varlık sorgu yanıtında birden çok kez döndürüldüğünde bile yalnızca tek bir varlık örneğinin oluşturulmasını sağlamak için de kullanılır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-121">The identity value is also used to guarantee that only a single entity instance is created, even when an entity is returned multiple times in the query response.</span></span>

3. <span data-ttu-id="1c6ed-122">İstemci kitaplığı, akış girdisinden özellikleri okur ve yeni oluşturulan nesnede karşılık gelen özellikleri ayarlar.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-122">The client library reads properties from the feed entry and set the corresponding properties on the newly created object.</span></span> <span data-ttu-id="1c6ed-123">Aynı kimlik değerine sahip bir nesne <xref:System.Data.Services.Client.DataServiceContext>zaten gerçekleşirse özellikler, <xref:System.Data.Services.Client.DataServiceContext><xref:System.Data.Services.Client.MergeOption> ayarına göre ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-123">When an object that has the same identity value already occurs in the <xref:System.Data.Services.Client.DataServiceContext>, the properties are set based on the <xref:System.Data.Services.Client.MergeOption> setting of the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c6ed-124">Yanıt, karşılık gelen bir özelliğin istemci türünde gerçekleşmeyeceği özellik değerlerini içerebilir.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-124">The response might contain property values for which a corresponding property does not occur in the client type.</span></span> <span data-ttu-id="1c6ed-125">Bu gerçekleştiğinde, eylem <xref:System.Data.Services.Client.DataServiceContext><xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> özelliğinin değerine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-125">When this occurs, the action depends on the value of the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c6ed-126">Bu özellik `true`olarak ayarlandığında, eksik özellik yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-126">When this property is set to `true`, the missing property is ignored.</span></span> <span data-ttu-id="1c6ed-127">Aksi takdirde bir hata oluşur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-127">Otherwise, an error is raised.</span></span> <span data-ttu-id="1c6ed-128">Özellikler aşağıdaki gibi ayarlanır:</span><span class="sxs-lookup"><span data-stu-id="1c6ed-128">Properties are set as follows:</span></span>

    - <span data-ttu-id="1c6ed-129">Skalar özellikler, yanıt iletisindeki girişte karşılık gelen değere ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-129">Scalar properties are set to the corresponding value in the entry in the response message.</span></span>

    - <span data-ttu-id="1c6ed-130">Karmaşık özellikler, yanıttan karmaşık türün özellikleriyle ayarlanan yeni bir karmaşık tür örneğine ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-130">Complex properties are set to a new complex type instance, which are set with the properties of the complex type from the response.</span></span>

    - <span data-ttu-id="1c6ed-131">İlgili varlıkların bir koleksiyonunu döndüren gezinti özellikleri yeni veya mevcut bir <xref:System.Collections.Generic.ICollection%601>örneğine ayarlanır; burada `T` ilgili varlığın türüdür.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-131">Navigation properties that return a collection of related entities are set to a new or existing instance of <xref:System.Collections.Generic.ICollection%601>, where `T` is the type of the related entity.</span></span> <span data-ttu-id="1c6ed-132">İlgili nesneler <xref:System.Data.Services.Client.DataServiceContext>yüklenmediği takdirde bu koleksiyon boştur.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-132">This collection is empty unless the related objects have been loaded into the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c6ed-133">Daha fazla bilgi için bkz. [ertelenmiş Içerik yükleme](loading-deferred-content-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c6ed-133">For more information, see [Loading Deferred Content](loading-deferred-content-wcf-data-services.md).</span></span>

      > [!NOTE]
      > <span data-ttu-id="1c6ed-134">Oluşturulan istemci veri sınıfları veri bağlamayı destekledikleri zaman, gezinti özellikleri bunun yerine <xref:System.Data.Services.Client.DataServiceCollection%601> sınıfının örneklerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-134">When the generated client data classes support data binding, navigation properties return instances of the <xref:System.Data.Services.Client.DataServiceCollection%601> class instead.</span></span> <span data-ttu-id="1c6ed-135">Daha fazla bilgi için bkz. [verileri denetimlere bağlama](binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c6ed-135">For more information, see [Binding Data to Controls](binding-data-to-controls-wcf-data-services.md).</span></span>

4. <span data-ttu-id="1c6ed-136"><xref:System.Data.Services.Client.DataServiceContext.ReadingEntity> olay tetiklenir.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-136">The <xref:System.Data.Services.Client.DataServiceContext.ReadingEntity> event is raised.</span></span>

5. <span data-ttu-id="1c6ed-137">İstemci kitaplığı, nesneyi <xref:System.Data.Services.Client.DataServiceContext>iliştirir.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-137">The client library attaches the object to the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c6ed-138"><xref:System.Data.Services.Client.MergeOption> <xref:System.Data.Services.Client.MergeOption.NoTracking>nesne eklenmez.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-138">The object is not attached when the <xref:System.Data.Services.Client.MergeOption> is <xref:System.Data.Services.Client.MergeOption.NoTracking>.</span></span>

## <a name="see-also"></a><span data-ttu-id="1c6ed-139">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="1c6ed-139">See also</span></span>

- [<span data-ttu-id="1c6ed-140">Veri Hizmetini Sorgulama</span><span class="sxs-lookup"><span data-stu-id="1c6ed-140">Querying the Data Service</span></span>](querying-the-data-service-wcf-data-services.md)
- [<span data-ttu-id="1c6ed-141">Sorgu Projeksiyonları</span><span class="sxs-lookup"><span data-stu-id="1c6ed-141">Query Projections</span></span>](query-projections-wcf-data-services.md)
