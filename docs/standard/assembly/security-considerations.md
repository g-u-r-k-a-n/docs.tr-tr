---
title: Derleme güvenliği hakkında dikkate alınması gerekenler
description: Bir .NET derlemesi oluştururken, derlemenin çalışması için gereken izinleri belirtebilirsiniz. Bu makalede, tanımlayıcı adlı derlemeler ve imzalama araçları ele alınmaktadır.
ms.date: 08/20/2019
helpviewer_keywords:
- assemblies [.NET], security
- signcodes
- names [.NET], assemblies
- strong-named assemblies, security considerations
- signing assemblies
- assemblies [.NET], signing
- granting permissions, assemblies
- assemblies [.NET], strong-named
- names [.NET], strong names
- permissions [.NET], assemblies
- security [.NET], assemblies
- integrity with assemblies
ms.assetid: 1b5439c1-f3d5-4529-bd69-01814703d067
ms.openlocfilehash: 91ea206abf80da275651854b9f13aa0116b7a1c5
ms.sourcegitcommit: 279fb6e8d515df51676528a7424a1df2f0917116
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/27/2020
ms.locfileid: "92687270"
---
# <a name="assembly-security-considerations"></a><span data-ttu-id="2be85-104">Derleme güvenliği hakkında dikkate alınması gerekenler</span><span class="sxs-lookup"><span data-stu-id="2be85-104">Assembly security considerations</span></span>

<span data-ttu-id="2be85-105">Bir derleme oluşturduğunuzda, derlemenin çalışması için gereken bir izin kümesi belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2be85-105">When you build an assembly, you can specify a set of permissions that the assembly requires to run.</span></span> <span data-ttu-id="2be85-106">Bir derlemeye belirli izinlerin verilip verilmediği kanıta göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="2be85-106">Whether certain permissions are granted or not granted to an assembly is based on evidence.</span></span>  
  
 <span data-ttu-id="2be85-107">Kanıtın kullanıldığı iki farklı yol vardır:</span><span class="sxs-lookup"><span data-stu-id="2be85-107">There are two distinct ways evidence is used:</span></span>  
  
- <span data-ttu-id="2be85-108">Giriş kanıtı yükleyici tarafından toplanan kanıtla birleştirilerek ilke çözümlemesi için kullanılacak olan son kanıt kümesini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="2be85-108">The input evidence is merged with the evidence gathered by the loader to create a final set of evidence used for policy resolution.</span></span> <span data-ttu-id="2be85-109">Bu anlam kullanan Yöntemler **Assembly. Load** , **Assembly. LoadFrom** ve **Etkinleştirici. CreateInstance** ' yı içerir.</span><span class="sxs-lookup"><span data-stu-id="2be85-109">The methods that use this semantic include **Assembly.Load** , **Assembly.LoadFrom** , and **Activator.CreateInstance** .</span></span>  
  
- <span data-ttu-id="2be85-110">Giriş kanıtı, ilke çözümlemesi için kullanılan son kanıt kümesi olarak değiştirilmeden kullanılır.</span><span class="sxs-lookup"><span data-stu-id="2be85-110">The input evidence is used unaltered as the final set of evidence used for policy resolution.</span></span> <span data-ttu-id="2be85-111">Bu anlam kullanan Yöntemler **Assembly. Load (Byte [])** ve **AppDomain. DefineDynamicAssembly ()** içerir.</span><span class="sxs-lookup"><span data-stu-id="2be85-111">The methods that use this semantic include **Assembly.Load(byte[])** and **AppDomain.DefineDynamicAssembly()** .</span></span>  
  
  <span data-ttu-id="2be85-112">İsteğe bağlı izinler, derlemenin çalışacağı bilgisayarda ayarlanan [güvenlik ilkesi](../../framework/misc/code-access-security-basics.md) tarafından verilebilir.</span><span class="sxs-lookup"><span data-stu-id="2be85-112">Optional permissions can be granted by the [security policy](../../framework/misc/code-access-security-basics.md) set on the computer where the assembly will run.</span></span> <span data-ttu-id="2be85-113">Kodunuzun tüm olası güvenlik özel durumlarını işlemesini istiyorsanız, aşağıdakilerden birini yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="2be85-113">If you want your code to handle all potential security exceptions, you can do one of the following:</span></span>  
  
- <span data-ttu-id="2be85-114">Kodunuzun sahip olması gereken tüm izinler için bir izin isteği ekleyin ve izinler verilmezse gerçekleşecek yükleme zamanı hatasını önden işleyin.</span><span class="sxs-lookup"><span data-stu-id="2be85-114">Insert a permission request for all the permissions your code must have, and handle up front the load-time failure that occurs if the permissions are not granted.</span></span>  
  
- <span data-ttu-id="2be85-115">Kodunuzun ihtiyacı olabilecek izinleri almak için bir izin isteği kullanmayın, ancak izinler verilmezse oluşacak güvenlik özel durumlarını işlemeye hazır olun.</span><span class="sxs-lookup"><span data-stu-id="2be85-115">Do not use a permission request to obtain permissions your code might need, but be prepared to handle security exceptions if permissions are not granted.</span></span>  
  
  > [!NOTE]
  > <span data-ttu-id="2be85-116">Güvenlik karmaşık bir alandır ve pek çok seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="2be85-116">Security is a complex area, and you have many options to choose from.</span></span> <span data-ttu-id="2be85-117">Daha fazla bilgi için bkz. [temel güvenlik kavramları](../security/key-security-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="2be85-117">For more information, see [Key Security Concepts](../security/key-security-concepts.md).</span></span>  
  
 <span data-ttu-id="2be85-118">Yükleme zamanında derlemenin kanıtı güvenlik ilkesine giriş olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="2be85-118">At load time, the assembly's evidence is used as input to security policy.</span></span> <span data-ttu-id="2be85-119">Güvenlik ilkesi, kuruluş ve bilgisayar yöneticisinin yanı sıra kullanıcı ilke ayarları tarafından belirlenir ve yürütüldüklerinde tüm yönetilen kodlara verilen izinler kümesini belirler.</span><span class="sxs-lookup"><span data-stu-id="2be85-119">Security policy is established by the enterprise and the computer's administrator as well as by user policy settings, and determines the set of permissions that is granted to all managed code when executed.</span></span> <span data-ttu-id="2be85-120">Güvenlik ilkesi derlemenin yayımcısı için (imzalama aracıyla oluşturulmuş bir imzaya sahipse), derlemenin indirildiği Web sitesi ve bölge için (Internet Explorer terimiyle) veya derlemenin tanımlayıcı adı için belirlenebilir.</span><span class="sxs-lookup"><span data-stu-id="2be85-120">Security policy can be established for the publisher of the assembly (if it has a signing tool generated signature), for the Web site and zone (in Internet Explorer terms) the assembly was downloaded from, or for the assembly's strong name.</span></span> <span data-ttu-id="2be85-121">Örneğin bir bilgisayarın yöneticisi, bir Web sitesinden indirilen ve belirli bir yazılım şirketi tarafından imzalanan tüm kodların bir bilgisayardaki veritabanına erişmesine izin veren, ancak bilgisayarın diskine yazmasına izin vermeyen bir güvenlik ilkesi belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="2be85-121">For example, a computer's administrator can establish security policy that allows all code downloaded from a Web site and signed by a given software company to access a database on a computer, but does not grant access to write to the computer's disk.</span></span>  
  
## <a name="strong-named-assemblies-and-signing-tools"></a><span data-ttu-id="2be85-122">Tanımlayıcı adlı derlemeler ve imzalama araçları</span><span class="sxs-lookup"><span data-stu-id="2be85-122">Strong-named assemblies and signing tools</span></span>  

 > [!WARNING]
 > <span data-ttu-id="2be85-123">Güvenlik için tanımlayıcı adlara güvenmeyin.</span><span class="sxs-lookup"><span data-stu-id="2be85-123">Do not rely on strong names for security.</span></span> <span data-ttu-id="2be85-124">Yalnızca benzersiz bir kimlik sağlarlar.</span><span class="sxs-lookup"><span data-stu-id="2be85-124">They provide a unique identity only.</span></span>

 <span data-ttu-id="2be85-125">Bir derlemeyi iki farklı ancak tamamlayıcı şekilde imzalayabilirsiniz: bir tanımlayıcı ad ile veya  [SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md)kullanarak.</span><span class="sxs-lookup"><span data-stu-id="2be85-125">You can sign an assembly in two different but complementary ways: with a strong name or by using  [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md).</span></span> <span data-ttu-id="2be85-126">Bir derlemeyi güçlü bir adla imzalamak, derleme bildirimini içeren dosyaya ortak anahtar şifrelemesi ekler.</span><span class="sxs-lookup"><span data-stu-id="2be85-126">Signing an assembly with a strong name adds public key encryption to the file containing the assembly manifest.</span></span> <span data-ttu-id="2be85-127">Tanımlayıcı ad imzalaması ad benzersizliğini doğrulamaya, ad sahtekarlığını önlemeye ve bir referans çözüldüğünde çağıranlara kimlik sağlamaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="2be85-127">Strong name signing helps to verify name uniqueness, prevent name spoofing, and provide callers with some identity when a reference is resolved.</span></span>  
  
 <span data-ttu-id="2be85-128">[SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md) önemli olan bir tanımlayıcı ad ile ilişkili güven düzeyi yoktur.</span><span class="sxs-lookup"><span data-stu-id="2be85-128">No level of trust is associated with a strong name, which makes [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) important.</span></span> <span data-ttu-id="2be85-129">İki imzalama aracı, bir yayımcının kimliğini üçüncü taraf bir yetkiliye kanıtlamasını ve bir sertifika almasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2be85-129">The two signing tools require a publisher to prove its identity to a third-party authority and obtain a certificate.</span></span> <span data-ttu-id="2be85-130">Bu sertifika ardından dosyanıza katıştırılır ve bir yönetici tarafından kodunuzun orijinalliğine güvenip güvenmemeye karar vermek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="2be85-130">This certificate is then embedded in your file and can be used by an administrator to decide whether to trust the code's authenticity.</span></span>  
  
 <span data-ttu-id="2be85-131">Bir derlemeye [SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md) kullanarak hem tanımlayıcı ad hem de dijital imzaya sahip olabilirsiniz veya tek başına kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2be85-131">You can give both a strong name and a digital signature created using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) to an assembly, or you can use either alone.</span></span> <span data-ttu-id="2be85-132">İki imzalama aracı aynı anda yalnızca tek bir dosya imzalayabilir; bir çoklu dosya derlemesi için derleme bildirimini içeren dosyayı imzalarsınız.</span><span class="sxs-lookup"><span data-stu-id="2be85-132">The two signing tools can sign only one file at a time; for a multifile assembly, you sign the file that contains the assembly manifest.</span></span> <span data-ttu-id="2be85-133">Tanımlayıcı ad, derleme bildirimini içeren dosyada depolanır, ancak [SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md) kullanılarak oluşturulan imza, derleme bildirimini içeren taşınabilir ÇALıŞTıRıLABILIR (PE) dosyasında ayrılmış bir yuvaya depolanır.</span><span class="sxs-lookup"><span data-stu-id="2be85-133">A strong name is stored in the file containing the assembly manifest, but a signature created using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) is stored in a reserved slot in the portable executable (PE) file containing the assembly manifest.</span></span> <span data-ttu-id="2be85-134">[SignTool.exe (](../../framework/tools/signtool-exe.md) imza aracı) kullanan bir derlemeyi imzalamak, zaten [SignTool.exe (imza aracı)](../../framework/tools/signtool-exe.md) tarafından oluşturulan imzaları kullanan bir güven hiyerarşiniz varsa veya ilkeniz yalnızca anahtar kısmını kullandığında ve bir güven zinciri denetlemeden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="2be85-134">Signing of an assembly using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) can be used (with or without a strong name) when you already have a trust hierarchy that relies on [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) generated signatures, or when your policy uses only the key portion and does not check a chain of trust.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2be85-135">Bir derleme üzerinde hem tanımlayıcı ad hem de bir imzalama aracı imzası kullanırken, tanımlayıcı ad önce atanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2be85-135">When using both a strong name and a signing tool signature on an assembly, the strong name must be assigned first.</span></span>  
  
 <span data-ttu-id="2be85-136">Ortak dil çalışma zamanı bir karma doğrulaması da gerçekleştirir; derleme bildirimi derlemeyi oluşturan tüm dosyaların listesini, her dosyanın bildirim oluşturulduğu zamanki karması ile birlikte içerir.</span><span class="sxs-lookup"><span data-stu-id="2be85-136">The common language runtime also performs a hash verification; the assembly manifest contains a list of all files that make up the assembly, including a hash of each file as it existed when the manifest was built.</span></span> <span data-ttu-id="2be85-137">Dosyaların her biri yüklenirken, içindekilerin karması alınır ve bildirimde saklanan karma değeriyle karşılaştırılır.</span><span class="sxs-lookup"><span data-stu-id="2be85-137">As each file is loaded, its contents are hashed and compared with the hash value stored in the manifest.</span></span> <span data-ttu-id="2be85-138">Eğer iki karma eşleşmezse, derleme yüklemesi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="2be85-138">If the two hashes do not match, the assembly fails to load.</span></span>  
  
 <span data-ttu-id="2be85-139">[SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md) kullanarak tanımlayıcı adlandırma ve imzalama tutarlılığı garanti ettiğinden, bu iki derleme bulgusunda kod erişimi güvenlik ilkesi temel alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2be85-139">Because strong naming and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) guarantee integrity, you can base code access security policy on these two forms of assembly evidence.</span></span> <span data-ttu-id="2be85-140">[SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md) kullanarak güçlü adlandırma ve imzalama, dijital imzalar ve sertifikalar aracılığıyla bütünlüğü garanti eder.</span><span class="sxs-lookup"><span data-stu-id="2be85-140">Strong naming and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) guarantee integrity through digital signatures and certificates.</span></span> <span data-ttu-id="2be85-141">Belirtilen tüm teknolojiler (karma doğrulama, tanımlayıcı adlandırma ve [SignTool.exe (Imza aracı)](../../framework/tools/signtool-exe.md)kullanarak imzalama), derlemenin herhangi bir şekilde değiştirilmediğinden emin olmak için birlikte çalışır.</span><span class="sxs-lookup"><span data-stu-id="2be85-141">All the technologies mentioned—hash verification, strong naming, and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md)—work together to ensure that the assembly has not been altered in any way.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2be85-142">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="2be85-142">See also</span></span>

- [<span data-ttu-id="2be85-143">Tanımlayıcı adlandırılmış derlemeler</span><span class="sxs-lookup"><span data-stu-id="2be85-143">Strong-named assemblies</span></span>](strong-named.md)
- [<span data-ttu-id="2be85-144">.NET’te bütünleştirilmiş kodlar</span><span class="sxs-lookup"><span data-stu-id="2be85-144">Assemblies in .NET</span></span>](index.md)
- [<span data-ttu-id="2be85-145">SignTool.exe (Imza aracı)</span><span class="sxs-lookup"><span data-stu-id="2be85-145">SignTool.exe (Sign Tool)</span></span>](../../framework/tools/signtool-exe.md)
