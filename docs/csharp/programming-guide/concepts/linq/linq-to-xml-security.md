---
title: LINQ' dan XML Security'ye (C#)
ms.date: 07/20/2015
ms.assetid: ef2c0dc9-ecf9-4c17-b24e-144184ab725f
ms.openlocfilehash: 5b7eb815b058cba008f1db2cf683c8934c19b743
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "73423370"
---
# <a name="linq-to-xml-security-c"></a><span data-ttu-id="8f81c-102">LINQ' dan XML Security'ye (C#)</span><span class="sxs-lookup"><span data-stu-id="8f81c-102">LINQ to XML Security (C#)</span></span>
<span data-ttu-id="8f81c-103">Bu konu, LINQ ile XML ile ilişkili güvenlik sorunlarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="8f81c-103">This topic describes security issues associated with LINQ to XML.</span></span> <span data-ttu-id="8f81c-104">Buna ek olarak, güvenlik maruziyetini hafifletmek için bazı kılavuzlar sağlar.</span><span class="sxs-lookup"><span data-stu-id="8f81c-104">In addition, it provides some guidance for mitigating security exposure.</span></span>  
  
## <a name="linq-to-xml-security-overview"></a><span data-ttu-id="8f81c-105">LINQ - XML Güvenlik Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="8f81c-105">LINQ to XML Security Overview</span></span>  
 <span data-ttu-id="8f81c-106">LINQ to XML, sıkı güvenlik gereksinimleriolan sunucu tarafındaki uygulamalardan çok programlama kolaylığı için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-106">LINQ to XML is designed more for programming convenience than for server-side applications with stringent security requirements.</span></span> <span data-ttu-id="8f81c-107">Çoğu XML senaryosu, sunucuya yüklenen güvenilmeyen XML belgelerini işlemek yerine güvenilir XML belgelerini işlemekten oluşur.</span><span class="sxs-lookup"><span data-stu-id="8f81c-107">Most XML scenarios consist of processing trusted XML documents, rather than processing untrusted XML documents that are uploaded to a server.</span></span> <span data-ttu-id="8f81c-108">LINQ xml bu senaryolar için optimize edilsin.</span><span class="sxs-lookup"><span data-stu-id="8f81c-108">LINQ to XML is optimized for these scenarios.</span></span>  
  
 <span data-ttu-id="8f81c-109">Bilinmeyen kaynaklardan gelen güvenilmeyen verileri işlemeniz gerekiyorsa, Microsoft bilinen <xref:System.Xml.XmlReader> XML hizmet reddi (DoS) saldırılarını filtrelemek için yapılandırılan sınıfın bir örneğini kullanmanızı önerir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-109">If you must process untrusted data from unknown sources, Microsoft recommends that you use an instance of the <xref:System.Xml.XmlReader> class that has been configured to filter out known XML denial of service (DoS) attacks.</span></span>  
  
 <span data-ttu-id="8f81c-110">Hizmet reddi saldırılarını <xref:System.Xml.XmlReader> azaltmak için bir yapıya sahipseniz, bu okuyucuyu bir LINQ'u XML ağacına doldurmak ve linq'in XML'e programlayıcı üretkenlik geliştirmelerinden yararlanmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-110">If you have configured an <xref:System.Xml.XmlReader> to mitigate denial of service attacks, you can use that reader to populate a LINQ to XML tree and still benefit from the programmer productivity enhancements of LINQ to XML.</span></span> <span data-ttu-id="8f81c-111">Birçok azaltma tekniği, güvenlik sorununu azaltmak için yapılandırılan okuyucular oluşturmayı ve sonra yapılandırılmış okuyucu aracılığıyla bir XML ağacını anında oluşturmayı içerir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-111">Many mitigation techniques involve creating readers that are configured to mitigate the security issue, and then instantiating an XML tree through the configured reader.</span></span>  
  
 <span data-ttu-id="8f81c-112">Belgelerin boyutu, derinliği, öğe adı boyutu ve daha fazlası ile sınırsız olduğundan XML, hizmet reddi saldırılarına karşı özünde savunmasızdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-112">XML is intrinsically vulnerable to denial of service attacks because documents are unbounded in size, depth, element name size, and more.</span></span> <span data-ttu-id="8f81c-113">XML'i işlemek için kullandığınız bileşenden bağımsız olarak, aşırı kaynak kullanıyorsa uygulama etki alanını geri dönüştürmeye her zaman hazırlıklı olmalısınız.</span><span class="sxs-lookup"><span data-stu-id="8f81c-113">Regardless of the component that you use to process XML, you should always be prepared to recycle the application domain if it uses excessive resources.</span></span>  
  
## <a name="mitigation-of-xml-xsd-xpath-and-xslt-attacks"></a><span data-ttu-id="8f81c-114">XML, XSD, XPath ve XSLT Saldırılarının azaltılması</span><span class="sxs-lookup"><span data-stu-id="8f81c-114">Mitigation of XML, XSD, XPath, and XSLT Attacks</span></span>  
 <span data-ttu-id="8f81c-115">LinQ XML üzerine <xref:System.Xml.XmlReader> inşa <xref:System.Xml.XmlWriter>edilmiş ve .</span><span class="sxs-lookup"><span data-stu-id="8f81c-115">LINQ to XML is built upon <xref:System.Xml.XmlReader> and <xref:System.Xml.XmlWriter>.</span></span> <span data-ttu-id="8f81c-116">LINQ xml ve <xref:System.Xml.Schema?displayProperty=nameWithType> <xref:System.Xml.XPath?displayProperty=nameWithType> ad boşluklarında uzantı yöntemleri ile XSD ve XPath destekler.</span><span class="sxs-lookup"><span data-stu-id="8f81c-116">LINQ to XML supports XSD and XPath through extension methods in the <xref:System.Xml.Schema?displayProperty=nameWithType> and <xref:System.Xml.XPath?displayProperty=nameWithType> namespaces.</span></span> <span data-ttu-id="8f81c-117">LINQ <xref:System.Xml.XmlReader> <xref:System.Xml.XPath.XPathNavigator>ile <xref:System.Xml.XmlWriter> XML ile birlikte , ve sınıfları kullanarak, XML ağaçlarını dönüştürmek için XSLT'yi çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-117">Using the <xref:System.Xml.XmlReader>, <xref:System.Xml.XPath.XPathNavigator>, and <xref:System.Xml.XmlWriter> classes in conjunction with LINQ to XML, you can invoke XSLT to transform XML trees.</span></span>  
  
 <span data-ttu-id="8f81c-118">Daha az güvenli bir ortamda çalışıyorsanız, XML ile ilişkili bir dizi güvenlik sorunu ve <xref:System.Xml?displayProperty=nameWithType>sınıfların <xref:System.Xml.XPath?displayProperty=nameWithType>kullanımı <xref:System.Xml.Xsl?displayProperty=nameWithType>, , <xref:System.Xml.Schema?displayProperty=nameWithType>, ve .</span><span class="sxs-lookup"><span data-stu-id="8f81c-118">If you are operating in a less secure environment, there are a number of security issues that are associated with XML and the use of the classes in <xref:System.Xml?displayProperty=nameWithType>, <xref:System.Xml.Schema?displayProperty=nameWithType>, <xref:System.Xml.XPath?displayProperty=nameWithType>, and <xref:System.Xml.Xsl?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8f81c-119">Bu sorunlar şunlardır, ancak bunlarla sınırlı değildir:</span><span class="sxs-lookup"><span data-stu-id="8f81c-119">These issues include, but are not limited to, the following:</span></span>  
  
- <span data-ttu-id="8f81c-120">XSD, XPath ve XSLT, çok fazla zaman veya bellek tüketen işlemleri belirtebileceğiniz dize tabanlı dillerdir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-120">XSD, XPath, and XSLT are string-based languages in which you can specify operations that consume a lot of time or memory.</span></span> <span data-ttu-id="8f81c-121">Dizelerin kötü amaçlı olmadığını doğrulamak veya bu dizeleri değerlendirmenin aşırı sisteme yol açma olasılığını izlemek ve azaltmak için güvenilmeyen kaynaklardan XSD, XPath veya XSLT dizelerini alan uygulama programcılarının sorumluluğundadır. kaynak tüketimi.</span><span class="sxs-lookup"><span data-stu-id="8f81c-121">It is the responsibility of application programmers who take XSD, XPath, or XSLT strings from untrusted sources to validate that the strings are not malicious, or to monitor and mitigate the possibility that evaluating these strings will lead to excessive system resource consumption.</span></span>  
  
- <span data-ttu-id="8f81c-122">XSD şemaları (satır içi şemalar dahil) hizmet reddi saldırılarına karşı doğal olarak savunmasızdır; güvenilir olmayan kaynaklardan şema kabul etmemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-122">XSD schemas (including inline schemas) are inherently vulnerable to denial of service attacks; you should not accept schemas from untrusted sources.</span></span>  
  
- <span data-ttu-id="8f81c-123">XSD ve XSLT diğer dosyalara başvurular içerebilir ve bu tür başvurular bölge ler arası ve etki alanları arası saldırılara neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-123">XSD and XSLT can include references to other files, and such references can result in cross-zone and cross-domain attacks.</span></span>  
  
- <span data-ttu-id="8f81c-124">DTD'ler dış varlıklar çapraz bölge ve etki alanları arası saldırılara neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-124">External entities in DTDs can result in cross-zone and cross-domain attacks.</span></span>  
  
- <span data-ttu-id="8f81c-125">DTD'ler hizmet reddi saldırılarına karşı savunmasızdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-125">DTDs are vulnerable to denial of service attacks.</span></span>  
  
- <span data-ttu-id="8f81c-126">Son derece derin XML belgeleri hizmet reddi sorunları oluşturabilir; XML belgelerinin derinliğini sınırlamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-126">Exceptionally deep XML documents can pose denial of service issues; you might want to limit the depth of XML documents.</span></span>  
  
- <span data-ttu-id="8f81c-127">Güvenilmeyen derlemelerden , , <xref:System.Xml.NameTable> <xref:System.Xml.XmlNamespaceManager>ve <xref:System.Xml.XmlResolver> nesneler gibi destekleyici bileşenleri kabul etmeyin.</span><span class="sxs-lookup"><span data-stu-id="8f81c-127">Do not accept supporting components, such as <xref:System.Xml.NameTable>, <xref:System.Xml.XmlNamespaceManager>, and <xref:System.Xml.XmlResolver> objects, from untrusted assemblies.</span></span>  
  
- <span data-ttu-id="8f81c-128">Büyük belge saldırılarını azaltmak için verileri yığınlar halinde okuyun.</span><span class="sxs-lookup"><span data-stu-id="8f81c-128">Read data in chunks to mitigate large document attacks.</span></span>  
  
- <span data-ttu-id="8f81c-129">XSLT stil sayfalarındaki komut dosyası blokları bir dizi saldırıyı ortaya çıkarabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-129">Script blocks in XSLT style sheets can expose a number of attacks.</span></span>  
  
- <span data-ttu-id="8f81c-130">Dinamik XPath ifadeleri oluşturmadan önce dikkatlice doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="8f81c-130">Validate carefully before constructing dynamic XPath expressions.</span></span>  
  
## <a name="linq-to-xml-security-issues"></a><span data-ttu-id="8f81c-131">LINQ - XML Güvenlik Sorunları</span><span class="sxs-lookup"><span data-stu-id="8f81c-131">LINQ to XML Security Issues</span></span>  
 <span data-ttu-id="8f81c-132">Bu konudaki güvenlik sorunları belirli bir sırada sunulmaz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-132">The security issues in this topic are not presented in any particular order.</span></span> <span data-ttu-id="8f81c-133">Tüm konular önemlidir ve uygun şekilde ele alınmalıdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-133">All issues are important and should be addressed as appropriate.</span></span>  
  
 <span data-ttu-id="8f81c-134">Ayrıcalık saldırısının başarılı bir şekilde yükseltilen bir yükseklik, kötü amaçlı bir derlemeye çevresi üzerinde daha fazla denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="8f81c-134">A successful elevation of privilege attack gives a malicious assembly more control over its environment.</span></span> <span data-ttu-id="8f81c-135">Ayrıcalık saldırısının başarılı bir şekilde yükselmesi verilerin açıklanmasına, hizmet reddine ve daha fazlasında neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-135">A successful elevation of privilege attack can result in disclosure of data, denial of service, and more.</span></span>  
  
 <span data-ttu-id="8f81c-136">Uygulamalar, verileri bu verileri görme yetkisi olmayan kullanıcılara açıklamamalıdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-136">Applications should not disclose data to users who are not authorized to see that data.</span></span>  
  
 <span data-ttu-id="8f81c-137">Hizmet reddi saldırıları, XML parlayıcısının veya LINQ'nin XML'e kadar aşırı miktarda bellek veya CPU süresi tüketmesine neden olur.</span><span class="sxs-lookup"><span data-stu-id="8f81c-137">Denial of service attacks cause the XML parser or LINQ to XML to consume excessive amounts of memory or CPU time.</span></span> <span data-ttu-id="8f81c-138">Hizmet reddi saldırıları, ayrıcalık saldırılarının yükselmesinden veya veri saldırılarının açıklanmasından daha az şiddetli olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-138">Denial of service attacks are considered to be less severe than elevation of privilege attacks or disclosure of data attacks.</span></span> <span data-ttu-id="8f81c-139">Ancak, bir sunucunun XML belgelerini güvenilmeyen kaynaklardan işlemesi gereken bir senaryoda önemlidir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-139">However, they are important in a scenario where a server needs to process XML documents from untrusted sources.</span></span>  
  
### <a name="exceptions-and-error-messages-might-reveal-data"></a><span data-ttu-id="8f81c-140">Özel Durumlar ve Hata İletileri Verileri Ortaya Çıkarabilir</span><span class="sxs-lookup"><span data-stu-id="8f81c-140">Exceptions and Error Messages Might Reveal Data</span></span>  
 <span data-ttu-id="8f81c-141">Bir hatanın açıklaması, dönüştürülen veriler, dosya adları veya uygulama ayrıntıları gibi verileri ortaya çıkarabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-141">The description of an error might reveal data, such as the data being transformed, file names, or implementation details.</span></span> <span data-ttu-id="8f81c-142">Hata iletileri güvenilmeyen arayanlara maruz kalınmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-142">Error messages should not be exposed to callers that are not trusted.</span></span> <span data-ttu-id="8f81c-143">Tüm hataları yakalamalı ve kendi özel hata iletilerinizle hataları bildirmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-143">You should catch all errors and report errors with your own custom error messages.</span></span>  
  
### <a name="do-not-call-codeaccesspermissionsassert-in-an-event-handler"></a><span data-ttu-id="8f81c-144">CodeAccessPermissions'u Aramayın.Bir Olay İşleyicisinde Öne Sür</span><span class="sxs-lookup"><span data-stu-id="8f81c-144">Do Not Call CodeAccessPermissions.Assert in an Event Handler</span></span>  
 <span data-ttu-id="8f81c-145">Bir derlemenin daha az veya daha büyük izinleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-145">An assembly can have lesser or greater permissions.</span></span> <span data-ttu-id="8f81c-146">Daha büyük izinlere sahip bir derleme, bilgisayar ve ortamları üzerinde daha fazla denetime sahiptir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-146">An assembly that has greater permissions has greater control over the computer and its environments.</span></span>  
  
 <span data-ttu-id="8f81c-147">Daha büyük izinlere sahip bir <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> derlemedeki kod bir olay işleyicisini çağırırsa ve ardından XML ağacı izinleri kısıtlanmış kötü amaçlı bir derlemeye geçerse, kötü amaçlı derleme bir olayın yükseltilmesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-147">If code in an assembly with greater permissions calls <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> in an event handler, and then the XML tree is passed to a malicious assembly that has restricted permissions, the malicious assembly can cause an event to be raised.</span></span> <span data-ttu-id="8f81c-148">Olay, derlemede daha büyük izinlerle kod çalıştırdığından, kötü amaçlı derleme daha sonra yükseltilmiş ayrıcalıklarla çalışır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-148">Because the event runs code that is in the assembly with greater permissions, the malicious assembly would then be operating with elevated privileges.</span></span>  
  
 <span data-ttu-id="8f81c-149">Microsoft, bir olay <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> işleyicisi aramanızı önermez.</span><span class="sxs-lookup"><span data-stu-id="8f81c-149">Microsoft recommends that you never call <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> in an event handler.</span></span>  
  
### <a name="dtds-are-not-secure"></a><span data-ttu-id="8f81c-150">DTD'ler Güvenli Değil</span><span class="sxs-lookup"><span data-stu-id="8f81c-150">DTDs are Not Secure</span></span>  
 <span data-ttu-id="8f81c-151">DTD'deki varlıklar doğal olarak güvenli değildir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-151">Entities in DTDs are inherently not secure.</span></span> <span data-ttu-id="8f81c-152">Bir DTD içeren kötü amaçlı bir XML belgesinin, ayrıştırıcının tüm bellek ve CPU süresini kullanmasına neden olması ve hizmet reddi saldırısına neden olması mümkündür.</span><span class="sxs-lookup"><span data-stu-id="8f81c-152">It is possible for a malicious XML document that contains a DTD to cause the parser to use all memory and CPU time, causing a denial of service attack.</span></span> <span data-ttu-id="8f81c-153">Bu nedenle, LINQ'dan XML'e, DTD işleme varsayılan olarak kapatılır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-153">Therefore, in LINQ to XML, DTD processing is turned off by default.</span></span> <span data-ttu-id="8f81c-154">Güvenilmeyen kaynaklardan DTD'leri kabul etmemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-154">You should not accept DTDs from untrusted sources.</span></span>  
  
 <span data-ttu-id="8f81c-155">Güvenilmeyen kaynaklardan DTD'leri kabul etmeye bir örnek, Web kullanıcılarının Bir DTD ve DTD dosyasına başvuran bir XML dosyası yüklemesine olanak tanıyan bir Web uygulamasıdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-155">One example of accepting DTDs from untrusted sources is a Web application that allows Web users to upload an XML file that references a DTD and a DTD file.</span></span> <span data-ttu-id="8f81c-156">Dosyanın doğrulanması üzerine, kötü amaçlı bir DTD sunucunuzda bir hizmet reddi saldırısı gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-156">Upon validation of the file, a malicious DTD could execute a denial of service attack on your server.</span></span> <span data-ttu-id="8f81c-157">Güvenilmeyen kaynaklardan DTD kabul etmenin bir başka örneği de anonim FTP erişimine izin veren bir ağ paylaşımında DTD'ye başvurmaktır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-157">Another example of accepting DTDs from untrusted sources is to reference a DTD on a network share that also allows anonymous FTP access.</span></span>  
  
### <a name="avoid-excessive-buffer-allocation"></a><span data-ttu-id="8f81c-158">Aşırı Arabellek Ayırmakaçının</span><span class="sxs-lookup"><span data-stu-id="8f81c-158">Avoid Excessive Buffer Allocation</span></span>  
 <span data-ttu-id="8f81c-159">Uygulama geliştiricileri, son derece büyük veri kaynaklarının kaynak tükenmesine ve hizmet reddi saldırılarına yol açabileceğini bilmelidir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-159">Application developers should be aware that extremely large data sources can lead to resource exhaustion and denial of service attacks.</span></span>  
  
 <span data-ttu-id="8f81c-160">Kötü niyetli bir kullanıcı çok büyük bir XML belgesi gönderir veya yüklerse, LINQ'un XML'ye aşırı sistem kaynaklarını tüketmesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-160">If a malicious user submits or uploads a very large XML document, it could cause LINQ to XML to consume excessive system resources.</span></span> <span data-ttu-id="8f81c-161">Bu, hizmet reddi saldırısı oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-161">This can constitute a denial of service attack.</span></span> <span data-ttu-id="8f81c-162">Bunu önlemek için özelliği <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> ayarlayabilir ve yükleyebileceği belge boyutuyla sınırlı bir okuyucu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-162">To prevent this, you can set the <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> property, and create a reader that is then limited in the size of document that it can load.</span></span> <span data-ttu-id="8f81c-163">Daha sonra XML ağacı oluşturmak için okuyucu kullanın.</span><span class="sxs-lookup"><span data-stu-id="8f81c-163">You then use the reader to create the XML tree.</span></span>  
  
 <span data-ttu-id="8f81c-164">Örneğin, güvenilmeyen bir kaynaktan gelen XML belgelerinizin beklenen maksimum boyutunun 100.000 olarak <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> ayarlanmış 50.0K bayttan az olacağını biliyorsanız.</span><span class="sxs-lookup"><span data-stu-id="8f81c-164">For example, if you know that the maximum expected size of your XML documents coming from an untrusted source will be less than 50K bytes, set <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> to 100,000.</span></span> <span data-ttu-id="8f81c-165">Bu, XML belgelerini işlemenizi engellemeyecek ve aynı zamanda büyük miktarda bellek tüketecek belgelerin yüklenebileceği hizmet reddi tehditlerini de azaltacaktır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-165">This will not encumber your processing of XML documents, and at the same time it will mitigate denial of service threats where documents might be uploaded that would consume large amounts of memory.</span></span>  
  
### <a name="avoid-excess-entity-expansion"></a><span data-ttu-id="8f81c-166">Fazla Varlık Genişlemesinden Kaçının</span><span class="sxs-lookup"><span data-stu-id="8f81c-166">Avoid Excess Entity Expansion</span></span>  
 <span data-ttu-id="8f81c-167">DTD kullanırken bilinen hizmet reddi saldırılarından biri, aşırı varlık genişlemesine neden olan bir belgedir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-167">One of the known denial of service attacks when using a DTD is a document that causes excessive entity expansion.</span></span> <span data-ttu-id="8f81c-168">Bunu önlemek için, <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> özelliği ayarlayabilir ve daha sonra varlık genişlemesinden kaynaklanan karakter sayısı yla sınırlı bir okuyucu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-168">To prevent this, you can set the <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> property, and create a reader that is then limited in the number of characters that result from entity expansion.</span></span> <span data-ttu-id="8f81c-169">Daha sonra XML ağacı oluşturmak için okuyucu kullanın.</span><span class="sxs-lookup"><span data-stu-id="8f81c-169">You then use the reader to create the XML tree.</span></span>  
  
### <a name="limit-the-depth-of-the-xml-hierarchy"></a><span data-ttu-id="8f81c-170">XML Hiyerarşisinin Derinliğini Sınırlayın</span><span class="sxs-lookup"><span data-stu-id="8f81c-170">Limit the Depth of the XML Hierarchy</span></span>  
 <span data-ttu-id="8f81c-171">Olası hizmet reddi saldırı, aşırı hiyerarşi derinliğine sahip bir belgenin gönderilmesidir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-171">One possible denial of service attack is when a document is submitted that has excessive depth of hierarchy.</span></span> <span data-ttu-id="8f81c-172">Bunu önlemek için, öğelerin derinliğini sayar kendi sınıfında bir <xref:System.Xml.XmlReader> sarın.</span><span class="sxs-lookup"><span data-stu-id="8f81c-172">To prevent this, you can wrap a <xref:System.Xml.XmlReader> in your own class that counts the depth of elements.</span></span> <span data-ttu-id="8f81c-173">Derinlik önceden belirlenmiş makul bir düzeyi aşarsa, kötü amaçlı belgenin işlenmesini sonlandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-173">If the depth exceeds a predetermined reasonable level, you can terminate the processing of the malicious document.</span></span>  
  
### <a name="protect-against-untrusted-xmlreader-or-xmlwriter-implementations"></a><span data-ttu-id="8f81c-174">Güvenilmeyen XmlReader veya XmlWriter Uygulamalarına Karşı Koruyun</span><span class="sxs-lookup"><span data-stu-id="8f81c-174">Protect Against Untrusted XmlReader or XmlWriter Implementations</span></span>  
 <span data-ttu-id="8f81c-175">Yöneticiler, dışarıdan sağlanan <xref:System.Xml.XmlReader> veya <xref:System.Xml.XmlWriter> sağlanan uygulamaların güçlü adlara sahip olduğunu ve makine yapılandırmasında kaydedildiğini doğrulamalıdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-175">Administrators should verify that any externally supplied <xref:System.Xml.XmlReader> or <xref:System.Xml.XmlWriter> implementations have strong names and have been registered in the machine configuration.</span></span> <span data-ttu-id="8f81c-176">Bu, okuyucu veya yazar kılığına giren kötü amaçlı kodların yüklenmesini önler.</span><span class="sxs-lookup"><span data-stu-id="8f81c-176">This prevents malicious code masquerading as a reader or writer from being loaded.</span></span>  
  
### <a name="periodically-free-objects-that-reference-xname"></a><span data-ttu-id="8f81c-177">XName'ye Başvuran Periyodik Olarak Ücretsiz Nesneler</span><span class="sxs-lookup"><span data-stu-id="8f81c-177">Periodically Free Objects that Reference XName</span></span>  
 <span data-ttu-id="8f81c-178">Belirli türdeki saldırılara karşı korunmak için, uygulama programcıları uygulama etki alanında bir <xref:System.Xml.Linq.XName> nesneye başvuran tüm nesneleri düzenli olarak serbest etmelidir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-178">To protect against certain kinds of attacks, application programmers should free all objects that reference an <xref:System.Xml.Linq.XName> object in the application domain on a regular basis.</span></span>  
  
### <a name="protect-against-random-xml-names"></a><span data-ttu-id="8f81c-179">Rastgele XML Adlarına Karşı Koru</span><span class="sxs-lookup"><span data-stu-id="8f81c-179">Protect Against Random XML Names</span></span>  
 <span data-ttu-id="8f81c-180">Güvenilmeyen kaynaklardan veri alan uygulamalar, rasgele <xref:System.Xml.XmlReader> XML adları ve ad alanları olasılığını incelemek için özel kodla sarılmış bir kullanarak düşünmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-180">Applications that take data from untrusted sources should consider using an <xref:System.Xml.XmlReader> that is wrapped in custom code to inspect for the possibility of random XML names and namespaces.</span></span> <span data-ttu-id="8f81c-181">Bu tür rasgele XML adları ve ad alanları algılanırsa, uygulama daha sonra kötü amaçlı belgenin işlenmesini sonlandırabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-181">If such random XML names and namespaces are detected, the application can then terminate the processing of the malicious document.</span></span>  
  
 <span data-ttu-id="8f81c-182">Belirli bir ad alanındaki ad sayısını (ad alanında olmayan adlar dahil) makul bir sınırla sınırlamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-182">You might want to limit the number of names in any given namespace (including names in no namespace) to a reasonable limit.</span></span>  
  
### <a name="annotations-are-accessible-by-software-components-that-share-a-linq-to-xml-tree"></a><span data-ttu-id="8f81c-183">Ek Açıklamalara, XML Ağacıyla LINQ Paylaşan Yazılım Bileşenleri Tarafından Erişilebilir</span><span class="sxs-lookup"><span data-stu-id="8f81c-183">Annotations Are Accessible by Software Components that Share a LINQ to XML Tree</span></span>  
 <span data-ttu-id="8f81c-184">LINQ'dan XML'e, farklı uygulama bileşenlerinin XML ağaçları olarak bileşenler arasında geçirilen XML verilerini yüklediği, doğruladığı, sorguladığı, dönüştürdüğettiği, güncellediği ve kaydettiği işleme ardışık hatları oluşturmak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-184">LINQ to XML could be used to build processing pipelines in which different application components load, validate, query, transform, update, and save XML data that is passed between components as XML trees.</span></span> <span data-ttu-id="8f81c-185">XML metnine nesneleri yükleme ve serileştirme yükü yalnızca ardışık yapının uçlarında yapıldığından, bu durum performansı en iyi duruma getirmede yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-185">This can help optimize performance, because the overhead of loading and serializing objects to XML text is done only at the ends of the pipeline.</span></span> <span data-ttu-id="8f81c-186">Ancak geliştiriciler, bir bileşen tarafından oluşturulan tüm ek açıklamaların ve olay işleyicilerinin diğer bileşenler tarafından erişilebilir olduğunun farkında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-186">Developers must be aware, however, that all annotations and event handlers created by one component are accessible to other components.</span></span> <span data-ttu-id="8f81c-187">Bileşenlerin farklı güven düzeyleri varsa, bu güvenlik açıkları bir dizi oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-187">This can create a number of vulnerabilities if the components have different levels of trust.</span></span> <span data-ttu-id="8f81c-188">Daha az güvenilen bileşenler arasında güvenli ardışık hatlar oluşturmak için, verileri güvenilmeyen bir bileşene aktarmadan önce LINQ'u XML nesnelerine XML metne seri hale getirmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-188">To build secure pipelines across less trusted components, you must serialize LINQ to XML objects to XML text before passing the data to an untrusted component.</span></span>  
  
 <span data-ttu-id="8f81c-189">Bazı güvenlik ortak dil çalışma zamanı (CLR) tarafından sağlanır.</span><span class="sxs-lookup"><span data-stu-id="8f81c-189">Some security is provided by the common language runtime (CLR).</span></span> <span data-ttu-id="8f81c-190">Örneğin, özel bir sınıf içermeyen bir bileşen, bu sınıf tarafından anahtarlanan ek açıklamalara erişemez.</span><span class="sxs-lookup"><span data-stu-id="8f81c-190">For example, a component that does not include a private class cannot access annotations keyed by that class.</span></span> <span data-ttu-id="8f81c-191">Ancak, ek açıklamalar onları okuyamayan bileşenler tarafından silinebilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-191">However, annotations can be deleted by components that cannot read them.</span></span> <span data-ttu-id="8f81c-192">Bu bir tahrif atağı olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="8f81c-192">This could be used as a tampering attack.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8f81c-193">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="8f81c-193">See also</span></span>

- [<span data-ttu-id="8f81c-194">Programlama Kılavuzu (LINQ - XML) (C#)</span><span class="sxs-lookup"><span data-stu-id="8f81c-194">Programming Guide (LINQ to XML) (C#)</span></span>](linq-to-xml-overview.md)
