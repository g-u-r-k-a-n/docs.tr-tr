---
title: Null yapılabilir başvuru türleri-C# başvurusu
description: C# null yapılabilir başvuru türleri ve bunların nasıl kullanılacağı hakkında bilgi edinin
ms.date: 04/06/2020
ms.openlocfilehash: 274a613a8381a2b7718c9025f51aadb2eb32af36
ms.sourcegitcommit: 870bc4b4087510f6fba3c7b1c0d391f02bcc1f3e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/23/2020
ms.locfileid: "92471869"
---
# <a name="nullable-reference-types-c-reference"></a><span data-ttu-id="32e2f-103">Null yapılabilir başvuru türleri (C# Başvurusu)</span><span class="sxs-lookup"><span data-stu-id="32e2f-103">Nullable reference types (C# reference)</span></span>

> [!NOTE]
> <span data-ttu-id="32e2f-104">Bu makalede null yapılabilir başvuru türleri ele alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-104">This article covers nullable reference types.</span></span> <span data-ttu-id="32e2f-105">[Null olabilir değer türleri](nullable-value-types.md)de bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-105">You can also declare [nullable value types](nullable-value-types.md).</span></span>

<span data-ttu-id="32e2f-106">Null yapılabilir başvuru türleri, *null yapılabilen bir içeriğe*sahip olan kodda C# 8,0 ile başlayarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-106">Nullable reference types are available beginning with C# 8.0, in code that has opted in to a *nullable aware context*.</span></span> <span data-ttu-id="32e2f-107">Null yapılabilir başvuru türleri, null statik analiz uyarıları ve [null-forverme işleci](../operators/null-forgiving.md) isteğe bağlı dil özellikleridir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-107">Nullable reference types, the null static analysis warnings, and the [null-forgiving operator](../operators/null-forgiving.md) are optional language features.</span></span> <span data-ttu-id="32e2f-108">Tümü varsayılan olarak kapalıdır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-108">All are turned off by default.</span></span> <span data-ttu-id="32e2f-109">*Null yapılabilir bağlam* , derleme ayarları kullanılarak proje düzeyinde veya pragmalar kullanılarak kodda denetlenir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-109">A *nullable context* is controlled at the project level using build settings, or in code using pragmas.</span></span>

 <span data-ttu-id="32e2f-110">Null yapılabilir bir bağlamda:</span><span class="sxs-lookup"><span data-stu-id="32e2f-110">In a nullable aware context:</span></span>

- <span data-ttu-id="32e2f-111">Başvuru türünün bir değişkeni `T` null olmayan bir değerle başlatılmalıdır ve hiçbir şekilde bir değer atanmayabilir `null` .</span><span class="sxs-lookup"><span data-stu-id="32e2f-111">A variable of a reference type `T` must be initialized with non-null, and may never be assigned a value that may be `null`.</span></span>
- <span data-ttu-id="32e2f-112">Başvuru türündeki bir değişken `T?` `null` , veya atanmış `null` olarak başlatılabilir, ancak `null` başvurulmadan önce gözden alınması gerekir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-112">A variable of a reference type `T?` may be initialized with `null` or assigned `null`, but is required to be checked against `null` before de-referencing.</span></span>
- <span data-ttu-id="32e2f-113">Türünde bir değişken, `m` `T?` içinde olduğu gibi null-forverme işlecini uyguladığınızda null olmayan olarak değerlendirilir `m!` .</span><span class="sxs-lookup"><span data-stu-id="32e2f-113">A variable `m` of type `T?` is considered to be non-null when you apply the null-forgiving operator, as in `m!`.</span></span>

<span data-ttu-id="32e2f-114">Null yapılamayan bir başvuru türü `T` ve null yapılabilen bir başvuru türü arasındaki farklılıklar, `T?` derleyicinin önceki kuralların yorumu tarafından zorlanır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-114">The distinctions between a non-nullable reference type `T` and a nullable reference type `T?` are enforced by the compiler's interpretation of the preceding rules.</span></span> <span data-ttu-id="32e2f-115">Türünde bir değişken `T` ve türünde bir değişken `T?` aynı .NET türü tarafından temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-115">A variable of type `T` and a variable of type `T?` are represented by the same .NET type.</span></span> <span data-ttu-id="32e2f-116">Aşağıdaki örnek, null olamayan bir dize ve null yapılabilen bir dize bildirir ve null olmayan bir dizeye değer atamak için null-forverme işlecini kullanır:</span><span class="sxs-lookup"><span data-stu-id="32e2f-116">The following example declares a non-nullable string and a nullable string, and then uses the null-forgiving operator to assign a value to a non-nullable string:</span></span>

:::code language="csharp" source="snippets/shared/NullableReferenceTypes.cs" id="SnippetCoreSyntax":::

<span data-ttu-id="32e2f-117">Değişkenler `notNull` ve `nullable` her ikisi de türü tarafından temsil edilir <xref:System.String> .</span><span class="sxs-lookup"><span data-stu-id="32e2f-117">The variables `notNull` and `nullable` are both represented by the <xref:System.String> type.</span></span> <span data-ttu-id="32e2f-118">Null değer atanamaz ve null atanabilir türler aynı türde depolandığından, null yapılabilir bir başvuru türü kullanılmasına izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="32e2f-118">Because the non-nullable and nullable types are both stored as the same type, there are several locations where using a nullable reference type isn't allowed.</span></span> <span data-ttu-id="32e2f-119">Genel olarak, null yapılabilir bir başvuru türü, temel sınıf veya uygulanan arabirim olarak kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-119">In general, a nullable reference type can't be used as a base class or implemented interface.</span></span> <span data-ttu-id="32e2f-120">Herhangi bir nesne oluşturma veya tür testi ifadesinde null yapılabilen bir başvuru türü kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-120">A nullable reference type can't be used in any object creation or type testing expression.</span></span> <span data-ttu-id="32e2f-121">Null yapılabilir bir başvuru türü üye erişim ifadesinin türü olamaz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-121">A nullable reference type can't be the type of a member access expression.</span></span> <span data-ttu-id="32e2f-122">Aşağıdaki örneklerde bu yapılar gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="32e2f-122">The following examples show these constructs:</span></span>

```csharp
public MyClass : System.Object? // not allowed
{
}

var nullEmpty = System.String?.Empty; // Not allowed
var maybeObject = new object?(); // Not allowed
try
{
    if (thing is string? nullableString) // not allowed
        Console.WriteLine(nullableString);
} catch (Exception? e) // Not Allowed
{
    Console.WriteLine("error");
}
```

## <a name="nullable-references-and-static-analysis"></a><span data-ttu-id="32e2f-123">Null yapılabilir başvurular ve statik analiz</span><span class="sxs-lookup"><span data-stu-id="32e2f-123">Nullable references and static analysis</span></span>

<span data-ttu-id="32e2f-124">Önceki bölümdeki örneklerde, null yapılabilir başvuru türlerinin doğası gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-124">The examples in the previous section illustrate the nature of nullable reference types.</span></span> <span data-ttu-id="32e2f-125">Null yapılabilir başvuru türleri yeni sınıf türleri değil, var olan başvuru türlerinde ek açıklamalar değildir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-125">Nullable reference types aren't new class types, but rather annotations on existing reference types.</span></span> <span data-ttu-id="32e2f-126">Derleyici, kodunuzda olası null başvuru hatalarını bulmanıza yardımcı olması için bu ek açıklamaları kullanır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-126">The compiler uses those annotations to help you find potential null reference errors in your code.</span></span> <span data-ttu-id="32e2f-127">Null yapılamayan bir başvuru türü ve null yapılabilir bir başvuru türü arasında çalışma zamanı farkı yoktur.</span><span class="sxs-lookup"><span data-stu-id="32e2f-127">There's no runtime difference between a non-nullable reference type and a nullable reference type.</span></span> <span data-ttu-id="32e2f-128">Derleyici, null olamayan başvuru türleri için hiçbir çalışma zamanı denetimi eklemez.</span><span class="sxs-lookup"><span data-stu-id="32e2f-128">The compiler doesn't add any runtime checking for non-nullable reference types.</span></span> <span data-ttu-id="32e2f-129">Avantajlar, derleme zamanı analizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="32e2f-129">The benefits are in the compile-time analysis.</span></span> <span data-ttu-id="32e2f-130">Derleyici, kodunuzdaki olası null hataları bulmanıza ve düzeltmenize yardımcı olan uyarılar oluşturur.</span><span class="sxs-lookup"><span data-stu-id="32e2f-130">The compiler generates warnings that help you find and fix potential null errors in your code.</span></span> <span data-ttu-id="32e2f-131">Amacınızı bildirirsiniz ve kodunuz bu amacı ihlal ettiğinde derleyici sizi uyarır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-131">You declare your intent, and the compiler warns you when your code violates that intent.</span></span>

<span data-ttu-id="32e2f-132">Null yapılabilir etkin bir bağlamda derleyici, herhangi bir başvuru türünün değişkenlerinde statik analiz gerçekleştirir, hem null yapılabilir hem de null değer atanamaz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-132">In a nullable enabled context, the compiler performs static analysis on variables of any reference type, both nullable and non-nullable.</span></span> <span data-ttu-id="32e2f-133">Derleyici, her başvuru değişkeninin null durumunu *null* ya da *belki null*olarak izler.</span><span class="sxs-lookup"><span data-stu-id="32e2f-133">The compiler tracks the null state of each reference variable as either *not null* or *maybe null*.</span></span> <span data-ttu-id="32e2f-134">Null yapılamayan bir başvurunun varsayılan durumu *null değil*.</span><span class="sxs-lookup"><span data-stu-id="32e2f-134">The default state of a non-nullable reference is *not null*.</span></span> <span data-ttu-id="32e2f-135">Null yapılabilen bir başvurunun varsayılan durumu *null olabilir*.</span><span class="sxs-lookup"><span data-stu-id="32e2f-135">The default state of a nullable reference is *maybe null*.</span></span>

<span data-ttu-id="32e2f-136">Null durumu *null*olmadığından, null olamayan başvuru türleri başvuru için her zaman güvenli olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-136">Non-nullable reference types should always be safe to dereference because their null state is *not null*.</span></span> <span data-ttu-id="32e2f-137">Bu kuralı zorlamak için, null olamayan bir başvuru türü null olmayan bir değere başlatılmamışsa, derleyici uyarıları yayınlar.</span><span class="sxs-lookup"><span data-stu-id="32e2f-137">To enforce that rule, the compiler issues warnings if a non-nullable reference type isn't initialized to a non-null value.</span></span> <span data-ttu-id="32e2f-138">Yerel değişkenlerin, bildirildiği yere atanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-138">Local variables must be assigned where they're declared.</span></span> <span data-ttu-id="32e2f-139">Her oluşturucunun, gövdesinde, adlandırılmış bir oluşturucuda veya bir alan başlatıcısı kullanarak her alanı ataması gerekir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-139">Every constructor must assign every field, either in its body, a called constructor, or using a field initializer.</span></span> <span data-ttu-id="32e2f-140">Durum, durumu *null*olan bir başvuruya null atanamaz bir başvuru atanmışsa, derleyici uyarıları yayınlar.</span><span class="sxs-lookup"><span data-stu-id="32e2f-140">The compiler issues warnings if a non-nullable reference is assigned to a reference whose state is *maybe null*.</span></span> <span data-ttu-id="32e2f-141">Ancak, null olamayan bir başvuru *null*olmadığından, bu değişkenlere başvuruluyorsa hiçbir uyarı verilmemektedir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-141">However, because a non-nullable reference is *not null*, no warnings are issued when those variables are de-referenced.</span></span>

<span data-ttu-id="32e2f-142">Null yapılabilir başvuru türleri başlatılabilir veya atanabilir `null` .</span><span class="sxs-lookup"><span data-stu-id="32e2f-142">Nullable reference types may be initialized or assigned to `null`.</span></span> <span data-ttu-id="32e2f-143">Bu nedenle, Statik Analize başvurulmadan önce bir değişkenin *null* olduğunu belirlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-143">Therefore, static analysis must determine that a variable is *not null* before it's dereferenced.</span></span> <span data-ttu-id="32e2f-144">Null yapılabilir bir başvurunun null olduğu belirlenirse, *null*olamayan bir başvuru değişkenine atanamaz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-144">If a nullable reference is determined to be *maybe null*, it can't be assigned to a non-nullable reference variable.</span></span> <span data-ttu-id="32e2f-145">Aşağıdaki sınıf bu uyarıların örneklerini gösterir:</span><span class="sxs-lookup"><span data-stu-id="32e2f-145">The following class shows examples of these warnings:</span></span>

:::code language="csharp" source="snippets/shared/NullableReferenceTypes.cs" id="SnippetClassWithNullable":::

<span data-ttu-id="32e2f-146">Aşağıdaki kod parçacığında, bu sınıfı kullanırken derleyicinin uyarı yayar konumu gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="32e2f-146">The following snippet shows where the compiler emits warnings when using this class:</span></span>

:::code language="csharp" source="snippets/shared/NullableReferenceTypes.cs" id="SnippetLocalWarnings":::

<span data-ttu-id="32e2f-147">Yukarıdaki örneklerde, başvuru değişkenlerinin null durumunu belirlemede derleyicinin statik analizi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="32e2f-147">The preceding examples demonstrate the compiler's static analysis to determine the null state of reference variables.</span></span> <span data-ttu-id="32e2f-148">Derleyici, analizini bilgilendirmek için null denetimleri ve atamaları için dil kuralları uygular.</span><span class="sxs-lookup"><span data-stu-id="32e2f-148">The compiler applies language rules for null checks and assignments to inform its analysis.</span></span>  <span data-ttu-id="32e2f-149">Derleyici, yöntemlerin veya özelliklerin semantiği hakkında varsayımlar yapamaz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-149">The compiler can't make assumptions about the semantics of methods or properties.</span></span> <span data-ttu-id="32e2f-150">Null denetimleri gerçekleştiren Yöntemler çağırırsanız, derleyici bu yöntemlerin bir değişkenin null durumunu etkilediğini bilmez.</span><span class="sxs-lookup"><span data-stu-id="32e2f-150">If you call methods that perform null checks, the compiler can't know those methods affect a variable's null state.</span></span> <span data-ttu-id="32e2f-151">Derleyiciye bağımsız değişkenlerin semantiğini ve dönüş değerlerini bildirmek için, API 'lerinize ekleyebileceğiniz birçok öznitelik vardır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-151">There are a number of attributes you can add to your APIs to inform the compiler about the semantics of arguments and return values.</span></span> <span data-ttu-id="32e2f-152">Bu öznitelikler, .NET Core kitaplıklarında birçok ortak API 'ye uygulandı.</span><span class="sxs-lookup"><span data-stu-id="32e2f-152">These attributes have been applied to many common APIs in the .NET Core libraries.</span></span> <span data-ttu-id="32e2f-153">Örneğin, <xref:System.String.IsNullOrEmpty%2A> güncelleştirilmiş ve derleyici bu yöntemi null denetim olarak doğru şekilde yorumlar.</span><span class="sxs-lookup"><span data-stu-id="32e2f-153">For example, <xref:System.String.IsNullOrEmpty%2A> has been updated, and the compiler correctly interprets that method as a null check.</span></span> <span data-ttu-id="32e2f-154">Null durum statik analizine uygulanan öznitelikler hakkında daha fazla bilgi için, null [yapılabilir öznitelikler](../attributes/nullable-analysis.md)sayfasındaki makaleye bakın.</span><span class="sxs-lookup"><span data-stu-id="32e2f-154">For more information about the attributes that apply to null state static analysis, see the article on [Nullable attributes](../attributes/nullable-analysis.md).</span></span>

## <a name="setting-the-nullable-context"></a><span data-ttu-id="32e2f-155">Null yapılabilir bağlam ayarlanıyor</span><span class="sxs-lookup"><span data-stu-id="32e2f-155">Setting the nullable context</span></span>

<span data-ttu-id="32e2f-156">Null yapılabilir bağlamı denetlemek için iki yol vardır.</span><span class="sxs-lookup"><span data-stu-id="32e2f-156">There are two ways to control the nullable context.</span></span> <span data-ttu-id="32e2f-157">Proje düzeyinde `<Nullable>enable</Nullable>` Proje ayarını ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-157">At the project level, you can add the `<Nullable>enable</Nullable>` project setting.</span></span> <span data-ttu-id="32e2f-158">Tek bir C# kaynak dosyasında, `#nullable enable` null yapılabilir bağlamı etkinleştirmek için pragma ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-158">In a single C# source file, you can add the `#nullable enable` pragma to enable the nullable context.</span></span> <span data-ttu-id="32e2f-159">[Null yapılabilir bir strateji ayarlama](../../nullable-migration-strategies.md)hakkında makaleye bakın.</span><span class="sxs-lookup"><span data-stu-id="32e2f-159">See the article on [setting a nullable strategy](../../nullable-migration-strategies.md).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="32e2f-160">C# dili belirtimi</span><span class="sxs-lookup"><span data-stu-id="32e2f-160">C# language specification</span></span>

<span data-ttu-id="32e2f-161">Daha fazla bilgi için bkz. [C# dil belirtimi](~/_csharplang/spec/introduction.md)için aşağıdaki teklifler:</span><span class="sxs-lookup"><span data-stu-id="32e2f-161">For more information, see the following proposals for the [C# language specification](~/_csharplang/spec/introduction.md):</span></span>

- [<span data-ttu-id="32e2f-162">Boş değer atanabilir başvuru türleri</span><span class="sxs-lookup"><span data-stu-id="32e2f-162">Nullable reference types</span></span>](~/_csharplang/proposals/csharp-8.0/nullable-reference-types.md)
- [<span data-ttu-id="32e2f-163">Taslak Nullable başvuru türleri belirtimi</span><span class="sxs-lookup"><span data-stu-id="32e2f-163">Draft nullable reference types specification</span></span>](~/_csharplang/proposals/csharp-8.0/nullable-reference-types-specification.md)

## <a name="see-also"></a><span data-ttu-id="32e2f-164">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="32e2f-164">See also</span></span>

- [<span data-ttu-id="32e2f-165">C# başvurusu</span><span class="sxs-lookup"><span data-stu-id="32e2f-165">C# reference</span></span>](../index.md)
- [<span data-ttu-id="32e2f-166">Null yapılabilir değer türleri</span><span class="sxs-lookup"><span data-stu-id="32e2f-166">Nullable value types</span></span>](nullable-value-types.md)
