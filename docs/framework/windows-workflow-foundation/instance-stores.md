---
title: Örnek Depoları
ms.date: 03/30/2017
ms.assetid: f2629668-0923-4987-b943-67477131c1e0
ms.openlocfilehash: 69b50942c36406bd29147d243e0501b8048d56dc
ms.sourcegitcommit: 32a575bf4adccc901f00e264f92b759ced633379
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/04/2019
ms.locfileid: "74802563"
---
# <a name="instance-stores"></a><span data-ttu-id="be180-102">Örnek Depoları</span><span class="sxs-lookup"><span data-stu-id="be180-102">Instance Stores</span></span>
<span data-ttu-id="be180-103">Örnek deposu, örneklerin mantıksal bir kapsayıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="be180-103">An instance store is a logical container of instances.</span></span> <span data-ttu-id="be180-104">Örnek verilerinin ve meta verilerin depolandığı yerdir.</span><span class="sxs-lookup"><span data-stu-id="be180-104">It is the place where the instance data and metadata is stored.</span></span> <span data-ttu-id="be180-105">Örnek deposu adanmış fiziksel depolama göstermez.</span><span class="sxs-lookup"><span data-stu-id="be180-105">An instance store does not imply dedicated physical storage.</span></span> <span data-ttu-id="be180-106">Örnek deposu, bir bellek içinde SQL Server veritabanında veya dayanıklı olmayan durum bilgilerinde dayanıklı bilgiler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="be180-106">An instance store could contain durable information in a SQL Server database or non-durable state information in a memory.</span></span> <span data-ttu-id="be180-107">[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)], iş akışlarının örnek verileri ve meta verileri bir SQL Server 2005 veya SQL Server 2008 veritabanına kalıcı hale getirebileceği bir örnek deposunun somut bir uygulamasıdır olan SQL Iş akışı örnek deposu ile birlikte gelir.</span><span class="sxs-lookup"><span data-stu-id="be180-107">The [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] ships with the SQL Workflow Instance Store, which is a concrete implementation of an instance store that allows workflows to persist instance data and metadata into a SQL Server 2005 or SQL Server 2008 database.</span></span> <span data-ttu-id="be180-108">Ayrıca, Windows Server App Fabric Ayrıca bir örnek deposunun somut bir uygulamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="be180-108">In addition Windows Server App Fabric also provides a concrete implementation of an instance store.</span></span> <span data-ttu-id="be180-109">Daha fazla bilgi için bkz. [Windows Server App Fabric örnek deposu, sorgu ve denetim sağlayıcıları](https://docs.microsoft.com/previous-versions/appfabric/ff383417(v=azure.10)).</span><span class="sxs-lookup"><span data-stu-id="be180-109">For more information, see [Windows Server App Fabric Instance Store, Query, and Control Providers](https://docs.microsoft.com/previous-versions/appfabric/ff383417(v=azure.10)).</span></span>  
  
 <span data-ttu-id="be180-110">Kalıcılık API 'SI, ana bilgisayar ile örnek deposu arasındaki arabirimdir (örneğin, <xref:System.Activities.DurableInstancing.LoadWorkflowCommand> ve <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>) örnek deposuna komut istekleri göndermesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="be180-110">The persistence API is the interface between a host and an instance store that allows the host to send command requests (for example, <xref:System.Activities.DurableInstancing.LoadWorkflowCommand> and <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>) to the instance store.</span></span> <span data-ttu-id="be180-111">Bu API 'nin somut uygulamasına kalıcılık sağlayıcısı denir.</span><span class="sxs-lookup"><span data-stu-id="be180-111">The concrete implementation of this API is called a persistence provider.</span></span> <span data-ttu-id="be180-112">Kalıcılık sağlayıcısı bir konaktaki istekleri alır ve örnek deposunu değiştirir.</span><span class="sxs-lookup"><span data-stu-id="be180-112">The persistence provider receives requests from a host and modifies the instance store.</span></span>  
  
 <span data-ttu-id="be180-113">Konaklar ve örnek depoları, bir konağın birçok örnek depolarıyla kullanılabilmesi ve bir örnek deposunun birçok konak ile kullanılabilmesi için takılabilir.</span><span class="sxs-lookup"><span data-stu-id="be180-113">Hosts and instance stores are pluggable so that a host can be used with many instance stores, and an instance store can be used with many hosts.</span></span> <span data-ttu-id="be180-114">Örnek deposu genellikle belirli bir ana bilgisayarın kullanım desenleri için iyileştirilmiştir, ancak örnek deposu ve ana bilgisayar bağımsız yaşam döngülerinde geliştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="be180-114">An instance store is typically optimized for the usage patterns of a particular host, although the instance store and host may evolve on independent life cycles.</span></span> <span data-ttu-id="be180-115">Örneğin, **WorkflowServiceHost** ve **SqlWorkflowInstanceStore** birlikte iyi çalışacak şekilde tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="be180-115">For example, the **WorkflowServiceHost** and the **SqlWorkflowInstanceStore** are designed to work well together.</span></span> <span data-ttu-id="be180-116">İş akışı hizmeti örneklerinin verilerini ve meta verilerini kalıcı hale getirmek ve bu örnek depoyu **WorkflowServiceHost**ile kullanmak için kendi örnek deponuzi oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be180-116">You can create your own instance store to persist data and metadata of workflow service instances and use that instance store with the **WorkflowServiceHost**.</span></span> <span data-ttu-id="be180-117">Örneğin, iş akışlarının bilgileri bir SQL Server veritabanına kaydetmek yerine Oracle veritabanına kalıcı hale getirebilmenizi sağlayan bir OracleWorkflowInstanceStore oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be180-117">For example, you can create an OracleWorkflowInstanceStore that lets workflows persist information into an Oracle database instead of saving them into a SQL Server database.</span></span>  
  
 <span data-ttu-id="be180-118">Ana bilgisayarların kalıcı nesneleri değiştiren ek işlevlerle genişletilmesi yaygındır.</span><span class="sxs-lookup"><span data-stu-id="be180-118">It is common for hosts to be extended with additional functionality that modifies the persisted objects.</span></span> <span data-ttu-id="be180-119">Örneğin, bir örnek Kalıcılık sisteminin bir iş akışı ana bilgisayarı, "askıya alma" işlemini destekleyen bir uzantı ve bir SQL örnek deposu olabilir.</span><span class="sxs-lookup"><span data-stu-id="be180-119">For example, an instance persistence system may have a workflow host, an extension that supports the "Suspend" operation, and an SQL instance store.</span></span>  <span data-ttu-id="be180-120">İş akışı ana bilgisayarı bir örnek deposundan iş akışını kaydetmek veya yüklemek ya da bir iş akışını örnek deposuna kaydetmek için Kaydet veya yükle gibi standart bir komut gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="be180-120">The workflow host might send a standard command such as Save or Load to save or load a workflow from an instance store or to save a workflow into an instance store.</span></span> <span data-ttu-id="be180-121">Askıya alma uzantısı, askıya alınmış bir iş akışı örneğinin yüklenememesi için iş akışı örneklerini kaydetme ve yükleme komutlarına ek semantik eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="be180-121">The suspend extension might add additional semantics to the commands for saving and loading workflow instances so that a suspended workflow instance cannot be loaded.</span></span> <span data-ttu-id="be180-122">SQL örneği deposu için kalıcılık sağlayıcısı, iş akışı örneklerini kaydetme ve yükleme komutlarını anlamıştır ve bir SQL Server veritabanındaki kalıcı nesnelerin tablolarını değiştiren uygun saklı yordamları çağırarak komutları uygular.</span><span class="sxs-lookup"><span data-stu-id="be180-122">The persistence provider for the SQL instance store understands the commands for saving and loading workflow instances, and implements the commands by calling appropriate stored procedures that change the tables of persistent objects in an SQL Server database.</span></span>  
  
 <span data-ttu-id="be180-123">Bir ana bilgisayar örnek deposu içinde örnek sahibi görevi görür.</span><span class="sxs-lookup"><span data-stu-id="be180-123">A host acts as an instance owner within an instance store.</span></span> <span data-ttu-id="be180-124">Bir ana bilgisayar aynı anda birden fazla örnek deposuna sahip birden fazla örnek sahibi olarak davranabilir.</span><span class="sxs-lookup"><span data-stu-id="be180-124">A host may act as more than one instance owner with more than one instance store at the same time.</span></span> <span data-ttu-id="be180-125">Ana bilgisayar örneklerle ilişkili örnek anahtarlarına yönelik GUID 'Ler sağlar.</span><span class="sxs-lookup"><span data-stu-id="be180-125">The host provides GUIDs for instance keys associated with the instances.</span></span> <span data-ttu-id="be180-126">Örnek anahtar, örneği tanımlayan benzersiz bir diğer addır.</span><span class="sxs-lookup"><span data-stu-id="be180-126">An instance key is a unique alias that identifies an instance.</span></span> <span data-ttu-id="be180-127">Kalıcılık sistemi, konaklar tarafından istenen komutları yürüten örnek sahibi bilgilerini oluşturur, güncelleştirir ve siler.</span><span class="sxs-lookup"><span data-stu-id="be180-127">The persistence system creates, updates, and deletes instance owner information as it executes commands requested by hosts.</span></span>  
  
 <span data-ttu-id="be180-128">Aşağıdaki liste, örnek deposuyla ana bilgisayarın etkileşimiyle ilgili önemli adımları içerir:</span><span class="sxs-lookup"><span data-stu-id="be180-128">The following list contains the important steps involved in the host’s interaction with the instance store:</span></span>  
  
1. <span data-ttu-id="be180-129">Kalıcılık sağlayıcısından bir **InstanceStore** edinin.</span><span class="sxs-lookup"><span data-stu-id="be180-129">Obtain an **InstanceStore** from a persistence provider.</span></span>  

2. <span data-ttu-id="be180-130">**InstanceStore**üzerinde <xref:System.Runtime.DurableInstancing.InstanceStore.CreateInstanceHandle%2A> yöntemini çağırarak bir örneğe olan tanıtıcıyı elde edin.</span><span class="sxs-lookup"><span data-stu-id="be180-130">Obtain the handle to an instance by calling the <xref:System.Runtime.DurableInstancing.InstanceStore.CreateInstanceHandle%2A> method on the **InstanceStore**.</span></span>  
  
3. <span data-ttu-id="be180-131">**InstanceStore**üzerinde <xref:System.Runtime.DurableInstancing.InstanceStore.Execute%2A> yöntemini çağırarak örnek tanıtıcısına karşı komutları çağırın.</span><span class="sxs-lookup"><span data-stu-id="be180-131">Invoke commands against the instance handle by calling the <xref:System.Runtime.DurableInstancing.InstanceStore.Execute%2A> method on the **InstanceStore**.</span></span>  
  
4. <span data-ttu-id="be180-132">Komutların sonuçlarını öğrenmek için, **InstanceStore. Execute** tarafından döndürülen <xref:System.Runtime.DurableInstancing.InstanceView> inceleyin.</span><span class="sxs-lookup"><span data-stu-id="be180-132">Examine the <xref:System.Runtime.DurableInstancing.InstanceView> returned by **InstanceStore.Execute** to determine the results of the commands.</span></span>
