---
title: Güvenlik ve Uzaktan Yönetim Konuları
ms.date: 03/30/2017
helpviewer_keywords:
- code security, remoting
- remoting, security
- security [.NET Framework], remoting
- secure coding, remoting
ms.assetid: 125d2ab8-55a4-4e5f-af36-a7d401a37ab0
ms.openlocfilehash: 7a56c9894da88382f40dcd475e89776a83a59322
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/14/2020
ms.locfileid: "77215776"
---
# <a name="security-and-remoting-considerations"></a><span data-ttu-id="bff46-102">Güvenlik ve Uzaktan Yönetim Konuları</span><span class="sxs-lookup"><span data-stu-id="bff46-102">Security and Remoting Considerations</span></span>
<span data-ttu-id="bff46-103">Uzaktan iletişim, uygulama etki alanları, süreçler veya bilgisayarlar arasında şeffaf çağrı ayarlamanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="bff46-103">Remoting allows you to set up transparent calling between application domains, processes, or computers.</span></span> <span data-ttu-id="bff46-104">Ancak, kod erişimi güvenlik yığını, işleme veya makine sınırları üzerinde olamaz (aynı işlemin uygulama etki alanları arasında geçerlidir).</span><span class="sxs-lookup"><span data-stu-id="bff46-104">However, the code access security stack walk cannot cross process or machine boundaries (it does apply between application domains of the same process).</span></span>  
  
 <span data-ttu-id="bff46-105">Uzaktan erişilebilen herhangi bir sınıfın (bir <xref:System.MarshalByRefObject> sınıfından türetilmiş) güvenlik için sorumluluğu olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="bff46-105">Any class that is remotable (derived from a <xref:System.MarshalByRefObject> class) needs to take responsibility for security.</span></span> <span data-ttu-id="bff46-106">Kod, yalnızca çağıran kodun örtük olarak güvendiği kapalı ortamlarda kullanılmalıdır veya korumalı kodu, kötü amaçlı olarak kullanılabilecek bir girdinin dışına çıkarmaması için uzaktan iletişim aramaları tasarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="bff46-106">Either the code should be used only in closed environments where the calling code can be implicitly trusted, or remoting calls should be designed so that they do not subject protected code to outside entry that could be used maliciously.</span></span>  
  
 <span data-ttu-id="bff46-107">Genellikle, bildirim temelli [bağlantı talebi](link-demands.md) ve <xref:System.Security.Permissions.SecurityAction.InheritanceDemand> güvenlik denetimleri ile korunan yöntemleri, özellikleri veya olayları asla kullanıma sunmamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="bff46-107">Generally, you should never expose methods, properties, or events that are protected by declarative [LinkDemand](link-demands.md) and <xref:System.Security.Permissions.SecurityAction.InheritanceDemand> security checks.</span></span> <span data-ttu-id="bff46-108">Remoting ile bu denetimler zorlanmaz.</span><span class="sxs-lookup"><span data-stu-id="bff46-108">With remoting, these checks are not enforced.</span></span> <span data-ttu-id="bff46-109"><xref:System.Security.Permissions.SecurityAction.Demand>, [onaylama](using-the-assert-method.md)vb. gibi diğer güvenlik denetimleri, işlem içindeki uygulama etki alanları arasında çalışır, ancak çapraz işlem veya çapraz makine senaryolarında çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="bff46-109">Other security checks, such as <xref:System.Security.Permissions.SecurityAction.Demand>, [Assert](using-the-assert-method.md), and so on, work between application domains within a process but do not work in cross-process or cross-machine scenarios.</span></span>  
  
## <a name="protected-objects"></a><span data-ttu-id="bff46-110">Korumalı nesneler</span><span class="sxs-lookup"><span data-stu-id="bff46-110">Protected objects</span></span>  
 <span data-ttu-id="bff46-111">Bazı nesneler güvenlik durumunu kendi başlarına tutar.</span><span class="sxs-lookup"><span data-stu-id="bff46-111">Some objects hold security state in themselves.</span></span> <span data-ttu-id="bff46-112">Bu nesneler güvenilmeyen koda geçirilmemelidir, bu da kendi izinlerinin ötesinde güvenlik yetkilendirmesi elde etmez.</span><span class="sxs-lookup"><span data-stu-id="bff46-112">These objects should not be passed to untrusted code, which would then acquire security authorization beyond its own permissions.</span></span>  
  
 <span data-ttu-id="bff46-113">Bir örnek <xref:System.IO.FileStream> nesnesi oluşturuyor.</span><span class="sxs-lookup"><span data-stu-id="bff46-113">One example is creating a <xref:System.IO.FileStream> object.</span></span> <span data-ttu-id="bff46-114"><xref:System.Security.Permissions.FileIOPermission>, oluşturma sırasında talep edilir ve başarılı olursa dosya nesnesi döndürülür.</span><span class="sxs-lookup"><span data-stu-id="bff46-114">The <xref:System.Security.Permissions.FileIOPermission> is demanded at the time of creation and, if it succeeds, the file object is returned.</span></span> <span data-ttu-id="bff46-115">Ancak, bu nesne başvurusu dosya izinleri olmadan koda geçirilirse, nesne bu belirli dosyayı okuyup yazabilir.</span><span class="sxs-lookup"><span data-stu-id="bff46-115">However, if this object reference is passed to code without file permissions, the object will be able to read and write to this particular file.</span></span>  
  
 <span data-ttu-id="bff46-116">Böyle bir nesne için en basit savunma, bir ortak API öğesi aracılığıyla nesne başvurusunu almak üzere arayan herhangi bir kod için aynı **Dosya** adını talep etmek içindir.</span><span class="sxs-lookup"><span data-stu-id="bff46-116">The simplest defense for such an object is to demand the same **FileIOPermission** of any code that seeks to get the object reference through a public API element.</span></span>  
  
## <a name="application-domain-crossing-issues"></a><span data-ttu-id="bff46-117">Uygulama etki alanı kesişen sorunlar</span><span class="sxs-lookup"><span data-stu-id="bff46-117">Application domain crossing issues</span></span>  
 <span data-ttu-id="bff46-118">Yönetilen barındırma ortamlarında kodu yalıtmak için, çeşitli derlemeler için izin düzeylerini azaltan açık ilkeyle birden çok alt uygulama etki alanı oluşturmak yaygındır.</span><span class="sxs-lookup"><span data-stu-id="bff46-118">To isolate code in managed hosting environments, it is common to generate multiple child application domains with explicit policy reducing the permission levels for various assemblies.</span></span> <span data-ttu-id="bff46-119">Ancak, bu derlemelerin ilkesi varsayılan uygulama etki alanında değişmeden kalır.</span><span class="sxs-lookup"><span data-stu-id="bff46-119">However, the policy for those assemblies remains unchanged in the default application domain.</span></span> <span data-ttu-id="bff46-120">Alt uygulama etki alanlarından biri varsayılan uygulama etki alanını bir derlemeyi yüklemeye zorlabiliyor ise, kod yalıtımının etkisi kaybolur ve zorla yüklenen derlemedeki türler daha yüksek bir güven düzeyinde kod çalıştırabilecektir.</span><span class="sxs-lookup"><span data-stu-id="bff46-120">If one of the child application domains can force the default application domain to load an assembly, the effect of code isolation is lost and types in the forcibly loaded assembly will be able to run code at a higher level of trust.</span></span>  
  
 <span data-ttu-id="bff46-121">Bir uygulama etki alanı, başka bir uygulama etki alanının bir derlemeyi yüklemesine ve bir proxy 'yi diğer uygulama etki alanında barındırılan bir nesneye çağırarak içinde yer alan kodu çalıştırmasına zorlayabilir.</span><span class="sxs-lookup"><span data-stu-id="bff46-121">An application domain can force another application domain to load an assembly and run code contained therein by calling a proxy to an object hosted in the other application domain.</span></span> <span data-ttu-id="bff46-122">Çapraz uygulama etki alanı proxy 'si almak için, nesneyi barındıran uygulama etki alanının bir yöntem çağrısı parametresi veya dönüş değeri aracılığıyla bir tane dağıtması gerekir.</span><span class="sxs-lookup"><span data-stu-id="bff46-122">To obtain a cross-application-domain proxy, the application domain hosting the object must distribute one through a method call parameter or return value.</span></span> <span data-ttu-id="bff46-123">Ya da uygulama etki alanı yeni oluşturulduysa, oluşturucunun varsayılan olarak <xref:System.AppDomain> nesnesine bir proxy 'si vardır.</span><span class="sxs-lookup"><span data-stu-id="bff46-123">Or, if the application domain was just created, the creator has a proxy to the <xref:System.AppDomain> object by default.</span></span> <span data-ttu-id="bff46-124">Bu nedenle, kod yalıtımının kesilmesini önlemek için, daha yüksek bir güven düzeyine sahip bir uygulama etki alanı, etki alanı içindeki başvuru nesnelerine (<xref:System.MarshalByRefObject>türetilen sınıfların örnekleri), daha düşük güven düzeylerine sahip uygulama etki alanlarına başvuruları dağıtmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="bff46-124">Thus, to avoid breaking code isolation, an application domain with a higher level of trust should not distribute references to marshaled-by-reference objects (instances of classes derived from <xref:System.MarshalByRefObject>) in its domain to application domains with lower levels of trust.</span></span>  
  
 <span data-ttu-id="bff46-125">Genellikle, varsayılan uygulama etki alanı her birinde bir denetim nesnesi olan alt uygulama etki alanlarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="bff46-125">Usually, the default application domain creates the child application domains with a control object in each one.</span></span> <span data-ttu-id="bff46-126">Denetim nesnesi yeni uygulama etki alanını yönetir ve ara sıra varsayılan uygulama etki alanından siparişleri alır, ancak doğrudan etki alanıyla doğrudan bağlantı kuramıyor.</span><span class="sxs-lookup"><span data-stu-id="bff46-126">The control object manages the new application domain and occasionally takes orders from the default application domain, but it cannot actually contact the domain directly.</span></span> <span data-ttu-id="bff46-127">Bazen, varsayılan uygulama etki alanı proxy 'sini denetim nesnesine çağırır.</span><span class="sxs-lookup"><span data-stu-id="bff46-127">Occasionally, the default application domain calls its proxy to the control object.</span></span> <span data-ttu-id="bff46-128">Ancak, Denetim nesnesinin varsayılan uygulama etki alanına geri çağırması için gereken durumlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="bff46-128">However, there might be cases in which it is necessary for the control object to call back to the default application domain.</span></span> <span data-ttu-id="bff46-129">Bu durumlarda, varsayılan uygulama etki alanı, Denetim nesnesinin oluşturucusuna başvuruya göre sıralama geri çağırma nesnesi geçirir.</span><span class="sxs-lookup"><span data-stu-id="bff46-129">In these cases, the default application domain passes a marshal-by-reference callback object to the constructor of the control object.</span></span> <span data-ttu-id="bff46-130">Bu proxy 'yi korumak için Denetim nesnesinin sorumluluğundadır.</span><span class="sxs-lookup"><span data-stu-id="bff46-130">It is the responsibility of the control object to protect this proxy.</span></span> <span data-ttu-id="bff46-131">Denetim nesnesi, proxy 'yi ortak bir sınıfın ortak statik alanına yerleştirse veya proxy 'yi genel kullanıma sunacaksa, bu, diğer kodun varsayılan uygulama etki alanına geri çağırması için tehlikeli bir mekanizma açar.</span><span class="sxs-lookup"><span data-stu-id="bff46-131">If the control object were to place the proxy on a public static field of a public class, or otherwise publicly expose the proxy, this would open up a dangerous mechanism for other code to call back into the default application domain.</span></span> <span data-ttu-id="bff46-132">Bu nedenle, proxy özel tutmak için denetim nesneleri her zaman örtük olarak güvenilirdir.</span><span class="sxs-lookup"><span data-stu-id="bff46-132">For this reason, control objects are always implicitly trusted to keep the proxy private.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bff46-133">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="bff46-133">See also</span></span>

- [<span data-ttu-id="bff46-134">Güvenli Kodlama Yönergeleri</span><span class="sxs-lookup"><span data-stu-id="bff46-134">Secure Coding Guidelines</span></span>](../../standard/security/secure-coding-guidelines.md)
