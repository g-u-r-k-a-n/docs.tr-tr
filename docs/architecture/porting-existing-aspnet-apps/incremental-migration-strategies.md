---
title: Artımlı geçiş stratejileri
description: Takım, büyük uygulamaları ASP.NET MVC 'den .NET Core 'a artımlı bir biçimde geçirmeye olanak sağlayacak olan stratejileri benimseyebilirler.
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: 615d2a853b698bfc752c3baf36f31ab2a4f2bab8
ms.sourcegitcommit: b5d2290673e1c91260c9205202dd8b95fbab1a0b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/01/2021
ms.locfileid: "106122891"
---
# <a name="strategies-for-migrating-incrementally"></a><span data-ttu-id="81401-103">Artımlı geçiş stratejileri</span><span class="sxs-lookup"><span data-stu-id="81401-103">Strategies for migrating incrementally</span></span>

<span data-ttu-id="81401-104">Büyük bir uygulamayı geçirmeye en büyük zorluk, işlemin daha küçük görevlere nasıl kesilmesini belirliyor.</span><span class="sxs-lookup"><span data-stu-id="81401-104">The biggest challenge with migrating any large app is determining how to break the process into smaller tasks.</span></span> <span data-ttu-id="81401-105">Uygulamayı kullanıcı arabirimi, veri erişimi, iş mantığı gibi yatay katmanlara bölmek veya uygulamayı ayrı, daha küçük uygulamalara bölmek dahil olmak üzere, bu amaçla uygulanabilecek birkaç strateji vardır.</span><span class="sxs-lookup"><span data-stu-id="81401-105">There are several strategies that can be applied for this purpose, including breaking the app into horizontal layers such as UI, data access, business logic, or breaking up the app into separate, smaller apps.</span></span> <span data-ttu-id="81401-106">Başka bir strateji, uygulamanın bir kısmını veya tamamını, son .NET Core sürümü gibi farklı çerçeve sürümlerine yükseltmelidir.</span><span class="sxs-lookup"><span data-stu-id="81401-106">Another strategy is to upgrade some or all of the app to different framework versions on the way to a recent .NET Core release.</span></span> <span data-ttu-id="81401-107">Kullanabileceğiniz bir yaklaşım, tek seferde bir yatay katman geçirmeye çalışmak yerine uygulamanın [Dikey dilimlerini](https://deviq.com/practices/vertical-slices) geçirmekdür.</span><span class="sxs-lookup"><span data-stu-id="81401-107">One approach you could use is to migrate [vertical slices](https://deviq.com/practices/vertical-slices) of the app, rather than attempting to migrate one horizontal layer at a time.</span></span> <span data-ttu-id="81401-108">Bu farklı yaklaşımlardan her birini ele alalım.</span><span class="sxs-lookup"><span data-stu-id="81401-108">Let's consider each of these different approaches.</span></span>

## <a name="migrating-slice-by-slice"></a><span data-ttu-id="81401-109">Dilimi dilimle geçirme</span><span class="sxs-lookup"><span data-stu-id="81401-109">Migrating slice by slice</span></span>

<span data-ttu-id="81401-110">Geçiş için başarılı bir yaklaşım, dikey işlevlerin düşey dilimlerinin tanımlanması ve bunları hedef platforma tek tek geçirkullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="81401-110">One successful approach to migrating is to identify vertical slices of functionality and migrate them to the target platform one by one.</span></span> <span data-ttu-id="81401-111">İlk adım, yeni bir ASP.NET Core 3,1 veya 5 uygulaması oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="81401-111">The first step is to create a new ASP.NET Core 3.1 or 5 app.</span></span> <span data-ttu-id="81401-112">Sonra, önce geçirilecek tek sayfayı veya API uç noktasını bir kez daha belirlemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="81401-112">Next, identify the individual page or API endpoint that will be migrated first.</span></span> <span data-ttu-id="81401-113">ASP.NET Core uygulamasında bu yolu desteklemek için yalnızca gerekli işlevleri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="81401-113">Build out just the necessary functionality to support this one route in the ASP.NET Core app.</span></span> <span data-ttu-id="81401-114">Daha sonra, bu sayfalara veya uç noktalara yönelik istekleri ASP.NET uygulaması yerine yeni uygulamaya göndermeye başlamak için HTTP yeniden yazma ve/veya ters proxy kullanın.</span><span class="sxs-lookup"><span data-stu-id="81401-114">Then use HTTP rewriting and/or a reverse proxy to start sending requests for these pages or endpoints to the new app rather than the ASP.NET app.</span></span> <span data-ttu-id="81401-115">Bu yaklaşım, API projelerine uygundur, ancak pek çok MVC uygulaması için de çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-115">This approach is well-suited to API projects, but can also work for many MVC apps.</span></span>

<span data-ttu-id="81401-116">Dilimi dilime geçirirken, tek tek API uç noktası veya istenen yolun tüm yığını yeni proje veya çözümde yeniden oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="81401-116">When migrating slice by slice, the entire stack of the individual API endpoint or requested route is recreated in the new project or solution.</span></span> <span data-ttu-id="81401-117">Genellikle çok sayıda projenin oluşturulması ve veri erişimi ve çözüm organizasyonu hakkında kararlar olması gerektiğinden, bu dilim genellikle en fazla çaba gerektirir.</span><span class="sxs-lookup"><span data-stu-id="81401-117">The very first such slice typically requires the most effort, since it will typically need several projects to be created and decisions to be made about data access and solution organization.</span></span> <span data-ttu-id="81401-118">İlk dilimin işlevselliği mevcut uygulamayı yansıtdıktan sonra dağıtılabilir ve var olan uygulama buna yönlendirebilir ya da yalnızca kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-118">Once the first slice's functionality mirrors the existing app's, it can be deployed and the existing app can redirect to it or simply be removed.</span></span> <span data-ttu-id="81401-119">Bu yaklaşım daha sonra tüm uygulama yeni yapıya alınana kadar yinelenir.</span><span class="sxs-lookup"><span data-stu-id="81401-119">This approach is then repeated until the entire app has been ported to the new structure.</span></span>

<span data-ttu-id="81401-120">Bu stratejiyi IIS kullanarak izlemeye yönelik bazı özel yönergeler [, Bölüm 5, dağıtım senaryolarında](deployment-scenarios.md)ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="81401-120">Some specific guidance on how to follow this strategy using IIS is covered in [Chapter 5, Deployment Scenarios](deployment-scenarios.md).</span></span>

## <a name="migrating-layer-by-layer"></a><span data-ttu-id="81401-121">Katmana göre katman geçirme</span><span class="sxs-lookup"><span data-stu-id="81401-121">Migrating layer by layer</span></span>

<span data-ttu-id="81401-122">Büyük bir ASP.NET 4,5 uygulamasını geçirme sınamasını göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="81401-122">Consider the challenge of migrating a large ASP.NET 4.5 app.</span></span> <span data-ttu-id="81401-123">Bir yaklaşım, tüm uygulamayı doğrudan .NET Framework 4,5 ' den .NET Core 3,1 ' den geçirmeye yönelik bir yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="81401-123">One approach is to migrate the entire app directly from .NET Framework 4.5 to .NET Core 3.1.</span></span> <span data-ttu-id="81401-124">Ancak, bu yaklaşım, önemli olan iki çerçeve ve sürüm arasındaki her bir son değişiklik için hesaba sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="81401-124">However, this approach needs to account for every breaking change between the two frameworks and versions, which are substantial.</span></span> <span data-ttu-id="81401-125">Aynı anda tek bir projede bu çalışmanın gerçekleştirilmesi, tüm çözümün aynı anda taşınması gerekmemesi için bir dizi Adımlama sağlar.</span><span class="sxs-lookup"><span data-stu-id="81401-125">Performing this work on one project at a time provides a set of stepping stones so that the entire solution doesn't need to be moved at once.</span></span>

<span data-ttu-id="81401-126">.NET ekosistemine, farklı .NET çerçeveleri arasında birlikte çalışabilirliğine yardımcı olan bir son ekleme [.NET Standard](https://dotnet.microsoft.com/platform/dotnet-standard).</span><span class="sxs-lookup"><span data-stu-id="81401-126">One recent addition to the .NET ecosystem that helps with interoperability between different .NET frameworks is [.NET Standard](https://dotnet.microsoft.com/platform/dotnet-standard).</span></span> <span data-ttu-id="81401-127">.NET Standard, kitaplıkların ortak API 'Ler kümesi üzerinde anlaşmaya varılmış olarak derlenmesini sağlar ve bu sayede herhangi bir .NET uygulamasında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-127">.NET Standard allows libraries to build against the agreed upon set of common APIs, ensuring they can be used in any .NET app.</span></span> <span data-ttu-id="81401-128">.NET Standard 2,0, en .NET Framework ve .NET Core uygulamaları tarafından kullanılan temel sınıf kitaplığı işlevlerinin çoğunu kapsadığından önemli.</span><span class="sxs-lookup"><span data-stu-id="81401-128">.NET Standard 2.0 is notable because it covers most base class library functionality used by most .NET Framework and .NET Core apps.</span></span> <span data-ttu-id="81401-129">Ne yazık ki, .NET 'in .NET Standard 2,0 desteği olan en eski sürümü .NET Framework 4.6.1 ve bu, .NET Framework 4,8 ' de ilk yükseltmelere yönelik etkileyici bir seçim yapan birkaç güncelleştirme vardır.</span><span class="sxs-lookup"><span data-stu-id="81401-129">Unfortunately, the earliest version of .NET with support for .NET Standard 2.0 is .NET Framework 4.6.1, and there are a number of updates in .NET Framework 4.8 that make it a compelling choice for initial upgrades.</span></span>

<span data-ttu-id="81401-130">.NET Framework 4,5 sistem katmanını artımlı olarak yükseltmeye yönelik bir yaklaşım, öncelikle sınıf kitaplığı bağımlılıklarını .NET Framework 4,8 ' e güncelleştirmedir.</span><span class="sxs-lookup"><span data-stu-id="81401-130">One approach to incrementally upgrade a .NET Framework 4.5 system layer-by-layer is to first update its class library dependencies to .NET Framework 4.8.</span></span> <span data-ttu-id="81401-131">Ardından, bu kitaplıkları .NET Standard sınıf kitaplıkları olacak şekilde değiştirin.</span><span class="sxs-lookup"><span data-stu-id="81401-131">Then, modify these libraries to be .NET Standard class libraries.</span></span> <span data-ttu-id="81401-132">Gerekirse, Çoklu hedefleme ve koşullu derleme kullanın.</span><span class="sxs-lookup"><span data-stu-id="81401-132">Use multi-targeting and conditional compilation, if necessary.</span></span> <span data-ttu-id="81401-133">Bu adım, uygulama bağımlılıklarının .NET Framework gerektirdiği ve .NET Standard ve .NET Core kullanımı kolay bir şekilde doğrudan bağlantı geçirebileceği senaryolarda yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-133">This step can be helpful in scenarios where app dependencies require .NET Framework and cannot easily be ported directly to use .NET Standard and .NET Core.</span></span> <span data-ttu-id="81401-134">.NET Framework kitaplıkları ASP.NET Core 2,1 uygulamaları tarafından tüketilebilmesi için bir sonraki adım, uygulamanın Web işlevselliğinin bazılarını veya tümünü ASP.NET Core 2,1 ' e ( [önceki bölümde](choose-net-core-version.md)açıklandığı gibi) geçirmelidir.</span><span class="sxs-lookup"><span data-stu-id="81401-134">Since .NET Framework libraries can be consumed by ASP.NET Core 2.1 apps, the next step is to migrate some or all of the web functionality of the app to ASP.NET Core 2.1 (as described in the [previous chapter](choose-net-core-version.md)).</span></span> <span data-ttu-id="81401-135">Bu, düşük düzey sınıf kitaplığı bağımlılıklarından başlayıp Web uygulaması giriş noktasına çalışarak bir "alt yukarı" yaklaşımıdır.</span><span class="sxs-lookup"><span data-stu-id="81401-135">This is a "bottom up" approach, starting with low level class library dependencies and working up to the web app entry point.</span></span>

<span data-ttu-id="81401-136">Uygulama ASP.NET Core 2,1 ' de çalışmaya başladıktan sonra, yalıtım ASP.NET Core 3,1 ' e geçişi nispeten basittir.</span><span class="sxs-lookup"><span data-stu-id="81401-136">Once the app is running on ASP.NET Core 2.1, migrating it to ASP.NET Core 3.1 in isolation is relatively straightforward.</span></span> <span data-ttu-id="81401-137">Bu adım sırasında en olası zorluk, .NET Core ve büyük olasılıkla daha yüksek .NET Standard sürümleri desteklemek için uyumsuz bağımlılıkları güncelleştirmedir.</span><span class="sxs-lookup"><span data-stu-id="81401-137">The most likely challenge during this step is updating incompatible dependencies to support .NET Core and possibly higher versions of .NET Standard.</span></span> <span data-ttu-id="81401-138">Yalnızca .NET Framework kitaplıklarında sorunlu bağımlılıkları olmayan uygulamalarda, ASP.NET Core 2,1 ' e yükseltmeniz çok neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-138">For apps that don't have problematic dependencies on .NET Framework-only libraries, there's little reason to upgrade to ASP.NET Core 2.1.</span></span> <span data-ttu-id="81401-139">ASP.NET Core 3,1 ' ye doğrudan taşıma daha anlamlı hale gelir ve daha az çaba gerektirir.</span><span class="sxs-lookup"><span data-stu-id="81401-139">Porting directly to ASP.NET Core 3.1 makes more sense and requires less effort.</span></span>

<span data-ttu-id="81401-140">Uygulamanın .NET Core 3,1 ' de çalıştırıldığı zamana göre, geçerli .NET 5 sürümüne geçiş oldukça düşüktür.</span><span class="sxs-lookup"><span data-stu-id="81401-140">By the time the app is running on .NET Core 3.1, migrating to the current .NET 5 release is relatively painless.</span></span> <span data-ttu-id="81401-141">İşlem öncelikle proje dosyalarınızın hedef çerçevesini ve bunlarla ilişkili NuGet paketi bağımlılıklarını güncellemeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="81401-141">The process primarily involves updating the target framework of your project files and their associated NuGet package dependencies.</span></span> <span data-ttu-id="81401-142">[Göz önünde bulundurulması gereken](../../core/compatibility/5.0.md)birkaç önemli değişiklik olsa da, çoğu uygulama .net Core 3,1 ' den .NET 5 ' e geçmek için önemli değişiklikler gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="81401-142">While there are several [breaking changes to consider](../../core/compatibility/5.0.md), most apps don't require significant modifications to move from .NET Core 3.1 to .NET 5.</span></span> <span data-ttu-id="81401-143">[.NET Core 3,1 ve .NET 5 arasında seçim](choose-net-core-version.md)yaparken birincil karar verme faktörü büyük olasılıkla destek olabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-143">The primary deciding factor in [choosing between .NET Core 3.1 and .NET 5 is likely to be support](choose-net-core-version.md).</span></span>

<span data-ttu-id="81401-144">Bir "alt yukarı" yaklaşımı yerine, başka bir alternatif de Web uygulamasıyla (veya tüm çözümle birlikte) başlamak ve yükseltmeye yardımcı olması için otomatikleştirilmiş bir araç kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="81401-144">Instead of a "bottom up" approach, another alternative is to start with the web app (or even the entire solution) and use an automated tool to assist with the upgrade.</span></span> <span data-ttu-id="81401-145">[.NET Yükseltme Yardımcısı aracı](https://aka.ms/dotnet-upgrade-assistant) , .NET Framework uygulamalarını .NET Core/.NET 5 ' e yükseltmeye yardımcı olmak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-145">The [.NET Upgrade Assistant tool](https://aka.ms/dotnet-upgrade-assistant) can be used to help upgrade .NET Framework apps to .NET Core / .NET 5.</span></span> <span data-ttu-id="81401-146">Proje dosyası biçimini değiştirme, uygun hedef çerçeveleri ayarlama, NuGet bağımlılıklarını güncelleştirme ve daha fazlası gibi uygulamaları yükseltmeyle ilgili birçok ortak görevi otomatikleştirir.</span><span class="sxs-lookup"><span data-stu-id="81401-146">It automates many of the common tasks related to upgrading apps, such as modifying project file format, setting appropriate target frameworks, updating NuGet dependencies, and more.</span></span>

<span data-ttu-id="81401-147">Bir "alt yukarı" yaklaşımı yerine, başka bir alternatif de Web uygulamasıyla (veya tüm çözümle birlikte) başlamak ve yükseltmeye yardımcı olması için otomatikleştirilmiş bir araç kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="81401-147">Instead of a "bottom up" approach, another alternative is to start with the web app (or even the entire solution) and use an automated tool to assist with the upgrade.</span></span> <span data-ttu-id="81401-148">[.NET Yükseltme Yardımcısı aracı](https://aka.ms/dotnet-upgrade-assistant) , .NET Framework uygulamalarını .NET Core/.NET 5 ' e yükseltmeye yardımcı olmak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="81401-148">The [.NET Upgrade Assistant tool](https://aka.ms/dotnet-upgrade-assistant) can be used to help upgrade .NET Framework apps to .NET Core / .NET 5.</span></span> <span data-ttu-id="81401-149">Proje dosyası biçimini değiştirme, uygun hedef çerçeveleri ayarlama, NuGet bağımlılıklarını güncelleştirme ve daha fazlası gibi uygulamaları yükseltmeyle ilgili birçok ortak görevi otomatikleştirir.</span><span class="sxs-lookup"><span data-stu-id="81401-149">It automates many of the common tasks related to upgrading apps, such as modifying project file format, setting appropriate target frameworks, updating NuGet dependencies, and more.</span></span>

## <a name="references"></a><span data-ttu-id="81401-150">Başvurular</span><span class="sxs-lookup"><span data-stu-id="81401-150">References</span></span>

- [<span data-ttu-id="81401-151">.NET Standard nedir?</span><span class="sxs-lookup"><span data-stu-id="81401-151">What is .NET Standard?</span></span>](https://dotnet.microsoft.com/platform/dotnet-standard)
- [<span data-ttu-id="81401-152">.NET 5 tanıtımı</span><span class="sxs-lookup"><span data-stu-id="81401-152">Introducing .NET 5</span></span>](https://devblogs.microsoft.com/dotnet/introducing-net-5/)
- [<span data-ttu-id="81401-153">ASP.NET Core 3,1 ' den 5,0 ' e geçiş yapın</span><span class="sxs-lookup"><span data-stu-id="81401-153">Migrate from ASP.NET Core 3.1 to 5.0</span></span>](/aspnet/core/migration/31-to-50)
- [<span data-ttu-id="81401-154">.NET Yükseltme Yardımcısı aracı</span><span class="sxs-lookup"><span data-stu-id="81401-154">.NET Upgrade Assistant tool</span></span>](https://aka.ms/dotnet-upgrade-assistant)

>[!div class="step-by-step"]
><span data-ttu-id="81401-155">[Önceki](choose-net-core-version.md) 
> [Sonraki](migrate-web-forms.md)</span><span class="sxs-lookup"><span data-stu-id="81401-155">[Previous](choose-net-core-version.md)
[Next](migrate-web-forms.md)</span></span>
