---
title: 'Nasıl yapılır: Yansıma Yayma ile Genel Tür Tanımlama'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- generics [.NET Framework], dynamic types
- reflection emit, generic types
ms.assetid: 07d5f01a-7b5b-40ea-9b15-f21561098fe4
ms.openlocfilehash: b553fd2235c73cf879474dc4f44f958dddcb649c
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73130165"
---
# <a name="how-to-define-a-generic-type-with-reflection-emit"></a><span data-ttu-id="6a29d-102">Nasıl yapılır: Yansıma Yayma ile Genel Tür Tanımlama</span><span class="sxs-lookup"><span data-stu-id="6a29d-102">How to: Define a Generic Type with Reflection Emit</span></span>
<span data-ttu-id="6a29d-103">Bu konu, iki tür parametresiyle basit genel bir tür oluşturmayı, sınıf kısıtlamalarını, arabirim kısıtlamalarını ve özel kısıtlamaları tür parametrelerine uygulamayı ve sınıfın tür parametrelerini parametre türleri olarak kullanan üyelerin nasıl oluşturulacağını gösterir ve dönüş türleri.</span><span class="sxs-lookup"><span data-stu-id="6a29d-103">This topic shows how to create a simple generic type with two type parameters, how to apply class constraints, interface constraints, and special constraints to the type parameters, and how to create members that use the type parameters of the class as parameter types and return types.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="6a29d-104">Yalnızca genel bir türe ait olduğundan ve bu türün tür parametrelerini kullandığından bir yöntem genel değildir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-104">A method is not generic just because it belongs to a generic type and uses the type parameters of that type.</span></span> <span data-ttu-id="6a29d-105">Bir yöntem, yalnızca kendi tür parametresi listesine sahipse geneldir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-105">A method is generic only if it has its own type parameter list.</span></span> <span data-ttu-id="6a29d-106">Bu örnekte olduğu gibi genel türlerde yöntemlerin çoğu genel değildir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-106">Most methods on generic types are not generic, as in this example.</span></span> <span data-ttu-id="6a29d-107">Genel bir yöntem yaymayla ilgili bir örnek için bkz. [nasıl yapılır: yansıma yayma Ile genel yöntem tanımlama](how-to-define-a-generic-method-with-reflection-emit.md).</span><span class="sxs-lookup"><span data-stu-id="6a29d-107">For an example of emitting a generic method, see [How to: Define a Generic Method with Reflection Emit](how-to-define-a-generic-method-with-reflection-emit.md).</span></span>  
  
### <a name="to-define-a-generic-type"></a><span data-ttu-id="6a29d-108">Genel bir tür tanımlamak için</span><span class="sxs-lookup"><span data-stu-id="6a29d-108">To define a generic type</span></span>  
  
1. <span data-ttu-id="6a29d-109">`GenericEmitExample1`adlı bir dinamik derleme tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-109">Define a dynamic assembly named `GenericEmitExample1`.</span></span> <span data-ttu-id="6a29d-110">Bu örnekte, derleme yürütülür ve diske kaydedilir, bu nedenle <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> belirtilir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-110">In this example, the assembly is executed and saved to disk, so <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> is specified.</span></span>  
  
     [!code-cpp[EmitGenericType#2](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#2)]
     [!code-csharp[EmitGenericType#2](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#2)]
     [!code-vb[EmitGenericType#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#2)]  
  
2. <span data-ttu-id="6a29d-111">Dinamik bir modül tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-111">Define a dynamic module.</span></span> <span data-ttu-id="6a29d-112">Bir derleme yürütülebilir modüllerden oluşur.</span><span class="sxs-lookup"><span data-stu-id="6a29d-112">An assembly is made up of executable modules.</span></span> <span data-ttu-id="6a29d-113">Tek modüllü bir derlemede modül adı derleme adıyla aynıdır ve dosya adı modül adı artı bir uzantıdır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-113">For a single-module assembly, the module name is the same as the assembly name, and the file name is the module name plus an extension.</span></span>  
  
     [!code-cpp[EmitGenericType#3](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#3)]
     [!code-csharp[EmitGenericType#3](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#3)]
     [!code-vb[EmitGenericType#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#3)]  
  
3. <span data-ttu-id="6a29d-114">Bir sınıf tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-114">Define a class.</span></span> <span data-ttu-id="6a29d-115">Bu örnekte, sınıfı `Sample`olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-115">In this example, the class is named `Sample`.</span></span>  
  
     [!code-cpp[EmitGenericType#4](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#4)]
     [!code-csharp[EmitGenericType#4](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#4)]
     [!code-vb[EmitGenericType#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#4)]  
  
4. <span data-ttu-id="6a29d-116">Parametrelerinin adlarını içeren bir dize dizisini <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> yöntemine geçirerek `Sample` genel tür parametrelerini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-116">Define the generic type parameters of `Sample` by passing an array of strings containing the names of the parameters to the <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="6a29d-117">Bu, sınıfı genel bir tür yapar.</span><span class="sxs-lookup"><span data-stu-id="6a29d-117">This makes the class a generic type.</span></span> <span data-ttu-id="6a29d-118">Dönüş değeri, oluşturulan kodunuzda kullanılabilen tür parametrelerini temsil eden <xref:System.Reflection.Emit.GenericTypeParameterBuilder> nesnelerden oluşan bir dizidir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-118">The return value is an array of <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objects representing the type parameters, which can be used in your emitted code.</span></span>  
  
     <span data-ttu-id="6a29d-119">Aşağıdaki kodda, `Sample` tür parametreleri `TFirst` ve `TSecond`olan genel bir tür haline gelir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-119">In the following code, `Sample` becomes a generic type with type parameters `TFirst` and `TSecond`.</span></span> <span data-ttu-id="6a29d-120">Kodu daha kolay okunabilir hale getirmek için her <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, tür parametresiyle aynı ada sahip bir değişkene yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-120">To make the code easier to read, each <xref:System.Reflection.Emit.GenericTypeParameterBuilder> is placed in a variable with the same name as the type parameter.</span></span>  
  
     [!code-cpp[EmitGenericType#5](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#5)]
     [!code-csharp[EmitGenericType#5](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#5)]
     [!code-vb[EmitGenericType#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#5)]  
  
5. <span data-ttu-id="6a29d-121">Tür parametrelerine özel kısıtlamalar ekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a29d-121">Add special constraints to the type parameters.</span></span> <span data-ttu-id="6a29d-122">Bu örnekte, `TFirst` parametresi parametresiz oluşturucular olan türler ve başvuru türleri için kısıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-122">In this example, type parameter `TFirst` is constrained to types that have parameterless constructors, and to reference types.</span></span>  
  
     [!code-cpp[EmitGenericType#6](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#6)]
     [!code-csharp[EmitGenericType#6](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#6)]
     [!code-vb[EmitGenericType#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#6)]  
  
6. <span data-ttu-id="6a29d-123">İsteğe bağlı olarak tür parametrelerine sınıf ve arabirim kısıtlamaları ekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a29d-123">Optionally add class and interface constraints to the type parameters.</span></span> <span data-ttu-id="6a29d-124">Bu örnekte, `TFirst` parametresi, değişken `baseType`bulunan <xref:System.Type> nesne tarafından temsil edilen temel sınıftan türetilmiş türler için kısıtlanmıştır ve türleri değişkenlerde bulunan arabirimleri uygular `interfaceA` ve @no __t_4_ .</span><span class="sxs-lookup"><span data-stu-id="6a29d-124">In this example, type parameter `TFirst` is constrained to types that derive from the base class represented by the <xref:System.Type> object contained in the variable `baseType`, and that implement the interfaces whose types are contained in the variables `interfaceA` and `interfaceB`.</span></span> <span data-ttu-id="6a29d-125">Bu değişkenlerin bildirimi ve atanması için kod örneğine bakın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-125">See the code example for the declaration and assignment of these variables.</span></span>  
  
     [!code-cpp[EmitGenericType#7](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#7)]
     [!code-csharp[EmitGenericType#7](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#7)]
     [!code-vb[EmitGenericType#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#7)]  
  
7. <span data-ttu-id="6a29d-126">Bir alan tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-126">Define a field.</span></span> <span data-ttu-id="6a29d-127">Bu örnekte, alanın türü tür parametresiyle belirtilir `TFirst`.</span><span class="sxs-lookup"><span data-stu-id="6a29d-127">In this example, the type of the field is specified by type parameter `TFirst`.</span></span> <span data-ttu-id="6a29d-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder> <xref:System.Type>türetilir, böylece bir tür kullanılabilir her yerde genel tür parametrelerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6a29d-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder> derives from <xref:System.Type>, so you can use generic type parameters anywhere a type can be used.</span></span>  
  
     [!code-cpp[EmitGenericType#21](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#21)]
     [!code-csharp[EmitGenericType#21](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#21)]
     [!code-vb[EmitGenericType#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#21)]  
  
8. <span data-ttu-id="6a29d-129">Genel türün tür parametrelerini kullanan bir yöntem tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-129">Define a method that uses the type parameters of the generic type.</span></span> <span data-ttu-id="6a29d-130">Bu tür yöntemlerin, kendi tür parametre listelerine sahip olmadıkları müddetçe genel olmadığına unutmayın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-130">Note that such methods are not generic unless they have their own type parameter lists.</span></span> <span data-ttu-id="6a29d-131">Aşağıdaki kod, bir `TFirst` dizisi alan ve dizinin tüm öğelerini içeren bir `List<TFirst>` (`List(Of TFirst)`) döndüren bir `static` yöntemi (Visual Basic`Shared`) tanımlar.</span><span class="sxs-lookup"><span data-stu-id="6a29d-131">The following code defines a `static` method (`Shared` in Visual Basic) that takes an array of `TFirst` and returns a `List<TFirst>` (`List(Of TFirst)` in Visual Basic) containing all the elements of the array.</span></span> <span data-ttu-id="6a29d-132">Bu yöntemi tanımlamak için, <xref:System.Type.MakeGenericType%2A> genel tür tanımına `List<T>`çağırarak tür `List<TFirst>` oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-132">To define this method, it is necessary to create the type `List<TFirst>` by calling <xref:System.Type.MakeGenericType%2A> on the generic type definition, `List<T>`.</span></span> <span data-ttu-id="6a29d-133">(`T`, genel tür tanımını almak için `typeof` işlecini (Visual Basic içinde`GetType`) kullandığınızda atlanır.) Parametre türü <xref:System.Type.MakeArrayType%2A> yöntemi kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6a29d-133">(The `T` is omitted when you use the `typeof` operator (`GetType` in Visual Basic) to get the generic type definition.) The parameter type is created by using the <xref:System.Type.MakeArrayType%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#22](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#22)]
     [!code-csharp[EmitGenericType#22](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#22)]
     [!code-vb[EmitGenericType#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#22)]  
  
9. <span data-ttu-id="6a29d-134">Yöntem gövdesini yay.</span><span class="sxs-lookup"><span data-stu-id="6a29d-134">Emit the method body.</span></span> <span data-ttu-id="6a29d-135">Yöntem gövdesi, giriş dizisini yığına yükleyen üç opbebeden oluşur, `IEnumerable<TFirst>` (giriş öğelerini listeye yerleştirme tüm işleri yapar) `List<TFirst>` oluşturucusunu çağırır ve (yığında yeni <xref:System.Collections.Generic.List%601> nesnesini bırakır).</span><span class="sxs-lookup"><span data-stu-id="6a29d-135">The method body consists of three opcodes that load the input array onto the stack, call the `List<TFirst>` constructor that takes `IEnumerable<TFirst>` (which does all the work of putting the input elements into the list), and return (leaving the new <xref:System.Collections.Generic.List%601> object on the stack).</span></span> <span data-ttu-id="6a29d-136">Bu kodu yayın zor kısmı oluşturucuyu alıyor.</span><span class="sxs-lookup"><span data-stu-id="6a29d-136">The difficult part of emitting this code is getting the constructor.</span></span>  
  
     <span data-ttu-id="6a29d-137"><xref:System.Type.GetConstructor%2A> yöntemi <xref:System.Reflection.Emit.GenericTypeParameterBuilder>desteklenmez, bu nedenle `List<TFirst>` oluşturucusunu doğrudan almak mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-137">The <xref:System.Type.GetConstructor%2A> method is not supported on a <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, so it is not possible to get the constructor of `List<TFirst>` directly.</span></span> <span data-ttu-id="6a29d-138">İlk olarak, genel tür tanımı `List<T>` oluşturucusunu almak ve sonra karşılık gelen `List<TFirst>`oluşturucusuna dönüştüren bir yöntemi çağırmak gereklidir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-138">First, it is necessary to get the constructor of the generic type definition `List<T>` and then to call a method that converts it to the corresponding constructor of `List<TFirst>`.</span></span>  
  
     <span data-ttu-id="6a29d-139">Bu kod örneği için kullanılan Oluşturucu bir `IEnumerable<T>`alır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-139">The constructor used for this code example takes an `IEnumerable<T>`.</span></span> <span data-ttu-id="6a29d-140">Bununla birlikte, bunun <xref:System.Collections.Generic.IEnumerable%601> genel arabiriminin genel tür tanımı olmadığına unutmayın; Bunun yerine, `List<T>` tür `T` parametresi `IEnumerable<T>``T` tür parametresi için yerine kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-140">Note, however, that this is not the generic type definition of the <xref:System.Collections.Generic.IEnumerable%601> generic interface; instead, the type parameter `T` from `List<T>` must be substituted for the type parameter `T` of `IEnumerable<T>`.</span></span> <span data-ttu-id="6a29d-141">(Bu, her iki tür de `T`adlı tür parametrelerine sahip olduğundan kafa karıştırıcı görünmektedir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-141">(This seems confusing only because both types have type parameters named `T`.</span></span> <span data-ttu-id="6a29d-142">Bu nedenle, bu kod örneği `TFirst` ve `TSecond`adlarını kullanır.) Oluşturucu bağımsız değişkeninin türünü almak için, genel tür tanımı `IEnumerable<T>` başlatın ve `List<T>`ilk genel tür parametresiyle <xref:System.Type.MakeGenericType%2A> çağırın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-142">That is why this code example uses the names `TFirst` and `TSecond`.) To get the type of the constructor argument, start with the generic type definition `IEnumerable<T>` and call <xref:System.Type.MakeGenericType%2A> with the first generic type parameter of `List<T>`.</span></span> <span data-ttu-id="6a29d-143">Oluşturucu bağımsız değişken listesi, bu durumda yalnızca bir bağımsız değişken ile bir dizi olarak geçirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-143">The constructor argument list must be passed as an array, with just one argument in this case.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="6a29d-144">Genel tür tanımı, içinde C#`typeof` işlecini kullandığınızda veya Visual Basic `GetType` işlecini kullandığınızda `IEnumerable(Of )` `IEnumerable<>` olarak ifade edilir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-144">The generic type definition is expressed as `IEnumerable<>` when you use the `typeof` operator in C#, or `IEnumerable(Of )` when you use the `GetType` operator in Visual Basic.</span></span>  
  
     <span data-ttu-id="6a29d-145">Artık, genel tür tanımında <xref:System.Type.GetConstructor%2A> çağırarak `List<T>` oluşturucusunu almak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="6a29d-145">Now it is possible to get the constructor of `List<T>` by calling <xref:System.Type.GetConstructor%2A> on the generic type definition.</span></span> <span data-ttu-id="6a29d-146">Bu oluşturucuyu karşılık gelen `List<TFirst>`oluşturucusuna dönüştürmek için, `List<T>` `List<TFirst>` ve oluşturucuyu statik <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> metoduna geçirin.</span><span class="sxs-lookup"><span data-stu-id="6a29d-146">To convert this constructor to the corresponding constructor of `List<TFirst>`, pass `List<TFirst>` and the constructor from `List<T>` to the static <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> method.</span></span>  
  
     [!code-cpp[EmitGenericType#23](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#23)]
     [!code-csharp[EmitGenericType#23](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#23)]
     [!code-vb[EmitGenericType#23](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#23)]  
  
10. <span data-ttu-id="6a29d-147">Türü oluşturun ve dosyayı kaydedin.</span><span class="sxs-lookup"><span data-stu-id="6a29d-147">Create the type and save the file.</span></span>  
  
     [!code-cpp[EmitGenericType#8](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#8)]
     [!code-csharp[EmitGenericType#8](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#8)]
     [!code-vb[EmitGenericType#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#8)]  
  
11. <span data-ttu-id="6a29d-148">Yöntemi çağırın.</span><span class="sxs-lookup"><span data-stu-id="6a29d-148">Invoke the method.</span></span> <span data-ttu-id="6a29d-149">`ExampleMethod` genel değildir ancak ait olduğu tür geneldir, bu nedenle çağrılabilecek bir <xref:System.Reflection.MethodInfo> almak için `Sample`tür tanımından oluşturulmuş bir tür oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-149">`ExampleMethod` is not generic, but the type it belongs to is generic, so in order to get a <xref:System.Reflection.MethodInfo> that can be invoked it is necessary to create a constructed type from the type definition for `Sample`.</span></span> <span data-ttu-id="6a29d-150">Oluşturulan tür, bir başvuru türü olduğundan ve varsayılan parametresiz oluşturucusu ve `TSecond`kısıtlamalarını karşılayan `ExampleDerived` sınıfı olduğundan, `TFirst` kısıtlamalarını karşılayan `Example` sınıfını kullanır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-150">The constructed type uses the `Example` class, which satisfies the constraints on `TFirst` because it is a reference type and has a default parameterless constructor, and the `ExampleDerived` class which satisfies the constraints on `TSecond`.</span></span> <span data-ttu-id="6a29d-151">(`ExampleDerived` kodu örnek kod bölümünde bulunabilir.) Bu iki tür, oluşturulan türü oluşturmak için <xref:System.Type.MakeGenericType%2A> geçirilir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-151">(The code for `ExampleDerived` can be found in the example code section.) These two types are passed to <xref:System.Type.MakeGenericType%2A> to create the constructed type.</span></span> <span data-ttu-id="6a29d-152"><xref:System.Reflection.MethodInfo> daha sonra <xref:System.Type.GetMethod%2A> yöntemi kullanılarak elde edilir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-152">The <xref:System.Reflection.MethodInfo> is then obtained using the <xref:System.Type.GetMethod%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#9](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#9)]
     [!code-csharp[EmitGenericType#9](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#9)]
     [!code-vb[EmitGenericType#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#9)]  
  
12. <span data-ttu-id="6a29d-153">Aşağıdaki kod `Example` nesnelerinin bir dizisini oluşturur, bu diziyi, çağrılacak yöntemin bağımsız değişkenlerini temsil eden <xref:System.Object> türünde bir diziye koyar ve bunları <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> yöntemine geçirir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-153">The following code creates an array of `Example` objects, places that array in an array of type <xref:System.Object> representing the arguments of the method to be invoked, and passes them to the <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> method.</span></span> <span data-ttu-id="6a29d-154">Yöntem `static`olduğundan <xref:System.Reflection.MethodBase.Invoke%2A> yönteminin ilk bağımsız değişkeni null bir başvurudur.</span><span class="sxs-lookup"><span data-stu-id="6a29d-154">The first argument of the <xref:System.Reflection.MethodBase.Invoke%2A> method is a null reference because the method is `static`.</span></span>  
  
     [!code-cpp[EmitGenericType#10](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#10)]
     [!code-csharp[EmitGenericType#10](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#10)]
     [!code-vb[EmitGenericType#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#10)]  
  
## <a name="example"></a><span data-ttu-id="6a29d-155">Örnek</span><span class="sxs-lookup"><span data-stu-id="6a29d-155">Example</span></span>  
 <span data-ttu-id="6a29d-156">Aşağıdaki kod örneği, bir temel sınıf ve iki arabirim ile birlikte `Sample`adlı bir sınıfı tanımlar.</span><span class="sxs-lookup"><span data-stu-id="6a29d-156">The following code example defines a class named `Sample`, along with a base class and two interfaces.</span></span> <span data-ttu-id="6a29d-157">Program `Sample`için iki genel tür parametresi tanımlar ve genel bir türe dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="6a29d-157">The program defines two generic type parameters for `Sample`, turning it into a generic type.</span></span> <span data-ttu-id="6a29d-158">Tür parametreleri, bir türü genel yapan tek şeydir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-158">Type parameters are the only thing that makes a type generic.</span></span> <span data-ttu-id="6a29d-159">Program, tür parametrelerinin tanımından önce ve sonra bir test iletisi görüntüleyerek bunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-159">The program shows this by displaying a test message before and after the definition of the type parameters.</span></span>  
  
 <span data-ttu-id="6a29d-160">Tür parametresi `TSecond`, temel sınıf ve arabirimleri kullanarak sınıf ve arabirim kısıtlamalarını göstermek için kullanılır ve `TFirst` tür parametresi özel kısıtlamaları göstermek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-160">The type parameter `TSecond` is used to demonstrate class and interface constraints, using the base class and interfaces, and the type parameter `TFirst` is used to demonstrate special constraints.</span></span>  
  
 <span data-ttu-id="6a29d-161">Kod örneği, alan türü için sınıfın tür parametrelerini ve yönteminin parametre ve dönüş türünü kullanarak bir alanı ve yöntemi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="6a29d-161">The code example defines a field and a method using the class's type parameters for the field type and for the parameter and return type of the method.</span></span>  
  
 <span data-ttu-id="6a29d-162">`Sample` sınıfı oluşturulduktan sonra yöntem çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-162">After the `Sample` class has been created, the method is invoked.</span></span>  
  
 <span data-ttu-id="6a29d-163">Program, bir genel tür hakkındaki bilgileri ve bir tür parametresindeki özel kısıtlamaları listeleyen bir yöntemi içerir.</span><span class="sxs-lookup"><span data-stu-id="6a29d-163">The program includes a method that lists information about a generic type, and a method that lists the special constraints on a type parameter.</span></span> <span data-ttu-id="6a29d-164">Bu yöntemler, tamamlanmış `Sample` sınıfıyla ilgili bilgileri göstermek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6a29d-164">These methods are used to display information about the finished `Sample` class.</span></span>  
  
 <span data-ttu-id="6a29d-165">Program, tamamlanmış modülü diske `GenericEmitExample1.dll`olarak kaydeder, böylece [ıldadsm. exe (IL Disassembler)](../tools/ildasm-exe-il-disassembler.md) ile açabilir ve `Sample` sınıfı için MSIL 'yi inceleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6a29d-165">The program saves the finished module to disk as `GenericEmitExample1.dll`, so you can open it with the [Ildasm.exe (IL Disassembler)](../tools/ildasm-exe-il-disassembler.md) and examine the MSIL for the `Sample` class.</span></span>  
  
 [!code-cpp[EmitGenericType#1](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#1)]
 [!code-csharp[EmitGenericType#1](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#1)]
 [!code-vb[EmitGenericType#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#1)]  
  
## <a name="see-also"></a><span data-ttu-id="6a29d-166">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="6a29d-166">See also</span></span>

- <xref:System.Reflection.Emit.GenericTypeParameterBuilder>
- <span data-ttu-id="6a29d-167">[Yansıma yayma kullanma](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/3y322t50(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="6a29d-167">[Using Reflection Emit](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/3y322t50(v=vs.100))</span></span>
- <span data-ttu-id="6a29d-168">[Yansıma yayma dinamik derleme senaryoları](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/tt9483fk(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="6a29d-168">[Reflection Emit Dynamic Assembly Scenarios](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/tt9483fk(v=vs.100))</span></span>
