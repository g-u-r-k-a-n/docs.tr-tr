---
title: Temsilci Kullanma - C# Programlama Kılavuzu
ms.date: 07/20/2015
helpviewer_keywords:
- delegates [C#], how to use
ms.assetid: 99a2fc27-a32e-4a34-921c-e65497520eec
ms.openlocfilehash: dcc73aba738d6296a44c48aad8b66cd6fc7f4a7b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "77448445"
---
# <a name="using-delegates-c-programming-guide"></a><span data-ttu-id="835ce-102">Temsilcileri Kullanma (C# Programlama Kılavuzu)</span><span class="sxs-lookup"><span data-stu-id="835ce-102">Using Delegates (C# Programming Guide)</span></span>

<span data-ttu-id="835ce-103">[Temsilci,](../../language-reference/builtin-types/reference-types.md) C ve C++'daki işlev işaretçisine benzer bir yöntemi güvenli bir şekilde kapsülleyen bir türdür.</span><span class="sxs-lookup"><span data-stu-id="835ce-103">A [delegate](../../language-reference/builtin-types/reference-types.md) is a type that safely encapsulates a method, similar to a function pointer in C and C++.</span></span> <span data-ttu-id="835ce-104">C işlev işaretçilerinin aksine, temsilciler nesne yönelimli, yazı güvenli ve güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="835ce-104">Unlike C function pointers, delegates are object-oriented, type safe, and secure.</span></span> <span data-ttu-id="835ce-105">Temsilcinin türü, temsilcinin adıyla tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="835ce-105">The type of a delegate is defined by the name of the delegate.</span></span> <span data-ttu-id="835ce-106">Aşağıdaki örnek, bir `Del` [dizeyi](../../language-reference/builtin-types/reference-types.md) bağımsız değişken olarak alan ve [geçersiz](../../language-reference/builtin-types/void.md)döndüren bir yöntemi kapsülleyebilen adlandırılmış bir temsilci bildirir:</span><span class="sxs-lookup"><span data-stu-id="835ce-106">The following example declares a delegate named `Del` that can encapsulate a method that takes a [string](../../language-reference/builtin-types/reference-types.md) as an argument and returns [void](../../language-reference/builtin-types/void.md):</span></span>

[!code-csharp[csProgGuideDelegates#21](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#21)]

<span data-ttu-id="835ce-107">Bir temsilci nesnesi normalde temsilcinin sarılacağı yöntemin adını sağlayarak veya anonim bir [işlevle](../statements-expressions-operators/anonymous-functions.md)oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="835ce-107">A delegate object is normally constructed by providing the name of the method the delegate will wrap, or with an [anonymous function](../statements-expressions-operators/anonymous-functions.md).</span></span> <span data-ttu-id="835ce-108">Bir temsilci anında alındıktan sonra, temsilciye yapılan bir yöntem çağrısı bu yönteme temsilci tarafından geçirilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-108">Once a delegate is instantiated, a method call made to the delegate will be passed by the delegate to that method.</span></span> <span data-ttu-id="835ce-109">Arayan tarafından temsilciye geçirilen parametreler yönteme aktarılır ve yöntemden gelen iade değeri temsilci tarafından arayanın döndürülür.</span><span class="sxs-lookup"><span data-stu-id="835ce-109">The parameters passed to the delegate by the caller are passed to the method, and the return value, if any, from the method is returned to the caller by the delegate.</span></span> <span data-ttu-id="835ce-110">Bu, temsilciyi çağırmak olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="835ce-110">This is known as invoking the delegate.</span></span> <span data-ttu-id="835ce-111">Anlık bir temsilci, sarılmış yöntemin kendisiymiş gibi çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-111">An instantiated delegate can be invoked as if it were the wrapped method itself.</span></span> <span data-ttu-id="835ce-112">Örnek:</span><span class="sxs-lookup"><span data-stu-id="835ce-112">For example:</span></span>

[!code-csharp[csProgGuideDelegates#22](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#22)]  

[!code-csharp[csProgGuideDelegates#23](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#23)]

<span data-ttu-id="835ce-113">.NET Framework'deki <xref:System.Delegate> sınıftan temsilci türleri türetilmiştir.</span><span class="sxs-lookup"><span data-stu-id="835ce-113">Delegate types are derived from the <xref:System.Delegate> class in the .NET Framework.</span></span> <span data-ttu-id="835ce-114">Temsilci türleri [mühürlenir](../../language-reference/keywords/sealed.md)—türetilemezler- ve özel sınıflardan türemesi mümkün <xref:System.Delegate>değildir.</span><span class="sxs-lookup"><span data-stu-id="835ce-114">Delegate types are [sealed](../../language-reference/keywords/sealed.md)—they cannot be derived from— and it is not possible to derive custom classes from <xref:System.Delegate>.</span></span> <span data-ttu-id="835ce-115">Anlık temsilci bir nesne olduğundan, parametre olarak geçirilebilir veya bir özelliğe atanabilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-115">Because the instantiated delegate is an object, it can be passed as a parameter, or assigned to a property.</span></span> <span data-ttu-id="835ce-116">Bu, bir yöntemin bir temsilciyi parametre olarak kabul etmesine ve daha sonra temsilciyi aramasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="835ce-116">This allows a method to accept a delegate as a parameter, and call the delegate at some later time.</span></span> <span data-ttu-id="835ce-117">Bu, eşzamanlı geri arama olarak bilinir ve uzun bir işlem tamamlandığında arayanın bildirilmesi için yaygın bir yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="835ce-117">This is known as an asynchronous callback, and is a common method of notifying a caller when a long process has completed.</span></span> <span data-ttu-id="835ce-118">Bu şekilde bir temsilci kullanıldığında, temsilciyi kullanan kodun kullanılan yöntemin uygulanması hakkında herhangi bir bilgiye ihtiyacı yoktur.</span><span class="sxs-lookup"><span data-stu-id="835ce-118">When a delegate is used in this fashion, the code using the delegate does not need any knowledge of the implementation of the method being used.</span></span> <span data-ttu-id="835ce-119">İşlevsellik kapsülleme arabirimleri sağlamak benzer.</span><span class="sxs-lookup"><span data-stu-id="835ce-119">The functionality is similar to the encapsulation interfaces provide.</span></span>

<span data-ttu-id="835ce-120">Geri aramaların başka bir yaygın kullanımı, özel bir karşılaştırma yöntemi tanımlamak ve bu temsilciyi bir sıralama yöntemine geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="835ce-120">Another common use of callbacks is defining a custom comparison method and passing that delegate to a sort method.</span></span> <span data-ttu-id="835ce-121">Arayanın kodunun sıralama algoritmasının bir parçası olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="835ce-121">It allows the caller's code to become part of the sort algorithm.</span></span> <span data-ttu-id="835ce-122">Aşağıdaki örnek yöntem `Del` parametre olarak türü kullanır:</span><span class="sxs-lookup"><span data-stu-id="835ce-122">The following example method uses the `Del` type as a parameter:</span></span>

[!code-csharp[csProgGuideDelegates#24](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#24)]

<span data-ttu-id="835ce-123">Daha sonra yukarıda oluşturulan temsilciyi bu yönteme geçirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="835ce-123">You can then pass the delegate created above to that method:</span></span>

[!code-csharp[csProgGuideDelegates#25](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#25)]

<span data-ttu-id="835ce-124">ve konsola aşağıdaki çıktıyı alın:</span><span class="sxs-lookup"><span data-stu-id="835ce-124">and receive the following output to the console:</span></span>

```console
The number is: 3
```

<span data-ttu-id="835ce-125">Temsilciyi soyutlama olarak kullanmak, `MethodWithCallback` konsolu doğrudan aramanız gerekmez-konsol göz önünde bulundurularak tasarlanmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="835ce-125">Using the delegate as an abstraction, `MethodWithCallback` does not need to call the console directly—it does not have to be designed with a console in mind.</span></span> <span data-ttu-id="835ce-126">Ne `MethodWithCallback` yapar sadece bir dize hazırlamak ve başka bir yöntem için dize geçmektir.</span><span class="sxs-lookup"><span data-stu-id="835ce-126">What `MethodWithCallback` does is simply prepare a string and pass the string to another method.</span></span> <span data-ttu-id="835ce-127">Bu, özellikle devralınan bir yöntem herhangi bir sayıda parametre kullanabildiği için güçlüdür.</span><span class="sxs-lookup"><span data-stu-id="835ce-127">This is especially powerful since a delegated method can use any number of parameters.</span></span>

<span data-ttu-id="835ce-128">Bir örnek yöntemini sarmak için bir temsilci oluşturulduğunda, temsilci hem örnek hem de yönteme başvurur.</span><span class="sxs-lookup"><span data-stu-id="835ce-128">When a delegate is constructed to wrap an instance method, the delegate references both the instance and the method.</span></span> <span data-ttu-id="835ce-129">Bir temsilcinin, saran yöntemdışında örnek türü hakkında hiçbir bilgisi yoktur, bu nedenle temsilci, bu nesnede temsilci imzasıyla eşleşen bir yöntem olduğu sürece herhangi bir nesne türüne başvurabilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-129">A delegate has no knowledge of the instance type aside from the method it wraps, so a delegate can refer to any type of object as long as there is a method on that object that matches the delegate signature.</span></span> <span data-ttu-id="835ce-130">Statik bir yöntemi sarmak için bir temsilci oluşturulduğunda, yalnızca yönteme başvurur.</span><span class="sxs-lookup"><span data-stu-id="835ce-130">When a delegate is constructed to wrap a static method, it only references the method.</span></span> <span data-ttu-id="835ce-131">Aşağıdaki bildirimleri dikkate alın:</span><span class="sxs-lookup"><span data-stu-id="835ce-131">Consider the following declarations:</span></span>

[!code-csharp[csProgGuideDelegates#26](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#26)]

<span data-ttu-id="835ce-132">Daha önce `DelegateMethod` gösterilen statik ile birlikte, şimdi bir `Del` örnek tarafından sarılmış olabilir üç yöntem var.</span><span class="sxs-lookup"><span data-stu-id="835ce-132">Along with the static `DelegateMethod` shown previously, we now have three methods that can be wrapped by a `Del` instance.</span></span>

<span data-ttu-id="835ce-133">Bir temsilci çağrıldığınızda birden fazla yöntemi çağırabilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-133">A delegate can call more than one method when invoked.</span></span> <span data-ttu-id="835ce-134">Buna çok döküm denir.</span><span class="sxs-lookup"><span data-stu-id="835ce-134">This is referred to as multicasting.</span></span> <span data-ttu-id="835ce-135">Temsilcinin yöntem listesine ek bir yöntem eklemek için çağırma listesi, ek veya ek atama işleçlerini ('+' veya '+=') kullanarak iki temsilci eklemeyi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="835ce-135">To add an extra method to the delegate's list of methods—the invocation list—simply requires adding two delegates using the addition or addition assignment operators ('+' or '+=').</span></span> <span data-ttu-id="835ce-136">Örnek:</span><span class="sxs-lookup"><span data-stu-id="835ce-136">For example:</span></span>

[!code-csharp[csProgGuideDelegates#27](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#27)]

<span data-ttu-id="835ce-137">`allMethodsDelegate` Bu noktada, çağrı listesinde üç yöntem`Method1` `Method2`içerir— `DelegateMethod`, , ve .</span><span class="sxs-lookup"><span data-stu-id="835ce-137">At this point `allMethodsDelegate` contains three methods in its invocation list—`Method1`, `Method2`, and `DelegateMethod`.</span></span> <span data-ttu-id="835ce-138">Orijinal üç delege, `d1` `d2`, `d3`, ve , değişmeden kalır.</span><span class="sxs-lookup"><span data-stu-id="835ce-138">The original three delegates, `d1`, `d2`, and `d3`, remain unchanged.</span></span> <span data-ttu-id="835ce-139">Çağrıldığında, `allMethodsDelegate` üç yöntem sırayla çağrılır.</span><span class="sxs-lookup"><span data-stu-id="835ce-139">When `allMethodsDelegate` is invoked, all three methods are called in order.</span></span> <span data-ttu-id="835ce-140">Temsilci başvuru parametrelerini kullanırsa, başvuru sırayla üç yöntemin her birine sırayla geçirilir ve bir yöntemle yapılan değişiklikler sonraki yöntemtarafından görülebilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-140">If the delegate uses reference parameters, the reference is passed sequentially to each of the three methods in turn, and any changes by one method are visible to the next method.</span></span> <span data-ttu-id="835ce-141">Yöntemlerden herhangi biri yöntem içinde yakalanmayan bir özel durum attığında, bu özel durum temsilcinin arayanına geçirilir ve çağırma listesinde sonraki yöntemler çağrılmez.</span><span class="sxs-lookup"><span data-stu-id="835ce-141">When any of the methods throws an exception that is not caught within the method, that exception is passed to the caller of the delegate and no subsequent methods in the invocation list are called.</span></span> <span data-ttu-id="835ce-142">Temsilcinin bir iade değeri ve/veya çıkış parametreleri varsa, çağrılan son yöntemin iade değerini ve parametrelerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="835ce-142">If the delegate has a return value and/or out parameters, it returns the return value and parameters of the last method invoked.</span></span> <span data-ttu-id="835ce-143">Bir yöntemi çağırma listesinden kaldırmak [için, çıkarma veya çıkarma atama işleçlerini](../../language-reference/operators/subtraction-operator.md) (veya)`-` `-=`kullanın.</span><span class="sxs-lookup"><span data-stu-id="835ce-143">To remove a method from the invocation list, use the [subtraction or subtraction assignment operators](../../language-reference/operators/subtraction-operator.md) (`-` or `-=`).</span></span> <span data-ttu-id="835ce-144">Örnek:</span><span class="sxs-lookup"><span data-stu-id="835ce-144">For example:</span></span>

[!code-csharp[csProgGuideDelegates#28](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#28)]

<span data-ttu-id="835ce-145">Temsilci türleri türetildiği `System.Delegate`için, bu sınıf tarafından tanımlanan yöntemler ve özellikler temsilciye çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="835ce-145">Because delegate types are derived from `System.Delegate`, the methods and properties defined by that class can be called on the delegate.</span></span> <span data-ttu-id="835ce-146">Örneğin, bir temsilcinin çağrı listesindeki yöntem sayısını bulmak için şunları yazabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="835ce-146">For example, to find the number of methods in a delegate's invocation list, you may write:</span></span>

[!code-csharp[csProgGuideDelegates#29](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#29)]

<span data-ttu-id="835ce-147">Çağrı listelerinde birden fazla yöntemi olan temsilciler <xref:System.MulticastDelegate>, `System.Delegate`'nin bir alt sınıfıdır.</span><span class="sxs-lookup"><span data-stu-id="835ce-147">Delegates with more than one method in their invocation list derive from <xref:System.MulticastDelegate>, which is a subclass of `System.Delegate`.</span></span> <span data-ttu-id="835ce-148">Her iki sınıf desteği, `GetInvocationList`çünkü yukarıdaki kod her iki durumda da çalışır.</span><span class="sxs-lookup"><span data-stu-id="835ce-148">The above code works in either case because both classes support `GetInvocationList`.</span></span>

<span data-ttu-id="835ce-149">Çok noktaya yayın delegeleri olay işlemede yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="835ce-149">Multicast delegates are used extensively in event handling.</span></span> <span data-ttu-id="835ce-150">Olay kaynağı nesneler, olay bildirimini bu olayı almak için kaydolan alıcı nesnelere gönderir.</span><span class="sxs-lookup"><span data-stu-id="835ce-150">Event source objects send event notifications to recipient objects that have registered to receive that event.</span></span> <span data-ttu-id="835ce-151">Bir olay için kaydolmak için, alıcı olayı işlemek için tasarlanmış bir yöntem oluşturur, sonra bu yöntem için bir temsilci oluşturur ve temsilciyi olay kaynağına geçirir.</span><span class="sxs-lookup"><span data-stu-id="835ce-151">To register for an event, the recipient creates a method designed to handle the event, then creates a delegate for that method and passes the delegate to the event source.</span></span> <span data-ttu-id="835ce-152">Olay gerçekleştiğinde kaynak temsilciyi çağırır.</span><span class="sxs-lookup"><span data-stu-id="835ce-152">The source calls the delegate when the event occurs.</span></span> <span data-ttu-id="835ce-153">Temsilci daha sonra olay verilerini teslim ederek alıcıüzerinde olay işleme yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="835ce-153">The delegate then calls the event handling method on the recipient, delivering the event data.</span></span> <span data-ttu-id="835ce-154">Belirli bir olayın temsilci türü olay kaynağı tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="835ce-154">The delegate type for a given event is defined by the event source.</span></span> <span data-ttu-id="835ce-155">Daha fazla için [Etkinlikler'e](../events/index.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="835ce-155">For more, see [Events](../events/index.md).</span></span>

<span data-ttu-id="835ce-156">Derleme zamanında atanan iki farklı türdeki temsilcilerin karşılaştırılması bir derleme hatasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="835ce-156">Comparing delegates of two different types assigned at compile-time will result in a compilation error.</span></span> <span data-ttu-id="835ce-157">Temsilci örnekleri statik olarak türün `System.Delegate`durumunda, karşılaştırmaya izin verilir, ancak çalışma zamanında yanlış döndürülecektir.</span><span class="sxs-lookup"><span data-stu-id="835ce-157">If the delegate instances are statically of the type `System.Delegate`, then the comparison is allowed, but will return false at run time.</span></span> <span data-ttu-id="835ce-158">Örnek:</span><span class="sxs-lookup"><span data-stu-id="835ce-158">For example:</span></span>

[!code-csharp[csProgGuideDelegates#30](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#30)]

## <a name="see-also"></a><span data-ttu-id="835ce-159">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="835ce-159">See also</span></span>

- [<span data-ttu-id="835ce-160">C# Programlama Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="835ce-160">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="835ce-161">Temsilciler</span><span class="sxs-lookup"><span data-stu-id="835ce-161">Delegates</span></span>](./index.md)
- [<span data-ttu-id="835ce-162">Temsilcilerde Varyans Kullanma</span><span class="sxs-lookup"><span data-stu-id="835ce-162">Using Variance in Delegates</span></span>](../concepts/covariance-contravariance/using-variance-in-delegates.md)
- [<span data-ttu-id="835ce-163">Temsilcilerde Varyans</span><span class="sxs-lookup"><span data-stu-id="835ce-163">Variance in Delegates</span></span>](../concepts/covariance-contravariance/variance-in-delegates.md)
- [<span data-ttu-id="835ce-164">İşlev ve Eylem Genel Temsilcileri için Varyans Kullanma</span><span class="sxs-lookup"><span data-stu-id="835ce-164">Using Variance for Func and Action Generic Delegates</span></span>](../concepts/covariance-contravariance/using-variance-for-func-and-action-generic-delegates.md)
- [<span data-ttu-id="835ce-165">Olaylar</span><span class="sxs-lookup"><span data-stu-id="835ce-165">Events</span></span>](../events/index.md)
