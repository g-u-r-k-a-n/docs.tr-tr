---
title: XAML Tür Dönüştürücülerine Genel Bakış
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converters
- XAML [XAML Services], TypeConverter
- type conversion for XAML [XAML Services]
ms.assetid: 51a65860-efcb-4fe0-95a0-1c679cde66b7
ms.openlocfilehash: c3c69aebacd140a14e74545d601c0207cb8de681
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071635"
---
# <a name="overview-of-type-converters-for-xaml"></a><span data-ttu-id="130e0-102">XAML için tür dönüştürücüler genel bakış</span><span class="sxs-lookup"><span data-stu-id="130e0-102">Overview of type converters for XAML</span></span>

<span data-ttu-id="130e0-103">XAML biçimlendirmesindeki bir dizeden nesne grafiğindeki belirli nesnelere dönüştüren bir nesne yazarı için tür dönüştürücüler mantığı kaynağı.</span><span class="sxs-lookup"><span data-stu-id="130e0-103">Type converters supply logic for an object writer that converts from a string in XAML markup into particular objects in an object graph.</span></span> <span data-ttu-id="130e0-104">.NET XAML Hizmetleri'nde, tür <xref:System.ComponentModel.TypeConverter>dönüştürücü.</span><span class="sxs-lookup"><span data-stu-id="130e0-104">In .NET XAML Services, the type converter must be a class that derives from <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="130e0-105">Bazı dönüştürücüler ayrıca XAML kaydet yolunu destekler ve bir nesneyi serileştirme biçimlendirmesinde dize formuna seri hale getirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-105">Some converters also support the XAML save path and can be used to serialize an object into a string form in serialization markup.</span></span> <span data-ttu-id="130e0-106">Bu konu, XAML'deki tür dönüştürücülerin nasıl ve ne zaman çağrıldığını <xref:System.ComponentModel.TypeConverter>açıklar ve yöntem geçersiz kılmaları için uygulama önerileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="130e0-106">This topic describes how and when type converters in XAML are invoked, and provides implementation advice for the method overrides of <xref:System.ComponentModel.TypeConverter>.</span></span>

## <a name="type-conversion-concepts"></a><span data-ttu-id="130e0-107">Tür Dönüştürme Kavramları</span><span class="sxs-lookup"><span data-stu-id="130e0-107">Type Conversion Concepts</span></span>

<span data-ttu-id="130e0-108">Aşağıdaki bölümlerde XAML'nin dizeleri nasıl kullandığı ve .NET XAML Services'daki nesne yazarlarının xaml kaynağında karşılaşılan dize değerlerinden bazılarını işlemek için tür dönüştürücülerini nasıl kullandıkları hakkındaki temel kavramları açıklanır.</span><span class="sxs-lookup"><span data-stu-id="130e0-108">The following sections explain basic concepts about how XAML uses strings, and how object writers in .NET XAML Services use type converters to process some of the string values that are encountered in a XAML source.</span></span>

### <a name="xaml-and-string-values"></a><span data-ttu-id="130e0-109">XAML ve Dize Değerleri</span><span class="sxs-lookup"><span data-stu-id="130e0-109">XAML and String Values</span></span>

<span data-ttu-id="130e0-110">Bir XAML dosyasında öznitelik değeri ayarladığınızda, bu değerin ilk türü genel anlamda bir dize ve XML anlamında bir dize özniteliği değeridir.</span><span class="sxs-lookup"><span data-stu-id="130e0-110">When you set an attribute value in a XAML file, the initial type of that value is a string in a general sense, and a string attribute value in an XML sense.</span></span> <span data-ttu-id="130e0-111">XAML işlemcinin <xref:System.Double> başlangıçta dizeleri gibi diğer ilkel ler bile vardır.</span><span class="sxs-lookup"><span data-stu-id="130e0-111">Even other primitives such as <xref:System.Double> are initially strings to a XAML processor.</span></span>

<span data-ttu-id="130e0-112">Çoğu durumda, bir XAML işlemci bir öznitelik değerini işlemek için iki parça bilgiye ihtiyaç duyar.</span><span class="sxs-lookup"><span data-stu-id="130e0-112">In most cases, a XAML processor needs two pieces of information to process an attribute value.</span></span> <span data-ttu-id="130e0-113">İlk bilgi parçası, ayarlanan özelliğin değer türüdür.</span><span class="sxs-lookup"><span data-stu-id="130e0-113">The first piece of information is the value type of the property that is being set.</span></span> <span data-ttu-id="130e0-114">Bir öznitelik değeri tanımlayan ve XAML'de işlenen herhangi bir dize sonuçta dönüştürülmelidir veya bu tür bir değere çözülmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-114">Any string that defines an attribute value and that is processed in XAML must ultimately be converted or resolved to a value of that type.</span></span> <span data-ttu-id="130e0-115">Değer XAML parlayıcı (sayısal değer gibi) tarafından anlaşılan ilkel bir ise, dize doğrudan dönüştürme denenir.</span><span class="sxs-lookup"><span data-stu-id="130e0-115">If the value is a primitive that is understood by the XAML parser (such as a numeric value), a direct conversion of the string is attempted.</span></span> <span data-ttu-id="130e0-116">Öznitelik değeri bir numaralandırmaya başvuruyorsa, sağlanan dize, bu numaralandırmada adlandırılmış bir sabitle eşleşen bir ad için işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="130e0-116">If the value for the attribute references an enumeration, the supplied string is checked for a name match to a named constant in that enumeration.</span></span> <span data-ttu-id="130e0-117">Değer, ayrıştırıcı tarafından anlaşılmış bir ilkel veya numaralandırmadan sabit bir ad değilse, ilgili tür dönüştürülmüş bir dizeyi temel alan bir değer veya başvuru sağlayabilmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-117">If the value is not a parser-understood primitive or a constant name from an enumeration, the applicable type must be able to provide a value or reference that is based on a converted string.</span></span>

> [!NOTE]
> <span data-ttu-id="130e0-118">XAML dil yönergeleri tür dönüştürücüleri kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="130e0-118">XAML language directives do not use type converters.</span></span>

### <a name="type-converters-and-markup-extensions"></a><span data-ttu-id="130e0-119">Tür Dönüştürücüler ve Biçimlendirme Uzantıları</span><span class="sxs-lookup"><span data-stu-id="130e0-119">Type Converters and Markup Extensions</span></span>

<span data-ttu-id="130e0-120">Biçimlendirme uzantısı kullanımları, özellik türünü ve diğer hususları kontrol etmeden önce bir XAML işlemci tarafından işlenmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-120">Markup extension usages must be handled by a XAML processor before it checks for property type and other considerations.</span></span> <span data-ttu-id="130e0-121">Örneğin, öznitelik olarak ayarlanan bir özelliğin normalde bir tür dönüştürmesi varsa, ancak belirli bir durumda biçimlendirme uzantısı kullanımı tarafından ayarlanırsa, önce biçimlendirme uzantısı davranışı işler.</span><span class="sxs-lookup"><span data-stu-id="130e0-121">For example, if a property being set as an attribute normally has a type conversion, but in a particular case is set by a markup extension usage, then the markup extension behavior processes first.</span></span> <span data-ttu-id="130e0-122">Biçimlendirme uzantısı gerekli olan yaygın bir durum, zaten var olan bir nesneye başvuruda bulunmaktır.</span><span class="sxs-lookup"><span data-stu-id="130e0-122">One common situation where a markup extension is necessary is to make a reference to an object that already exists.</span></span> <span data-ttu-id="130e0-123">Bu senaryo için, durum verişsiz bir tür dönüştürücü yalnızca istenmeyen yeni bir örnek oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-123">For this scenario, a stateless type converter can only generate a new instance, which might not be desirable.</span></span> <span data-ttu-id="130e0-124">Biçimlendirme uzantıları hakkında daha fazla bilgi için [XAML Genel Bakış için Biçimlendirme Uzantıları'na](markup-extensions-overview.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="130e0-124">For more information about markup extensions, see [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span></span>

### <a name="native-type-converters"></a><span data-ttu-id="130e0-125">Yerli Tip Dönüştürücüler</span><span class="sxs-lookup"><span data-stu-id="130e0-125">Native Type Converters</span></span>

<span data-ttu-id="130e0-126">Windows Sunu Temeli (WPF) ve .NET XAML hizmet uygulamalarında, yerel tür dönüştürme işleme sada sahip belirli CLR türleri vardır.</span><span class="sxs-lookup"><span data-stu-id="130e0-126">In the Windows Presentation Foundation (WPF) and .NET XAML services implementations, there are certain CLR types that have native type conversion handling.</span></span> <span data-ttu-id="130e0-127">Ancak, bu CLR türleri geleneksel olarak ilkel olarak düşünülmez.</span><span class="sxs-lookup"><span data-stu-id="130e0-127">However, those CLR types are not conventionally thought of as primitives.</span></span> <span data-ttu-id="130e0-128">Böyle bir tür bir <xref:System.DateTime>örnek .</span><span class="sxs-lookup"><span data-stu-id="130e0-128">An example of such a type is <xref:System.DateTime>.</span></span> <span data-ttu-id="130e0-129">Bunun bir nedeni .NET Framework mimarisinin nasıl <xref:System.DateTime> çalıştığıdır: türü .NET'teki en temel kitaplık olan mscorlib'de tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="130e0-129">One reason for this is how the .NET Framework architecture works: the type <xref:System.DateTime> is defined in mscorlib, the most basic library in .NET.</span></span> <span data-ttu-id="130e0-130"><xref:System.DateTime>bağımlılık<xref:System.ComponentModel.TypeConverterAttribute> (Sistem'den) tanıtan başka bir derlemeden gelen bir öznitelik ile atfedilmesine izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="130e0-130"><xref:System.DateTime> is not permitted to be attributed with an attribute that comes from another assembly that introduces a dependency (<xref:System.ComponentModel.TypeConverterAttribute> is from System).</span></span> <span data-ttu-id="130e0-131">Bu nedenle, atfederek olağan tür dönüştürücü bulma mekanizması desteklenemez.</span><span class="sxs-lookup"><span data-stu-id="130e0-131">Therefore, the usual type converter discovery mechanism by attributing cannot be supported.</span></span> <span data-ttu-id="130e0-132">Bunun yerine, XAML ayrıştırıcısı yerel işleme gerektiren türlerin bir listesi vardır ve bu tür gerçek ilkel işlenme şekline benzer işler.</span><span class="sxs-lookup"><span data-stu-id="130e0-132">Instead, the XAML parser has a list of types that need native processing, and it processes these types similar to how the true primitives are processed.</span></span> <span data-ttu-id="130e0-133">Durumunda <xref:System.DateTime>, Bu işleme için bir <xref:System.DateTime.Parse%2A>çağrı içerir .</span><span class="sxs-lookup"><span data-stu-id="130e0-133">In the case of <xref:System.DateTime>, this processing involves a call to <xref:System.DateTime.Parse%2A>.</span></span>

## <a name="implementing-a-type-converter"></a><span data-ttu-id="130e0-134">Tür Dönüştürücü Uygulama</span><span class="sxs-lookup"><span data-stu-id="130e0-134">Implementing a Type Converter</span></span>

<span data-ttu-id="130e0-135">Aşağıdaki bölümlerde sınıfın API'si <xref:System.ComponentModel.TypeConverter> tartışılır.</span><span class="sxs-lookup"><span data-stu-id="130e0-135">The following sections discuss the API of the <xref:System.ComponentModel.TypeConverter> class.</span></span>

### <a name="typeconverter"></a><span data-ttu-id="130e0-136">TypeConverter</span><span class="sxs-lookup"><span data-stu-id="130e0-136">TypeConverter</span></span>

<span data-ttu-id="130e0-137">.NET XAML Hizmetleri altında, XAML amaçları için kullanılan tüm tür dönüştürücüler <xref:System.ComponentModel.TypeConverter>taban sınıftan türeyen sınıflardır.</span><span class="sxs-lookup"><span data-stu-id="130e0-137">Under .NET XAML Services, all type converters that are used for XAML purposes are classes that derive from the base class <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="130e0-138">Sınıf <xref:System.ComponentModel.TypeConverter> XAML var önce .NET Framework sürümlerinde vardı; orijinal <xref:System.ComponentModel.TypeConverter> senaryolardan biri görsel tasarımcılar özellik düzenleyicileri için dize dönüştürme sağlamak oldu.</span><span class="sxs-lookup"><span data-stu-id="130e0-138">The <xref:System.ComponentModel.TypeConverter> class existed in versions of the .NET Framework before XAML existed; one of the original <xref:System.ComponentModel.TypeConverter> scenarios was to provide string conversion for property editors in visual designers.</span></span>

<span data-ttu-id="130e0-139">XAML için rolü <xref:System.ComponentModel.TypeConverter> genişletilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-139">For XAML, the role of <xref:System.ComponentModel.TypeConverter> is expanded.</span></span> <span data-ttu-id="130e0-140">XAML amaçları <xref:System.ComponentModel.TypeConverter> için, belirli dize ve dize dönüşümleri için destek sağlamak için temel sınıftır.</span><span class="sxs-lookup"><span data-stu-id="130e0-140">For XAML purposes, <xref:System.ComponentModel.TypeConverter> is the base class for providing support for certain to-string and from-string conversions.</span></span> <span data-ttu-id="130e0-141">From-string, XAML'den bir dize özniteliği değerini ayrıştamayı sağlar.</span><span class="sxs-lookup"><span data-stu-id="130e0-141">From-string enables parsing a string attribute value from XAML.</span></span> <span data-ttu-id="130e0-142">To-string, belirli bir nesne özelliğinin çalışma zamanı değerinin serileştirme için XAML'deki bir özniteliğe yeniden işlenmesine olanak sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-142">To-string might enable processing a run-time value of a particular object property back into an attribute in XAML for serialization.</span></span>

<span data-ttu-id="130e0-143"><xref:System.ComponentModel.TypeConverter>XAML işleme amaçları için dize ve ipten dönüştürme yle ilgili dört üye tanımlar:</span><span class="sxs-lookup"><span data-stu-id="130e0-143"><xref:System.ComponentModel.TypeConverter> defines four members that are relevant for converting to-string and from-string for XAML processing purposes:</span></span>

- <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>

- <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>

- <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>

- <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>

<span data-ttu-id="130e0-144">Bu üyelerden en önemli <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>yöntem, giriş dizesini gerekli nesne türüne dönüştüren yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="130e0-144">Of these members, the most important method is <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>, which converts the input string to the required object type.</span></span> <span data-ttu-id="130e0-145">Yöntem, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> daha geniş bir tür aralığını dönüştürücünün hedeflenen hedef türüne dönüştürmek için uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-145">The <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method can be implemented to convert a wider range of types into the intended destination type of the converter.</span></span> <span data-ttu-id="130e0-146">Bu nedenle, çalışma zamanı dönüşümlerini desteklemek gibi XAML'nin ötesine uzanan amaçlara hizmet edebilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-146">Therefore, it can serve purposes that extend beyond XAML, such as supporting run-time conversions.</span></span> <span data-ttu-id="130e0-147">Ancak, XAML kullanımı için, yalnızca bir <xref:System.String> girişi işleyebilir kod yolu önemlidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-147">However, for XAML use, only the code path that can process a <xref:System.String> input is important.</span></span>

<span data-ttu-id="130e0-148">İkinci en önemli yöntem <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="130e0-148">The second-most important method is <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span> <span data-ttu-id="130e0-149">Bir uygulama biçimlendirme gösterimine dönüştürülürse (örneğin, dosya olarak XAML'ye kaydediliyorsa), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> biçimlendirme gösterimi oluşturmak için xaml metin yazarının daha büyük senaryosunda yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="130e0-149">If an application is converted to a markup representation (for example, if it is saved to XAML as a file), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is involved in the larger scenario of a XAML text writer to produce a markup representation.</span></span> <span data-ttu-id="130e0-150">Bu durumda, XAML için önemli kod yolu, `destinationType` arayanın bir ' den ' in ''yi <xref:System.String>geçirmesidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-150">In this case, the important code path for XAML is when the caller passes a `destinationType` of <xref:System.String>.</span></span>

<span data-ttu-id="130e0-151"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>ve <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> bir hizmet <xref:System.ComponentModel.TypeConverter> uygulamanın yeteneklerini sorguladığında kullanılan destek yöntemleridir.</span><span class="sxs-lookup"><span data-stu-id="130e0-151"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> and <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> are support methods that are used when a service queries the capabilities of the <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="130e0-152">Dönüştürücünüzdesteğinin eşdeğer `true` dönüştürme yöntemlerinin türüne özgü durumlar için döndürmek için bu yöntemleri uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="130e0-152">You must implement these methods to return `true` for type-specific cases that the equivalent conversion methods of your converter support.</span></span> <span data-ttu-id="130e0-153">XAML amaçları için, bu <xref:System.String> genellikle türü anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="130e0-153">For XAML purposes, this generally means the <xref:System.String> type.</span></span>

### <a name="culture-information-and-type-converters-for-xaml"></a><span data-ttu-id="130e0-154">XAML için Kültür Bilgileri ve Tip Dönüştürücüler</span><span class="sxs-lookup"><span data-stu-id="130e0-154">Culture Information and Type Converters for XAML</span></span>

<span data-ttu-id="130e0-155">Her <xref:System.ComponentModel.TypeConverter> uygulama, bir dönüşüm için geçerli bir dize yi benzersiz bir şekilde yorumlayabilir ve parametre olarak geçirilen tür açıklamasını da kullanabilir veya yok sayabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-155">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what is a valid string for a conversion, and it can also use or ignore the type description that is passed as parameters.</span></span> <span data-ttu-id="130e0-156">Kültür ve XAML türü dönüştürme için önemli bir husus şunlardır: öznitelik değerleri olarak yerelleştirilebilir dizeleri kullanarak XAML tarafından desteklenen olsa da, belirli kültür gereksinimleri ile tür dönüştürücü girişi olarak bu yerelleştirilebilir dizeleri kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="130e0-156">An important consideration for culture and XAML type conversion is the following: although using localizable strings as attribute values is supported by XAML, you cannot use these localizable strings as type converter input with specific culture requirements.</span></span> <span data-ttu-id="130e0-157">Bu sınırlama, XAML öznitelik değerleri için tür dönüştürücüler kültür kullanan `en-US` mutlaka sabit dil XAML işleme davranışı içermesidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-157">This limitation is because type converters for XAML attribute values involve a necessarily fixed-language XAML-processing behavior that uses `en-US` culture.</span></span> <span data-ttu-id="130e0-158">Bu kısıtlamanın tasarım nedenleri hakkında daha fazla bilgi için XAML dil belirtimi[\[(MS-XAML)\]](https://docs.microsoft.com/previous-versions/msp-n-p/ff650760(v=pandp.10))veya [WPF Genellaştırma ve Yerelleştirme Genel Bakış'a](../../framework/wpf/advanced/wpf-globalization-and-localization-overview.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="130e0-158">For more information about the design reasons for this restriction, see the XAML language specification ([\[MS-XAML\]](https://docs.microsoft.com/previous-versions/msp-n-p/ff650760(v=pandp.10))) or [WPF Globalization and Localization Overview](../../framework/wpf/advanced/wpf-globalization-and-localization-overview.md).</span></span>

<span data-ttu-id="130e0-159">Kültürün bir sorun olabileceği bir örnek olarak, bazı kültürler dize şeklindeki sayılar için ondalık nokta delimiter olarak bir dönem yerine virgül kullanır.</span><span class="sxs-lookup"><span data-stu-id="130e0-159">As an example where culture can be an issue, some cultures use a comma instead of a period as the decimal point delimiter for numbers in string form.</span></span> <span data-ttu-id="130e0-160">Bu kullanım, varolan birçok tür dönüştürücünün sahip olduğu davranışla çarpışır, bu da virgülü sınırlayıcı olarak kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="130e0-160">This use collides with the behavior that many existing type converters have, which is to use a comma as a delimiter.</span></span> <span data-ttu-id="130e0-161">Çevredeki XAML'de bir kültürün geçmesi `xml:lang` sorunu çözmez.</span><span class="sxs-lookup"><span data-stu-id="130e0-161">Passing a culture through `xml:lang` in the surrounding XAML does not solve the issue.</span></span>

### <a name="implementing-convertfrom"></a><span data-ttu-id="130e0-162">ConvertFrom'ı Uygulama</span><span class="sxs-lookup"><span data-stu-id="130e0-162">Implementing ConvertFrom</span></span>

<span data-ttu-id="130e0-163">XAML destekleyen <xref:System.ComponentModel.TypeConverter> bir uygulama olarak kullanılabilir <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> olması için, bu dönüştürücü için `value` yöntem parametre olarak bir dize kabul etmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-163">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method for that converter must accept a string as the `value` parameter.</span></span> <span data-ttu-id="130e0-164">Dize geçerli bir biçimdeyse ve <xref:System.ComponentModel.TypeConverter> uygulama tarafından dönüştürülebiliyorsa, döndürülen nesnenin bir dökümü özellik tarafından beklenen türe desteklemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="130e0-164">If the string is in a valid format and can be converted by the <xref:System.ComponentModel.TypeConverter> implementation, the returned object must support a cast to the type that is expected by the property.</span></span> <span data-ttu-id="130e0-165">Aksi takdirde, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> uygulama `null`döndürmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-165">Otherwise, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation must return `null`.</span></span>

<span data-ttu-id="130e0-166">Her <xref:System.ComponentModel.TypeConverter> uygulama, bir dönüşüm için geçerli bir dize oluşturan şeyi benzersiz bir şekilde yorumlayabilir ve parametre olarak geçirilen tür açıklamasını veya kültür bağlamlarını da kullanabilir veya yok sayabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-166">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what constitutes a valid string for a conversion, and it can also use or ignore the type description or culture contexts that are passed as parameters.</span></span> <span data-ttu-id="130e0-167">Ancak, WPF XAML işleme değerleri tüm durumlarda tür açıklaması bağlamına geçiremeyebilir `xml:lang`ve ayrıca kültüre dayalı olarak geçemeyebilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-167">However, the WPF XAML processing might not pass values to the type description context in all cases and also might not pass culture based on `xml:lang`.</span></span>

> [!NOTE]
> <span data-ttu-id="130e0-168">Ayraçları ( ),{}özellikle açılış ayracını ({), dize biçiminizin bir öğesi olarak kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="130e0-168">Do not use the braces ({}), specifically the opening brace ({), as an element of your string format.</span></span> <span data-ttu-id="130e0-169">Bu karakterler, biçimlendirme uzantısı dizisi için giriş ve çıkış olarak ayrılmıştır.</span><span class="sxs-lookup"><span data-stu-id="130e0-169">These characters are reserved as the entry and exit for a markup extension sequence.</span></span>

<span data-ttu-id="130e0-170">Türü dönüştürücünüz .NET XAML Services nesne yazarından bir XAML hizmetine erişebiliyorsa, ancak içeriğe karşı yapılan <xref:System.IServiceProvider.GetService%2A> çağrı bu hizmeti döndürmezse, bir özel durum atmak uygundur.</span><span class="sxs-lookup"><span data-stu-id="130e0-170">It is appropriate to throw an exception when your type converter must have access to a XAML service from .NET XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>

### <a name="implementing-convertto"></a><span data-ttu-id="130e0-171">ConvertTo'nun Uygulanması</span><span class="sxs-lookup"><span data-stu-id="130e0-171">Implementing ConvertTo</span></span>

<span data-ttu-id="130e0-172"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A>serileştirme desteği için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-172"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is potentially used for serialization support.</span></span> <span data-ttu-id="130e0-173">Özel türüve <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> türü dönüştürücü için serileştirme desteği mutlak bir gereklilik değildir.</span><span class="sxs-lookup"><span data-stu-id="130e0-173">Serialization support through <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> for your custom type and its type converter is not an absolute requirement.</span></span> <span data-ttu-id="130e0-174">Ancak, bir denetim uyguluyorsanız veya sınıfınızın özelliklerinin veya tasarımının bir parçası olarak <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>serileştirme kullanıyorsanız, uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="130e0-174">However, if you are implementing a control, or using serialization of as part of the features or design of your class, you should implement <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span>

<span data-ttu-id="130e0-175">XAML destekleyen <xref:System.ComponentModel.TypeConverter> bir uygulama olarak kullanılabilir <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> olması için, bu dönüştürücü için yöntem `value` parametre olarak desteklenen tür (veya değer) bir örnek kabul etmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-175">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> method for that converter must accept an instance of the type (or a value) that is supported as the `value` parameter.</span></span> <span data-ttu-id="130e0-176">`destinationType` Parametre türünde <xref:System.String>olduğunda, döndürülen nesne '' olarak <xref:System.String>atılabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-176">When the `destinationType` parameter is of type <xref:System.String>, the returned object must be able to be cast as <xref:System.String>.</span></span> <span data-ttu-id="130e0-177">Döndürülen dize, `value`'nin serileştirilmiş değerini temsil etmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-177">The returned string must represent a serialized value of `value`.</span></span> <span data-ttu-id="130e0-178">İdeal olarak, seçtiğiniz serileştirme biçimi, önemli miktarda bilgi kaybı olmadan, bu <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> dize aynı dönüştürücünün uygulamasına geçmiş gibi aynı değeri oluşturabilmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-178">Ideally, the serialization format that you choose should be able to generate the same value as if that string were passed to the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation of the same converter, without significant loss of information.</span></span>

<span data-ttu-id="130e0-179">Değer serileştirilemiyorsa veya dönüştürücü serileştirmeyi <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> desteklemiyorsa, uygulama döndürülmeli `null` ve bir özel durum atabilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-179">If the value cannot be serialized or the converter does not support serialization, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> implementation must return `null` and can throw an exception.</span></span> <span data-ttu-id="130e0-180">Ancak, özel durumlar atarsanız, özel durumları önlemek için <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> önce kontrol etme en iyi uygulamanın desteklenmesi için bu dönüşümü uygulamanızın bir parçası olarak kullanamamayı bildirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="130e0-180">However, if you do throw exceptions, you should report the inability to use that conversion as part of your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation so that the best practice of checking with <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> first to avoid exceptions is supported.</span></span>

<span data-ttu-id="130e0-181">`destinationType` Parametre türünde <xref:System.String>değilse, kendi dönüştürücü işleme seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="130e0-181">If the `destinationType` parameter is not of type <xref:System.String>, you can choose your own converter handling.</span></span> <span data-ttu-id="130e0-182">Genellikle, temel uygulama işleme, temel <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> olarak belirli bir özel durum yükseltir geri dönersiniz.</span><span class="sxs-lookup"><span data-stu-id="130e0-182">Typically, you revert to base implementation handling, which in the base <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> raises a specific exception.</span></span>

<span data-ttu-id="130e0-183">Türü dönüştürücünüz .NET XAML Services nesne yazarından bir XAML hizmetine erişebiliyorsa, ancak içeriğe karşı yapılan <xref:System.IServiceProvider.GetService%2A> çağrı bu hizmeti döndürmezse, bir özel durum atmak uygundur.</span><span class="sxs-lookup"><span data-stu-id="130e0-183">It is appropriate to throw an exception when your type converter must have access to a XAML service from .NET XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>

### <a name="implementing-canconvertfrom"></a><span data-ttu-id="130e0-184">CanConvertFrom uygulama</span><span class="sxs-lookup"><span data-stu-id="130e0-184">Implementing CanConvertFrom</span></span>

<span data-ttu-id="130e0-185">Uygulamanız <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> türü `true` <xref:System.String> `sourceType` için geri dönmeli ve aksi takdirde temel uygulamaya ertelenmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-185">Your <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> implementation should return `true` for `sourceType` of type <xref:System.String> and otherwise, defer to the base implementation.</span></span> <span data-ttu-id="130e0-186">'den <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>istisnalar atmayın.</span><span class="sxs-lookup"><span data-stu-id="130e0-186">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>.</span></span>

### <a name="implementing-canconvertto"></a><span data-ttu-id="130e0-187">CanConvertTo'nun Uygulanması</span><span class="sxs-lookup"><span data-stu-id="130e0-187">Implementing CanConvertTo</span></span>

<span data-ttu-id="130e0-188">Uygulamanız <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> türü `true` <xref:System.String> `destinationType` için geri dönmeli ve aksi takdirde temel uygulamaya ertelenmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-188">Your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation should return `true` for `destinationType` of type <xref:System.String>, and otherwise defer to the base implementation.</span></span> <span data-ttu-id="130e0-189">'den <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>istisnalar atmayın.</span><span class="sxs-lookup"><span data-stu-id="130e0-189">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>.</span></span>

## <a name="applying-the-typeconverterattribute"></a><span data-ttu-id="130e0-190">TypeConverterAttribute uygulama</span><span class="sxs-lookup"><span data-stu-id="130e0-190">Applying the TypeConverterAttribute</span></span>

<span data-ttu-id="130e0-191">.NET XAML Services tarafından özel bir sınıf için etki leyici türü dönüştürücü olarak kullanılabilmesi için sınıf <xref:System.ComponentModel.TypeConverterAttribute> tanımına uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="130e0-191">For your custom type converter to be used as the acting type converter for a custom class by .NET XAML Services, you must apply the <xref:System.ComponentModel.TypeConverterAttribute> to your class definition.</span></span> <span data-ttu-id="130e0-192">Öznitelik aracılığıyla belirttiğiniz şey, <xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> özel tür dönüştürücünüzün tür adı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="130e0-192">The <xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> that you specify through the attribute must be the type name of your custom type converter.</span></span> <span data-ttu-id="130e0-193">Bu özniteliği uygularsanız, bir XAML işlemci özellik türünün özel sınıf türünüzü kullandığı değerleri işlerse, dizeleri giriş yapabilir ve nesne örneklerini döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-193">If you apply this attribute, when a XAML processor handles values where the property type uses your custom class type, it can input strings and return object instances.</span></span>

<span data-ttu-id="130e0-194">Ayrıca, özellik başına bazda bir tür dönüştürücü de sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="130e0-194">You can also provide a type converter on a per-property basis.</span></span> <span data-ttu-id="130e0-195">Sınıf tanımına <xref:System.ComponentModel.TypeConverterAttribute> a uygulamak yerine, bunu bir özellik tanımına (içindeki `get` / `set` uygulamalar değil, ana tanım) uygulayın.</span><span class="sxs-lookup"><span data-stu-id="130e0-195">Instead of applying a <xref:System.ComponentModel.TypeConverterAttribute> to the class definition, apply it to a property definition (the main definition, not the `get`/`set` implementations within it).</span></span> <span data-ttu-id="130e0-196">Özelliğin türü, özel tür dönüştürücünüz tarafından işlenen türle eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="130e0-196">The type of the property must match the type that is processed by your custom type converter.</span></span> <span data-ttu-id="130e0-197">Bu öznitelik uygulandığında, bir XAML işlemci bu özelliğin değerlerini işlerse, giriş dizeleri işleyebilir ve nesne örneklerini döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-197">With this attribute applied, when a XAML processor handles values of that property, it can process input strings and return object instances.</span></span> <span data-ttu-id="130e0-198">Özellik başına tür dönüştürücü tekniği, Microsoft .NET Framework'den veya sınıf tanımını denetleyemediğiniz ve orada uygulayamadığınız başka bir <xref:System.ComponentModel.TypeConverterAttribute> kitaplıktan bir özellik türü kullanmayı seçerseniz yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="130e0-198">The per-property type converter technique is useful if you choose to use a property type from Microsoft .NET Framework or from some other library where you cannot control the class definition and cannot apply a <xref:System.ComponentModel.TypeConverterAttribute> there.</span></span>

<span data-ttu-id="130e0-199">Özel bağlı bir üye için tür dönüştürme <xref:System.ComponentModel.TypeConverterAttribute> davranışı `Get` sağlamak için, bağlı üye için uygulama deseninin erişimyöntemine uygulayın.</span><span class="sxs-lookup"><span data-stu-id="130e0-199">To supply a type conversion behavior for a custom attached member, apply <xref:System.ComponentModel.TypeConverterAttribute> to the `Get` accessor method of the implementation pattern for the attached member.</span></span>

## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="130e0-200">Biçimlendirme Uzantısı Uygulamasından Hizmet Sağlayıcı Bağlamına Erişim</span><span class="sxs-lookup"><span data-stu-id="130e0-200">Accessing Service Provider Context from a Markup Extension Implementation</span></span>

<span data-ttu-id="130e0-201">Kullanılabilir hizmetler herhangi bir değer dönüştürücü için aynıdır.</span><span class="sxs-lookup"><span data-stu-id="130e0-201">The available services are the same for any value converter.</span></span> <span data-ttu-id="130e0-202">Fark, her değer dönüştürücüsü hizmet bağlamını nasıl aldığıdır.</span><span class="sxs-lookup"><span data-stu-id="130e0-202">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="130e0-203">Hizmetlere ve mevcut hizmetlere erişim, [XAML için Type Converters ve Markup Uzantıları](type-converters-and-markup-extensions.md)konusunda belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="130e0-203">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions.md).</span></span>

## <a name="type-converters-in-the-xaml-node-stream"></a><span data-ttu-id="130e0-204">XAML Düğüm Akışında Tür Dönüştürücüler</span><span class="sxs-lookup"><span data-stu-id="130e0-204">Type Converters in the XAML Node Stream</span></span>

<span data-ttu-id="130e0-205">Bir XAML düğüm akışıyla çalışıyorsanız, bir tür dönüştürücünün eylem veya sonuç sonucu henüz yürütülmez.</span><span class="sxs-lookup"><span data-stu-id="130e0-205">If you are working with a XAML node stream, the action or end result of a type converter is not yet executed.</span></span> <span data-ttu-id="130e0-206">Bir yük yolunda, yüklemek için sonunda türe dönüştürülmesi gereken öznitelik dizesi, başlangıç üyesi ve bitiş üyesi içinde metin değeri olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="130e0-206">In a load path, the attribute string that eventually needs to be type-converted in order to load remains as a text value within a start member and end member.</span></span> <span data-ttu-id="130e0-207">Sonunda bu işlem için gerekli olan tür dönüştürücü <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> özelliği kullanılarak belirlenebilir.</span><span class="sxs-lookup"><span data-stu-id="130e0-207">The type converter that is eventually needed for this operation can be determined by using the <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="130e0-208">Ancak, geçerli bir değer <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> elde etmek, bu tür bilgilere temel üye aracılığıyla erişebilen bir XAML şeması bağlamına veya üyenin kullandığı nesne değerinin türüne dayanır.</span><span class="sxs-lookup"><span data-stu-id="130e0-208">However, obtaining a valid value from <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> relies on having a XAML schema context, which can access such information through the underlying member, or the type of the object value that the member uses.</span></span> <span data-ttu-id="130e0-209">Tür dönüştürme davranışının çağırılması, tür eşleme ve dönüştürücü örneği oluşturma gerektirdiğinden XAML şema bağlamını da gerektirir.</span><span class="sxs-lookup"><span data-stu-id="130e0-209">Invoking the type conversion behavior also requires the XAML schema context because that requires type-mapping and creating a converter instance.</span></span>

## <a name="see-also"></a><span data-ttu-id="130e0-210">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="130e0-210">See also</span></span>

- <xref:System.ComponentModel.TypeConverterAttribute>
- [<span data-ttu-id="130e0-211">XAML İçin Tür Dönüştürücüleri ve İşaretleme Uzantıları</span><span class="sxs-lookup"><span data-stu-id="130e0-211">Type Converters and Markup Extensions for XAML</span></span>](type-converters-and-markup-extensions.md)
- [<span data-ttu-id="130e0-212">XAML'ye Genel Bakış (WPF)</span><span class="sxs-lookup"><span data-stu-id="130e0-212">XAML Overview (WPF)</span></span>](../fundamentals/xaml.md)
