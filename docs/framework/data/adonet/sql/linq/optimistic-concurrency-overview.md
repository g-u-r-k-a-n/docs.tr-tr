---
title: 'İyimser Eşzamanlılık: Genel Bakış'
ms.date: 03/30/2017
ms.assetid: c2e38512-d0c8-4807-b30a-cb7e30338694
ms.openlocfilehash: 7a1bc23d9f012b2f3541c1411a25b7527e696873
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/24/2020
ms.locfileid: "91169407"
---
# <a name="optimistic-concurrency-overview"></a><span data-ttu-id="69c71-102">İyimser Eşzamanlılık: Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="69c71-102">Optimistic Concurrency: Overview</span></span>

[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="69c71-103">iyimser eşzamanlılık denetimini destekler.</span><span class="sxs-lookup"><span data-stu-id="69c71-103">supports optimistic concurrency control.</span></span> <span data-ttu-id="69c71-104">Aşağıdaki tabloda, belgelerde iyimser eşzamanlılık için uygulanan terimler açıklanmaktadır [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="69c71-104">The following table describes terms that apply to optimistic concurrency in [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] documentation:</span></span>  
  
|<span data-ttu-id="69c71-105">Terimler</span><span class="sxs-lookup"><span data-stu-id="69c71-105">Terms</span></span>|<span data-ttu-id="69c71-106">Açıklama</span><span class="sxs-lookup"><span data-stu-id="69c71-106">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="69c71-107">eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="69c71-107">concurrency</span></span>|<span data-ttu-id="69c71-108">Aynı anda iki veya daha fazla kullanıcının aynı veritabanı satırını güncelleştirmeye çalıştığı durum.</span><span class="sxs-lookup"><span data-stu-id="69c71-108">The situation in which two or more users at the same time try to update the same database row.</span></span>|  
|<span data-ttu-id="69c71-109">eşzamanlılık çakışması</span><span class="sxs-lookup"><span data-stu-id="69c71-109">concurrency conflict</span></span>|<span data-ttu-id="69c71-110">Aynı anda iki veya daha fazla kullanıcının bir satırdaki bir veya daha fazla sütuna çakışan değerleri göndermeye çalıştığı durum.</span><span class="sxs-lookup"><span data-stu-id="69c71-110">The situation in which two or more users at the same time try to submit conflicting values to one or more columns of a row.</span></span>|  
|<span data-ttu-id="69c71-111">eşzamanlılık denetimi</span><span class="sxs-lookup"><span data-stu-id="69c71-111">concurrency control</span></span>|<span data-ttu-id="69c71-112">Eşzamanlılık çakışmalarını çözmek için kullanılan teknik.</span><span class="sxs-lookup"><span data-stu-id="69c71-112">The technique used to resolve concurrency conflicts.</span></span>|  
|<span data-ttu-id="69c71-113">iyimser eşzamanlılık denetimi</span><span class="sxs-lookup"><span data-stu-id="69c71-113">optimistic concurrency control</span></span>|<span data-ttu-id="69c71-114">İlk araştırır, diğer işlemlerin, bir satırdaki değerleri, gönderilecek değişikliklere izin vermeden önce değiştirmediğini belirten tekniktir.</span><span class="sxs-lookup"><span data-stu-id="69c71-114">The technique that first investigates whether other transactions have changed values in a row before permitting changes to be submitted.</span></span><br /><br /> <span data-ttu-id="69c71-115">Eşzamanlılık çakışmalarını önlemek için kaydı kilitleyen, *Kötümser eşzamanlılık denetimiyle*karşıtlık.</span><span class="sxs-lookup"><span data-stu-id="69c71-115">Contrast with *pessimistic concurrency control*, which locks the record to avoid concurrency conflicts.</span></span><br /><br /> <span data-ttu-id="69c71-116">*İyimser* denetim, başka bir işlemin çok az olması beklenmez bir işlem olma olasılığını düşünür.</span><span class="sxs-lookup"><span data-stu-id="69c71-116">*Optimistic* control is so termed because it considers the chances of one transaction interfering with another to be unlikely.</span></span>|  
|<span data-ttu-id="69c71-117">çakışma çözümleme</span><span class="sxs-lookup"><span data-stu-id="69c71-117">conflict resolution</span></span>|<span data-ttu-id="69c71-118">Veritabanını yeniden sorgulayarak ve ardından farkları mutabık tutarak çakışan bir öğeyi yenileme işlemi.</span><span class="sxs-lookup"><span data-stu-id="69c71-118">The process of refreshing a conflicting item by querying the database again and then reconciling differences.</span></span><br /><br /> <span data-ttu-id="69c71-119">Bir nesne yenilendiğinde [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] değişiklik İzleyici aşağıdaki verileri tutar:</span><span class="sxs-lookup"><span data-stu-id="69c71-119">When an object is refreshed, the [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] change tracker holds the following data:</span></span><br /><br /> <span data-ttu-id="69c71-120">-Başlangıçta veritabanından alınan ve güncelleştirme denetimi için kullanılan değerler.</span><span class="sxs-lookup"><span data-stu-id="69c71-120">-   The values originally taken from the database and used for the update check.</span></span><br /><span data-ttu-id="69c71-121">-Sonraki sorgudaki yeni veritabanı değerleri.</span><span class="sxs-lookup"><span data-stu-id="69c71-121">-   The new database values from the subsequent query.</span></span><br /><br /> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="69c71-122">ardından nesnenin çakışma durumunda olup olmadığını (yani, bir veya daha fazla üye değerinin değişip değişmediğini) belirler.</span><span class="sxs-lookup"><span data-stu-id="69c71-122">then determines whether the object is in conflict (that is, whether one or more of its member values has changed).</span></span> <span data-ttu-id="69c71-123">Nesne çakışırsa, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] bir sonraki, üyelerinden hangilerinin çakışma olduğunu belirler.</span><span class="sxs-lookup"><span data-stu-id="69c71-123">If the object is in conflict, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] next determines which of its members are in conflict.</span></span><br /><br /> <span data-ttu-id="69c71-124">Bulduğu herhangi bir üye çakışması [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] bir çakışma listesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="69c71-124">Any member conflict that [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] discovers is added to a conflict list.</span></span>|  
  
 <span data-ttu-id="69c71-125">[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]Nesne modelinde, aşağıdaki koşullardan her ikisi de doğru olduğunda *iyimser eşzamanlılık çakışması* oluşur:</span><span class="sxs-lookup"><span data-stu-id="69c71-125">In the [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] object model, an *optimistic concurrency conflict* occurs when both of the following conditions are true:</span></span>  
  
- <span data-ttu-id="69c71-126">İstemci değişiklikleri veritabanına göndermeye çalışır.</span><span class="sxs-lookup"><span data-stu-id="69c71-126">The client tries to submit changes to the database.</span></span>  
  
- <span data-ttu-id="69c71-127">İstemci son okuduğundan bu yana bir veya daha fazla güncelleştirme-denetim değeri veritabanında güncelleştirildi.</span><span class="sxs-lookup"><span data-stu-id="69c71-127">One or more update-check values have been updated in the database since the client last read them.</span></span>  
  
 <span data-ttu-id="69c71-128">Bu çakışmanın çözümlenmesi, nesnenin hangi üyelerinin çakışma halinde olduğunu bulmaya ve sonra ne yapmak istediğinize karar vermenize dahildir.</span><span class="sxs-lookup"><span data-stu-id="69c71-128">Resolution of this conflict includes discovering which members of the object are in conflict, and then deciding what you want to do about it.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="69c71-129">Yalnızca olarak eşleştirilen <xref:System.Data.Linq.Mapping.UpdateCheck.Always> veya <xref:System.Data.Linq.Mapping.UpdateCheck.WhenChanged> iyimser eşzamanlılık denetimlerine katılan üyeler.</span><span class="sxs-lookup"><span data-stu-id="69c71-129">Only members mapped as <xref:System.Data.Linq.Mapping.UpdateCheck.Always> or <xref:System.Data.Linq.Mapping.UpdateCheck.WhenChanged> participate in optimistic concurrency checks.</span></span> <span data-ttu-id="69c71-130">İşaretlenmiş Üyeler için denetim yapılmaz <xref:System.Data.Linq.Mapping.UpdateCheck.Never> .</span><span class="sxs-lookup"><span data-stu-id="69c71-130">No check is performed for members marked <xref:System.Data.Linq.Mapping.UpdateCheck.Never>.</span></span> <span data-ttu-id="69c71-131">Daha fazla bilgi için bkz. <xref:System.Data.Linq.Mapping.UpdateCheck>.</span><span class="sxs-lookup"><span data-stu-id="69c71-131">For more information, see <xref:System.Data.Linq.Mapping.UpdateCheck>.</span></span>  
  
## <a name="example"></a><span data-ttu-id="69c71-132">Örnek</span><span class="sxs-lookup"><span data-stu-id="69c71-132">Example</span></span>  

 <span data-ttu-id="69c71-133">Örneğin, aşağıdaki senaryoda, Kullanıcı1 bir satır için veritabanını sorgulayarak bir güncelleştirmeyi hazırlamaya başlar.</span><span class="sxs-lookup"><span data-stu-id="69c71-133">For example, in the following scenario, User1 starts to prepare an update by querying the database for a row.</span></span> <span data-ttu-id="69c71-134">Kullanıcı1, Alfreds, Maria ve Sales değerlerini içeren bir satır alır.</span><span class="sxs-lookup"><span data-stu-id="69c71-134">User1 receives a row with values of Alfreds, Maria, and Sales.</span></span>  
  
 <span data-ttu-id="69c71-135">Kullanıcı1, yönetici sütununun değerini Alfred ve departman sütununun değerini pazarlama olarak değiştirmek istiyor.</span><span class="sxs-lookup"><span data-stu-id="69c71-135">User1 wants to change the value of the Manager column to Alfred and the value of the Department column to Marketing.</span></span> <span data-ttu-id="69c71-136">Kullanıcı1 'in bu değişiklikleri gönderebilmesi için, kullanıcı2 veritabanına değişiklikleri gönderdi.</span><span class="sxs-lookup"><span data-stu-id="69c71-136">Before User1 can submit those changes, User2 has submitted changes to the database.</span></span> <span data-ttu-id="69c71-137">Bu nedenle, artık yardımcı sütununun değeri Mary olarak değiştirilmiştir ve departman sütununun değeri Service olarak değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="69c71-137">So now the value of the Assistant column has been changed to Mary and the value of the Department column to Service.</span></span>  
  
 <span data-ttu-id="69c71-138">Kullanıcı1 şimdi değişiklikleri göndermeye çalıştığında, gönderim başarısız olur ve bir <xref:System.Data.Linq.ChangeConflictException> özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="69c71-138">When User1 now tries to submit changes, the submission fails and a <xref:System.Data.Linq.ChangeConflictException> exception is thrown.</span></span> <span data-ttu-id="69c71-139">Bu sonuç, yardımcı sütunu ve departman sütunu için veritabanı değerleri beklenenler olmadığı için oluşur.</span><span class="sxs-lookup"><span data-stu-id="69c71-139">This result occurs because the database values for the Assistant column and the Department column are not those that were expected.</span></span> <span data-ttu-id="69c71-140">Yardımcı ve departman sütunlarını temsil eden Üyeler çakışıyor.</span><span class="sxs-lookup"><span data-stu-id="69c71-140">Members representing the Assistant and Department columns are in conflict.</span></span> <span data-ttu-id="69c71-141">Aşağıdaki tabloda durum özetlenmektedir.</span><span class="sxs-lookup"><span data-stu-id="69c71-141">The following table summarizes the situation.</span></span>  
  
||<span data-ttu-id="69c71-142">Yönetici</span><span class="sxs-lookup"><span data-stu-id="69c71-142">Manager</span></span>|<span data-ttu-id="69c71-143">Yardımc</span><span class="sxs-lookup"><span data-stu-id="69c71-143">Assistant</span></span>|<span data-ttu-id="69c71-144">Bölüm</span><span class="sxs-lookup"><span data-stu-id="69c71-144">Department</span></span>|  
|------|-------------|---------------|----------------|  
|<span data-ttu-id="69c71-145">Özgün durum</span><span class="sxs-lookup"><span data-stu-id="69c71-145">Original state</span></span>|<span data-ttu-id="69c71-146">Alfrelar</span><span class="sxs-lookup"><span data-stu-id="69c71-146">Alfreds</span></span>|<span data-ttu-id="69c71-147">Maria</span><span class="sxs-lookup"><span data-stu-id="69c71-147">Maria</span></span>|<span data-ttu-id="69c71-148">Sales</span><span class="sxs-lookup"><span data-stu-id="69c71-148">Sales</span></span>|  
|<span data-ttu-id="69c71-149">Kullanıcı1</span><span class="sxs-lookup"><span data-stu-id="69c71-149">User1</span></span>|<span data-ttu-id="69c71-150">Alfred</span><span class="sxs-lookup"><span data-stu-id="69c71-150">Alfred</span></span>||<span data-ttu-id="69c71-151">Marketing</span><span class="sxs-lookup"><span data-stu-id="69c71-151">Marketing</span></span>|  
|<span data-ttu-id="69c71-152">Kullanıcı2</span><span class="sxs-lookup"><span data-stu-id="69c71-152">User2</span></span>||<span data-ttu-id="69c71-153">Mary</span><span class="sxs-lookup"><span data-stu-id="69c71-153">Mary</span></span>|<span data-ttu-id="69c71-154">Hizmet</span><span class="sxs-lookup"><span data-stu-id="69c71-154">Service</span></span>|  
  
 <span data-ttu-id="69c71-155">Bu gibi çakışmaları farklı yollarla çözebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="69c71-155">You can resolve conflicts such as this in different ways.</span></span> <span data-ttu-id="69c71-156">Daha fazla bilgi için bkz. [nasıl yapılır: değişiklik çakışmalarını yönetme](how-to-manage-change-conflicts.md).</span><span class="sxs-lookup"><span data-stu-id="69c71-156">For more information, see [How to: Manage Change Conflicts](how-to-manage-change-conflicts.md).</span></span>  
  
## <a name="conflict-detection-and-resolution-checklist"></a><span data-ttu-id="69c71-157">Çakışma algılama ve çözümleme denetim listesi</span><span class="sxs-lookup"><span data-stu-id="69c71-157">Conflict Detection and Resolution Checklist</span></span>  

 <span data-ttu-id="69c71-158">Çakışmaları dilediğiniz ayrıntı düzeyinde tespit edebilir ve çözebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="69c71-158">You can detect and resolve conflicts at any level of detail.</span></span> <span data-ttu-id="69c71-159">Bir Extreme 'de, her çakışmayı üç şekilde (bkz.) ek bir şekilde çözebilirsiniz <xref:System.Data.Linq.RefreshMode> .</span><span class="sxs-lookup"><span data-stu-id="69c71-159">At one extreme, you can resolve all conflicts in one of three ways (see <xref:System.Data.Linq.RefreshMode>) without additional consideration.</span></span> <span data-ttu-id="69c71-160">Diğer bir deyişle, çakışma içindeki her üye için her çakışma türü için belirli bir eylem belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="69c71-160">At the other extreme, you can designate a specific action for each type of conflict on every member in conflict.</span></span>  
  
- <span data-ttu-id="69c71-161"><xref:System.Data.Linq.Mapping.UpdateCheck>Nesne modelinizde seçenekleri belirtin veya gözden geçirin.</span><span class="sxs-lookup"><span data-stu-id="69c71-161">Specify or revise <xref:System.Data.Linq.Mapping.UpdateCheck> options in your object model.</span></span>  
  
     <span data-ttu-id="69c71-162">Daha fazla bilgi için bkz. [nasıl yapılır: eşzamanlılık çakışmaları Için hangi üyelerin test edildiğini belirtme](how-to-specify-which-members-are-tested-for-concurrency-conflicts.md).</span><span class="sxs-lookup"><span data-stu-id="69c71-162">For more information, see [How to: Specify Which Members are Tested for Concurrency Conflicts](how-to-specify-which-members-are-tested-for-concurrency-conflicts.md).</span></span>  
  
- <span data-ttu-id="69c71-163">Çağrın try/catch bloğunda <xref:System.Data.Linq.DataContext.SubmitChanges%2A> , özel durumların hangi noktada oluşturulması gerektiğini belirtin.</span><span class="sxs-lookup"><span data-stu-id="69c71-163">In the try/catch block of your call to <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, specify at what point you want exceptions to be thrown.</span></span>  
  
     <span data-ttu-id="69c71-164">Daha fazla bilgi için bkz. [nasıl yapılır: eşzamanlılık özel durumlarının ne zaman oluşturulduğunu belirtme](how-to-specify-when-concurrency-exceptions-are-thrown.md).</span><span class="sxs-lookup"><span data-stu-id="69c71-164">For more information, see [How to: Specify When Concurrency Exceptions are Thrown](how-to-specify-when-concurrency-exceptions-are-thrown.md).</span></span>  
  
- <span data-ttu-id="69c71-165">Ne kadar çakışma ayrıntısı almak istediğinizi saptayın ve try/catch blobuna uygun olarak kod ekleyin.</span><span class="sxs-lookup"><span data-stu-id="69c71-165">Determine how much conflict detail you want to retrieve, and include code in your try/catch block accordingly.</span></span>  
  
     <span data-ttu-id="69c71-166">Daha fazla bilgi için bkz. [nasıl yapılır: varlık çakışma bilgilerini alma](how-to-retrieve-entity-conflict-information.md) ve [nasıl yapılır: üye çakışma bilgilerini alma](how-to-retrieve-member-conflict-information.md).</span><span class="sxs-lookup"><span data-stu-id="69c71-166">For more information, see [How to: Retrieve Entity Conflict Information](how-to-retrieve-entity-conflict-information.md) and [How to: Retrieve Member Conflict Information](how-to-retrieve-member-conflict-information.md).</span></span>  
  
- <span data-ttu-id="69c71-167">`try` / `catch` Keşfettiğiniz çeşitli çakışmaları nasıl çözümlemek istediğinizi kodunuza ekleyin.</span><span class="sxs-lookup"><span data-stu-id="69c71-167">Include in your `try`/`catch` code how you want to resolve the various conflicts you discover.</span></span>  
  
     <span data-ttu-id="69c71-168">Daha fazla bilgi için bkz. [nasıl yapılır: veritabanı değerlerini koruyarak çakışmaları çözme](how-to-resolve-conflicts-by-retaining-database-values.md), [nasıl yapılır: veritabanı değerlerini üzerine yazarak çakışmaları](how-to-resolve-conflicts-by-overwriting-database-values.md)çözme ve [nasıl yapılır: veritabanı değerleriyle birleştirerek çakışmaları](how-to-resolve-conflicts-by-merging-with-database-values.md)çözme.</span><span class="sxs-lookup"><span data-stu-id="69c71-168">For more information, see [How to: Resolve Conflicts by Retaining Database Values](how-to-resolve-conflicts-by-retaining-database-values.md), [How to: Resolve Conflicts by Overwriting Database Values](how-to-resolve-conflicts-by-overwriting-database-values.md), and [How to: Resolve Conflicts by Merging with Database Values](how-to-resolve-conflicts-by-merging-with-database-values.md).</span></span>  
  
## <a name="linq-to-sql-types-that-support-conflict-discovery-and-resolution"></a><span data-ttu-id="69c71-169">Çakışma bulmayı ve çözümlemeyi destekleyen LINQ to SQL türleri</span><span class="sxs-lookup"><span data-stu-id="69c71-169">LINQ to SQL Types That Support Conflict Discovery and Resolution</span></span>  

 <span data-ttu-id="69c71-170">' De iyimser eşzamanlılık içindeki çakışmaların çözümlenmesini desteklemeye yönelik sınıflar ve özellikler şunları [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] içerir:</span><span class="sxs-lookup"><span data-stu-id="69c71-170">Classes and features to support the resolution of conflicts in optimistic concurrency in [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] include the following:</span></span>  
  
- <xref:System.Data.Linq.ObjectChangeConflict?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.MemberChangeConflict?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.ChangeConflictCollection?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.ChangeConflictException?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.DataContext.ChangeConflicts%2A?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.DataContext.SubmitChanges%2A?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.DataContext.Refresh%2A?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.Mapping.ColumnAttribute.UpdateCheck%2A?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.Mapping.UpdateCheck?displayProperty=nameWithType>  
  
- <xref:System.Data.Linq.RefreshMode?displayProperty=nameWithType>  
  
## <a name="see-also"></a><span data-ttu-id="69c71-171">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="69c71-171">See also</span></span>

- [<span data-ttu-id="69c71-172">Nasıl yapılır: Değişiklik Çakışmalarını Yönetme</span><span class="sxs-lookup"><span data-stu-id="69c71-172">How to: Manage Change Conflicts</span></span>](how-to-manage-change-conflicts.md)
