---
title: .NET 'te veri görüntüleme ve kalıcı olarak biçimlendirilen veriler için en iyi uygulamalar
description: .NET uygulamalarında sayısal ve Tarih verisini etkin bir şekilde görüntülemeyi ve kalıcı yapmayı öğrenin.
ms.date: 05/01/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
ms.openlocfilehash: 83a491f6c843225c6242a343fe4132c2ce7caa74
ms.sourcegitcommit: 48466b8fb7332ececff5dc388f19f6b3ff503dd4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/05/2020
ms.locfileid: "93403628"
---
# <a name="best-practices-for-displaying-and-persisting-formatted-data"></a><span data-ttu-id="b3c45-103">Biçimlendirilen verileri görüntülemek ve kalıcı yapmak için en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="b3c45-103">Best practices for displaying and persisting formatted data</span></span>

<span data-ttu-id="b3c45-104">Bu makalede, sayısal veriler ve Tarih ve saat verileri gibi biçimlendirilen verilerin görüntüleme ve depolama için nasıl işlendiği incelenir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-104">This article examines how formatted data, such as numeric data and date-and-time data, is handled for display and for storage.</span></span>

<span data-ttu-id="b3c45-105">.NET ile geliştirirken, bir kullanıcı arabiriminde sayı ve tarih gibi dize olmayan verileri göstermek için kültüre duyarlı biçimlendirme kullanın.</span><span class="sxs-lookup"><span data-stu-id="b3c45-105">When you develop with .NET, use culture-sensitive formatting to display non-string data, such as numbers and dates, in a user interface.</span></span> <span data-ttu-id="b3c45-106">Dize olmayan verileri dize biçiminde kalıcı hale getirmek için [sabit kültür](xref:System.Globalization.CultureInfo.InvariantCulture) ile biçimlendirme kullanın.</span><span class="sxs-lookup"><span data-stu-id="b3c45-106">Use formatting with the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) to persist non-string data in string form.</span></span> <span data-ttu-id="b3c45-107">Sayısal veya tarih ve saat verilerini dize biçiminde kalıcı hale getirmek için kültüre duyarlı biçimlendirme kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="b3c45-107">Do not use culture-sensitive formatting to persist numeric or date-and-time data in string form.</span></span>

## <a name="displaying-formatted-data"></a><span data-ttu-id="b3c45-108">Biçimlendirilen verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="b3c45-108">Displaying formatted data</span></span>

<span data-ttu-id="b3c45-109">Kullanıcılara sayılar ve tarih ve saatler gibi dize olmayan verileri görüntülerken bunları, kullanıcının kültürel ayarlarını kullanarak biçimlendirin.</span><span class="sxs-lookup"><span data-stu-id="b3c45-109">When you display non-string data such as numbers and dates and times to users, format them by using the user's cultural settings.</span></span> <span data-ttu-id="b3c45-110">Varsayılan olarak, aşağıdaki hepsi biçimlendirme işlemlerinde geçerli iş parçacığı kültürünü kullanır:</span><span class="sxs-lookup"><span data-stu-id="b3c45-110">By default, the following all use the current thread culture in formatting operations:</span></span>

- <span data-ttu-id="b3c45-111">[C#](../../csharp/language-reference/tokens/interpolated.md) ve [Visual Basic](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md) derleyicileri tarafından desteklenen enterpolasyonlu dizeler.</span><span class="sxs-lookup"><span data-stu-id="b3c45-111">Interpolated strings supported by the [C#](../../csharp/language-reference/tokens/interpolated.md) and [Visual Basic](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md) compilers.</span></span>
- <span data-ttu-id="b3c45-112">[C#](../../csharp/language-reference/operators/addition-operator.md#string-concatenation) veya [Visual Basic](../../visual-basic/programming-guide/language-features/operators-and-expressions/concatenation-operators.md) birleştirme işleçlerini kullanan veya yöntemi doğrudan çağıran dize birleştirme işlemleri <xref:System.String.Concat%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="b3c45-112">String concatenation operations that use the [C#](../../csharp/language-reference/operators/addition-operator.md#string-concatenation) or [Visual Basic](../../visual-basic/programming-guide/language-features/operators-and-expressions/concatenation-operators.md) concatenation operators or that call the <xref:System.String.Concat%2A?displayProperty=nameWithType> method directly.</span></span>
- <span data-ttu-id="b3c45-113"><xref:System.String.Format%2A?displayProperty=nameWithType>Yöntemi.</span><span class="sxs-lookup"><span data-stu-id="b3c45-113">The <xref:System.String.Format%2A?displayProperty=nameWithType> method.</span></span>
- <span data-ttu-id="b3c45-114">`ToString`Sayısal türlerin ve Tarih ve saat türlerinin yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="b3c45-114">The `ToString` methods of the numeric types and the date and time types.</span></span>

<span data-ttu-id="b3c45-115">Bir dizenin belirlenen bir kültür veya [sabit kültürün](xref:System.Globalization.CultureInfo.InvariantCulture)kuralları kullanılarak biçimlendirilmesi gerektiğini açıkça belirtmek için aşağıdakileri yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="b3c45-115">To explicitly specify that a string should be formatted by using the conventions of a designated culture or the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture), you can do the following:</span></span>

- <span data-ttu-id="b3c45-116"><xref:System.String.Format%2A?displayProperty=nameWithType>Ve yöntemlerini kullanırken, `ToString` veya gibi bir parametresi olan bir aşırı yüklemeyi çağırın `provider` <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> ve <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> özelliği, <xref:System.Globalization.CultureInfo> istenen kültürü temsil eden bir örneği veya <xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType> özelliği geçirin.</span><span class="sxs-lookup"><span data-stu-id="b3c45-116">When using the <xref:System.String.Format%2A?displayProperty=nameWithType> and `ToString` methods, call an overload that has a `provider` parameter, such as <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> or <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType>, and pass it the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property, a <xref:System.Globalization.CultureInfo> instance that represents the desired culture, or the <xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="b3c45-117">Dize birleştirme için derleyicinin örtük dönüştürmeler gerçekleştirmesine izin vermeyin.</span><span class="sxs-lookup"><span data-stu-id="b3c45-117">For string concatenation, do not allow the compiler to perform any implicit conversions.</span></span> <span data-ttu-id="b3c45-118">Bunun yerine, parametresi olan bir aşırı yüklemeyi çağırarak açık bir dönüştürme gerçekleştirin `ToString` `provider` .</span><span class="sxs-lookup"><span data-stu-id="b3c45-118">Instead, perform an explicit conversion by calling a `ToString` overload that has a `provider` parameter.</span></span> <span data-ttu-id="b3c45-119">Örneğin, derleyici bir <xref:System.Double> değeri aşağıdaki kodda bir dizeye dönüştürürken örtülü olarak geçerli kültürü kullanır:</span><span class="sxs-lookup"><span data-stu-id="b3c45-119">For example, the compiler implicitly uses the current culture when converting a <xref:System.Double> value to a string in the following code:</span></span>

  [!code-csharp[Implicit String Conversion](./snippets/best-practices-strings/csharp/tostring/Program.cs#1)]
  [!code-vb[Implicit String Conversion](./snippets/best-practices-strings/vb/tostring/Program.vb#1)]

  <span data-ttu-id="b3c45-120">Bunun yerine, <xref:System.Double.ToString(System.IFormatProvider)?displayProperty=nameWithType> Aşağıdaki kod yaptığı gibi, yöntemini çağırarak, biçimlendirme kuralları dönüştürmede kullanılan kültürü açıkça belirtebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="b3c45-120">Instead, you can explicitly specify the culture whose formatting conventions are used in the conversion by calling the <xref:System.Double.ToString(System.IFormatProvider)?displayProperty=nameWithType> method, as the following code does:</span></span>

  [!code-csharp[Explicit String Conversion](./snippets/best-practices-strings/csharp/tostring/Program.cs#2)]
  [!code-vb[Implicit String Conversion](./snippets/best-practices-strings/vb/tostring/Program.vb#2)]

- <span data-ttu-id="b3c45-121">Dize ilişkilendirme için, bir örneğe bir enterpolasyonlu dize atamak yerine <xref:System.String> , ' a atayın <xref:System.FormattableString> .</span><span class="sxs-lookup"><span data-stu-id="b3c45-121">For string interpolation, rather than assigning an interpolated string to a <xref:System.String> instance, assign it to a <xref:System.FormattableString>.</span></span> <span data-ttu-id="b3c45-122">Daha sonra <xref:System.FormattableString.ToString?displayProperty=nameWithType> yöntemini çağırabilirsiniz, geçerli kültürün kurallarını yansıtan bir sonuç dizesi oluşturabilir veya <xref:System.FormattableString.ToString(System.IFormatProvider)?displayProperty=nameWithType> belirtilen bir kültürün kurallarını yansıtan bir sonuç dizesi oluşturmak için yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3c45-122">You can then call its <xref:System.FormattableString.ToString?displayProperty=nameWithType> method produce a result string that reflects the conventions of the current culture, or you can call the <xref:System.FormattableString.ToString(System.IFormatProvider)?displayProperty=nameWithType> method to produce a result string that reflects the conventions of a specified culture.</span></span> <span data-ttu-id="b3c45-123">Ayrıca <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> , sabit kültürün kurallarını yansıtan bir sonuç dizesi üretmek için biçimlendirilebilir dizesini statik yönteme geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3c45-123">You can also pass the formattable string to the static <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> method to produce a result string that reflects the conventions of the invariant culture.</span></span> <span data-ttu-id="b3c45-124">Aşağıdaki örnek bu yaklaşımı gösterir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-124">The following example illustrates this approach.</span></span> <span data-ttu-id="b3c45-125">(Örneğin çıktısı, geçerli en-US kültürünü yansıtır.)</span><span class="sxs-lookup"><span data-stu-id="b3c45-125">(The output from the example reflects a current culture of en-US.)</span></span>

  [!code-csharp[String interpolation](./snippets/best-practices-strings/csharp/formattable/Program.cs)]
  [!code-vb[String interpolation](./snippets/best-practices-strings/vb/formattable/Program.vb)]

## <a name="persisting-formatted-data"></a><span data-ttu-id="b3c45-126">Kalıcı biçimli veriler</span><span class="sxs-lookup"><span data-stu-id="b3c45-126">Persisting formatted data</span></span>

<span data-ttu-id="b3c45-127">Dize olmayan verileri iki veri veya biçimlendirilmiş veri olarak kalıcı hale getirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3c45-127">You can persist non-string data either as binary data or as formatted data.</span></span> <span data-ttu-id="b3c45-128">Eğer biçimlendirilmiş veri olarak kaydetmeyi seçerseniz, bir `provider` parametresi içeren bir biçimlendirme yöntemi aşırı yüklemesi çağırmanız ve <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> özelliğini geçirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-128">If you choose to save it as formatted data, you should call a formatting method overload that includes a `provider` parameter and pass it the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="b3c45-129">Sabit kültür, kültürden ve makineden bağımsız olan biçimlendirilmiş veriler için tutarlı bir biçim sağlar.</span><span class="sxs-lookup"><span data-stu-id="b3c45-129">The invariant culture provides a consistent format for formatted data that is independent of culture and machine.</span></span> <span data-ttu-id="b3c45-130">Bunun aksine, sabit kültür dışındaki kültürler kullanılarak biçimlendirilen verileri kalıcı hale getirmenin birçok sınırlaması vardır:</span><span class="sxs-lookup"><span data-stu-id="b3c45-130">In contrast, persisting data that is formatted by using cultures other than the invariant culture has a number of limitations:</span></span>

- <span data-ttu-id="b3c45-131">Veriler, farklı bir kültüre sahip sistemde alındığında veya geçerli sistemin kullanıcısı geçerli kültürü değiştirdiğinde ve verileri almaya çalıştığında bu verilerin kullanılamaz hale gelmesi muhtemeldir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-131">The data is likely to be unusable if it is retrieved on a system that has a different culture, or if the user of the current system changes the current culture and tries to retrieve the data.</span></span>
- <span data-ttu-id="b3c45-132">Belirli bir bilgisayardaki kültürün özellikleri standart değerlerden farklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-132">The properties of a culture on a specific computer can differ from standard values.</span></span> <span data-ttu-id="b3c45-133">Bir kullanıcı, istediği zaman kültüre duyarlı görüntüleme ayarlarını özelleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-133">At any time, a user can customize culture-sensitive display settings.</span></span> <span data-ttu-id="b3c45-134">Bu nedenle, bir sistemde kaydedilen biçimlendirilmiş veriler, kullanıcı kültürel ayarları özelleştirdikten sonra okunamaz hale gelebilir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-134">Because of this, formatted data that is saved on a system may not be readable after the user customizes cultural settings.</span></span> <span data-ttu-id="b3c45-135">Biçimlendirilmiş verilerin bilgisayarlar arası taşınabilirliğinin daha da sınırlı olması olasıdır.</span><span class="sxs-lookup"><span data-stu-id="b3c45-135">The portability of formatted data across computers is likely to be even more limited.</span></span>
- <span data-ttu-id="b3c45-136">Sayıların veya tarih ve saatlerin biçimlendirmesini yöneten uluslararası, bölgesel veya ulusal standartlar zamanla değişir ve bu değişiklikler Windows işletim sistemi güncelleştirmelerine dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-136">International, regional, or national standards that govern the formatting of numbers or dates and times change over time, and these changes are incorporated into Windows operating system updates.</span></span> <span data-ttu-id="b3c45-137">Biçimlendirme kuralları değiştiğinde, önceki kurallar kullanılarak biçimlendirilen veriler okunamaz hale gelebilir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-137">When formatting conventions change, data that was formatted by using the previous conventions may become unreadable.</span></span>

<span data-ttu-id="b3c45-138">Aşağıdaki örnek, veriyi kalıcı hale getirmek için kültüre duyarlı biçimlendirme kullanma sonucunda oluşan sınırlı taşınabilirliği gösterir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-138">The following example illustrates the limited portability that results from using culture-sensitive formatting to persist data.</span></span> <span data-ttu-id="b3c45-139">Örnek, bir tarih ve saat değerleri dizisini bir dosyaya kaydeder.</span><span class="sxs-lookup"><span data-stu-id="b3c45-139">The example saves an array of date and time values to a file.</span></span> <span data-ttu-id="b3c45-140">Bu değerler, İngilizce (Amerika Birleşik Devletleri) kültürünün kuralları kullanılarak biçimlendirilir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-140">These are formatted by using the conventions of the English (United States) culture.</span></span> <span data-ttu-id="b3c45-141">Uygulama geçerli iş parçacığı kültürünü Fransızca (İsviçre) olarak değiştirdikten sonra, geçerli kültürün biçimlendirme kurallarını kullanarak kaydedilen değerleri okumaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="b3c45-141">After the application changes the current thread culture to French (Switzerland), it tries to read the saved values by using the formatting conventions of the current culture.</span></span> <span data-ttu-id="b3c45-142">Veri öğelerinin ikisini okuma denemesi, bir <xref:System.FormatException> özel durumu oluşturur ve tarih dizisi artık <xref:System.DateTime.MinValue> değerine eşit olan iki yanlış öğeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="b3c45-142">The attempt to read two of the data items throws a <xref:System.FormatException> exception, and the array of dates now contains two incorrect elements that are equal to <xref:System.DateTime.MinValue>.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#21](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/persistence.cs#21)]
[!code-vb[Conceptual.Strings.BestPractices#21](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/persistence.vb#21)]

<span data-ttu-id="b3c45-143">Ancak, <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> çağrılarındaki özelliğini ile değiştirirseniz, <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> <xref:System.DateTime.Parse%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> aşağıdaki çıktıda gösterildiği gibi kalıcı tarih ve saat verileri başarıyla geri yüklenir:</span><span class="sxs-lookup"><span data-stu-id="b3c45-143">However, if you replace the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property with <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> in the calls to <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> and <xref:System.DateTime.Parse%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, the persisted date and time data is successfully restored, as the following output shows:</span></span>

```console
06.05.1758 21:26
05.05.1818 07:19
22.04.1870 23:54
08.09.1890 06:47
18.02.1905 15:12
```
