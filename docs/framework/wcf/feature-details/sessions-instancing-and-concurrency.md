---
title: Oturumlar, Örnek Oluşturma ve Eşzamanlılık
ms.date: 03/30/2017
ms.assetid: 50797a3b-7678-44ed-8138-49ac1602f35b
ms.openlocfilehash: 19dedddadad2f27acdeeaceb2c186a731fa79c32
ms.sourcegitcommit: 7980a91f90ae5eca859db7e6bfa03e23e76a1a50
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/13/2020
ms.locfileid: "81243121"
---
# <a name="sessions-instancing-and-concurrency"></a><span data-ttu-id="943a7-102">Oturumlar, Örnek Oluşturma ve Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="943a7-102">Sessions, Instancing, and Concurrency</span></span>
<span data-ttu-id="943a7-103">*Oturum,* iki uç nokta arasında gönderilen tüm iletilerin korelasyonunu konur.</span><span class="sxs-lookup"><span data-stu-id="943a7-103">A *session* is a correlation of all messages sent between two endpoints.</span></span> <span data-ttu-id="943a7-104">*Instancing,* kullanıcı tanımlı hizmet nesnelerinin ve bunların <xref:System.ServiceModel.InstanceContext> ilgili nesnelerinin kullanım ömrünü denetlemeyi ifade eder.</span><span class="sxs-lookup"><span data-stu-id="943a7-104">*Instancing* refers to controlling the lifetime of user-defined service objects and their related <xref:System.ServiceModel.InstanceContext> objects.</span></span> <span data-ttu-id="943a7-105">*Eşzamanlılık,* aynı <xref:System.ServiceModel.InstanceContext> anda çalıştırılabilen iş parçacığı sayısının denetimine verilen terimdir.</span><span class="sxs-lookup"><span data-stu-id="943a7-105">*Concurrency* is the term given to the control of the number of threads executing in an <xref:System.ServiceModel.InstanceContext> at the same time.</span></span>  
  
 <span data-ttu-id="943a7-106">Bu konu, bu ayarları, bunların nasıl kullanılacağını ve aralarındaki çeşitli etkileşimleri açıklar.</span><span class="sxs-lookup"><span data-stu-id="943a7-106">This topic describes these settings, how to use them, and the various interactions between them.</span></span>  
  
## <a name="sessions"></a><span data-ttu-id="943a7-107">Oturumlar</span><span class="sxs-lookup"><span data-stu-id="943a7-107">Sessions</span></span>  
 <span data-ttu-id="943a7-108">Bir hizmet sözleşmesi <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> özelliği <xref:System.ServiceModel.SessionMode.Required?displayProperty=nameWithType>ayarladığında, bu sözleşme tüm çağrıların (diğer bir şekilde çağrıları destekleyen temel ileti alışverişi) aynı konuşmanın bir parçası olması gerektiğini söylüyor.</span><span class="sxs-lookup"><span data-stu-id="943a7-108">When a service contract sets the <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.SessionMode.Required?displayProperty=nameWithType>, that contract is saying that all calls (that is, the underlying message exchanges that support the calls) must be part of the same conversation.</span></span> <span data-ttu-id="943a7-109">Bir sözleşme, oturumlara izin verdiğini, ancak gerekmediğini belirtirse, istemciler bağlanabilir ve bir oturum kurabilir veya oluşturamaz.</span><span class="sxs-lookup"><span data-stu-id="943a7-109">If a contract specifies that it allows sessions but does not require one, clients can connect and either establish a session or not.</span></span> <span data-ttu-id="943a7-110">Oturum sona erer ve aynı oturum tabanlı kanal üzerinden bir ileti gönderilirse bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-110">If the session ends and a message is sent over the same session-based channel an exception is thrown.</span></span>  
  
 <span data-ttu-id="943a7-111">WCF oturumları aşağıdaki temel kavramsal özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="943a7-111">WCF sessions have the following main conceptual features:</span></span>  
  
- <span data-ttu-id="943a7-112">Bunlar açıkça başlatılır ve arama uygulaması tarafından sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-112">They are explicitly initiated and terminated by the calling application.</span></span>  
  
- <span data-ttu-id="943a7-113">Oturum sırasında iletilen iletiler, alındıkları sırayla işlenir.</span><span class="sxs-lookup"><span data-stu-id="943a7-113">Messages delivered during a session are processed in the order in which they are received.</span></span>  
  
- <span data-ttu-id="943a7-114">Oturumlar, bir ileti grubunu bir konuşmaya ilişkilendirer.</span><span class="sxs-lookup"><span data-stu-id="943a7-114">Sessions correlate a group of messages into a conversation.</span></span> <span data-ttu-id="943a7-115">Bu bağıntının anlamı bir soyutlamadır.</span><span class="sxs-lookup"><span data-stu-id="943a7-115">The meaning of that correlation is an abstraction.</span></span> <span data-ttu-id="943a7-116">Örneğin, oturum tabanlı bir kanal paylaşılan ağ bağlantısına dayalı iletileri ilişkilendirebilirken, başka bir oturum tabanlı kanal ileti gövdesindeki paylaşılan etikete dayalı iletileri ilişkilendirebilir.</span><span class="sxs-lookup"><span data-stu-id="943a7-116">For instance, one session-based channel may correlate messages based on a shared network connection while another session-based channel may correlate messages based on a shared tag in the message body.</span></span> <span data-ttu-id="943a7-117">Oturumdan türetilebilen özellikler bağıntının doğasına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="943a7-117">The features that can be derived from the session depend on the nature of the correlation.</span></span>  
  
- <span data-ttu-id="943a7-118">WCF oturumuyla ilişkili genel bir veri deposu yoktur.</span><span class="sxs-lookup"><span data-stu-id="943a7-118">There is no general data store associated with a WCF session.</span></span>  
  
 <span data-ttu-id="943a7-119">ASP.NET uygulamalarda <xref:System.Web.SessionState.HttpSessionState?displayProperty=nameWithType> sınıfa ve sağladığı işlevselliği biliyorsanız, bu tür oturumlarla WCF oturumları arasındaki aşağıdaki farkları fark edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="943a7-119">If you are familiar with the <xref:System.Web.SessionState.HttpSessionState?displayProperty=nameWithType> class in ASP.NET applications and the functionality it provides, you might notice the following differences between that kind of session and WCF sessions:</span></span>  
  
- <span data-ttu-id="943a7-120">ASP.NET oturumları her zaman sunucu tarafından başlatılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-120">ASP.NET sessions are always server-initiated.</span></span>  
  
- <span data-ttu-id="943a7-121">ASP.NET oturumlar dolaylı olarak sırasızdır.</span><span class="sxs-lookup"><span data-stu-id="943a7-121">ASP.NET sessions are implicitly unordered.</span></span>  
  
- <span data-ttu-id="943a7-122">ASP.NET oturumları istekler arasında genel bir veri depolama mekanizması sağlar.</span><span class="sxs-lookup"><span data-stu-id="943a7-122">ASP.NET sessions provide a general data storage mechanism across requests.</span></span>  
  
 <span data-ttu-id="943a7-123">İstemci uygulamaları ve hizmet uygulamaları oturumlarla farklı şekillerde etkileşimde dir.</span><span class="sxs-lookup"><span data-stu-id="943a7-123">Client applications and service applications interact with sessions in different ways.</span></span> <span data-ttu-id="943a7-124">İstemci uygulamaları oturumları başlatır ve oturum içinde gönderilen iletileri alır ve işlenir.</span><span class="sxs-lookup"><span data-stu-id="943a7-124">Client applications initiate sessions and then receive and process the messages sent within the session.</span></span> <span data-ttu-id="943a7-125">Hizmet uygulamaları, ek davranış eklemek için oturumları genişletilebilirlik noktası olarak kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="943a7-125">Service applications can use sessions as an extensibility point to add additional behavior.</span></span> <span data-ttu-id="943a7-126">Bu, doğrudan özel <xref:System.ServiceModel.InstanceContext> bir örnek bağlam sağlayıcısıyla çalışarak veya uygulayarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-126">This is done by working directly with the <xref:System.ServiceModel.InstanceContext> or implementing a custom instance context provider.</span></span>  
  
## <a name="instancing"></a><span data-ttu-id="943a7-127">Örnek Oluşturma</span><span class="sxs-lookup"><span data-stu-id="943a7-127">Instancing</span></span>  
 <span data-ttu-id="943a7-128">Gelen iletilere yanıt olarak nasıl <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> <xref:System.ServiceModel.InstanceContext> oluşturulduğunu (özelliği kullanarak ayarlanan) instancing davranış.</span><span class="sxs-lookup"><span data-stu-id="943a7-128">The instancing behavior (set by using the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property) controls how the <xref:System.ServiceModel.InstanceContext> is created in response to incoming messages.</span></span> <span data-ttu-id="943a7-129">Varsayılan olarak, <xref:System.ServiceModel.InstanceContext> her biri bir kullanıcı tanımlı hizmet nesnesi ile <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> ilişkilidir, bu nedenle (varsayılan durumda) özelliği ayarlama da kullanıcı tanımlı hizmet nesnelerinin instancing denetler.</span><span class="sxs-lookup"><span data-stu-id="943a7-129">By default, each <xref:System.ServiceModel.InstanceContext> is associated with one user-defined service object, so (in the default case) setting the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> property also controls the instancing of user-defined service objects.</span></span> <span data-ttu-id="943a7-130">Numaralandırma, <xref:System.ServiceModel.InstanceContextMode> instancing modlarını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="943a7-130">The <xref:System.ServiceModel.InstanceContextMode> enumeration defines the instancing modes.</span></span>  
  
 <span data-ttu-id="943a7-131">Aşağıdaki instancing modları kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="943a7-131">The following instancing modes are available:</span></span>  
  
- <span data-ttu-id="943a7-132"><xref:System.ServiceModel.InstanceContextMode.PerCall>: Her <xref:System.ServiceModel.InstanceContext> istemci isteği için yeni bir (ve bu nedenle hizmet nesnesi) oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="943a7-132"><xref:System.ServiceModel.InstanceContextMode.PerCall>: A new <xref:System.ServiceModel.InstanceContext> (and therefore service object) is created for each client request.</span></span>  
  
- <span data-ttu-id="943a7-133"><xref:System.ServiceModel.InstanceContextMode.PerSession>: Her <xref:System.ServiceModel.InstanceContext> yeni istemci oturumu için yeni bir (ve bu nedenle hizmet nesnesi) oluşturulur ve bu oturumun ömrü boyunca korunur (bu, oturumları destekleyen bir bağlama gerektirir).</span><span class="sxs-lookup"><span data-stu-id="943a7-133"><xref:System.ServiceModel.InstanceContextMode.PerSession>: A new <xref:System.ServiceModel.InstanceContext> (and therefore service object) is created for each new client session and maintained for the lifetime of that session (this requires a binding that supports sessions).</span></span>  
  
- <span data-ttu-id="943a7-134"><xref:System.ServiceModel.InstanceContextMode.Single>: Tek <xref:System.ServiceModel.InstanceContext> bir (ve bu nedenle hizmet nesnesi) uygulamanın ömrü için tüm istemci isteklerini işler.</span><span class="sxs-lookup"><span data-stu-id="943a7-134"><xref:System.ServiceModel.InstanceContextMode.Single>: A single <xref:System.ServiceModel.InstanceContext> (and therefore service object) handles all client requests for the lifetime of the application.</span></span>  
  
 <span data-ttu-id="943a7-135">Aşağıdaki kod örneği, <xref:System.ServiceModel.InstanceContextMode> <xref:System.ServiceModel.InstanceContextMode.PerSession> bir hizmet sınıfında açıkça ayarlanan varsayılan değeri gösterir.</span><span class="sxs-lookup"><span data-stu-id="943a7-135">The following code example shows the default <xref:System.ServiceModel.InstanceContextMode> value, <xref:System.ServiceModel.InstanceContextMode.PerSession> being explicitly set on a service class.</span></span>  
  
```csharp  
[ServiceBehavior(InstanceContextMode=InstanceContextMode.PerSession)]
public class CalculatorService : ICalculatorInstance
{
    ...  
}  
```  
  
 <span data-ttu-id="943a7-136"><xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> Özellik ne sıklıkta serbest <xref:System.ServiceModel.InstanceContext> bırakıldığını denetlerken, hizmet nesnesi serbest bırakıldığında özellikleri <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> ve özellikleri <xref:System.ServiceModel.ServiceBehaviorAttribute.ReleaseServiceInstanceOnTransactionComplete%2A?displayProperty=nameWithType> denetler.</span><span class="sxs-lookup"><span data-stu-id="943a7-136">And while the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property controls how often the <xref:System.ServiceModel.InstanceContext> is released, the <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.ServiceBehaviorAttribute.ReleaseServiceInstanceOnTransactionComplete%2A?displayProperty=nameWithType> properties control when the service object is released.</span></span>  
  
### <a name="well-known-singleton-services"></a><span data-ttu-id="943a7-137">Tanınmış Singleton Hizmetleri</span><span class="sxs-lookup"><span data-stu-id="943a7-137">Well-Known Singleton Services</span></span>  
 <span data-ttu-id="943a7-138">Tek örnek hizmet nesnelerinde bir varyasyon bazen yararlıdır: bir hizmet nesnesi kendiniz oluşturabilir ve bu nesneyi kullanarak servis ana bilgisayarını oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="943a7-138">One variation on single instance service objects is sometimes useful: you can create a service object yourself and create the service host using that object.</span></span> <span data-ttu-id="943a7-139">Bunu yapmak için, <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özelliği de <xref:System.ServiceModel.InstanceContextMode.Single> ayarlamanız gerekir veya hizmet ana bilgisayar açıldığında bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-139">To do so, you must also set the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.InstanceContextMode.Single> or an exception is thrown when the service host is opened.</span></span>  
  
 <span data-ttu-id="943a7-140">Böyle <xref:System.ServiceModel.ServiceHost.%23ctor%28System.Object%2CSystem.Uri%5B%5D%29> bir hizmet oluşturmak için oluşturucuyu kullanın.</span><span class="sxs-lookup"><span data-stu-id="943a7-140">Use the <xref:System.ServiceModel.ServiceHost.%23ctor%28System.Object%2CSystem.Uri%5B%5D%29> constructor to create such a service.</span></span> <span data-ttu-id="943a7-141">Singleton hizmeti tarafından kullanılmak <xref:System.ServiceModel.Dispatcher.IInstanceContextInitializer?displayProperty=nameWithType> üzere belirli bir nesne örneği sağlamak istediğinizde özel bir uygulama için bir alternatif sağlar.</span><span class="sxs-lookup"><span data-stu-id="943a7-141">It provides an alternative to implementing a custom <xref:System.ServiceModel.Dispatcher.IInstanceContextInitializer?displayProperty=nameWithType> when you wish to provide a specific object instance for use by a singleton service.</span></span> <span data-ttu-id="943a7-142">Hizmet uygulama türünüz zor olduğunda (örneğin, parametresiz bir ortak oluşturucu uygulamıyorsa) bu aşırı yükü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="943a7-142">You can use this overload when your service implementation type is difficult to construct (for example, if it does not implement a parameterless public constructor).</span></span>  
  
 <span data-ttu-id="943a7-143">Bu oluşturucuya bir nesne sağlandığında, Windows Communication Foundation (WCF) ile ilgili bazı özelliklerin davranış yapısının farklı çalıştığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="943a7-143">Note that when an object is provided to this constructor, some features related to the Windows Communication Foundation (WCF) instancing behavior work differently.</span></span> <span data-ttu-id="943a7-144">Örneğin, singleton nesne örneği sağlandığında aramanın <xref:System.ServiceModel.InstanceContext.ReleaseServiceInstance%2A?displayProperty=nameWithType> hiçbir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="943a7-144">For example, calling <xref:System.ServiceModel.InstanceContext.ReleaseServiceInstance%2A?displayProperty=nameWithType> has no effect when a singleton object instance is provided.</span></span> <span data-ttu-id="943a7-145">Benzer şekilde, başka bir örnek yayımetme mekanizması yoksayılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-145">Similarly, any other instance-release mechanism is ignored.</span></span> <span data-ttu-id="943a7-146">Özellik <xref:System.ServiceModel.ServiceHost> her zaman tüm <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> işlemler <xref:System.ServiceModel.ReleaseInstanceMode.None?displayProperty=nameWithType> için ayarlanmış gibi olur.</span><span class="sxs-lookup"><span data-stu-id="943a7-146">The <xref:System.ServiceModel.ServiceHost> always behaves as if the <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> property is set to <xref:System.ServiceModel.ReleaseInstanceMode.None?displayProperty=nameWithType> for all operations.</span></span>  
  
### <a name="sharing-instancecontext-objects"></a><span data-ttu-id="943a7-147">Örnek Bağlam Nesnelerini Paylaşma</span><span class="sxs-lookup"><span data-stu-id="943a7-147">Sharing InstanceContext Objects</span></span>  
 <span data-ttu-id="943a7-148">Ayrıca, bu ilişkilendirmeyi kendiniz gerçekleştirerek hangi <xref:System.ServiceModel.InstanceContext> oturumlu kanalın veya çağrının hangi nesneyle ilişkili olduğunu da denetleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="943a7-148">You can also control which sessionful channel or call is associated with which <xref:System.ServiceModel.InstanceContext> object by performing that association yourself.</span></span>  
  
## <a name="concurrency"></a><span data-ttu-id="943a7-149">Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="943a7-149">Concurrency</span></span>  
 <span data-ttu-id="943a7-150">Eşzamanlılık, herhangi bir <xref:System.ServiceModel.InstanceContext> anda etkin olan iş parçacığı sayısının denetimidir.</span><span class="sxs-lookup"><span data-stu-id="943a7-150">Concurrency is the control of the number of threads active in an <xref:System.ServiceModel.InstanceContext> at any one time.</span></span> <span data-ttu-id="943a7-151">Bu numaralandırma <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> ile <xref:System.ServiceModel.ConcurrencyMode> kullanılarak kontrol edilir.</span><span class="sxs-lookup"><span data-stu-id="943a7-151">This is controlled by using the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> with the <xref:System.ServiceModel.ConcurrencyMode> enumeration.</span></span>  
  
 <span data-ttu-id="943a7-152">Aşağıdaki üç eşzamanlılık modu kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="943a7-152">The following three concurrency modes are available:</span></span>  
  
- <span data-ttu-id="943a7-153"><xref:System.ServiceModel.ConcurrencyMode.Single>: Her örnek bağlamın, örnek bağlamında aynı anda en fazla bir iş parçacığı işleme iletisine sahip olması için izin verilir.</span><span class="sxs-lookup"><span data-stu-id="943a7-153"><xref:System.ServiceModel.ConcurrencyMode.Single>: Each instance context is allowed to have a maximum of one thread processing messages in the instance context at a time.</span></span> <span data-ttu-id="943a7-154">Aynı örnek bağlamını kullanmak isteyen diğer iş parçacıkları, özgün iş parçacığı örnek bağlamından çıkana kadar engellemelidir.</span><span class="sxs-lookup"><span data-stu-id="943a7-154">Other threads wishing to use the same instance context must block until the original thread exits the instance context.</span></span>  
  
- <span data-ttu-id="943a7-155"><xref:System.ServiceModel.ConcurrencyMode.Multiple>: Her hizmet örneğinde aynı anda iletileri işleyen birden çok iş parçacığı olabilir.</span><span class="sxs-lookup"><span data-stu-id="943a7-155"><xref:System.ServiceModel.ConcurrencyMode.Multiple>: Each service instance can have multiple threads processing messages concurrently.</span></span> <span data-ttu-id="943a7-156">Bu eşzamanlılık modunu kullanmak için hizmet uygulaması iş parçacığı güvenli olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="943a7-156">The service implementation must be thread-safe to use this concurrency mode.</span></span>  
  
- <span data-ttu-id="943a7-157"><xref:System.ServiceModel.ConcurrencyMode.Reentrant>: Her hizmet örneği aynı anda bir iletiyi işler, ancak yeniden giren işlem çağrılarını kabul eder.</span><span class="sxs-lookup"><span data-stu-id="943a7-157"><xref:System.ServiceModel.ConcurrencyMode.Reentrant>: Each service instance processes one message at a time, but accepts re-entrant operation calls.</span></span> <span data-ttu-id="943a7-158">Hizmet bu çağrıları yalnızca bir WCF istemci nesnesi üzerinden çağırırken kabul eder.</span><span class="sxs-lookup"><span data-stu-id="943a7-158">The service only accepts these calls when it is calling out through a WCF client object.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="943a7-159">Birden fazla iş parçacığı güvenli bir şekilde kullanan kodu anlamak ve geliştirmek başarılı bir şekilde yazmak zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="943a7-159">Understanding and developing code that safely uses more than one thread can be difficult to write successfully.</span></span> <span data-ttu-id="943a7-160">Kullanmadan <xref:System.ServiceModel.ConcurrencyMode.Multiple> <xref:System.ServiceModel.ConcurrencyMode.Reentrant> veya değer vermeden önce, hizmetinizin bu modlar için uygun şekilde tasarlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="943a7-160">Before using <xref:System.ServiceModel.ConcurrencyMode.Multiple> or <xref:System.ServiceModel.ConcurrencyMode.Reentrant> values, ensure that your service is properly designed for these modes.</span></span> <span data-ttu-id="943a7-161">Daha fazla bilgi için bkz. <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A>.</span><span class="sxs-lookup"><span data-stu-id="943a7-161">For more information, see <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A>.</span></span>  
  
 <span data-ttu-id="943a7-162">Eşzamanlılık kullanımı instancing modu ile ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="943a7-162">The use of concurrency is related to the instancing mode.</span></span> <span data-ttu-id="943a7-163">Her <xref:System.ServiceModel.InstanceContextMode.PerCall> ileti yeni <xref:System.ServiceModel.InstanceContext> bir ileti tarafından işlendiğinden ve bu nedenle, hiçbir zaman birden fazla iş parçacığı <xref:System.ServiceModel.InstanceContext>etkin olmadığından, eşzamanlılık ilgili değildir.</span><span class="sxs-lookup"><span data-stu-id="943a7-163">In <xref:System.ServiceModel.InstanceContextMode.PerCall> instancing, concurrency is not relevant, because each message is processed by a new <xref:System.ServiceModel.InstanceContext> and, therefore, never more than one thread is active in the <xref:System.ServiceModel.InstanceContext>.</span></span>  
  
 <span data-ttu-id="943a7-164">Aşağıdaki kod örneği özelliği <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> <xref:System.ServiceModel.ConcurrencyMode.Multiple>' niçin ayarlıyor</span><span class="sxs-lookup"><span data-stu-id="943a7-164">The following code example demonstrates setting the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> property to <xref:System.ServiceModel.ConcurrencyMode.Multiple>.</span></span>  
  
```csharp
[ServiceBehavior(ConcurrencyMode=ConcurrencyMode.Multiple, InstanceContextMode = InstanceContextMode.Single)]
public class CalculatorService : ICalculatorConcurrency
{
    ...  
}  
```  
  
## <a name="sessions-interact-with-instancecontext-settings"></a><span data-ttu-id="943a7-165">Oturumlar ÖrnekBağlam Ayarlarıyla Etkileşimde</span><span class="sxs-lookup"><span data-stu-id="943a7-165">Sessions Interact with InstanceContext Settings</span></span>  
 <span data-ttu-id="943a7-166">Kanallar <xref:System.ServiceModel.InstanceContext> ve belirli hizmet nesneleri arasındaki ilişkiyi kontrol eden, bir sözleşmedeki numaralandırma değerinin <xref:System.ServiceModel.SessionMode> ve hizmet uygulamasındaki <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özelliğin birleşimine bağlı olarak oturumlar ve etkileşim.</span><span class="sxs-lookup"><span data-stu-id="943a7-166">Sessions and <xref:System.ServiceModel.InstanceContext> interact depending upon the combination of the value of the <xref:System.ServiceModel.SessionMode> enumeration in a contract and the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property on the service implementation, which controls the association between channels and specific service objects.</span></span>  
  
 <span data-ttu-id="943a7-167">Aşağıdaki tablo, bir hizmetin <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> özellik ve <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özellik değerlerinin birleşimi ni göz önüne alındığında oturumları destekleyen veya desteklemeyen bir kanalın sonucunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="943a7-167">The following table shows the result of an incoming channel either supporting sessions or not supporting sessions given a service's combination of the values of the <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> property and the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property.</span></span>  
  
|<span data-ttu-id="943a7-168">InstanceContextMode değeri</span><span class="sxs-lookup"><span data-stu-id="943a7-168">InstanceContextMode value</span></span>|<xref:System.ServiceModel.SessionMode.Required>|<xref:System.ServiceModel.SessionMode.Allowed>|<xref:System.ServiceModel.SessionMode.NotAllowed>|  
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="943a7-169">PerCall</span><span class="sxs-lookup"><span data-stu-id="943a7-169">PerCall</span></span>|<span data-ttu-id="943a7-170">- Oturumlu kanal ile davranış: Bir oturum ve <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="943a7-170">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each call.</span></span><br /><span data-ttu-id="943a7-171">- Oturumsuz kanalile davranış: Bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-171">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="943a7-172">- Oturumlu kanal ile davranış: Bir oturum ve <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="943a7-172">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each call.</span></span><br /><span data-ttu-id="943a7-173">- Oturumsuz kanalile <xref:System.ServiceModel.InstanceContext> davranış: Her arama için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-173">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|<span data-ttu-id="943a7-174">- Oturumlu kanal ile davranış: Bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-174">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="943a7-175">- Oturumsuz kanalile <xref:System.ServiceModel.InstanceContext> davranış: Her arama için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-175">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|  
|<span data-ttu-id="943a7-176">Oturum Başına</span><span class="sxs-lookup"><span data-stu-id="943a7-176">PerSession</span></span>|<span data-ttu-id="943a7-177">- Oturumlu kanal ile davranış: Bir oturum ve <xref:System.ServiceModel.InstanceContext> her kanal için.</span><span class="sxs-lookup"><span data-stu-id="943a7-177">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each channel.</span></span><br /><span data-ttu-id="943a7-178">- Oturumsuz kanalile davranış: Bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-178">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="943a7-179">- Oturumlu kanal ile davranış: Bir oturum ve <xref:System.ServiceModel.InstanceContext> her kanal için.</span><span class="sxs-lookup"><span data-stu-id="943a7-179">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each channel.</span></span><br /><span data-ttu-id="943a7-180">- Oturumsuz kanalile <xref:System.ServiceModel.InstanceContext> davranış: Her arama için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-180">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|<span data-ttu-id="943a7-181">- Oturumlu kanal ile davranış: Bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-181">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="943a7-182">- Oturumsuz kanalile <xref:System.ServiceModel.InstanceContext> davranış: Her arama için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-182">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|  
|<span data-ttu-id="943a7-183">Tek</span><span class="sxs-lookup"><span data-stu-id="943a7-183">Single</span></span>|<span data-ttu-id="943a7-184">- Oturumlu kanal ile davranış: <xref:System.ServiceModel.InstanceContext> Bir oturum ve tüm aramalar için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-184">-   Behavior with sessionful channel: A session and one <xref:System.ServiceModel.InstanceContext> for all calls.</span></span><br /><span data-ttu-id="943a7-185">- Oturumsuz kanalile davranış: Bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-185">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="943a7-186">- Oturumlu kanal ile davranış: Bir oturum ve <xref:System.ServiceModel.InstanceContext> oluşturulan veya kullanıcı tarafından belirtilen singleton için.</span><span class="sxs-lookup"><span data-stu-id="943a7-186">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for the created or user-specified singleton.</span></span><br /><span data-ttu-id="943a7-187">- Oturumsuz kanalile <xref:System.ServiceModel.InstanceContext> davranış: Oluşturulan veya kullanıcı tarafından belirtilen singleton için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-187">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for the created or user-specified singleton.</span></span>|<span data-ttu-id="943a7-188">- Oturumlu kanal ile davranış: Bir özel durum atılır.</span><span class="sxs-lookup"><span data-stu-id="943a7-188">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="943a7-189">- Oturumsuz kanalile <xref:System.ServiceModel.InstanceContext> davranış: Oluşturulan her singleton veya kullanıcı tarafından belirtilen singleton için bir.</span><span class="sxs-lookup"><span data-stu-id="943a7-189">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each created singleton or for the user-specified singleton.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="943a7-190">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="943a7-190">See also</span></span>

- [<span data-ttu-id="943a7-191">Oturumları Kullanma</span><span class="sxs-lookup"><span data-stu-id="943a7-191">Using Sessions</span></span>](../../../../docs/framework/wcf/using-sessions.md)
- [<span data-ttu-id="943a7-192">Nasıl yapılır: Oturum Gerektiren Bir Hizmet Oluşturma</span><span class="sxs-lookup"><span data-stu-id="943a7-192">How to: Create a Service That Requires Sessions</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-that-requires-sessions.md)
- [<span data-ttu-id="943a7-193">Nasıl yapılır: Hizmet Örneği Oluşturmayı Denetleme</span><span class="sxs-lookup"><span data-stu-id="943a7-193">How to: Control Service Instancing</span></span>](../../../../docs/framework/wcf/feature-details/how-to-control-service-instancing.md)
- [<span data-ttu-id="943a7-194">Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="943a7-194">Concurrency</span></span>](../../../../docs/framework/wcf/samples/concurrency.md)
- [<span data-ttu-id="943a7-195">ınstancing</span><span class="sxs-lookup"><span data-stu-id="943a7-195">Instancing</span></span>](../../../../docs/framework/wcf/samples/instancing.md)
- [<span data-ttu-id="943a7-196">Oturum</span><span class="sxs-lookup"><span data-stu-id="943a7-196">Session</span></span>](../../../../docs/framework/wcf/samples/session.md)
