---
title: .NET'teki G/Ç hatalarını işleme
ms.date: 08/27/2018
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- I/O, exception handling
- I/O, errors
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: c592039b3b12eedcfceda45c2f54403a8e04b5d5
ms.sourcegitcommit: 7980a91f90ae5eca859db7e6bfa03e23e76a1a50
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/13/2020
ms.locfileid: "81242679"
---
# <a name="handling-io-errors-in-net"></a><span data-ttu-id="d7d24-102">.NET'teki G/Ç hatalarını işleme</span><span class="sxs-lookup"><span data-stu-id="d7d24-102">Handling I/O errors in .NET</span></span>

<span data-ttu-id="d7d24-103">Herhangi bir yöntem çağrısında atılabilen özel durumlara <xref:System.OutOfMemoryException> ek olarak (örneğin, bir sistem stresli olduğunda veya programcı hatasından dolayı bir <xref:System.NullReferenceException> hata gibi), .NET dosya sistemi yöntemleri aşağıdaki özel durumları da ekleyebilir:</span><span class="sxs-lookup"><span data-stu-id="d7d24-103">In addition to the exceptions that can be thrown in any method call (such as an <xref:System.OutOfMemoryException> when a system is stressed or an <xref:System.NullReferenceException> due to programmer error), .NET file system methods can throw the following exceptions:</span></span>

- <span data-ttu-id="d7d24-104"><xref:System.IO.IOException?displayProperty=nameWithType>, tüm <xref:System.IO> özel durum türlerinin taban sınıfı.</span><span class="sxs-lookup"><span data-stu-id="d7d24-104"><xref:System.IO.IOException?displayProperty=nameWithType>, the base class of all <xref:System.IO> exception types.</span></span> <span data-ttu-id="d7d24-105">İşletim sisteminden gelen iade kodları doğrudan başka bir özel durum türüyle eşlenen hatalar için atılır.</span><span class="sxs-lookup"><span data-stu-id="d7d24-105">It is thrown for errors whose return codes from the operating system don't directly map to any other exception type.</span></span>
- <span data-ttu-id="d7d24-106"><xref:System.IO.FileNotFoundException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d7d24-106"><xref:System.IO.FileNotFoundException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="d7d24-107"><xref:System.IO.DirectoryNotFoundException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d7d24-107"><xref:System.IO.DirectoryNotFoundException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="d7d24-108"><xref:System.IO.DriveNotFoundException??displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d7d24-108"><xref:System.IO.DriveNotFoundException??displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="d7d24-109"><xref:System.IO.PathTooLongException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d7d24-109"><xref:System.IO.PathTooLongException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="d7d24-110"><xref:System.OperationCanceledException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d7d24-110"><xref:System.OperationCanceledException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="d7d24-111"><xref:System.UnauthorizedAccessException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d7d24-111"><xref:System.UnauthorizedAccessException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="d7d24-112"><xref:System.ArgumentException?displayProperty=nameWithType>.NET Framework ve .NET Core 2.0 ve önceki sürümlerde geçersiz yol karakterleri için atılır.</span><span class="sxs-lookup"><span data-stu-id="d7d24-112"><xref:System.ArgumentException?displayProperty=nameWithType>, which is thrown for invalid path characters on .NET Framework and on .NET Core 2.0 and previous versions.</span></span>
- <span data-ttu-id="d7d24-113"><xref:System.NotSupportedException?displayProperty=nameWithType>, .NET Framework'de geçersiz üst üsteler için atılır.</span><span class="sxs-lookup"><span data-stu-id="d7d24-113"><xref:System.NotSupportedException?displayProperty=nameWithType>, which is thrown for invalid colons in .NET Framework.</span></span>
- <span data-ttu-id="d7d24-114"><xref:System.Security.SecurityException?displayProperty=nameWithType>, yalnızca .NET Framework üzerinde gerekli izinlere sahip olmayan sınırlı güvenle çalışan uygulamalar için atılır.</span><span class="sxs-lookup"><span data-stu-id="d7d24-114"><xref:System.Security.SecurityException?displayProperty=nameWithType>, which is thrown for applications running in limited trust that lack the necessary permissions on .NET Framework only.</span></span> <span data-ttu-id="d7d24-115">(Tam güven .NET Framework'de varsayılandır.)</span><span class="sxs-lookup"><span data-stu-id="d7d24-115">(Full trust is the default on .NET Framework.)</span></span>

## <a name="mapping-error-codes-to-exceptions"></a><span data-ttu-id="d7d24-116">Hata kodlarını özel durumlara eşleme</span><span class="sxs-lookup"><span data-stu-id="d7d24-116">Mapping error codes to exceptions</span></span>

<span data-ttu-id="d7d24-117">Dosya sistemi bir işletim sistemi kaynağı olduğundan, hem .NET Core hem de .NET Framework wrap'daki G/Ç yöntemleri temel işletim sistemine çağrı verir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-117">Because the file system is an operating system resource, I/O methods in both .NET Core and .NET Framework wrap calls to the underlying operating system.</span></span> <span data-ttu-id="d7d24-118">İşletim sistemi tarafından yürütülen kodda Bir G/Ç hatası oluştuğunda, işletim sistemi hata bilgilerini .NET G/Ç yöntemine döndürür.</span><span class="sxs-lookup"><span data-stu-id="d7d24-118">When an I/O error occurs in code executed by the operating system, the operating system returns error information to the .NET I/O method.</span></span> <span data-ttu-id="d7d24-119">Yöntem daha sonra hata bilgilerini genellikle hata kodu biçiminde bir .NET özel durum türüne çevirir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-119">The method then translates the error information, typically in the form of an error code, into a .NET exception type.</span></span> <span data-ttu-id="d7d24-120">Çoğu durumda, hata kodunu doğrudan karşılık gelen özel durum türüne çevirerek bunu yapar; yöntem çağrısının bağlamına göre hatanın özel eşlemesi gerçekleştirmez.</span><span class="sxs-lookup"><span data-stu-id="d7d24-120">In most cases, it does this by directly translating the error code into its corresponding exception type; it does not perform any special mapping of the error based on the context of the method call.</span></span>

<span data-ttu-id="d7d24-121">Örneğin, `ERROR_FILE_NOT_FOUND` Windows işletim sisteminde, bir hata kodunu (veya 0x02) haritaları n <xref:System.IO.FileNotFoundException>için döndüren `ERROR_PATH_NOT_FOUND` bir yöntem çağrısı ve (veya <xref:System.IO.DirectoryNotFoundException>0x03) haritaların hata kodunu bir .</span><span class="sxs-lookup"><span data-stu-id="d7d24-121">For example, on the Windows operating system, a method call that returns an error code of `ERROR_FILE_NOT_FOUND` (or 0x02) maps to a <xref:System.IO.FileNotFoundException>, and an error code of `ERROR_PATH_NOT_FOUND` (or 0x03) maps to a <xref:System.IO.DirectoryNotFoundException>.</span></span>

<span data-ttu-id="d7d24-122">Ancak, işletim sisteminin belirli hata kodlarını döndürdeği kesin koşullar genellikle belgesiz veya kötü belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-122">However, the precise conditions under which the operating system returns particular error codes is often undocumented or poorly documented.</span></span> <span data-ttu-id="d7d24-123">Sonuç olarak, beklenmeyen özel durumlar oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-123">As a result, unexpected exceptions can occur.</span></span> <span data-ttu-id="d7d24-124">Örneğin, bir dosya yerine bir dizinle çalıştığınız için, oluşturucuya geçersiz bir dizin <xref:System.IO.DirectoryInfo.%23ctor%2A> yolu sağlamanın <xref:System.IO.DirectoryNotFoundException>bir .</span><span class="sxs-lookup"><span data-stu-id="d7d24-124">For example, because you are working with a directory rather than a file, you would expect that providing an invalid directory path to the <xref:System.IO.DirectoryInfo.%23ctor%2A> constructor throws a <xref:System.IO.DirectoryNotFoundException>.</span></span> <span data-ttu-id="d7d24-125">Ancak, aynı zamanda <xref:System.IO.FileNotFoundException>bir atabilir .</span><span class="sxs-lookup"><span data-stu-id="d7d24-125">However, it may also throw a <xref:System.IO.FileNotFoundException>.</span></span>

## <a name="exception-handling-in-io-operations"></a><span data-ttu-id="d7d24-126">G/Ç işlemlerinde özel durum işleme</span><span class="sxs-lookup"><span data-stu-id="d7d24-126">Exception handling in I/O operations</span></span>

<span data-ttu-id="d7d24-127">İşletim sistemine olan bu güven nedeniyle, aynı özel durum koşulları (örneğimizde hata bulunmayan dizin gibi) Bir G/Ç yönteminin tüm G/Ç özel durumları sınıfından herhangi birini atamasından kaynaklanabilir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-127">Because of this reliance on the operating system, identical exception conditions (such as the directory not found error in our example) can result in an I/O method throwing any one of the entire class of I/O exceptions.</span></span> <span data-ttu-id="d7d24-128">Bu, G/Ç API'lerini ararken, kodunuzu aşağıdaki tabloda gösterildiği gibi bu özel durumların çoğunu veya tümlerini işlemek için hazır olması gerektiği anlamına gelir:</span><span class="sxs-lookup"><span data-stu-id="d7d24-128">This means that, when calling I/O APIs, your code should be prepared to handle most or all of these exceptions, as shown in the following table:</span></span>

| <span data-ttu-id="d7d24-129">Özel durum türü</span><span class="sxs-lookup"><span data-stu-id="d7d24-129">Exception type</span></span> | <span data-ttu-id="d7d24-130">.NET Core</span><span class="sxs-lookup"><span data-stu-id="d7d24-130">.NET Core</span></span> | <span data-ttu-id="d7d24-131">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="d7d24-131">.NET Framework</span></span> |
|---|---|---|
| <xref:System.IO.IOException> | <span data-ttu-id="d7d24-132">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-132">Yes</span></span> | <span data-ttu-id="d7d24-133">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-133">Yes</span></span> |
| <xref:System.IO.FileNotFoundException> | <span data-ttu-id="d7d24-134">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-134">Yes</span></span> | <span data-ttu-id="d7d24-135">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-135">Yes</span></span> |
| <xref:System.IO.DirectoryNotFoundException> | <span data-ttu-id="d7d24-136">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-136">Yes</span></span> | <span data-ttu-id="d7d24-137">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-137">Yes</span></span> |
| <xref:System.IO.DriveNotFoundException?> | <span data-ttu-id="d7d24-138">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-138">Yes</span></span> | <span data-ttu-id="d7d24-139">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-139">Yes</span></span> |
| <xref:System.IO.PathTooLongException> | <span data-ttu-id="d7d24-140">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-140">Yes</span></span> | <span data-ttu-id="d7d24-141">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-141">Yes</span></span> |
| <xref:System.OperationCanceledException> | <span data-ttu-id="d7d24-142">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-142">Yes</span></span> | <span data-ttu-id="d7d24-143">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-143">Yes</span></span> |
| <xref:System.UnauthorizedAccessException> | <span data-ttu-id="d7d24-144">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-144">Yes</span></span> | <span data-ttu-id="d7d24-145">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-145">Yes</span></span> |
| <xref:System.ArgumentException> | <span data-ttu-id="d7d24-146">.NET Core 2.0 ve önceki</span><span class="sxs-lookup"><span data-stu-id="d7d24-146">.NET Core 2.0 and earlier</span></span>| <span data-ttu-id="d7d24-147">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-147">Yes</span></span> |
| <xref:System.NotSupportedException> | <span data-ttu-id="d7d24-148">Hayır</span><span class="sxs-lookup"><span data-stu-id="d7d24-148">No</span></span> | <span data-ttu-id="d7d24-149">Evet</span><span class="sxs-lookup"><span data-stu-id="d7d24-149">Yes</span></span> |
| <xref:System.Security.SecurityException> | <span data-ttu-id="d7d24-150">Hayır</span><span class="sxs-lookup"><span data-stu-id="d7d24-150">No</span></span> | <span data-ttu-id="d7d24-151">Yalnızca sınırlı güven</span><span class="sxs-lookup"><span data-stu-id="d7d24-151">Limited trust only</span></span> |

## <a name="handling-ioexception"></a><span data-ttu-id="d7d24-152">Kullanım IOException</span><span class="sxs-lookup"><span data-stu-id="d7d24-152">Handling IOException</span></span>

<span data-ttu-id="d7d24-153"><xref:System.IO> Ad alanındaki özel durumlar için taban <xref:System.IO.IOException> sınıf olarak, önceden tanımlanmış bir özel durum türüne eş olmayan herhangi bir hata kodu için de atılır.</span><span class="sxs-lookup"><span data-stu-id="d7d24-153">As the base class for exceptions in the <xref:System.IO> namespace, <xref:System.IO.IOException> is also thrown for any error code that does not map to a predefined exception type.</span></span> <span data-ttu-id="d7d24-154">Bu, herhangi bir G/Ç işlemi tarafından atılabilir anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-154">This means that it can be thrown by any I/O operation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d7d24-155">Ad alanındaki diğer özel durum türlerinin taban sınıfı <xref:System.IO.IOException> olduğundan, diğer G/Ç ile ilgili özel durumları işledikten sonra bir `catch` blokta işlemeniz gerekir. <xref:System.IO></span><span class="sxs-lookup"><span data-stu-id="d7d24-155">Because <xref:System.IO.IOException> is the base class of the other exception types in the <xref:System.IO> namespace, you should handle in a `catch` block after you've handled the other I/O-related exceptions.</span></span>

<span data-ttu-id="d7d24-156">Buna ek olarak, .NET Core 2.1 ile başlayarak, yol doğruluğunu (örneğin, geçersiz karakterlerin bir yolda bulunmadığından emin olmak için) doğrulama denetimleri kaldırıldı ve çalışma zamanı kendi doğrulama koduyerine bir işletim sistemi hata kodundan eşlenen bir özel durum atar.</span><span class="sxs-lookup"><span data-stu-id="d7d24-156">In addition, starting with .NET Core 2.1, validation checks for path correctness (for example, to ensure that invalid characters are not present in a path) have been removed, and the runtime throws an exception mapped from an operating system error code rather than from its own validation code.</span></span> <span data-ttu-id="d7d24-157">Bu durumda atılması en olası özel <xref:System.IO.IOException>durum, başka bir özel durum türü de atılabilir rağmen.</span><span class="sxs-lookup"><span data-stu-id="d7d24-157">The most likely exception to be thrown in this case is an <xref:System.IO.IOException>, although any other exception type could also be thrown.</span></span>

<span data-ttu-id="d7d24-158">Özel durum işleme kodunuzda her zaman <xref:System.IO.IOException> sonuncuyu işlemeniz gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="d7d24-158">Note that, in your exception handling code, you should always handle the <xref:System.IO.IOException> last.</span></span> <span data-ttu-id="d7d24-159">Aksi takdirde, diğer tüm IO özel durumlarının taban sınıfı olduğundan, türemiş sınıfların catch blokları değerlendirilmez.</span><span class="sxs-lookup"><span data-stu-id="d7d24-159">Otherwise, because it is the base class of all other IO exceptions, the catch blocks of derived classes will not be evaluated.</span></span>

<span data-ttu-id="d7d24-160">Bir <xref:System.IO.IOException>durumunda, [IOException.HResult](xref:System.Exception.HResult) özelliğinden ek hata bilgileri alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d7d24-160">In the case of an <xref:System.IO.IOException>, you can get additional error information from the [IOException.HResult](xref:System.Exception.HResult) property.</span></span> <span data-ttu-id="d7d24-161">HResult değerini Win32 hata koduna dönüştürmek için, 32 bit değerinin üst 16 bitini sökersiniz.</span><span class="sxs-lookup"><span data-stu-id="d7d24-161">To convert the HResult value to a Win32 error code, you strip out the upper 16 bits of the 32-bit value.</span></span> <span data-ttu-id="d7d24-162">Aşağıdaki tabloda bir <xref:System.IO.IOException>' ye sarılmış olabilecek hata kodları listelenebilir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-162">The following table lists error codes that may be wrapped in an <xref:System.IO.IOException>.</span></span>

| <span data-ttu-id="d7d24-163">Hresult</span><span class="sxs-lookup"><span data-stu-id="d7d24-163">HResult</span></span> | <span data-ttu-id="d7d24-164">Sabit</span><span class="sxs-lookup"><span data-stu-id="d7d24-164">Constant</span></span> | <span data-ttu-id="d7d24-165">Açıklama</span><span class="sxs-lookup"><span data-stu-id="d7d24-165">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d7d24-166">ERROR_SHARING_VIOLATION</span><span class="sxs-lookup"><span data-stu-id="d7d24-166">ERROR_SHARING_VIOLATION</span></span> | <span data-ttu-id="d7d24-167">32</span><span class="sxs-lookup"><span data-stu-id="d7d24-167">32</span></span> | <span data-ttu-id="d7d24-168">Dosya adı eksik veya dosya veya dizin kullanılıyor.</span><span class="sxs-lookup"><span data-stu-id="d7d24-168">The file name is missing, or the file or directory is in use.</span></span> |
| <span data-ttu-id="d7d24-169">ERROR_FILE_EXISTS</span><span class="sxs-lookup"><span data-stu-id="d7d24-169">ERROR_FILE_EXISTS</span></span> | <span data-ttu-id="d7d24-170">80</span><span class="sxs-lookup"><span data-stu-id="d7d24-170">80</span></span> | <span data-ttu-id="d7d24-171">Dosya zaten var.</span><span class="sxs-lookup"><span data-stu-id="d7d24-171">The file already exists.</span></span> |
| <span data-ttu-id="d7d24-172">ERROR_INVALID_PARAMETER</span><span class="sxs-lookup"><span data-stu-id="d7d24-172">ERROR_INVALID_PARAMETER</span></span> | <span data-ttu-id="d7d24-173">87</span><span class="sxs-lookup"><span data-stu-id="d7d24-173">87</span></span> | <span data-ttu-id="d7d24-174">Yönteme verilen bir bağımsız değişken geçersizdir.</span><span class="sxs-lookup"><span data-stu-id="d7d24-174">An argument supplied to the method is invalid.</span></span> |
| <span data-ttu-id="d7d24-175">ERROR_ALREADY_EXISTS</span><span class="sxs-lookup"><span data-stu-id="d7d24-175">ERROR_ALREADY_EXISTS</span></span> | <span data-ttu-id="d7d24-176">183</span><span class="sxs-lookup"><span data-stu-id="d7d24-176">183</span></span> | <span data-ttu-id="d7d24-177">Dosya veya dizin zaten var.</span><span class="sxs-lookup"><span data-stu-id="d7d24-177">The file or directory already exists.</span></span> |

<span data-ttu-id="d7d24-178">Aşağıdaki örnekte görüldüğü `When` gibi, bunları yakalama deyiminde bir yan tümce kullanarak işleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d7d24-178">You can handle these using a `When` clause in a catch statement, as the following example shows.</span></span>

[!code-csharp[io-exception-handling](~/samples/snippets/standard/io/io-exceptions/cs/io-exceptions.cs)]
[!code-vb[io-exception-handling](~/samples/snippets/standard/io/io-exceptions/vb/io-exceptions.vb)]

## <a name="see-also"></a><span data-ttu-id="d7d24-179">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="d7d24-179">See also</span></span>

- [<span data-ttu-id="d7d24-180">.NET'te özel durumları işleme ve atma</span><span class="sxs-lookup"><span data-stu-id="d7d24-180">Handling and throwing exceptions in .NET</span></span>](../exceptions/index.md)
- [<span data-ttu-id="d7d24-181">Özel durum işleme (Görev Paralel Kitaplığı)</span><span class="sxs-lookup"><span data-stu-id="d7d24-181">Exception handling (Task Parallel Library)</span></span>](../parallel-programming/exception-handling-task-parallel-library.md)
- [<span data-ttu-id="d7d24-182">Özel durumlar için en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="d7d24-182">Best practices for exceptions</span></span>](../exceptions/best-practices-for-exceptions.md)
- [<span data-ttu-id="d7d24-183">Yakalama bloğunda belirli özel durumlar nasıl kullanılır?</span><span class="sxs-lookup"><span data-stu-id="d7d24-183">How to use specific exceptions in a catch block</span></span>](../exceptions/how-to-use-specific-exceptions-in-a-catch-block.md)
