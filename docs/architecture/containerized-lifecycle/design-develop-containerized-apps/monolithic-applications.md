---
title: Tek yapılı uygulamalar
description: Yekpare uygulamaları kapsayıcılaştırmak için temel kavramları anlayın.
ms.date: 02/15/2019
ms.openlocfilehash: 3c186f6a300588816916886927f93e0c06ebd6bc
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2020
ms.locfileid: "80988992"
---
# <a name="monolithic-applications"></a><span data-ttu-id="1354c-103">Tek yapılı uygulamalar</span><span class="sxs-lookup"><span data-stu-id="1354c-103">Monolithic applications</span></span>

<span data-ttu-id="1354c-104">Bu senaryoda, tek ve yekpare bir web uygulaması veya hizmeti oluşturuyor ve kapsayıcı olarak dağıtıyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="1354c-104">In this scenario, you're building a single and monolithic web application or service and deploying it as a container.</span></span> <span data-ttu-id="1354c-105">Uygulama içinde, yapı yekpare olmayabilir; birkaç kitaplık, bileşen ve hatta katmandan (uygulama katmanı, etki alanı katmanı, veri erişim katmanı, vb.) oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="1354c-105">Within the application, the structure might not be monolithic; it might comprise several libraries, components, or even layers (application layer, domain layer, data access layer, etc.).</span></span> <span data-ttu-id="1354c-106">Harici olarak, tek bir işlem, tek bir web uygulaması veya tek bir hizmet gibi tek bir kapsayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="1354c-106">Externally, it's a single container, like a single process, single web application, or single service.</span></span>

<span data-ttu-id="1354c-107">Bu modeli yönetmek için, uygulamayı temsil etmek için tek bir kapsayıcı dağıtın.</span><span class="sxs-lookup"><span data-stu-id="1354c-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="1354c-108">Ölçeklendirmek için, sadece önünde bir yük dengeleyici ile birkaç kopya daha ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1354c-108">To scale it, just add a few more copies with a load balancer in front.</span></span> <span data-ttu-id="1354c-109">Basitlik, tek bir kapsayıcıda veya sanal makinede (VM) tek bir dağıtımın yönetilmesinden gelir.</span><span class="sxs-lookup"><span data-stu-id="1354c-109">The simplicity comes from managing a single deployment in a single container or virtual machine (VM).</span></span>

<span data-ttu-id="1354c-110">Bir kapsayıcının yalnızca tek bir şey yaptığı ve bunu tek bir işlemde yaptığı prensibitaki tek bir işlemde, yekpare desen çakışıyor.</span><span class="sxs-lookup"><span data-stu-id="1354c-110">Following the principal that a container does one thing only, and does it in one process, the monolithic pattern is in conflict.</span></span> <span data-ttu-id="1354c-111">Şekil 4-1'de gösterildiği gibi, her kapsayıcıya birden çok bileşen/kitaplık veya dahili katman ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-111">You can include multiple components/libraries or internal layers within each container, as illustrated in Figure 4-1.</span></span>

![Uygulamayı klonlayarak ölçeklenen yekpare bir uygulamayı gösteren diyagram.](./media/monolithic-applications/monolithic-application-architecture-example.png)

<span data-ttu-id="1354c-113">**Şekil 4-1.**</span><span class="sxs-lookup"><span data-stu-id="1354c-113">**Figure 4-1.**</span></span> <span data-ttu-id="1354c-114">Yekpare uygulama mimarisiörneği</span><span class="sxs-lookup"><span data-stu-id="1354c-114">An example of monolithic application architecture</span></span>

<span data-ttu-id="1354c-115">Yekpare bir uygulama işlevselliğinin tümünü veya çoğunu tek bir işlem veya kapsayıcı içinde kullanır ve dahili katmanlarda veya kitaplıklarda bileşenlenir.</span><span class="sxs-lookup"><span data-stu-id="1354c-115">A monolithic app has all or most of its functionality within a single process or container and it's componentized in internal layers or libraries.</span></span> <span data-ttu-id="1354c-116">Bu yaklaşımın dezavantajı, uygulama büyürse veya büyüyünce ölçeklendirilmesi ne zaman gerçekleşirse ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="1354c-116">The downside to this approach comes if or when the application grows, requiring it to scale.</span></span> <span data-ttu-id="1354c-117">Tüm uygulama ölçekli ise, gerçekten bir sorun değil.</span><span class="sxs-lookup"><span data-stu-id="1354c-117">If the entire application scaled, it's not really a problem.</span></span> <span data-ttu-id="1354c-118">Ancak, çoğu durumda, uygulamanın birkaç bölümü ölçekleme gerektiren boğma noktalarıdır, diğer bileşenler ise daha az kullanılır.</span><span class="sxs-lookup"><span data-stu-id="1354c-118">However, in most cases, a few parts of the application are the choke points that require scaling, whereas other components are used less.</span></span>

<span data-ttu-id="1354c-119">Tipik e-ticaret örneğini kullanarak, büyük olasılıkla ihtiyacınız olan ürün bilgileri bileşenini ölçeklendirmektir.</span><span class="sxs-lookup"><span data-stu-id="1354c-119">Using the typical e-commerce example, what you likely need is to scale the product information component.</span></span> <span data-ttu-id="1354c-120">Çok daha fazla müşteri satın almaktan çok ürünlere göz atar.</span><span class="sxs-lookup"><span data-stu-id="1354c-120">Many more customers browse products than purchase them.</span></span> <span data-ttu-id="1354c-121">Sepetlerini ödeme ardışık hattını kullanmaktan daha fazla müşteri kullanır.</span><span class="sxs-lookup"><span data-stu-id="1354c-121">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="1354c-122">Daha az müşteri yorum ekler veya satın alma geçmişini görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="1354c-122">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="1354c-123">Ve büyük olasılıkla, tek bir bölgede, içerik ve pazarlama kampanyaları yönetmek için gereken çalışan sadece bir avuç var.</span><span class="sxs-lookup"><span data-stu-id="1354c-123">And you likely have only a handful of employees, in a single region, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="1354c-124">Monolitik tasarımı ölçeklendirerek, kodun tümü birden çok kez dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="1354c-124">By scaling the monolithic design, all of the code is deployed multiple times.</span></span>

<span data-ttu-id="1354c-125">"Her şeyi ölçeklendir" sorununa ek olarak, tek bir bileşendeki değişiklikler, tüm uygulamanın tam olarak yeniden test edilmesini ve tüm örneklerin yeniden dağıtılmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="1354c-125">In addition to the "scale-everything" problem, changes to a single component require complete retesting of the entire application as well as a complete redeployment of all the instances.</span></span>

<span data-ttu-id="1354c-126">Yekpare yaklaşım yaygındır ve birçok kuruluş bu mimari yöntemle gelişmektedir.</span><span class="sxs-lookup"><span data-stu-id="1354c-126">The monolithic approach is common, and many organizations are developing with this architectural method.</span></span> <span data-ttu-id="1354c-127">Pek çoğu yeterince iyi sonuçlara sahipken, diğerleri sınırla karşılaşır.</span><span class="sxs-lookup"><span data-stu-id="1354c-127">Many enjoy good enough results, whereas others encounter limits.</span></span> <span data-ttu-id="1354c-128">Araçlar ve altyapı SOA'lar oluşturmak çok zor olduğu için birçok kişi bu modelde uygulamalarını tasarladı ve uygulama büyüyene kadar bu ihtiyacı görmediler.</span><span class="sxs-lookup"><span data-stu-id="1354c-128">Many designed their applications in this model because the tools and infrastructure were too difficult to build SOAs, and they didn't see the need—until the app grew.</span></span>

<span data-ttu-id="1354c-129">Altyapı açısından bakıldığında, her sunucu aynı ana bilgisayar içinde birçok uygulama çalıştırabilir ve Şekil 4-2'de gösterildiği gibi kaynak kullanımınızda kabul edilebilir bir verimlilik oranına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1354c-129">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in your resources usage, as shown in Figure 4-2.</span></span>

![Ayrı kaplarda birden fazla uygulama içeren bir ana bilgisayarı gösteren bir diyagram.](./media/monolithic-applications/host-with-multiple-apps-containers.png)

<span data-ttu-id="1354c-131">**Şekil 4-2.**</span><span class="sxs-lookup"><span data-stu-id="1354c-131">**Figure 4-2.**</span></span> <span data-ttu-id="1354c-132">Birden çok uygulama/kapsayıcı çalıştıran bir ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="1354c-132">A host running multiple apps/containers</span></span>

<span data-ttu-id="1354c-133">Son olarak, kullanılabilirlik açısından, yekpare uygulamalar bir bütün olarak dağıtılmalıdır; bu, *durdurmanız ve başlatmanız*gerektiğinde, tüm işlevlerin ve tüm kullanıcıların dağıtım penceresi sırasında etkileneceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="1354c-133">Finally, from an availability perspective, monolithic applications must be deployed as a whole; that means that in case you must *stop and start*, all functionality and all users will be affected during the deployment window.</span></span> <span data-ttu-id="1354c-134">Bazı durumlarda, Azure ve kapsayıcıların kullanımı bu durumları en aza indirebilir ve Şekil 4-3'te görebileceğiniz gibi uygulamanızın kapalı kalma süresini azaltabilir.</span><span class="sxs-lookup"><span data-stu-id="1354c-134">In certain situations, the use of Azure and containers can minimize these situations and reduce the probability of downtime of your application, as you can see in Figure 4-3.</span></span>

<span data-ttu-id="1354c-135">Her örnek için özel VM'ler kullanarak Azure'da yekpare uygulamaları dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-135">You can deploy monolithic applications in Azure by using dedicated VMs for each instance.</span></span> <span data-ttu-id="1354c-136">[Azure VM Ölçek Kümelerini](https://docs.microsoft.com/azure/virtual-machine-scale-sets/)kullanarak VM'leri kolayca ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-136">Using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can scale the VMs easily.</span></span>

<span data-ttu-id="1354c-137">Azure Uygulama [Hizmetlerini,](https://azure.microsoft.com/services/app-service/) VM'leri yönetmek zorunda kalmadan yekpare uygulamaları çalıştırmak ve örnekleri kolayca ölçeklendirmek için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-137">You can also use [Azure App Services](https://azure.microsoft.com/services/app-service/) to run monolithic applications and easily scale instances without having to manage the VMs.</span></span> <span data-ttu-id="1354c-138">Azure Uygulama Hizmetleri, dağıtımı basitleştirerek docker kapsayıcılarının tek örneklerini de çalıştırabilir.</span><span class="sxs-lookup"><span data-stu-id="1354c-138">Azure App Services can run single instances of Docker containers, as well, simplifying the deployment.</span></span>

<span data-ttu-id="1354c-139">Docker ana bilgisayar olarak birden çok VM dağıtabilir ve VM başına herhangi bir sayıda kapsayıcı çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-139">You can deploy multiple VMs as Docker hosts and run any number of containers per VM.</span></span> <span data-ttu-id="1354c-140">Daha sonra, Şekil 4-3'te gösterildiği gibi bir Azure Yük Dengeleyicisi kullanarak ölçeklemeyi yönetebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-140">Then, by using an Azure Load Balancer, as illustrated in the Figure 4-3, you can manage scaling.</span></span>

![Farklı ana bilgisayarlara ölçeklenen yekpare bir uygulamayı gösteren bir diyagram.](./media/monolithic-applications/multiple-hosts-from-single-docker-container.png)

<span data-ttu-id="1354c-142">**Şekil 4-3**.</span><span class="sxs-lookup"><span data-stu-id="1354c-142">**Figure 4-3**.</span></span> <span data-ttu-id="1354c-143">Tek bir Docker uygulamasını ölçekleme birden çok ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="1354c-143">Multiple hosts scaling out a single Docker application</span></span>

<span data-ttu-id="1354c-144">Geleneksel dağıtım teknikleri ile ev sahiplerinin dağıtımını yönetebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-144">You can manage the deployment of the hosts themselves via traditional deployment techniques.</span></span>

<span data-ttu-id="1354c-145">Docker kapsayıcılarını komut satırından, sürekli `docker run` `docker-compose up`teslim (CD) ardışık hatlarında otomatikleştirerek ve örneğin Azure DevOps Hizmetleri'nden Docker ana bilgisayarlarına dağıtarak yönetebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-145">You can manage Docker containers from the command line by using commands like `docker run` and `docker-compose up`, and you can also automate it in Continuous Delivery (CD) pipelines and deploy to Docker hosts from Azure DevOps Services, for instance.</span></span>

## <a name="monolithic-application-deployed-as-a-container"></a><span data-ttu-id="1354c-146">Konteyner olarak dağıtılan monolitik uygulama</span><span class="sxs-lookup"><span data-stu-id="1354c-146">Monolithic application deployed as a container</span></span>

<span data-ttu-id="1354c-147">Yekpare dağıtımları yönetmek için kapsayıcıları kullanmanın yararları vardır.</span><span class="sxs-lookup"><span data-stu-id="1354c-147">There are benefits to using containers to manage monolithic deployments.</span></span> <span data-ttu-id="1354c-148">Kapsayıcı örneklerini ölçekleme, ek VM'leri dağıtmaktan çok daha hızlı ve kolaydır.</span><span class="sxs-lookup"><span data-stu-id="1354c-148">Scaling the instances of containers is far faster and easier than deploying additional VMs.</span></span>

<span data-ttu-id="1354c-149">Docker görüntüleri olarak güncellemeleri dağıtmak çok daha hızlı ve ağ verimlidir.</span><span class="sxs-lookup"><span data-stu-id="1354c-149">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="1354c-150">Docker konteynerleri genellikle saniyeler içinde başlar ve hızlı kullanıma alınır.</span><span class="sxs-lookup"><span data-stu-id="1354c-150">Docker containers typically start in seconds, speeding rollouts.</span></span> <span data-ttu-id="1354c-151">Docker konteynerini yıkmak `docker stop` komutu çağırmak kadar kolaydır ve genellikle bir saniyeden kısa sürede tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="1354c-151">Tearing down a Docker container is as easy as invoking the `docker stop` command, typically completing in less than a second.</span></span>

<span data-ttu-id="1354c-152">Kapsayıcılar doğuştan değişmez olduğundan, tasarım gereği bozuk VM'ler hakkında endişelenmenize gerek yoktur, çünkü bir güncelleştirme komut dosyası diskte bırakılan belirli bir yapılandırma yı veya dosyayı hesaba kaçmayı unuttu.</span><span class="sxs-lookup"><span data-stu-id="1354c-152">Because containers are inherently immutable, by design, you never need to worry about corrupted VMs because an update script forgot to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="1354c-153">Monolitik uygulamalar Docker'dan fayda sağlasa da, sadece avantajların ipuçlarına değiniyoruz.</span><span class="sxs-lookup"><span data-stu-id="1354c-153">Although monolithic apps can benefit from Docker, we're touching on only the tips of the benefits.</span></span> <span data-ttu-id="1354c-154">Kapsayıcıları yönetmenin daha büyük yararları, her konteyner örneğinin çeşitli örneklerini ve yaşam döngüsünü yöneten konteyner orkestratörleri ile dağıtımdan gelir.</span><span class="sxs-lookup"><span data-stu-id="1354c-154">The larger benefits of managing containers come from deploying with container orchestrators that manage the various instances and life cycle of each container instance.</span></span> <span data-ttu-id="1354c-155">Monolitik uygulamayı tek tek ölçeklendirilebilen, geliştirilebilen ve dağıtılabilen alt sistemlere dönüştürmek, mikro hizmetler alanına giriş noktanızdır.</span><span class="sxs-lookup"><span data-stu-id="1354c-155">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

<span data-ttu-id="1354c-156">Kapsayıcılarla yekpare uygulamaları nasıl "kaldırAbileceğiniz ve kaydırabileceğiniz" hakkında bilgi edinmek ve uygulamalarınızı nasıl modernize edebilirsiniz, bu ek Microsoft kılavuzunu okuyabilirsiniz, [Mevcut .NET uygulamalarını Azure bulutu ve Windows Kapsayıcıları ile modernize](../../modernize-with-azure-containers/index.md)edin , ayrıca PDF olarak da <https://aka.ms/LiftAndShiftWithContainersEbook>indirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-156">To learn about how to "lift and shift" monolithic applications with containers and how you can modernize your applications, you can read this additional Microsoft guide, [Modernize existing .NET applications with Azure cloud and Windows Containers](../../modernize-with-azure-containers/index.md), which you can also download as PDF from <https://aka.ms/LiftAndShiftWithContainersEbook>.</span></span>

## <a name="publish-a-single-docker-container-app-to-azure-app-service"></a><span data-ttu-id="1354c-157">Azure Uygulama Hizmetinde tek bir Docker kapsayıcı uygulaması yayınlama</span><span class="sxs-lookup"><span data-stu-id="1354c-157">Publish a single Docker container app to Azure App Service</span></span>

<span data-ttu-id="1354c-158">Azure'a dağıtılan bir kapsayıcının hızlı bir şekilde doğrulanmasını istediğinizden veya uygulama yalnızca tek konteyner uygulaması olduğundan, Azure Uygulama Hizmetleri ölçeklenebilir tek kapsayıcı hizmetleri sağlamak için harika bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="1354c-158">Either because you want to get a quick validation of a container deployed to Azure or because the app is simply a single-container app, Azure App Services provides a great way to provide scalable single-container services.</span></span>

<span data-ttu-id="1354c-159">Azure Uygulama Hizmeti'ni kullanmak sezgiseldir ve kodunuzu almak, Microsoft Visual Studio'da oluşturmak ve doğrudan Azure'a dağıtmak için harika Git tümleştirmesi sağladığı ndan hızlı bir şekilde çalışmaya devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-159">Using Azure App Service is intuitive and you can get up and running quickly because it provides great Git integration to take your code, build it in Microsoft Visual Studio, and directly deploy it to Azure.</span></span> <span data-ttu-id="1354c-160">Ancak, geleneksel olarak (Docker olmadan) Uygulama Hizmetlerinde desteklenmeyen diğer özelliklere, çerçevelere veya bağımlılıklara ihtiyacınız varsa, Azure ekibinin App Hizmetindeki bağımlılıkları güncelleştirdiğiveya Daha fazla denetiminiz olan ve uygulamanız için gerekli bir bileşen veya çerçeve yükleyebileceğiniz Hizmet Kumaşı, Bulut Hizmetleri ve hatta düz VM'ler gibi diğer hizmetlere geçene kadar bunu beklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="1354c-160">But, traditionally (with no Docker), if you needed other capabilities, frameworks, or dependencies that aren't supported in App Services, you needed to wait for it until the Azure team updates those dependencies in App Service or switched to other services like Service Fabric, Cloud Services, or even plain VMs, for which you have further control and can install a required component or framework for your application.</span></span>

<span data-ttu-id="1354c-161">Şimdi, Şekil 4-4'te gösterildiği gibi, Visual Studio 2017'yi kullanırken, Azure Uygulama Hizmeti'ndeki konteyner desteği, uygulama ortamınıza istediğiniz her şeyi ekleme olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="1354c-161">Now, as shown in Figure 4-4, when using Visual Studio 2017, container support in Azure App Service gives you the ability to include whatever you want in your app environment.</span></span> <span data-ttu-id="1354c-162">Uygulamanıza bir bağımlılık eklediyseniz, bir kapsayıcıda çalıştırdığınız için Dockerfile veya Docker resminize bu bağımlılıkları ekleme özelliğine sahip olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1354c-162">If you added a dependency to your app, because you're running it in a container, you get the capability of including those dependencies in your Dockerfile or Docker image.</span></span>

![Kapsayıcı Kayıt Defteri'ni gösteren Uygulama Hizmeti Oluştur iletişim kutusunun ekran görüntüsü.](./media/monolithic-applications/publish-azure-app-service-container.png)

<span data-ttu-id="1354c-164">**Şekil 4-4**.</span><span class="sxs-lookup"><span data-stu-id="1354c-164">**Figure 4-4**.</span></span> <span data-ttu-id="1354c-165">Visual Studio uygulamalarından/kapsayıcılarından Azure Uygulama Hizmetine kapsayıcı yayınlama</span><span class="sxs-lookup"><span data-stu-id="1354c-165">Publishing a container to Azure App Service from Visual Studio apps/containers</span></span>

<span data-ttu-id="1354c-166">Şekil 4-4 ayrıca, yayımlama akışının bir görüntüyü, Azure Konteyner Kayıt Defteri (Azure'daki dağıtımlarınıza yakın ve Azure Etkin Dizin grupları ve hesapları tarafından güvence altına alınmış bir kayıt defteri) veya Docker Hub veya şirket içi kayıt şirketleri gibi diğer Docker Registry'si olabilecek bir Kapsayıcı Kayıt Defteri'ne iter.</span><span class="sxs-lookup"><span data-stu-id="1354c-166">Figure 4-4 also shows that the publish flow pushes an image through a Container Registry, which can be the Azure Container Registry (a registry near to your deployments in Azure and secured by Azure Active Directory groups and accounts) or any other Docker Registry like Docker Hub or on-premises registries.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="1354c-167">[Önceki](common-container-design-principles.md)
>[Sonraki](state-and-data-in-docker-applications.md)</span><span class="sxs-lookup"><span data-stu-id="1354c-167">[Previous](common-container-design-principles.md)
[Next](state-and-data-in-docker-applications.md)</span></span>
