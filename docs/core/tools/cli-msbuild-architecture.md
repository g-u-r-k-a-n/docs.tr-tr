---
title: .NET Çekirdek Komut satırı araçları mimarisi
description: .NET Core araç katmanları ve son sürümlerde nelerin değiştiği hakkında bilgi edinin.
ms.date: 03/06/2017
ms.openlocfilehash: fde1a0acb6af9dd65aa3466b4ea37473b2eab6fb
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "77092921"
---
# <a name="high-level-overview-of-changes-in-the-net-core-tools"></a><span data-ttu-id="07caa-103">.NET Core araçlarındaki değişikliklere üst düzey genel bakış</span><span class="sxs-lookup"><span data-stu-id="07caa-103">High-level overview of changes in the .NET Core tools</span></span>

<span data-ttu-id="07caa-104">Bu belge, .NET Core takımlama ve CLI komutlarının uygulanmasında yapılan değişiklikler hakkında bilgi içeren *project.json'dan* MSBuild'e ve *csproj* proje sisteminden taşınmayla ilişkili değişiklikleri açıklar.</span><span class="sxs-lookup"><span data-stu-id="07caa-104">This document describes the changes associated with moving from *project.json* to MSBuild and the *csproj* project system with information on the changes to the layering of the .NET Core tooling and the implementation of the CLI commands.</span></span> <span data-ttu-id="07caa-105">Bu değişiklikler 7 Mart 2017 tarihinde .NET Core SDK 1.0 ve Visual Studio 2017'nin yayınlanmasıyla meydana geldi [(duyuruya](https://devblogs.microsoft.com/dotnet/announcing-net-core-tools-1-0/)bakın) ancak başlangıçta .NET Core SDK Preview 3'ün yayınlanmasıyla uygulandı.</span><span class="sxs-lookup"><span data-stu-id="07caa-105">These changes occurred with the release of .NET Core SDK 1.0 and Visual Studio 2017 on March 7, 2017 (see the [announcement](https://devblogs.microsoft.com/dotnet/announcing-net-core-tools-1-0/)) but were initially implemented with the release of the .NET Core SDK Preview 3.</span></span>

## <a name="moving-away-from-projectjson"></a><span data-ttu-id="07caa-106">Project.json'dan uzaklaşmak</span><span class="sxs-lookup"><span data-stu-id="07caa-106">Moving away from project.json</span></span>

<span data-ttu-id="07caa-107">.NET Core için takımlamadaki en büyük değişiklik kesinlikle [project.json'dan proje sistemi olarak csproj'a taşınmaktır.](https://devblogs.microsoft.com/dotnet/changes-to-project-json/)</span><span class="sxs-lookup"><span data-stu-id="07caa-107">The biggest change in the tooling for .NET Core is certainly the [move away from project.json to csproj](https://devblogs.microsoft.com/dotnet/changes-to-project-json/) as the project system.</span></span> <span data-ttu-id="07caa-108">Komut satırı araçlarının en son sürümleri *project.json* dosyalarını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="07caa-108">The latest versions of the command-line tools don't support *project.json* files.</span></span> <span data-ttu-id="07caa-109">Bu, project.json tabanlı uygulamalar ve kitaplıklar oluşturmak, çalıştırmak veya yayımlamak için kullanılamayacağı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="07caa-109">That means that it cannot be used to build, run, or publish project.json based applications and libraries.</span></span> <span data-ttu-id="07caa-110">Araçların bu sürümünü kullanmak için, varolan projelerinizi geçirin veya yenilerini başlatın.</span><span class="sxs-lookup"><span data-stu-id="07caa-110">To use this version of the tools, migrate your existing projects or start new ones.</span></span>

<span data-ttu-id="07caa-111">Bu hareketin bir parçası olarak, project.json projeleri oluşturmak için geliştirilen özel yapı motoru [MSBuild](https://github.com/Microsoft/msbuild)adlı olgun ve tam yetenekli bir yapı motoru ile değiştirildi.</span><span class="sxs-lookup"><span data-stu-id="07caa-111">As part of this move, the custom build engine that was developed to build project.json projects was replaced with a mature and fully capable build engine called [MSBuild](https://github.com/Microsoft/msbuild).</span></span> <span data-ttu-id="07caa-112">MSBuild.NET topluluğunda tanınmış bir motordur.</span><span class="sxs-lookup"><span data-stu-id="07caa-112">MSBuild is a well-known engine in the .NET community.</span></span> <span data-ttu-id="07caa-113">Platformun ilk sürümünden bu yana önemli bir teknoloji olmuştur.</span><span class="sxs-lookup"><span data-stu-id="07caa-113">It has been a key technology since the platform's first release.</span></span> <span data-ttu-id="07caa-114">.NET Core uygulamaları oluşturması gerektiğinden, MSBuild .NET Core'a taşınabilir ve .NET Core'un çalıştığı herhangi bir platformda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07caa-114">Because it needs to build .NET Core applications, MSBuild has been ported to .NET Core and can be used on any platform that .NET Core runs on.</span></span> <span data-ttu-id="07caa-115">.NET Core'un ana vaatlerinden biri, platformlar arası geliştirme yığınıdır ve bu hamlenin bu sözü tutmamasını sağladık.</span><span class="sxs-lookup"><span data-stu-id="07caa-115">One of the main promises of .NET Core is that of a cross-platform development stack, and we have made sure that this move does not break that promise.</span></span>

> [!TIP]
> <span data-ttu-id="07caa-116">EĞER MSBuild yeni ve bu konuda daha fazla bilgi edinmek istiyorsanız, [MSBuild kavramlar](/visualstudio/msbuild/msbuild-concepts) makale okuyarak başlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07caa-116">If you are new to MSBuild and would like to learn more about it, you can start by reading the [MSBuild concepts](/visualstudio/msbuild/msbuild-concepts) article.</span></span>

## <a name="the-tooling-layers"></a><span data-ttu-id="07caa-117">Takım katmanları</span><span class="sxs-lookup"><span data-stu-id="07caa-117">The tooling layers</span></span>

<span data-ttu-id="07caa-118">Yapı motorundaki değişiklik ve mevcut proje sisteminden uzaklaşmasıyla, bazı sorular doğal olarak takip eder.</span><span class="sxs-lookup"><span data-stu-id="07caa-118">With the change in build engine and the move away from the existing project system, some questions naturally follow.</span></span> <span data-ttu-id="07caa-119">Bu değişikliklerden herhangi biri .NET Core araç ekosisteminin genel "katmanlama"sını değiştirir mi?</span><span class="sxs-lookup"><span data-stu-id="07caa-119">Do any of these changes change the overall "layering" of the .NET Core tooling ecosystem?</span></span> <span data-ttu-id="07caa-120">Yeni bitler ve bileşenler var mı?</span><span class="sxs-lookup"><span data-stu-id="07caa-120">Are there new bits and components?</span></span>

<span data-ttu-id="07caa-121">Aşağıdaki resimde gösterildiği gibi Önizleme 2 katmanında hızlı bir yenileme ile başlayalım:</span><span class="sxs-lookup"><span data-stu-id="07caa-121">Let's start with a quick refresher on Preview 2 layering as shown in the following picture:</span></span>

![Önizleme 2 araçları üst düzey mimari](media/cli-msbuild-architecture/p2-arch.png)

<span data-ttu-id="07caa-123">Önizleme 2'deki araçların katmanlanması basittir.</span><span class="sxs-lookup"><span data-stu-id="07caa-123">The layering of the tools in Preview 2 is straightforward.</span></span> <span data-ttu-id="07caa-124">Altta, temel .NET Çekirdek CLI olduğunu.</span><span class="sxs-lookup"><span data-stu-id="07caa-124">At the bottom, the foundation is the .NET Core CLI.</span></span> <span data-ttu-id="07caa-125">Visual Studio veya Visual Studio Code gibi diğer tüm üst düzey araçlar, projeler oluşturmak, bağımlılıkları geri yüklemek ve benzeri için CLI'ye bağlıdır ve bunlara güvenir.</span><span class="sxs-lookup"><span data-stu-id="07caa-125">All other, higher-level tools, such as Visual Studio or Visual Studio Code, depend and rely on the CLI to build projects, restore dependencies, and so on.</span></span> <span data-ttu-id="07caa-126">Örneğin, Visual Studio bir geri yükleme işlemi gerçekleştirmek istiyorsa, CLI'deki `dotnet restore` [(nota bakınız)](#dotnet-restore-note)komutuna çağrır.</span><span class="sxs-lookup"><span data-stu-id="07caa-126">For example, if Visual Studio wanted to perform a restore operation, it would call into the `dotnet restore` ([see note](#dotnet-restore-note)) command in the CLI.</span></span>

<span data-ttu-id="07caa-127">Yeni proje sistemine geçicisiile, önceki diyagram değişir:</span><span class="sxs-lookup"><span data-stu-id="07caa-127">With the move to the new project system, the previous diagram changes:</span></span>

![.NET Core SDK 1.0.0 üst düzey mimari](media/cli-msbuild-architecture/p3-arch.png)

<span data-ttu-id="07caa-129">Temel fark, CLI artık temel tabaka değildir; bu rol artık "paylaşılan SDK bileşeni" tarafından doldurulur.</span><span class="sxs-lookup"><span data-stu-id="07caa-129">The main difference is that the CLI is not the foundational layer anymore; this role is now filled by the "shared SDK component".</span></span> <span data-ttu-id="07caa-130">Bu paylaşılan SDK bileşeni, kodu derlemekten, yayımlamaktan, NuGet paketlerini paketlemekten ve benzeri nedenlerden sorumlu hedefler ve ilişkili görevler kümesidir.</span><span class="sxs-lookup"><span data-stu-id="07caa-130">This shared SDK component is a set of targets and associated tasks that are responsible for compiling code, publishing it, packing NuGet packages, and so on.</span></span> <span data-ttu-id="07caa-131">.NET Core SDK açık kaynak kodludur ve [GitHub'da SDK repo'da](https://github.com/dotnet/sdk)mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="07caa-131">The .NET Core SDK is open-source and is available on GitHub on the [SDK repo](https://github.com/dotnet/sdk).</span></span>

> [!NOTE]
> <span data-ttu-id="07caa-132">"Hedef", MSBuild'in çağırabileceği adlandırılmış bir işlemi gösteren bir MSBuild terimidir.</span><span class="sxs-lookup"><span data-stu-id="07caa-132">A "target" is an MSBuild term that indicates a named operation that MSBuild can invoke.</span></span> <span data-ttu-id="07caa-133">Genellikle hedef yapmak gerekiyordu bazı mantık yürütmek bir veya daha fazla görev ile birleştiğinde.</span><span class="sxs-lookup"><span data-stu-id="07caa-133">It is usually coupled with one or more tasks that execute some logic that the target is supposed to do.</span></span> <span data-ttu-id="07caa-134">MSBuild gibi `Copy` birçok hazır hedefleri `Execute`destekler; ayrıca, kullanıcıların yönetilen kodu kullanarak kendi görevlerini yazmalarına ve bu görevleri yürütmek için hedefleri tanımlamalarına da olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="07caa-134">MSBuild supports many ready-made targets such as `Copy` or `Execute`; it also allows users to write their own tasks using managed code and define targets to execute those tasks.</span></span> <span data-ttu-id="07caa-135">Daha fazla bilgi için [MSBuild görevlerine](/visualstudio/msbuild/msbuild-tasks)bakın.</span><span class="sxs-lookup"><span data-stu-id="07caa-135">For more information, see [MSBuild tasks](/visualstudio/msbuild/msbuild-tasks).</span></span>

<span data-ttu-id="07caa-136">CLI dahil olmak üzere tüm araç kümeleri artık paylaşılan SDK bileşenini ve hedeflerini tüketmektedir.</span><span class="sxs-lookup"><span data-stu-id="07caa-136">All the toolsets now consume the shared SDK component and its targets, CLI included.</span></span> <span data-ttu-id="07caa-137">Örneğin, Visual Studio 2019 ,NET `dotnet restore` Core projelerinin bağımlılıklarını geri yüklemek için[(nota bakınız)](#dotnet-restore-note)komutunu aramaz.</span><span class="sxs-lookup"><span data-stu-id="07caa-137">For example, Visual Studio 2019 doesn't call into the `dotnet restore` ([see note](#dotnet-restore-note)) command to restore dependencies for .NET Core projects.</span></span> <span data-ttu-id="07caa-138">Bunun yerine, doğrudan "Geri Yükleme" hedefini kullanır.</span><span class="sxs-lookup"><span data-stu-id="07caa-138">Instead, it uses the "Restore" target directly.</span></span> <span data-ttu-id="07caa-139">Bunlar MSBuild hedefleri olduğundan, [dotnet msbuild](dotnet-msbuild.md) komutunu kullanarak bunları yürütmek için ham MSBuild'i de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07caa-139">Since these are MSBuild targets, you can also use raw MSBuild to execute them using the [dotnet msbuild](dotnet-msbuild.md) command.</span></span>

### <a name="cli-commands"></a><span data-ttu-id="07caa-140">CLI komutları</span><span class="sxs-lookup"><span data-stu-id="07caa-140">CLI commands</span></span>

<span data-ttu-id="07caa-141">Paylaşılan SDK bileşeni, varolan CLI komutlarının çoğunun MSBuild görevleri ve hedefleri olarak yeniden uygulandığı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="07caa-141">The shared SDK component means that the majority of existing CLI commands have been reimplemented as MSBuild tasks and targets.</span></span> <span data-ttu-id="07caa-142">Bu, CLI komutları ve araç setini kullanımınız için ne anlama geliyor?</span><span class="sxs-lookup"><span data-stu-id="07caa-142">What does this mean for the CLI commands and your usage of the toolset?</span></span>

<span data-ttu-id="07caa-143">Kullanım açısından bakıldığında, CLI'yi kullanma şeklinizi değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="07caa-143">From a usage perspective, it doesn't change the way you use the CLI.</span></span> <span data-ttu-id="07caa-144">CLI hala .NET Core 1.0 Önizleme 2 sürümünde var olan çekirdek komutları vardır:</span><span class="sxs-lookup"><span data-stu-id="07caa-144">The CLI still has the core commands that existed in the .NET Core 1.0 Preview 2 release:</span></span>

- `new`
- `restore`
- `run`
- `build`
- `publish`
- `test`
- `pack`

<span data-ttu-id="07caa-145">Bu komutlar hala yapmalarını beklediğiniz şeyi yapar (bir projeyi yenileyin, oluşturun, yayımlayın, paketleyin, vb.).</span><span class="sxs-lookup"><span data-stu-id="07caa-145">These commands still do what you expect them to do (new up a project, build it, publish it, pack it, and so on).</span></span> <span data-ttu-id="07caa-146">Davranışlarını tanımak için komutun yardım ekranına (kullanarak) `dotnet <command> --help`veya bu sitedeki belgelere danışabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07caa-146">You can consult either the command's help screen (using `dotnet <command> --help`) or documentation on this site to get familiar with their behavior.</span></span>

<span data-ttu-id="07caa-147">Yürütme açısından bakıldığında, CLI komutları parametrelerini alır ve gerekli özellikleri belirleyen ve istenen hedefi çalıştıran "ham" MSBuild'e bir çağrı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07caa-147">From an execution perspective, the CLI commands take their parameters and construct a call to "raw" MSBuild that sets the needed properties and runs the desired target.</span></span> <span data-ttu-id="07caa-148">Bunu daha iyi göstermek için aşağıdaki komutu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="07caa-148">To better illustrate this, consider the following command:</span></span>

   ```dotnetcli
   dotnet publish -o pub -c Release
   ```

<span data-ttu-id="07caa-149">Bu komut, "Release" `pub` yapılandırmasını kullanarak bir uygulamayı klasöre yayımlar.</span><span class="sxs-lookup"><span data-stu-id="07caa-149">This command publishes an application into a `pub` folder using the "Release" configuration.</span></span> <span data-ttu-id="07caa-150">Dahili olarak, bu komut aşağıdaki MSBuild çağırmasına çevrilir:</span><span class="sxs-lookup"><span data-stu-id="07caa-150">Internally, this command gets translated into the following MSBuild invocation:</span></span>

   ```dotnetcli
   dotnet msbuild -t:Publish -p:OutputPath=pub -p:Configuration=Release
   ```

<span data-ttu-id="07caa-151">Bu kuralın önemli `new` istisnaları `run` ve komutlarıdır.</span><span class="sxs-lookup"><span data-stu-id="07caa-151">Notable exceptions to this rule are the `new` and `run` commands.</span></span> <span data-ttu-id="07caa-152">Bunlar MSBuild hedefleri olarak uygulanmamıştır.</span><span class="sxs-lookup"><span data-stu-id="07caa-152">They have not been implemented as MSBuild targets.</span></span>

<a name="dotnet-restore-note"></a>
[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]
