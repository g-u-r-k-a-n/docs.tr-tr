---
title: Mpgo.exe (Yönetilen Profil Temelli İyileştirme Aracı)
ms.date: 03/30/2017
helpviewer_keywords:
- Mpgo.exe
- training scenarios, generating profiles with
- Managed Profile Guided Optimization Tool
- Ngen.exe
- Ngen.exe, profilers and native images
ms.assetid: f6976502-a000-4fbe-aaf5-a7aab9ce4ec2
author: mairaw
ms.author: mairaw
ms.openlocfilehash: a5ab3040a246a135771c45b2639567db9ab510e3
ms.sourcegitcommit: 9a39f2a06f110c9c7ca54ba216900d038aa14ef3
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/23/2019
ms.locfileid: "74447964"
---
# <a name="mpgoexe-managed-profile-guided-optimization-tool"></a><span data-ttu-id="6e91a-102">Mpgo.exe (Yönetilen Profil Temelli İyileştirme Aracı)</span><span class="sxs-lookup"><span data-stu-id="6e91a-102">Mpgo.exe (Managed Profile Guided Optimization Tool)</span></span>

<span data-ttu-id="6e91a-103">The Managed Profile Guided Optimization Tool (Mpgo.exe) is a command-line tool that uses common end-user scenarios to optimize the native image assemblies that are created by the [Native Image Generator (Ngen.exe)](ngen-exe-native-image-generator.md).</span><span class="sxs-lookup"><span data-stu-id="6e91a-103">The Managed Profile Guided Optimization Tool (Mpgo.exe) is a command-line tool that uses common end-user scenarios to optimize the native image assemblies that are created by the [Native Image Generator (Ngen.exe)](ngen-exe-native-image-generator.md).</span></span> <span data-ttu-id="6e91a-104">Bu araç, profil verilerini oluşturan eğitim senaryolarını çalıştırmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="6e91a-104">This tool enables you to run training scenarios that generate profile data.</span></span> <span data-ttu-id="6e91a-105">The [Native Image Generator (Ngen.exe)](ngen-exe-native-image-generator.md) uses this data to optimize its generated native image application assemblies.</span><span class="sxs-lookup"><span data-stu-id="6e91a-105">The [Native Image Generator (Ngen.exe)](ngen-exe-native-image-generator.md) uses this data to optimize its generated native image application assemblies.</span></span> <span data-ttu-id="6e91a-106">Eğitim senaryosu, uygulamanızın beklenen bir kullanımına ilişkin denemedir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-106">A training scenario is a trial run of an expected use of your application.</span></span> <span data-ttu-id="6e91a-107">Mpgo.exe, Visual Studio Ultimate 2012 ve sonraki sürümlerinde kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-107">Mpgo.exe is available in Visual Studio Ultimate 2012 and later versions.</span></span> <span data-ttu-id="6e91a-108">Starting with Visual Studio 2013, you can also use Mpgo.exe to optimize Windows 8.x Store apps.</span><span class="sxs-lookup"><span data-stu-id="6e91a-108">Starting with Visual Studio 2013, you can also use Mpgo.exe to optimize Windows 8.x Store apps.</span></span>  
  
<span data-ttu-id="6e91a-109">Profil destekli en iyi duruma getirme süreci, eğitim senaryolarından veri toplayıp yerel görüntülerin düzenini en iyi duruma getirmek üzere onları kullanarak verimi, bellek kullanımını (çalışma kümesi boyutu) ve uygulama başlatma süresini iyileştirir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-109">Profile-guided optimization improves application startup time, memory utilization (working set size), and throughput by gathering data from training scenarios and using it to optimize the layout of native images.</span></span>  
  
<span data-ttu-id="6e91a-110">Ara Dil (IL) derlemeleri için başlatma süresi ve çalışma kümesi boyutuyla ilgili performansı sorunlarıyla karşılaştığınızda, just-in-time (JIT) (tam zamanında) derleme maliyetlerini ortadan kaldırmak ve kod paylaşımını kolaylaştırmak için ilk Ngen.exe'yi kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-110">When you encounter performance issues with startup time and working set size for Intermediate Language (IL) assemblies, we recommend that you first use Ngen.exe to eliminate just-in-time (JIT) compilation costs and to facilitate code sharing.</span></span> <span data-ttu-id="6e91a-111">Ek geliştirmeler gerekiyorsa, uygulamanızı daha ileri düzeyde iyi hale getirmek etmek için Mpgo.exe kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-111">If you need additional improvements, you can then use Mpgo.exe to further optimize your application.</span></span> <span data-ttu-id="6e91a-112">Performans artışlarını değerlendirmek için temel olarak, en iyi duruma getirilmemiş yerel görüntü derlemelerindeki performans verilerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-112">You can use the performance data from the un-optimized native image assemblies as a baseline to evaluate the performance gains.</span></span> <span data-ttu-id="6e91a-113">Mpgo.exe kullanıldığında soğuk başlangıç sürelerinde kısalma ve çalışma kümesi boyutunda azalma görülebilir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-113">Using Mpgo.exe may result in faster cold startup times and a smaller working set size.</span></span> <span data-ttu-id="6e91a-114">Mpgo.exe, en iyi duruma getirilmiş yerel görüntü derlemeleri oluşturmak için Ngen.exe'yi kullanan IL derlemelerine bilgi ekler.</span><span class="sxs-lookup"><span data-stu-id="6e91a-114">Mpgo.exe adds information to IL assemblies that Ngen.exe uses to create optimized native image assemblies.</span></span> <span data-ttu-id="6e91a-115">For more information, see the entry [Improving Launch Performance for your Desktop Applications](https://devblogs.microsoft.com/dotnet/improving-launch-performance-for-your-desktop-applications/) in the .NET blog.</span><span class="sxs-lookup"><span data-stu-id="6e91a-115">For more information, see the entry [Improving Launch Performance for your Desktop Applications](https://devblogs.microsoft.com/dotnet/improving-launch-performance-for-your-desktop-applications/) in the .NET blog.</span></span>  
  
<span data-ttu-id="6e91a-116">Bu araç, Visual Studio ile birlikte otomatik olarak yüklenir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-116">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="6e91a-117">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7) with administrator credentials, and type the following at the command prompt.</span><span class="sxs-lookup"><span data-stu-id="6e91a-117">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7) with administrator credentials, and type the following at the command prompt.</span></span> <span data-ttu-id="6e91a-118">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="6e91a-118">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>  
  
<span data-ttu-id="6e91a-119">Masaüstü uygulamaları için:</span><span class="sxs-lookup"><span data-stu-id="6e91a-119">For desktop apps:</span></span>  
  
```console  
mpgo –Scenario <command> [-Import <directory>] –AssemblyList <assembly1>  <assembly2> ... -OutDir <directory> [options]  
```  
  
<span data-ttu-id="6e91a-120">For Windows 8.x Store apps:</span><span class="sxs-lookup"><span data-stu-id="6e91a-120">For Windows 8.x Store apps:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="6e91a-121">Sözdizimi</span><span class="sxs-lookup"><span data-stu-id="6e91a-121">Syntax</span></span>  
  
```console  
mpgo –Scenario <packageName> -AppID <appId> -Timeout <seconds>  
```  
  
## <a name="parameters"></a><span data-ttu-id="6e91a-122">Parametreler</span><span class="sxs-lookup"><span data-stu-id="6e91a-122">Parameters</span></span>  
 <span data-ttu-id="6e91a-123">Mpgo.exe için tüm bağımsız değişkenler büyük/küçük harfe duyarsızdır.</span><span class="sxs-lookup"><span data-stu-id="6e91a-123">All arguments to Mpgo.exe are case-insensitive.</span></span> <span data-ttu-id="6e91a-124">Komutlara önek olarak bir tire işareti eklenir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-124">Commands are prefixed with a dash.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6e91a-125">You can use either `–Scenario` or `–Import` as a required command, but not both.</span><span class="sxs-lookup"><span data-stu-id="6e91a-125">You can use either `–Scenario` or `–Import` as a required command, but not both.</span></span> <span data-ttu-id="6e91a-126">None of the required parameters are used if you specify the `–Reset` option.</span><span class="sxs-lookup"><span data-stu-id="6e91a-126">None of the required parameters are used if you specify the `–Reset` option.</span></span>

|<span data-ttu-id="6e91a-127">Gerekli parametre</span><span class="sxs-lookup"><span data-stu-id="6e91a-127">Required parameter</span></span>|<span data-ttu-id="6e91a-128">Açıklama</span><span class="sxs-lookup"><span data-stu-id="6e91a-128">Description</span></span>|
|------------------------|-----------------|
|<span data-ttu-id="6e91a-129">`-Scenario` \<*command*></span><span class="sxs-lookup"><span data-stu-id="6e91a-129">`-Scenario` \<*command*></span></span><br /><br /> <span data-ttu-id="6e91a-130">—veya—</span><span class="sxs-lookup"><span data-stu-id="6e91a-130">—or—</span></span><br /><br /> <span data-ttu-id="6e91a-131">`-Scenario` \<*packageName*></span><span class="sxs-lookup"><span data-stu-id="6e91a-131">`-Scenario` \<*packageName*></span></span><br /><br /> <span data-ttu-id="6e91a-132">veya</span><span class="sxs-lookup"><span data-stu-id="6e91a-132">-or-</span></span><br /><br /> <span data-ttu-id="6e91a-133">`-Import` \<*directory*></span><span class="sxs-lookup"><span data-stu-id="6e91a-133">`-Import` \<*directory*></span></span>|<span data-ttu-id="6e91a-134">For desktop apps, use `–Scenario` to specify the command to run the application you want to optimize, including any command-line arguments.</span><span class="sxs-lookup"><span data-stu-id="6e91a-134">For desktop apps, use `–Scenario` to specify the command to run the application you want to optimize, including any command-line arguments.</span></span> <span data-ttu-id="6e91a-135">Use three sets of double quotation marks around *command* if it specifies a path that includes spaces; for example: `mpgo.exe -scenario """C:\My App\myapp.exe""" -assemblylist """C:\My App\myapp.exe""" -outdir "C:\optimized files"`.</span><span class="sxs-lookup"><span data-stu-id="6e91a-135">Use three sets of double quotation marks around *command* if it specifies a path that includes spaces; for example: `mpgo.exe -scenario """C:\My App\myapp.exe""" -assemblylist """C:\My App\myapp.exe""" -outdir "C:\optimized files"`.</span></span> <span data-ttu-id="6e91a-136">Do not use double quotation marks; they will not work correctly if *command* includes spaces.</span><span class="sxs-lookup"><span data-stu-id="6e91a-136">Do not use double quotation marks; they will not work correctly if *command* includes spaces.</span></span><br /><br /> <span data-ttu-id="6e91a-137">veya</span><span class="sxs-lookup"><span data-stu-id="6e91a-137">-or-</span></span><br /><br /> <span data-ttu-id="6e91a-138">For Windows 8.x Store apps, use `–Scenario` to specify the package that you want to generate profile information for.</span><span class="sxs-lookup"><span data-stu-id="6e91a-138">For Windows 8.x Store apps, use `–Scenario` to specify the package that you want to generate profile information for.</span></span> <span data-ttu-id="6e91a-139">Tam paket adı yerine, paketin görünen adını veya paket aile adını belirtirseniz ve yalnızca tek bir eşleşme varsa Mpgo.exe sağladığınız adla eşleşen paketi seçer.</span><span class="sxs-lookup"><span data-stu-id="6e91a-139">If you specify the package display name or the package family name instead of the full package name, Mpgo.exe will select the package that matches the name you provided if there is only one match.</span></span> <span data-ttu-id="6e91a-140">Belirtilen adla eşleşen birden çok paket varsa, Mpgo.exe sizden bir paket seçmenizi ister.</span><span class="sxs-lookup"><span data-stu-id="6e91a-140">If multiple packages match the specified name, Mpgo.exe will prompt you to choose a package.</span></span><br /><br /> <span data-ttu-id="6e91a-141">—veya—</span><span class="sxs-lookup"><span data-stu-id="6e91a-141">—or—</span></span><br /><br /> <span data-ttu-id="6e91a-142">Use `-Import` to specify that optimization data from previously optimized assemblies should be used to optimize the assemblies in `-AssemblyList`.</span><span class="sxs-lookup"><span data-stu-id="6e91a-142">Use `-Import` to specify that optimization data from previously optimized assemblies should be used to optimize the assemblies in `-AssemblyList`.</span></span> <span data-ttu-id="6e91a-143">*directory* specifies the directory that contains the previously optimized files.</span><span class="sxs-lookup"><span data-stu-id="6e91a-143">*directory* specifies the directory that contains the previously optimized files.</span></span> <span data-ttu-id="6e91a-144">The assemblies specified in `–AssemblyList` or `–AssemblyListFile` are the new versions of the assemblies to be optimized using the data from the imported files.</span><span class="sxs-lookup"><span data-stu-id="6e91a-144">The assemblies specified in `–AssemblyList` or `–AssemblyListFile` are the new versions of the assemblies to be optimized using the data from the imported files.</span></span> <span data-ttu-id="6e91a-145">Derlemelerin eski sürümlerine ait en iyi duruma getirme verilerini kullanmak, senaryoyu yeniden çalıştırmadan derlemelerin yeni sürümlerini en iyi duruma getirmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="6e91a-145">Using optimization data from older version of assemblies enables you to optimize newer versions of assemblies without re-running the scenario.</span></span>  <span data-ttu-id="6e91a-146">Ancak, içe aktarılan ve hedef derlemeler önemli ölçüde farklı kodlar içeriyorsa, en iyi duruma getirme verileri etkisiz olur.</span><span class="sxs-lookup"><span data-stu-id="6e91a-146">However, if the imported and target assemblies include significantly different code, the optimization data will be ineffective.</span></span> <span data-ttu-id="6e91a-147">The assembly names specified in `–AssemblyList` or `–AssemblyListFile` must be present in the directory specified by `–Import`*directory*.</span><span class="sxs-lookup"><span data-stu-id="6e91a-147">The assembly names specified in `–AssemblyList` or `–AssemblyListFile` must be present in the directory specified by `–Import`*directory*.</span></span> <span data-ttu-id="6e91a-148">Use three sets of double quotation marks around *directory* if it specifies a path that includes spaces.</span><span class="sxs-lookup"><span data-stu-id="6e91a-148">Use three sets of double quotation marks around *directory* if it specifies a path that includes spaces.</span></span><br /><br /> <span data-ttu-id="6e91a-149">You must specify either `–Scenario` or `–Import`, but not both parameters.</span><span class="sxs-lookup"><span data-stu-id="6e91a-149">You must specify either `–Scenario` or `–Import`, but not both parameters.</span></span>|
|<span data-ttu-id="6e91a-150">`-OutDir` \<*directory*></span><span class="sxs-lookup"><span data-stu-id="6e91a-150">`-OutDir` \<*directory*></span></span>|<span data-ttu-id="6e91a-151">En iyi duruma getirilmiş derlemelerin yerleştirileceği dizin.</span><span class="sxs-lookup"><span data-stu-id="6e91a-151">The directory in which to place the optimized assemblies.</span></span> <span data-ttu-id="6e91a-152">If an assembly already exists in the output directory folder, a new copy is created and an index number is appended to its name; for example: *assemblyname*-1.exe.</span><span class="sxs-lookup"><span data-stu-id="6e91a-152">If an assembly already exists in the output directory folder, a new copy is created and an index number is appended to its name; for example: *assemblyname*-1.exe.</span></span> <span data-ttu-id="6e91a-153">Use double quotation marks around *directory* if it specifies a path that contains spaces.</span><span class="sxs-lookup"><span data-stu-id="6e91a-153">Use double quotation marks around *directory* if it specifies a path that contains spaces.</span></span>|
|<span data-ttu-id="6e91a-154">`-AssemblyList` \<*assembly1 assembly2 ...* ></span><span class="sxs-lookup"><span data-stu-id="6e91a-154">`-AssemblyList` \<*assembly1 assembly2 ...*></span></span><br /><br /> <span data-ttu-id="6e91a-155">—veya—</span><span class="sxs-lookup"><span data-stu-id="6e91a-155">—or—</span></span><br /><br /> <span data-ttu-id="6e91a-156">`-AssemblyListFile` \<*file*></span><span class="sxs-lookup"><span data-stu-id="6e91a-156">`-AssemblyListFile` \<*file*></span></span>|<span data-ttu-id="6e91a-157">Hakkında profil bilgileri toplamak istediğiniz derlemeleri (.exe ve .dll dosyaları gibi) boşluklarla ayrılmış olarak içeren bir liste.</span><span class="sxs-lookup"><span data-stu-id="6e91a-157">A list of assemblies (including .exe and .dll files), separated by spaces, that you want collect profile information about.</span></span> <span data-ttu-id="6e91a-158">You can specify `C:\Dir\*.dll` or `*.dll` to select all the assemblies in the designated or current working directory.</span><span class="sxs-lookup"><span data-stu-id="6e91a-158">You can specify `C:\Dir\*.dll` or `*.dll` to select all the assemblies in the designated or current working directory.</span></span> <span data-ttu-id="6e91a-159">Daha fazla bilgi için Açıklamalar bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-159">See the Remarks section for more information.</span></span><br /><br /> <span data-ttu-id="6e91a-160">—veya—</span><span class="sxs-lookup"><span data-stu-id="6e91a-160">—or—</span></span><br /><br /> <span data-ttu-id="6e91a-161">Her satırda bir derleme olacak şekilde, hakkında profil bilgileri toplamak istediğiniz derlemelerin listesini içeren bir metin dosyası.</span><span class="sxs-lookup"><span data-stu-id="6e91a-161">A text file that contains the list of assemblies you want to collect profile information about, listed one assembly per line.</span></span> <span data-ttu-id="6e91a-162">Bir derleme adı tire işareti (-) ile başlıyorsa, bir derleme dosyası listesi kullanın veya derlemeyi yeniden adlandırın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-162">If an assembly name begins with a hyphen (-), use an assembly file list or rename the assembly.</span></span>|
|<span data-ttu-id="6e91a-163">`-AppID` \<*appId*></span><span class="sxs-lookup"><span data-stu-id="6e91a-163">`-AppID` \<*appId*></span></span>|<span data-ttu-id="6e91a-164">Belirtilen paketteki uygulamanın kimliği.</span><span class="sxs-lookup"><span data-stu-id="6e91a-164">The ID of the application in the specified package.</span></span> <span data-ttu-id="6e91a-165">If you use the wildcard (\*), Mpgo.exe will try to enumerate the AppIDs in the package and will fall back to \<*package_family_name*>!App if it fails.</span><span class="sxs-lookup"><span data-stu-id="6e91a-165">If you use the wildcard (\*), Mpgo.exe will try to enumerate the AppIDs in the package and will fall back to \<*package_family_name*>!App if it fails.</span></span> <span data-ttu-id="6e91a-166">Başında önek olarak ünlem işareti (!) konmuş bir dize belirtirseniz, Mpgo.exe paket aile adını sağlanan bağımsız değişkenle birleştirir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-166">If you specify a string that is prefixed by an exclamation point (!), Mpgo.exe will concatenate the package family name with the argument provided.</span></span>|
|<span data-ttu-id="6e91a-167">`-Timeout` \<*seconds*></span><span class="sxs-lookup"><span data-stu-id="6e91a-167">`-Timeout` \<*seconds*></span></span>|<span data-ttu-id="6e91a-168">The amount of time to allow the Windows 8.x Store app to run before the app exits.</span><span class="sxs-lookup"><span data-stu-id="6e91a-168">The amount of time to allow the Windows 8.x Store app to run before the app exits.</span></span>|

|<span data-ttu-id="6e91a-169">İsteğe bağlı parametre</span><span class="sxs-lookup"><span data-stu-id="6e91a-169">Optional parameter</span></span>|<span data-ttu-id="6e91a-170">Açıklama</span><span class="sxs-lookup"><span data-stu-id="6e91a-170">Description</span></span>|
|------------------------|-----------------|
|`-64bit`|<span data-ttu-id="6e91a-171">64-bit sistemler için derlemeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="6e91a-171">Instruments the assemblies for 64-bit systems.</span></span>  <span data-ttu-id="6e91a-172">Derlemeniz kendisini 64-bit olarak bildiriyor olsa da 64-bit derlemeler için bu parametreyi belirtmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-172">You must specify this parameter for 64-bit assemblies, even if your assembly declares itself as 64 bit.</span></span>|
|<span data-ttu-id="6e91a-173">`-ExeConfig` \<*filename*></span><span class="sxs-lookup"><span data-stu-id="6e91a-173">`-ExeConfig` \<*filename*></span></span>|<span data-ttu-id="6e91a-174">Senaryonuzun sürüm ve yükleyici bilgilerini sağlamak üzere kullandığı yapılandırma dosyasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-174">Specifies the configuration file that your scenario uses to provide version and loader information.</span></span>|
|`-f`|<span data-ttu-id="6e91a-175">İmzalanmış olsa da, ikili bir derlemeye profil verilerinin eklenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="6e91a-175">Forces the inclusion of the profile data in a binary assembly, even if it's signed.</span></span>  <span data-ttu-id="6e91a-176">Derleme imzalanmışsa, yeniden imzalanması gerekir; aksi takdirde derleme yüklenemez ve çalıştırılamaz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-176">If the assembly is signed, it must be re-signed; otherwise, the assembly will fail to load and run.</span></span>|
|`-Reset`|<span data-ttu-id="6e91a-177">İptal edilen bir profil oluşturma oturumunun derlemelerinizi etkilemediğinden emin olmak için ortamı sıfırlar ve ardından çıkış yapar.</span><span class="sxs-lookup"><span data-stu-id="6e91a-177">Resets the environment to make certain that an aborted profiling session doesn't affect your assemblies, and then quits.</span></span> <span data-ttu-id="6e91a-178">Ortam varsayılan olarak bir profil oluşturma oturumundan önce ve sonra sıfırlanır.</span><span class="sxs-lookup"><span data-stu-id="6e91a-178">The environment is reset by default before and after a profiling session.</span></span>|
|<span data-ttu-id="6e91a-179">`-Timeout` \<*time in seconds*></span><span class="sxs-lookup"><span data-stu-id="6e91a-179">`-Timeout` \<*time in seconds*></span></span>|<span data-ttu-id="6e91a-180">Profil oluşturma süresini saniye cinsinden belirtir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-180">Specifies the profiling duration in seconds.</span></span> <span data-ttu-id="6e91a-181">GUI uygulamaları için, gözlemlenen başlangıç zamanlarınızdan biraz daha büyük bir değer kullanın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-181">Use a value that is slightly more than your observed startup times for GUI applications.</span></span> <span data-ttu-id="6e91a-182">Uygulama çalışmaya devam etse de, zaman aşımı süresinin sonunda profil verileri kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-182">At the end of the time-out period, the profile data is recorded although the application continues to run.</span></span> <span data-ttu-id="6e91a-183">Bu seçeneği ayarlamazsanız, profil oluşturma işlemi uygulamayı kapanana kadar devam eder, ardından veriler kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-183">If you don't set this option, profiling will continue until application shutdown, at which time the data will be recorded.</span></span>|
|`-LeaveNativeImages`|<span data-ttu-id="6e91a-184">Kullanılan yerel görüntülerin senaryo çalıştırıldıktan sonra kaldırılmayacağını belirtir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-184">Specifies that the instrumented native images shouldn't be removed after running the scenario.</span></span> <span data-ttu-id="6e91a-185">Bu seçenek öncelikle senaryo için belirttiğiniz uygulamayı çalıştırırken kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6e91a-185">This option is primarily used when you're getting the application that you specified for the scenario running.</span></span> <span data-ttu-id="6e91a-186">Mpgo.exe'nin sonraki çalışmaları için yerel görüntülerin yeniden oluşturulmasını önler.</span><span class="sxs-lookup"><span data-stu-id="6e91a-186">It will prevent the recreation of native images for subsequent runs of Mpgo.exe.</span></span> <span data-ttu-id="6e91a-187">Bu seçeneği belirtirseniz, uygulamanızı çalıştırmayı tamamladığınızda, önbellekte üst öğesi olmayan yerel görüntüler olabilir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-187">When you have finished running your application, there may be orphaned native images in the cache if you specify this option.</span></span> <span data-ttu-id="6e91a-188">In this case, run Mpgo.exe with the same scenario and assembly list and use the `–RemoveNativeImages` parameter to remove these native images.</span><span class="sxs-lookup"><span data-stu-id="6e91a-188">In this case, run Mpgo.exe with the same scenario and assembly list and use the `–RemoveNativeImages` parameter to remove these native images.</span></span>|
|`-RemoveNativeImages`|<span data-ttu-id="6e91a-189">Cleans up from a run where `–LeaveNativeImages` was specified.</span><span class="sxs-lookup"><span data-stu-id="6e91a-189">Cleans up from a run where `–LeaveNativeImages` was specified.</span></span> <span data-ttu-id="6e91a-190">If you specify `-RemoveNativeImages`, Mpgo.exe ignores any arguments except `-64bit` and `–AssemblyList`, and exits after removing all instrumented native images.</span><span class="sxs-lookup"><span data-stu-id="6e91a-190">If you specify `-RemoveNativeImages`, Mpgo.exe ignores any arguments except `-64bit` and `–AssemblyList`, and exits after removing all instrumented native images.</span></span>|

## <a name="remarks"></a><span data-ttu-id="6e91a-191">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="6e91a-191">Remarks</span></span>
 <span data-ttu-id="6e91a-192">You can use both `–AssemblyList` and `- AssemblyListFile` multiple times on the command line.</span><span class="sxs-lookup"><span data-stu-id="6e91a-192">You can use both `–AssemblyList` and `- AssemblyListFile` multiple times on the command line.</span></span>

 <span data-ttu-id="6e91a-193">Derlemeleri belirtirken tam yol adları belirtmezseniz, Mpgo.exe geçerli dizinde arar.</span><span class="sxs-lookup"><span data-stu-id="6e91a-193">If you do not specify full path names when specifying assemblies, Mpgo.exe looks in the current directory.</span></span> <span data-ttu-id="6e91a-194">Yanlış bir yol belirtirseniz, Mpgo.exe bir hata iletisi görüntüler, ancak diğer derlemeler için veri oluşturmaya devam eder.</span><span class="sxs-lookup"><span data-stu-id="6e91a-194">If you specify an incorrect path, Mpgo.exe displays an error message but continues to generate data for other assemblies.</span></span> <span data-ttu-id="6e91a-195">Eğitim senaryosu sırasında yüklenmemiş bir derleme belirtirseniz, o derleme için eğitim verisi oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-195">If you specify an assembly that is not loaded during the training scenario, no training data is generated for that assembly.</span></span>

 <span data-ttu-id="6e91a-196">Listedeki bir derleme genel derleme önbelleğinde ise, profil bilgilerini içerecek şekilde güncelleştirilmez.</span><span class="sxs-lookup"><span data-stu-id="6e91a-196">If an assembly in the list is in the global assembly cache, it will not be updated to contain the profile information.</span></span>  <span data-ttu-id="6e91a-197">Profil bilgilerini toplamak için onu genel derleme önbelleğinden kaldırın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-197">Remove it from the global assembly cache to collect profile information.</span></span>

 <span data-ttu-id="6e91a-198">Ngen.exe ve Mpgo.exe'nin kullanılması yalnızca yönetilen büyük uygulamalar için önerilir, çünkü önceden derlenmiş yerel görüntülerin yararı genellikle yalnızca çalışma zamanında önemli ölçüde JIT derlemesini kaldırdığında görülür.</span><span class="sxs-lookup"><span data-stu-id="6e91a-198">The use of Ngen.exe and Mpgo.exe is recommended only for large managed applications, because the benefit of precompiled native images is typically seen only when it eliminates significant JIT compilation at run time.</span></span> <span data-ttu-id="6e91a-199">Running Mpgo.exe on "Hello World" style applications that aren’t working-set intensive will not provide any benefits, and Mpgo.exe may even fail to gather profile data.</span><span class="sxs-lookup"><span data-stu-id="6e91a-199">Running Mpgo.exe on "Hello World" style applications that aren’t working-set intensive will not provide any benefits, and Mpgo.exe may even fail to gather profile data.</span></span>

> [!NOTE]
> <span data-ttu-id="6e91a-200">Ngen.exe ve Mpgo.exe, ASP.NET uygulamaları ve Windows Communication Foundation (WCF) hizmetleri için önerilmez.</span><span class="sxs-lookup"><span data-stu-id="6e91a-200">Ngen.exe and Mpgo.exe are not recommended for ASP.NET applications and Windows Communication Foundation (WCF) services.</span></span>  
  
## <a name="to-use-mpgoexe"></a><span data-ttu-id="6e91a-201">Mpgo.exe'yi kullanmak için</span><span class="sxs-lookup"><span data-stu-id="6e91a-201">To Use Mpgo.exe</span></span>  
  
1. <span data-ttu-id="6e91a-202">Visual Studio Ultimate 2012 ve uygulamanızın yüklü olduğu bir bilgisayar kullanın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-202">Use a computer that has the Visual Studio Ultimate 2012 and your application installed.</span></span>  
  
2. <span data-ttu-id="6e91a-203">Mpgo.exe'yi bir yönetici olarak gerekli parametrelerle çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-203">Run Mpgo.exe as an administrator with the necessary parameters.</span></span>  <span data-ttu-id="6e91a-204">Örnek komutlar için sonraki bölüme bakın.</span><span class="sxs-lookup"><span data-stu-id="6e91a-204">See the next section for sample commands.</span></span>  
  
     <span data-ttu-id="6e91a-205">The optimized intermediate language (IL) assemblies are created in the folder specified by the `–OutDir` parameter (in the examples, this is the `C:\Optimized` folder).</span><span class="sxs-lookup"><span data-stu-id="6e91a-205">The optimized intermediate language (IL) assemblies are created in the folder specified by the `–OutDir` parameter (in the examples, this is the `C:\Optimized` folder).</span></span>  
  
3. <span data-ttu-id="6e91a-206">Replace the IL assemblies you used for Ngen.exe  with the new IL assemblies that contain the profile information from the directory specified by `–OutDir`.</span><span class="sxs-lookup"><span data-stu-id="6e91a-206">Replace the IL assemblies you used for Ngen.exe  with the new IL assemblies that contain the profile information from the directory specified by `–OutDir`.</span></span>  
  
4. <span data-ttu-id="6e91a-207">Mpgo.exe tarafından sağlanan görüntüleri kullanan uygulama kurulumu en iyi duruma getirilmiş yerel görüntüleri yükler.</span><span class="sxs-lookup"><span data-stu-id="6e91a-207">The application setup (using the images provided by Mpgo.exe) will install optimized native images.</span></span>  
  
## <a name="suggested-workflow"></a><span data-ttu-id="6e91a-208">Önerilen İş Akışı</span><span class="sxs-lookup"><span data-stu-id="6e91a-208">Suggested Workflow</span></span>  
  
1. <span data-ttu-id="6e91a-209">Create a set of optimized IL assemblies by using Mpgo.exe with the `–Scenario` parameter.</span><span class="sxs-lookup"><span data-stu-id="6e91a-209">Create a set of optimized IL assemblies by using Mpgo.exe with the `–Scenario` parameter.</span></span>  
  
2. <span data-ttu-id="6e91a-210">En iyi duruma getirilmiş IL derlemelerini kaynak denetime girin.</span><span class="sxs-lookup"><span data-stu-id="6e91a-210">Check the optimized IL assemblies into source control.</span></span>  
  
3. <span data-ttu-id="6e91a-211">In the build process, call Mpgo.exe with the `–Import` parameter as a post-build step to generate optimized IL images to pass to Ngen.exe.</span><span class="sxs-lookup"><span data-stu-id="6e91a-211">In the build process, call Mpgo.exe with the `–Import` parameter as a post-build step to generate optimized IL images to pass to Ngen.exe.</span></span>  
  
 <span data-ttu-id="6e91a-212">Bu işlem tüm derlemelerin en iyi duruma getirilmiş verilere sahip olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="6e91a-212">This process ensures that all assemblies have optimization data.</span></span> <span data-ttu-id="6e91a-213">Güncelleştirilmiş en iyi duruma getirilmiş derlemeleri daha sık iade ederseniz (1. ve 2. adım), tüm üretim geliştirme sürecinde performans numaraları daha tutarlı olur.</span><span class="sxs-lookup"><span data-stu-id="6e91a-213">If you check in updated optimized assemblies (steps 1 and 2) more frequently, the performance numbers will be more consistent throughout product development.</span></span>  
  
## <a name="using-mpgoexe-from-visual-studio"></a><span data-ttu-id="6e91a-214">Visual Studio'dan Mpgo.exe'yi kullanma</span><span class="sxs-lookup"><span data-stu-id="6e91a-214">Using Mpgo.exe from Visual Studio</span></span>  
 <span data-ttu-id="6e91a-215">You can run Mpgo.exe from Visual Studio (see the article [How to: Specify Build Events (C#)](/visualstudio/ide/how-to-specify-build-events-csharp)) with the following restrictions:</span><span class="sxs-lookup"><span data-stu-id="6e91a-215">You can run Mpgo.exe from Visual Studio (see the article [How to: Specify Build Events (C#)](/visualstudio/ide/how-to-specify-build-events-csharp)) with the following restrictions:</span></span>  
  
- <span data-ttu-id="6e91a-216">Visual Studio makroları aynı zamanda varsayılan olarak sonlarında eğik çizgiler içerdiğinden, sonda eğik çizgileri olan tırnak işaretli yollar kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="6e91a-216">You cannot use quoted paths with trailing slash marks, because Visual Studio macros also use trailing slash marks by default.</span></span> <span data-ttu-id="6e91a-217">(For example, `–OutDir "C:\Output Folder\"` is invalid.) To work around this restriction, you can escape the trailing slash.</span><span class="sxs-lookup"><span data-stu-id="6e91a-217">(For example, `–OutDir "C:\Output Folder\"` is invalid.) To work around this restriction, you can escape the trailing slash.</span></span> <span data-ttu-id="6e91a-218">(For example, use `-OutDir "$(OutDir)\"` instead.)</span><span class="sxs-lookup"><span data-stu-id="6e91a-218">(For example, use `-OutDir "$(OutDir)\"` instead.)</span></span>  
  
- <span data-ttu-id="6e91a-219">Varsayılan olarak, Mpgo.exe Visual Studio yapı yolu üzerinde değildir.</span><span class="sxs-lookup"><span data-stu-id="6e91a-219">By default, Mpgo.exe is not on the Visual Studio build path.</span></span> <span data-ttu-id="6e91a-220">Yolu Visual Studio'ya eklemeli ya da Mpgo komut satırında tam yolu belirtmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-220">You must either add the path to Visual Studio or specify the full path on the Mpgo command line.</span></span> <span data-ttu-id="6e91a-221">You can use either the `–Scenario` or the `–Import` parameter in the post-build event in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6e91a-221">You can use either the `–Scenario` or the `–Import` parameter in the post-build event in Visual Studio.</span></span> <span data-ttu-id="6e91a-222">However, the typical process is to use `–Scenario` one time from a Developer Command Prompt for Visual Studio, and then use `–Import` to update the optimized assemblies after each build; for example:  `"C:\Program Files\Microsoft Visual Studio 11.0\Team Tools\Performance Tools\mpgo.exe" -import "$(OutDir)tmp" -assemblylist "$(TargetPath)" -outdir "$(OutDir)\"`.</span><span class="sxs-lookup"><span data-stu-id="6e91a-222">However, the typical process is to use `–Scenario` one time from a Developer Command Prompt for Visual Studio, and then use `–Import` to update the optimized assemblies after each build; for example:  `"C:\Program Files\Microsoft Visual Studio 11.0\Team Tools\Performance Tools\mpgo.exe" -import "$(OutDir)tmp" -assemblylist "$(TargetPath)" -outdir "$(OutDir)\"`.</span></span>  
  
<a name="samples"></a>   
## <a name="examples"></a><span data-ttu-id="6e91a-223">Örnekler</span><span class="sxs-lookup"><span data-stu-id="6e91a-223">Examples</span></span>  
 <span data-ttu-id="6e91a-224">The following Mpgo.exe command from a Developer Command Prompt for Visual Studio optimizes a tax application:</span><span class="sxs-lookup"><span data-stu-id="6e91a-224">The following Mpgo.exe command from a Developer Command Prompt for Visual Studio optimizes a tax application:</span></span>  
  
```console  
mpgo –scenario "C:\MyApp\MyTax.exe /params par" –AssemblyList Mytax.dll MyTaxUtil2011.dll –OutDir C:\Optimized –TimeOut 15  
```  
  
 <span data-ttu-id="6e91a-225">Aşağıdaki Mpgo.exe komut bir ses uygulamasını en iyi duruma getirir:</span><span class="sxs-lookup"><span data-stu-id="6e91a-225">The following Mpgo.exe command optimizes a sound application:</span></span>  
  
```console  
mpgo –scenario "C:\MyApp\wav2wma.exe –input song1.wav –output song1.wma" –AssemblyList transcode.dll –OutDir C:\Optimized –TimeOut 15  
```  
  
 <span data-ttu-id="6e91a-226">Aşağıdaki Mpgo.exe komutu yeni sürümleri en iyi duruma getirmek için daha önce en iyi duruma getirilmiş derlemelere ait verileri kullanır:</span><span class="sxs-lookup"><span data-stu-id="6e91a-226">The following Mpgo.exe command uses data from previously optimized assemblies to optimize newer versions of the assemblies:</span></span>  
  
```console  
mpgo.exe -import "C:\Optimized" -assemblylist "C:\MyApp\MyTax.dll" "C:\MyApp\MyTaxUtil2011.dll" -outdir C:\ReOptimized  
```  
  
## <a name="see-also"></a><span data-ttu-id="6e91a-227">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="6e91a-227">See also</span></span>

- [<span data-ttu-id="6e91a-228">Ngen.exe (Yerel Görüntü Oluşturucu)</span><span class="sxs-lookup"><span data-stu-id="6e91a-228">Ngen.exe (Native Image Generator)</span></span>](ngen-exe-native-image-generator.md)
- [<span data-ttu-id="6e91a-229">Komut İstemleri</span><span class="sxs-lookup"><span data-stu-id="6e91a-229">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
- [<span data-ttu-id="6e91a-230">Improving Launch Performance for your Desktop Applications</span><span class="sxs-lookup"><span data-stu-id="6e91a-230">Improving Launch Performance for your Desktop Applications</span></span>](https://devblogs.microsoft.com/dotnet/improving-launch-performance-for-your-desktop-applications/)
- [<span data-ttu-id="6e91a-231">An Overview of Performance Improvements in .NET 4.5</span><span class="sxs-lookup"><span data-stu-id="6e91a-231">An Overview of Performance Improvements in .NET 4.5</span></span>](https://docs.microsoft.com/archive/msdn-magazine/2012/april/clr-an-overview-of-performance-improvements-in-net-4-5)
