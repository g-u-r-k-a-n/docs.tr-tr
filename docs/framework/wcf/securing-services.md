---
title: Hizmetleri Güvenli Hale Getirme
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: f2a8e10aaf9c1dbe3065344963fcc712776cd2db
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96242233"
---
# <a name="securing-services"></a><span data-ttu-id="77710-102">Hizmetleri Güvenli Hale Getirme</span><span class="sxs-lookup"><span data-stu-id="77710-102">Securing Services</span></span>

<span data-ttu-id="77710-103">Windows Communication Foundation (WCF) hizmetinin güvenliği iki birincil gereksinimden oluşur: aktarım güvenliği ve yetkilendirme.</span><span class="sxs-lookup"><span data-stu-id="77710-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="77710-104">(Üçüncü bir gereksinim, güvenlik olaylarının denetlenmesi, [denetimde](./feature-details/auditing-security-events.md)açıklanmaktadır.) Kısaca aktarım güvenliği, kimlik doğrulaması (hizmetin ve istemcinin kimliğini doğrulamak), gizliliği (ileti şifreleme) ve bütünlüğü (izinsiz değişiklik algılamak için dijital imzalama) içerir.</span><span class="sxs-lookup"><span data-stu-id="77710-104">(A third requirement, auditing of security events, is described in [Auditing](./feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="77710-105">Yetkilendirme, kaynaklara erişim denetimi, örneğin yalnızca ayrıcalıklı kullanıcıların bir dosyayı okumasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="77710-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="77710-106">WCF özelliklerini kullanarak, iki birincil gereksinim kolayca uygulanır.</span><span class="sxs-lookup"><span data-stu-id="77710-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="77710-107"><xref:System.ServiceModel.BasicHttpBinding>Sınıf (veya [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) yapılandırma içindeki öğe) dışında, aktarım güvenliği önceden tanımlanmış tüm bağlamalar için varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="77710-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="77710-108">Bu bölümdeki konular iki temel senaryoyu kapsar: Internet Information Services (IIS) üzerinde barındırılan bir intranet hizmetinde güvenlik ve yetkilendirme aktarma ve IIS üzerinde barındırılan bir hizmette aktarım güvenliği ve yetkilendirme uygulama.</span><span class="sxs-lookup"><span data-stu-id="77710-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="77710-109">Windows XP Home, Windows kimlik doğrulamasını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="77710-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="77710-110">Bu nedenle, bu sistemde bir hizmet çalıştırmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="77710-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="77710-111">Güvenlik temelleri</span><span class="sxs-lookup"><span data-stu-id="77710-111">Security Basics</span></span>  

 <span data-ttu-id="77710-112">Güvenlik, *kimlik bilgilerini* kullanır.</span><span class="sxs-lookup"><span data-stu-id="77710-112">Security relies on *credentials*.</span></span> <span data-ttu-id="77710-113">Bir kimlik bilgisi, bir varlığın nerede olduğunu kanıtlar.</span><span class="sxs-lookup"><span data-stu-id="77710-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="77710-114">(Bir *varlık* bir kişi, bir yazılım işlemi, bir şirket veya yetkilendirilmiş olabilecek herhangi bir şey olabilir.) Örneğin, bir hizmetin bir istemcisi bir *kimlik* *talebi* yapar ve kimlik bilgisi talep bir şekilde talep eder.</span><span class="sxs-lookup"><span data-stu-id="77710-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="77710-115">Tipik bir senaryoda kimlik bilgileri alışverişi oluşur.</span><span class="sxs-lookup"><span data-stu-id="77710-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="77710-116">İlk olarak, bir hizmet kimliğinin bir talebini yapar ve bunu istemciye kimlik bilgileri ile kanıtlar.</span><span class="sxs-lookup"><span data-stu-id="77710-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="77710-117">Buna karşılık, istemci bir kimlik talebi yapar ve hizmete bir kimlik bilgisi sunar.</span><span class="sxs-lookup"><span data-stu-id="77710-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="77710-118">Her iki taraf da diğer kimlik bilgilerine güvense, tüm iletilerin gizli olarak alınıp alındığı ve tüm iletilerin bütünlüğünü korumak için imzalandığı bir *güvenli bağlam* oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="77710-119">Hizmet istemcinin kimliğini belirledikten sonra, kimlik bilgisinin taleplerini bir gruptaki bir *rol* ya da *üyelikle* eşleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="77710-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="77710-120">Her iki durumda da istemcinin ait olduğu rolü veya grubu kullanarak, hizmet, rolü rol veya grup ayrıcalıklarına göre sınırlı bir işlem kümesi gerçekleştirmesini *yetkilendirir* .</span><span class="sxs-lookup"><span data-stu-id="77710-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="77710-121">Windows güvenlik mekanizmaları</span><span class="sxs-lookup"><span data-stu-id="77710-121">Windows Security Mechanisms</span></span>  

 <span data-ttu-id="77710-122">İstemci ve hizmet bilgisayarının her ikisi de ağda oturum açmasını gerektiren bir Windows etki alanında ise, kimlik bilgileri Windows altyapısı tarafından sağlanır.</span><span class="sxs-lookup"><span data-stu-id="77710-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="77710-123">Bu durumda, kimlik bilgileri bir bilgisayar kullanıcısı ağda oturum açtığında oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="77710-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="77710-124">Her Kullanıcı ve ağdaki her bilgisayar, Güvenilen Kullanıcı ve bilgisayar kümesine ait olarak doğrulanıp doğrulanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="77710-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="77710-125">Bir Windows sisteminde, her bir Kullanıcı ve bilgisayar *güvenlik sorumlusu* olarak da bilinir.</span><span class="sxs-lookup"><span data-stu-id="77710-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="77710-126">*Kerberos denetleyicisi* tarafından desteklenen bir Windows etki alanında, Kerberos denetleyicisi her güvenlik sorumlusu için bilet vermeyi temel alan bir düzen kullanır.</span><span class="sxs-lookup"><span data-stu-id="77710-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="77710-127">Denetleyicinin verdiği biletler, sistemdeki diğer bilet vericileri tarafından güvenilirdir.</span><span class="sxs-lookup"><span data-stu-id="77710-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="77710-128">Bir varlık bir işlem gerçekleştirmeye veya bir *kaynağa* (örneğin, bir makinedeki dosya veya dizin) erişmeyi denediğinde, bilet geçerliliği için incelenir ve geçerse, bir işlem için sorumlu tarafından başka bir bilet verilir.</span><span class="sxs-lookup"><span data-stu-id="77710-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="77710-129">Bilet verme yöntemi, her işlem için sorumluyu doğrulamaya çalışılması gerekenden daha etkilidir.</span><span class="sxs-lookup"><span data-stu-id="77710-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="77710-130">Windows etki alanlarında kullanılan daha eski, daha az güvenli bir mekanizma NT LAN Manager (NTLM) ' dir.</span><span class="sxs-lookup"><span data-stu-id="77710-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="77710-131">Kerberos 'un kullanılabileceği durumlarda (genellikle bir çalışma grubu gibi bir Windows etki alanının dışında), NTLM alternatif olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="77710-132">NTLM Ayrıca IIS için bir güvenlik seçeneği olarak da kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="77710-133">Bir Windows sisteminde, yetkilendirme, her bilgisayar ve kullanıcıyı bir rol ve grup kümesine atayarak işe yarar.</span><span class="sxs-lookup"><span data-stu-id="77710-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="77710-134">Örneğin, her Windows bilgisayarının *yönetici* rolünde bir kişi (veya kişi grubu) tarafından ayarlanması ve denetlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="77710-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="77710-135">Diğer bir rol, *kullanıcının* çok daha kısıtlanmış bir izin kümesine sahip olan izinleridir.</span><span class="sxs-lookup"><span data-stu-id="77710-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="77710-136">Rolüne ek olarak, kullanıcılar gruplara atanır.</span><span class="sxs-lookup"><span data-stu-id="77710-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="77710-137">Bir grup, birden fazla kullanıcının aynı rolde gerçekleştirmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="77710-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="77710-138">Uygulamada, bu nedenle, kullanıcılar gruplara atanarak bir Windows makinesi yönetilir.</span><span class="sxs-lookup"><span data-stu-id="77710-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="77710-139">Örneğin, birkaç Kullanıcı bir bilgisayarın kullanıcı grubuna atanabilir ve Yöneticiler grubuna çok daha kısıtlanmış bir kullanıcı kümesi atanabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="77710-140">Bir yerel makinede yönetici de yeni gruplar oluşturabilir ve başka kullanıcılar (hatta diğer grupları) gruba atayabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="77710-141">Windows çalıştıran bir bilgisayarda, bir dizindeki her klasör korunabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="77710-142">Diğer bir deyişle, bir klasörü seçebilir ve dosyalara kimlerin erişebileceğini ve dosyayı kopyalayıp kopyalayamayacağını ya da (en ayrıcalıklı durumda) bir dosyayı değiştirebilir, bir dosyayı silebilir veya klasöre dosya ekleyebilirler.</span><span class="sxs-lookup"><span data-stu-id="77710-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="77710-143">Bu, erişim denetimi olarak bilinir ve bunun mekanizması erişim denetim listesi (ACL) olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="77710-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="77710-144">ACL oluştururken, her grup veya gruba ve bir etki alanının bireysel üyelerine erişim ayrıcalıkları atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="77710-145">WCF altyapısı, bu Windows Güvenlik mekanizmalarını kullanmak için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="77710-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="77710-146">Bu nedenle, bir intranette dağıtılan ve istemcileri Windows etki alanının üyeleriyle sınırlı olan bir hizmet oluşturuyorsanız, güvenlik kolayca uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="77710-147">Yalnızca geçerli kullanıcılar etki alanında oturum açabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="77710-148">Kullanıcılar oturum açtıktan sonra, Kerberos denetleyicisi her kullanıcının başka bir bilgisayar veya uygulamayla güvenli bağlamlar kurmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="77710-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="77710-149">Yerel bir makinede gruplar kolayca oluşturulabilir ve belirli klasörler korunurken, bu gruplar bilgisayardaki erişim ayrıcalıklarını atamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="77710-150">Intranet hizmetlerinde Windows güvenliği uygulama</span><span class="sxs-lookup"><span data-stu-id="77710-150">Implementing Windows Security on Intranet Services</span></span>  

 <span data-ttu-id="77710-151">Yalnızca bir Windows etki alanında çalışan bir uygulamanın güvenliğini sağlamak için, ya da bağlamasının varsayılan güvenlik ayarlarını kullanabilirsiniz <xref:System.ServiceModel.WSHttpBinding> <xref:System.ServiceModel.NetTcpBinding> .</span><span class="sxs-lookup"><span data-stu-id="77710-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="77710-152">Varsayılan olarak, aynı Windows etki alanındaki herkes WCF hizmetlerine erişebilir.</span><span class="sxs-lookup"><span data-stu-id="77710-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="77710-153">Bu kullanıcılar ağda oturum açtığından güvenilir.</span><span class="sxs-lookup"><span data-stu-id="77710-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="77710-154">Bir hizmet ve istemci arasındaki iletiler gizlilik için şifrelenir ve bütünlüğü için imzalanır.</span><span class="sxs-lookup"><span data-stu-id="77710-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="77710-155">Windows güvenliği kullanan bir hizmetin nasıl oluşturulacağı hakkında daha fazla bilgi için bkz. [nasıl yapılır: Windows kimlik bilgileriyle bir hizmetin güvenliğini sağlama](how-to-secure-a-service-with-windows-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="77710-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="77710-156">PrincipalPermissionAttribute sınıfı kullanılarak yetkilendirme</span><span class="sxs-lookup"><span data-stu-id="77710-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  

 <span data-ttu-id="77710-157">Bir bilgisayardaki kaynakların erişimini kısıtlamanız gerekirse, en kolay yöntem <xref:System.Security.Permissions.PrincipalPermissionAttribute> sınıfı kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="77710-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="77710-158">Bu öznitelik, kullanıcının belirtilen bir Windows grubu veya rolünde olmasını veya belirli bir Kullanıcı olmasını sağlayarak hizmet işlemlerinin çağrılmasını kısıtlamanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="77710-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="77710-159">Daha fazla bilgi için bkz. [nasıl yapılır: erişimi PrincipalPermissionAttribute sınıfıyla kısıtlama](how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="77710-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="77710-160">Kimliğe bürünme</span><span class="sxs-lookup"><span data-stu-id="77710-160">Impersonation</span></span>  

 <span data-ttu-id="77710-161">Kimliğe bürünme, kaynaklara erişimi denetlemek için kullanabileceğiniz başka bir mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="77710-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="77710-162">Varsayılan olarak, IIS tarafından barındırılan bir hizmet, ASPNET hesabının kimliği altında çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="77710-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="77710-163">ASPNET hesabı yalnızca iznine sahip olduğu kaynaklara erişebilir.</span><span class="sxs-lookup"><span data-stu-id="77710-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="77710-164">Ancak, bir klasörü için ACL 'yi, ASPNET hizmet hesabını hariç tutacak şekilde ayarlamak mümkündür, ancak belirli diğer kimliklerin klasöre erişmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="77710-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="77710-165">Bu durumda, ASPNET hesabının yapmasına izin verilmiyorsa bu kullanıcıların klasöre erişmesine izin verme işlemi yapılır.</span><span class="sxs-lookup"><span data-stu-id="77710-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="77710-166">Yanıt, hizmetin belirli bir kaynağa erişmek için istemcinin kimlik bilgilerini kullanmasına izin verilen kimliğe bürünme özelliğini kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="77710-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="77710-167">Diğer bir örnek, yalnızca belirli kullanıcıların izne sahip olduğu bir SQL Server veritabanına erişirken olur.</span><span class="sxs-lookup"><span data-stu-id="77710-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="77710-168">Kimliğe bürünme kullanma hakkında daha fazla bilgi için bkz. [nasıl yapılır: bir hizmet üzerinde bir Istemcinin kimliğine bürünme](how-to-impersonate-a-client-on-a-service.md) ve [temsili ve kimliğe bürünme](./feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="77710-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](./feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="77710-169">Internet üzerinde güvenlik</span><span class="sxs-lookup"><span data-stu-id="77710-169">Security on the Internet</span></span>  

 <span data-ttu-id="77710-170">Internet üzerindeki güvenlik, bir intranette güvenlikle aynı gereksinimlerden oluşur.</span><span class="sxs-lookup"><span data-stu-id="77710-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="77710-171">Bir hizmetin, kimlik bilgilerini sağlaması gerekir ve bu hizmetin kimliğini kanıtlamaları için sağlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="77710-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="77710-172">İstemcinin kimliği kanıtlanmış olduktan sonra hizmet, istemcinin kaynaklara ne kadar erişimin olduğunu denetleyebilir.</span><span class="sxs-lookup"><span data-stu-id="77710-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="77710-173">Ancak, Internet 'in heterojen doğası nedeniyle, sunulan kimlik bilgileri bir Windows etki alanında kullanılanlardan farklı.</span><span class="sxs-lookup"><span data-stu-id="77710-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="77710-174">Bir Kerberos denetleyicisi kimlik bilgileri için bilet içeren bir etki alanındaki kullanıcıların kimlik doğrulamasını işlediğinde, Internet üzerinde, hizmetler ve istemciler kimlik bilgilerini sunmak için çeşitli farklı yollarla yararlanır.</span><span class="sxs-lookup"><span data-stu-id="77710-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="77710-175">Bununla birlikte, bu konunun amacı, Internet üzerinden erişilebilen bir WCF hizmeti oluşturmanızı sağlayan ortak bir yaklaşım sunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="77710-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="77710-176">IIS ve ASP.NET kullanma</span><span class="sxs-lookup"><span data-stu-id="77710-176">Using IIS and ASP.NET</span></span>  

 <span data-ttu-id="77710-177">Internet güvenliğinin gereksinimleri ve bu sorunları çözecek mekanizmalar yeni değildir.</span><span class="sxs-lookup"><span data-stu-id="77710-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="77710-178">IIS, Microsoft 'un Internet için Web sunucusudur ve bu sorunları gideren birçok güvenlik özelliğine sahiptir; Ayrıca, ASP.NET, WCF hizmetlerinin kullanabileceği güvenlik özelliklerini içerir.</span><span class="sxs-lookup"><span data-stu-id="77710-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, ASP.NET includes security features that WCF services can use.</span></span> <span data-ttu-id="77710-179">Bu güvenlik özelliklerinden yararlanmak için IIS 'de bir WCF hizmeti barındırın.</span><span class="sxs-lookup"><span data-stu-id="77710-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="77710-180">ASP.NET üyeliğini ve rol sağlayıcılarını kullanma</span><span class="sxs-lookup"><span data-stu-id="77710-180">Using ASP.NET Membership and Role Providers</span></span>  

 <span data-ttu-id="77710-181">ASP.NET bir üyelik ve rol sağlayıcısı içerir.</span><span class="sxs-lookup"><span data-stu-id="77710-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="77710-182">Sağlayıcı, arayanların kimlik doğrulaması için Kullanıcı adı/parola çiftlerinin bir veritabanıdır ve bu da her çağıranın erişim ayrıcalıklarını belirtmenize olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="77710-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="77710-183">WCF ile, önceden var olan bir üyeliği ve rol sağlayıcısını yapılandırma aracılığıyla kolayca kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="77710-184">Bunu gösteren örnek bir uygulama için, [Üyelik ve rol sağlayıcısı](./samples/membership-and-role-provider.md) örneğine bakın.</span><span class="sxs-lookup"><span data-stu-id="77710-184">For a sample application that demonstrates this, see the [Membership and Role Provider](./samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="77710-185">IIS tarafından kullanılan kimlik bilgileri</span><span class="sxs-lookup"><span data-stu-id="77710-185">Credentials Used by IIS</span></span>  

 <span data-ttu-id="77710-186">Kerberos denetleyicisi tarafından desteklenen bir Windows etki alanının aksine Internet, her zaman milyonlarca kullanıcının oturum açmasını yönetmek için tek bir denetleyici olmayan bir ortamdır.</span><span class="sxs-lookup"><span data-stu-id="77710-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="77710-187">Bunun yerine, en çok Internet 'teki kimlik bilgileri X. 509.440 sertifikalardır (Güvenli Yuva Katmanı veya SSL, sertifikalar olarak da bilinir).</span><span class="sxs-lookup"><span data-stu-id="77710-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="77710-188">Bu sertifikalar genellikle sertifika *yetkilisi* tarafından verilir ve bu, sertifikanın orijinalliğini ve verildiği kişiyi gösteren bir üçüncü taraf şirketi olabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="77710-189">Hizmetinizi Internet 'te kullanıma sunmak için, hizmetinizin kimliğini doğrulamak üzere bu tür bir güvenilen sertifika da sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="77710-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="77710-190">Bu noktada soru, bu tür bir sertifikayı nasıl edinebilirim?</span><span class="sxs-lookup"><span data-stu-id="77710-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="77710-191">Bir yaklaşım Authenticode veya VeriSign gibi bir üçüncü taraf sertifika yetkilisine gitmeye, hizmetinizi dağıtmaya ve hizmetiniz için bir sertifika satın almanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="77710-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="77710-192">Ancak, WCF ile geliştirme aşamasındaysanız ve henüz bir sertifika satın almaya hazırsanız, bir üretim dağıtımının benzetimini yapmak için kullanabileceğiniz X. 509.952 sertifikaları oluşturmak için araçlar ve teknikler mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="77710-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="77710-193">Daha fazla bilgi için bkz. [sertifikalarla çalışma](./feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="77710-193">For more information, see [Working with Certificates](./feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="77710-194">Güvenlik modları</span><span class="sxs-lookup"><span data-stu-id="77710-194">Security Modes</span></span>  

 <span data-ttu-id="77710-195">WCF güvenliği programlama birkaç kritik karar noktası gerektirir.</span><span class="sxs-lookup"><span data-stu-id="77710-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="77710-196">En temel bir *güvenlik modu* tercih edilir.</span><span class="sxs-lookup"><span data-stu-id="77710-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="77710-197">İki ana güvenlik modu *Aktarım modu* ve *ileti modudur*.</span><span class="sxs-lookup"><span data-stu-id="77710-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="77710-198">Her iki ana modun semantiğini birleştiren üçüncü bir mod, *ileti kimlik bilgileri moduyla aktarımdır*.</span><span class="sxs-lookup"><span data-stu-id="77710-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="77710-199">Güvenlik modu, iletilerin nasıl güvenli olduğunu ve her bir seçeneğin aşağıda açıklandığı gibi olumlu ve olumsuz yönleri olduğunu belirler.</span><span class="sxs-lookup"><span data-stu-id="77710-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="77710-200">Güvenlik modunu ayarlama hakkında daha fazla bilgi için bkz. [nasıl yapılır: güvenlik modunu ayarlama](how-to-set-the-security-mode.md).</span><span class="sxs-lookup"><span data-stu-id="77710-200">For more information about setting the security mode, see [How to: Set the Security Mode](how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="77710-201">Aktarım modu</span><span class="sxs-lookup"><span data-stu-id="77710-201">Transport Mode</span></span>  

 <span data-ttu-id="77710-202">Ağ ve uygulama arasında birkaç katman vardır.</span><span class="sxs-lookup"><span data-stu-id="77710-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="77710-203">Bunlardan *biri, uç* noktalar arasında ileti aktarımını yöneten *Aktarım* katmanıdır.</span><span class="sxs-lookup"><span data-stu-id="77710-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="77710-204">Mevcut amaç için, yalnızca WCF 'nin her biri ileti aktarımını güvenli hale getirmek için çeşitli aktarım protokollerini kullandığını anladığınızı bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="77710-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="77710-205">(Aktarımlar hakkında daha fazla bilgi için bkz. [taşımalar](./feature-details/transports.md).)</span><span class="sxs-lookup"><span data-stu-id="77710-205">(For more information about transports, see [Transports](./feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="77710-206">Yaygın olarak kullanılan bir protokol HTTP 'dir. diğeri ise TCP 'dir.</span><span class="sxs-lookup"><span data-stu-id="77710-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="77710-207">Bu protokollerin her biri, protokole özgü bir mekanizma (veya mekanizmalar) tarafından ileti aktarımını güvenli hale getirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="77710-208">Örneğin, HTTP protokolünün HTTP üzerinden SSL kullanılarak güvenliği sağlanır, genellikle "HTTPS" olarak kısaltılır.</span><span class="sxs-lookup"><span data-stu-id="77710-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="77710-209">Bu nedenle, güvenlik için aktarım modunu seçtiğinizde, mekanizmayı protokol tarafından dikte edildiği şekilde kullanmayı tercih edersiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="77710-210">Örneğin, <xref:System.ServiceModel.WSHttpBinding> sınıfı seçer ve güvenlik modunu taşıma olarak ayarlarsanız, güvenlik mekanizması olarak http (https) ÜZERINDEN SSL 'yi seçersiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="77710-211">Aktarım modunun avantajı, güvenlik, karşılaştırmalı bir şekilde düşük düzeyde tümleştirileceği için ileti modundan daha verimlidir.</span><span class="sxs-lookup"><span data-stu-id="77710-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="77710-212">Aktarım modunu kullanırken, güvenlik mekanizması taşımanın belirtimine göre uygulanmalıdır ve bu nedenle iletiler yalnızca aktarım üzerinden noktadan noktaya güvenli bir şekilde akabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="77710-213">İleti modu</span><span class="sxs-lookup"><span data-stu-id="77710-213">Message Mode</span></span>  

 <span data-ttu-id="77710-214">Buna karşılık, ileti modu her iletinin parçası olarak güvenlik verilerini dahil ederek güvenlik sağlar.</span><span class="sxs-lookup"><span data-stu-id="77710-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="77710-215">XML ve SOAP güvenlik üst bilgilerini kullanarak, iletinin bütünlüğünü ve gizliliğini sağlamak için gereken kimlik bilgileri ve diğer veriler her iletiye dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="77710-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="77710-216">Her ileti güvenlik verilerini içerir, bu nedenle her iletinin tek tek işlenmesi gerektiğinden performansla ilgili olarak sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="77710-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="77710-217">(Aktarım modunda, aktarım katmanı güvenli hale getirildikten sonra tüm iletiler serbestçe akar.) Ancak, ileti güvenliğinin aktarım güvenliği üzerinde bir avantajı vardır: daha esnektir.</span><span class="sxs-lookup"><span data-stu-id="77710-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="77710-218">Diğer bir deyişle, güvenlik gereksinimleri taşıma tarafından belirlenmemiştir.</span><span class="sxs-lookup"><span data-stu-id="77710-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="77710-219">İletinin güvenliğini sağlamak için herhangi bir tür istemci kimlik bilgisini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="77710-220">(Aktarım modunda, Aktarım Protokolü, kullanabileceğiniz istemci kimlik bilgisinin türünü belirler.)</span><span class="sxs-lookup"><span data-stu-id="77710-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="77710-221">Ileti kimlik bilgileriyle taşıma</span><span class="sxs-lookup"><span data-stu-id="77710-221">Transport with Message Credentials</span></span>  

 <span data-ttu-id="77710-222">Üçüncü mod hem aktarım hem de ileti güvenliğinin en iyi şekilde birleşir.</span><span class="sxs-lookup"><span data-stu-id="77710-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="77710-223">Bu modda, aktarım güvenliği her iletinin gizliliğini ve bütünlüğünü verimli bir şekilde sağlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="77710-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="77710-224">Aynı zamanda, her ileti kimlik doğrulamasının doğrulanmasını sağlayan kimlik bilgisi verilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="77710-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="77710-225">Kimlik doğrulama ile, yetkilendirme da uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="77710-226">Bir göndereni kimlik doğrulaması yaparak, kaynak erişimi gönderenin kimliğine göre verilebilir (veya reddedilebilir).</span><span class="sxs-lookup"><span data-stu-id="77710-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="77710-227">Istemci kimlik bilgisi türünü ve kimlik bilgisi değerini belirtme</span><span class="sxs-lookup"><span data-stu-id="77710-227">Specifying the Client Credential Type and Credential Value</span></span>  

 <span data-ttu-id="77710-228">Bir güvenlik modu seçtikten sonra, bir istemci kimlik bilgisi türü de belirtmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="77710-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="77710-229">İstemci kimlik bilgileri türü, istemcinin sunucuda kimliğini doğrulamak için kullanması gereken türü belirtir.</span><span class="sxs-lookup"><span data-stu-id="77710-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="77710-230">Ancak, tüm senaryolar istemci kimlik bilgisi türü gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="77710-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="77710-231">HTTP (HTTPS) üzerinden SSL kullanarak, bir hizmet istemcinin kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="77710-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="77710-232">Bu kimlik doğrulamanın bir parçası olarak hizmetin sertifikası, *anlaşma* adlı bir işlemde istemciye gönderilir.</span><span class="sxs-lookup"><span data-stu-id="77710-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="77710-233">SSL ile güvenli aktarım, tüm iletilerin gizli olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="77710-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="77710-234">İstemcinin kimliğinin doğrulanmasını gerektiren bir hizmet oluşturuyorsanız, bir istemci kimlik bilgisi türü tercih ettiğiniz aktarım ve mod seçili olmasına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="77710-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="77710-235">Örneğin, HTTP taşıma ve taşıma modunu seçme, temel, Özet ve diğerleri gibi çeşitli seçenekler sunar.</span><span class="sxs-lookup"><span data-stu-id="77710-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="77710-236">(Bu kimlik bilgisi türleri hakkında daha fazla bilgi için bkz. [http kimlik doğrulamasını anlama](./feature-details/understanding-http-authentication.md).)</span><span class="sxs-lookup"><span data-stu-id="77710-236">(For more information about these credential types, see [Understanding HTTP Authentication](./feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="77710-237">Windows etki alanı üzerinde yalnızca ağın diğer kullanıcıları tarafından kullanılabilecek bir hizmet oluşturuyorsanız, en kolay kullanımı Windows istemci kimlik bilgisi türüdür.</span><span class="sxs-lookup"><span data-stu-id="77710-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="77710-238">Ancak, sertifikaya sahip bir hizmet sağlamanız da gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="77710-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="77710-239">Bu, [nasıl yapılır: Istemci kimlik bilgileri değerlerini belirtme](how-to-specify-client-credential-values.md)bölümünde gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="77710-239">This is shown in [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="77710-240">Kimlik bilgisi değerleri</span><span class="sxs-lookup"><span data-stu-id="77710-240">Credential Values</span></span>  

 <span data-ttu-id="77710-241">*Kimlik bilgisi değeri* , hizmetin kullandığı gerçek kimlik bilgileridir.</span><span class="sxs-lookup"><span data-stu-id="77710-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="77710-242">Bir kimlik bilgisi türü belirledikten sonra, hizmetinizi gerçek kimlik bilgileriyle yapılandırmanız da gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="77710-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="77710-243">Windows 'u seçtiyseniz (ve hizmet bir Windows etki alanında çalışır), gerçek bir kimlik bilgisi değeri belirtmeyin.</span><span class="sxs-lookup"><span data-stu-id="77710-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="77710-244">Kimlik</span><span class="sxs-lookup"><span data-stu-id="77710-244">Identity</span></span>  

 <span data-ttu-id="77710-245">WCF 'de, *kimliğin kimliği* sunucu ve istemciye farklı anlamlara sahiptir.</span><span class="sxs-lookup"><span data-stu-id="77710-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="77710-246">Kısaca, bir hizmeti çalıştırırken kimlik doğrulamasından sonra güvenlik bağlamına bir kimlik atanır.</span><span class="sxs-lookup"><span data-stu-id="77710-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="77710-247">Gerçek kimliği görüntülemek için, <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> sınıfının ve özelliklerini kontrol edin <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> <xref:System.ServiceModel.ServiceSecurityContext> .</span><span class="sxs-lookup"><span data-stu-id="77710-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="77710-248">Daha fazla bilgi için bkz. [nasıl yapılır: güvenlik bağlamını İnceleme](how-to-examine-the-security-context.md).</span><span class="sxs-lookup"><span data-stu-id="77710-248">For more information, see [How to: Examine the Security Context](how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="77710-249">Buna karşılık, istemci üzerindeki kimlik, hizmeti doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="77710-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="77710-250">Tasarım zamanında, bir istemci geliştiricisi [\<identity>](../configure-apps/file-schema/wcf/identity.md) öğeyi hizmetten alınan bir değere ayarlayabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-250">At design time, a client developer can set the [\<identity>](../configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="77710-251">Çalışma zamanında istemci, öğenin değerini hizmetin gerçek kimliğiyle karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="77710-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="77710-252">Denetim başarısız olursa, istemci iletişimi sonlandırır.</span><span class="sxs-lookup"><span data-stu-id="77710-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="77710-253">Hizmet bir makine hesabı altında çalışıyorsa, hizmet belirli bir kullanıcının kimliği veya hizmet asıl adı (SPN) altında çalışıyorsa, bu değer bir Kullanıcı asıl adı (UPN) olabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="77710-254">Daha fazla bilgi için bkz. [hizmet kimliği ve kimlik doğrulaması](./feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="77710-254">For more information, see [Service Identity and Authentication](./feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="77710-255">Kimlik bilgisi bir sertifika veya sertifikayı tanımlayan bir sertifikada bulunan bir alan olabilir.</span><span class="sxs-lookup"><span data-stu-id="77710-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="77710-256">Koruma düzeyleri</span><span class="sxs-lookup"><span data-stu-id="77710-256">Protection Levels</span></span>  

 <span data-ttu-id="77710-257">`ProtectionLevel`Özelliği, çeşitli öznitelik sınıflarında ( <xref:System.ServiceModel.ServiceContractAttribute> ve <xref:System.ServiceModel.OperationContractAttribute> sınıfları gibi) oluşur.</span><span class="sxs-lookup"><span data-stu-id="77710-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="77710-258">Koruma düzeyi, bir hizmeti destekleyen mesajların (veya ileti bölümlerinin) imzalı, imzalanmış ve şifrelenmiş olduğunu veya imza ya da şifreleme olmadan gönderilip gönderilmeyeceğini belirten bir değerdir.</span><span class="sxs-lookup"><span data-stu-id="77710-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="77710-259">Özelliği hakkında daha fazla bilgi için bkz. [koruma düzeyini anlama](understanding-protection-level.md)ve programlama örnekleri için bkz. [nasıl yapılır: ProtectionLevel özelliğini ayarlama](how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="77710-259">For more information about the property, see [Understanding Protection Level](understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="77710-260">Kapsamında bir hizmet sözleşmesi tasarlama hakkında daha fazla bilgi için `ProtectionLevel` bkz. [hizmet sözleşmeleri tasarlama](designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="77710-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="77710-261">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="77710-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="77710-262">Kimlik Doğrulama ile Hizmet Kimliği</span><span class="sxs-lookup"><span data-stu-id="77710-262">Service Identity and Authentication</span></span>](./feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="77710-263">Koruma Düzeylerini Anlama</span><span class="sxs-lookup"><span data-stu-id="77710-263">Understanding Protection Level</span></span>](understanding-protection-level.md)
- [<span data-ttu-id="77710-264">Temsilcilik ve Kimliğe Bürünme</span><span class="sxs-lookup"><span data-stu-id="77710-264">Delegation and Impersonation</span></span>](./feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="77710-265">Hizmet Sözleşmeleri Tasarlama</span><span class="sxs-lookup"><span data-stu-id="77710-265">Designing Service Contracts</span></span>](designing-service-contracts.md)
- [<span data-ttu-id="77710-266">Güvenlik</span><span class="sxs-lookup"><span data-stu-id="77710-266">Security</span></span>](./feature-details/security.md)
- [<span data-ttu-id="77710-267">Güvenliğe genel bakış</span><span class="sxs-lookup"><span data-stu-id="77710-267">Security Overview</span></span>](./feature-details/security-overview.md)
- [<span data-ttu-id="77710-268">Nasıl yapılır: ProtectionLevel Özelliğini Ayarlama</span><span class="sxs-lookup"><span data-stu-id="77710-268">How to: Set the ProtectionLevel Property</span></span>](how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="77710-269">Nasıl yapılır: Windows Kimlik Bilgileri ile Bir Hizmeti Güvenli Hale Getirme</span><span class="sxs-lookup"><span data-stu-id="77710-269">How to: Secure a Service with Windows Credentials</span></span>](how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="77710-270">Nasıl yapılır: Güvenlik Modunu Ayarlama</span><span class="sxs-lookup"><span data-stu-id="77710-270">How to: Set the Security Mode</span></span>](how-to-set-the-security-mode.md)
- [<span data-ttu-id="77710-271">Nasıl yapılır: İstemci Kimlik Bilgileri Türünü Belirtme</span><span class="sxs-lookup"><span data-stu-id="77710-271">How to: Specify the Client Credential Type</span></span>](how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="77710-272">Nasıl yapılır: PrincipalPermissionAttribute Sınıfı ile Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="77710-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="77710-273">Nasıl yapılır: Bir Hizmette İstemci Kimliğine Bürünme</span><span class="sxs-lookup"><span data-stu-id="77710-273">How to: Impersonate a Client on a Service</span></span>](how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="77710-274">Nasıl yapılır: Güvenlik Bağlamını İnceleme</span><span class="sxs-lookup"><span data-stu-id="77710-274">How to: Examine the Security Context</span></span>](how-to-examine-the-security-context.md)
