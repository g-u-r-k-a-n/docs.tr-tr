---
title: Desteklenmeyen Senaryolar
ms.date: 03/30/2017
ms.assetid: 72027d0f-146d-40c5-9d72-e94392c8bb40
ms.openlocfilehash: 87c0d9984fe823eae0e3cc281ebda55bc33a541e
ms.sourcegitcommit: 8c99457955fc31785b36b3330c4ab6ce7984a7ba
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/29/2019
ms.locfileid: "75544799"
---
# <a name="unsupported-scenarios"></a><span data-ttu-id="9a831-102">Desteklenmeyen Senaryolar</span><span class="sxs-lookup"><span data-stu-id="9a831-102">Unsupported Scenarios</span></span>
<span data-ttu-id="9a831-103">Çeşitli nedenlerle Windows Communication Foundation (WCF) bazı belirli güvenlik senaryolarını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="9a831-103">For various reasons, Windows Communication Foundation (WCF) does not support some specific security scenarios.</span></span> <span data-ttu-id="9a831-104">Örneğin, [!INCLUDE[wxp](../../../../includes/wxp-md.md)] Home sürümü SSPI veya Kerberos kimlik doğrulama protokollerini uygulamaz ve bu nedenle WCF, bu platformda Windows kimlik doğrulaması ile bir hizmetin çalıştırılmasını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="9a831-104">For example, [!INCLUDE[wxp](../../../../includes/wxp-md.md)] Home Edition does not implement the SSPI or Kerberos authentication protocols, and therefore WCF does not support running a service with Windows authentication on that platform.</span></span> <span data-ttu-id="9a831-105">Windows XP Home Edition altında WCF çalıştırılırken Kullanıcı adı/parola ve HTTP/HTTPS tümleşik kimlik doğrulaması gibi diğer kimlik doğrulama mekanizmaları desteklenir.</span><span class="sxs-lookup"><span data-stu-id="9a831-105">Other authentication mechanisms, such as username/password and HTTP/HTTPS integrated authentication are supported when running WCF under Windows XP Home Edition.</span></span>  
  
## <a name="impersonation-scenarios"></a><span data-ttu-id="9a831-106">Kimliğe bürünme senaryoları</span><span class="sxs-lookup"><span data-stu-id="9a831-106">Impersonation Scenarios</span></span>  
  
### <a name="impersonated-identity-might-not-flow-when-clients-make-asynchronous-calls"></a><span data-ttu-id="9a831-107">Istemciler zaman uyumsuz çağrılar yaparken kimliğe bürünme kimliği Akamayabilir</span><span class="sxs-lookup"><span data-stu-id="9a831-107">Impersonated Identity Might Not Flow When Clients Make Asynchronous Calls</span></span>  
 <span data-ttu-id="9a831-108">Bir WCF istemcisi, kimliğe bürünme altında Windows kimlik doğrulaması kullanarak bir WCF hizmetine zaman uyumsuz çağrılar yaptığında kimlik doğrulaması, kimliğe bürünülmüş kimlik yerine istemci işleminin kimliğiyle meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-108">When a WCF client makes asynchronous calls to a WCF service using Windows authentication under impersonation, authentication might occur with the identity of the client process instead of the impersonated identity.</span></span>  
  
### <a name="windows-xp-and-secure-context-token-cookie-enabled"></a><span data-ttu-id="9a831-109">Windows XP ve güvenli bağlam belirteci tanımlama bilgisi etkin</span><span class="sxs-lookup"><span data-stu-id="9a831-109">Windows XP and Secure Context Token Cookie Enabled</span></span>  
 <span data-ttu-id="9a831-110">WCF, kimliğe bürünme özelliğini desteklemez ve aşağıdaki koşullar mevcut olduğunda bir <xref:System.InvalidOperationException> oluşur:</span><span class="sxs-lookup"><span data-stu-id="9a831-110">WCF does not support impersonation and an <xref:System.InvalidOperationException> is thrown when the following conditions exist:</span></span>  
  
- <span data-ttu-id="9a831-111">İşletim sistemi [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9a831-111">The operating system is [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
- <span data-ttu-id="9a831-112">Kimlik doğrulama modu bir Windows kimliği ile sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="9a831-112">The authentication mode results in a Windows identity.</span></span>  
  
- <span data-ttu-id="9a831-113"><xref:System.ServiceModel.OperationBehaviorAttribute> <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> özelliği <xref:System.ServiceModel.ImpersonationOption.Required>olarak ayarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="9a831-113">The <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> property of the <xref:System.ServiceModel.OperationBehaviorAttribute> is set to <xref:System.ServiceModel.ImpersonationOption.Required>.</span></span>  
  
- <span data-ttu-id="9a831-114">Durum tabanlı bir güvenlik bağlamı belirteci (SCT) oluşturulur (varsayılan olarak, oluşturma devre dışıdır).</span><span class="sxs-lookup"><span data-stu-id="9a831-114">A state-based security context token (SCT) is created (by default, creation is disabled).</span></span>  
  
 <span data-ttu-id="9a831-115">Durum tabanlı SCT yalnızca özel bir bağlama kullanılarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-115">The state-based SCT can only be created using a custom binding.</span></span> <span data-ttu-id="9a831-116">Daha fazla bilgi için bkz. [nasıl yapılır: güvenli bir oturum Için güvenlik bağlamı belirteci oluşturma](../../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).) Kod içinde, belirteç, <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%28System.Boolean%29?displayProperty=nameWithType> veya <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%28System.ServiceModel.Channels.SecurityBindingElement%2CSystem.Boolean%29?displayProperty=nameWithType> yöntemini kullanarak bir güvenlik bağlama öğesi (<xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> ya da <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>) oluşturularak etkinleştirilir ve `requireCancellation` parametresini `false`olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="9a831-116">For more information, see [How to: Create a Security Context Token for a Secure Session](../../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).) In code, the token is enabled by creating a security binding element (either <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> or <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>) using the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%28System.Boolean%29?displayProperty=nameWithType> or the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%28System.ServiceModel.Channels.SecurityBindingElement%2CSystem.Boolean%29?displayProperty=nameWithType> method and setting the `requireCancellation` parameter to `false`.</span></span> <span data-ttu-id="9a831-117">Parametresi, SCT 'nin önbelleğe alınmasını ifade eder.</span><span class="sxs-lookup"><span data-stu-id="9a831-117">The parameter refers to the caching of the SCT.</span></span> <span data-ttu-id="9a831-118">Değerin `false` olarak ayarlanması durum tabanlı SCT özelliğini sağlar.</span><span class="sxs-lookup"><span data-stu-id="9a831-118">Setting the value to `false` enables the state-based SCT feature.</span></span>  
  
 <span data-ttu-id="9a831-119">Alternatif olarak, yapılandırma ' da, belirteç bir <`customBinding`oluşturarak >, sonra bir <`security`> öğesi eklenerek ve `authenticationMode` özniteliği SecureConversation ve `requireSecurityContextCancellation` özniteliği `true`olarak ayarlanarak etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-119">Alternatively, in configuration, the token is enabled by creating a <`customBinding`>, then adding a <`security`> element, and setting the `authenticationMode` attribute to SecureConversation and the `requireSecurityContextCancellation` attribute to `true`.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="9a831-120">Önceki gereksinimler özeldir.</span><span class="sxs-lookup"><span data-stu-id="9a831-120">The preceding requirements are specific.</span></span> <span data-ttu-id="9a831-121">Örneğin <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A>, Windows kimliği ile sonuçlanan ancak bir SCT oluşturmayan bir bağlama öğesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9a831-121">For example, the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A> creates a binding element that results in a Windows identity, but does not establish an SCT.</span></span> <span data-ttu-id="9a831-122">Bu nedenle, bunu [!INCLUDE[wxp](../../../../includes/wxp-md.md)]`Required` seçeneği ile kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9a831-122">Therefore, you can use it with the `Required` option on [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
### <a name="possible-aspnet-conflict"></a><span data-ttu-id="9a831-123">Olası ASP.NET çakışması</span><span class="sxs-lookup"><span data-stu-id="9a831-123">Possible ASP.NET Conflict</span></span>  
 <span data-ttu-id="9a831-124">WCF ve ASP.NET, kimliğe bürünme özelliğini etkinleştirebilir veya devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-124">WCF and ASP.NET can both enable or disable impersonation.</span></span> <span data-ttu-id="9a831-125">ASP.NET bir WCF uygulaması barındırıyorsa, WCF ve ASP.NET yapılandırma ayarları arasında bir çakışma var olabilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-125">When ASP.NET hosts an WCF application, a conflict may exist between the WCF and ASP.NET configuration settings.</span></span> <span data-ttu-id="9a831-126">Çakışma durumunda, <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> özelliği <xref:System.ServiceModel.ImpersonationOption.NotAllowed>olarak ayarlanmadıkça WCF ayarı önceliklidir, bu durumda ASP.NET Kimliğe bürünme ayarı öncelikli olur.</span><span class="sxs-lookup"><span data-stu-id="9a831-126">In case of conflict, the WCF setting takes precedence, unless the <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> property is set to <xref:System.ServiceModel.ImpersonationOption.NotAllowed>, in which case the ASP.NET impersonation setting takes precedence.</span></span>  
  
### <a name="assembly-loads-may-fail-under-impersonation"></a><span data-ttu-id="9a831-127">Derleme yüklemeleri, kimliğe bürünme altında başarısız olabilir</span><span class="sxs-lookup"><span data-stu-id="9a831-127">Assembly Loads May Fail Under Impersonation</span></span>  
 <span data-ttu-id="9a831-128">Kimliğe bürünülmüş bağlamın bir derlemeyi yüklemek için erişim hakları yoksa ve ilk kez ortak dil çalışma zamanı (CLR) bu AppDomain için derlemeyi yüklemeye çalışıyorsa, <xref:System.AppDomain> hatayı önbelleğe alır.</span><span class="sxs-lookup"><span data-stu-id="9a831-128">If the impersonated context does not have access rights to load an assembly and if it is the first time the common language runtime (CLR) is attempting to load the assembly for that AppDomain, the <xref:System.AppDomain> caches the failure.</span></span> <span data-ttu-id="9a831-129">Daha sonra bu derlemeyi (veya derlemeleri) yükleme girişimleri, kimliğe bürünme geri alındıktan sonra bile başarısız olur ve geri döndürülmüş bağlam derlemeyi yüklemek için erişim haklarına sahip olsa bile.</span><span class="sxs-lookup"><span data-stu-id="9a831-129">Subsequent attempts to load that assembly (or assemblies) fail, even after reverting the impersonation, and even if the reverted context has access rights to load the assembly.</span></span> <span data-ttu-id="9a831-130">Bunun nedeni, CLR 'nin Kullanıcı bağlamı değiştirildikten sonra yükü yeniden denemeyecektir.</span><span class="sxs-lookup"><span data-stu-id="9a831-130">This is because the CLR does not re-attempt the load after the user context is changed.</span></span> <span data-ttu-id="9a831-131">Hatadan kurtarmak için uygulama etki alanını yeniden başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9a831-131">You must restart the application domain to recover from the failure.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="9a831-132"><xref:System.ServiceModel.Security.WindowsClientCredential> sınıfının <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> özelliği için varsayılan değer <xref:System.Security.Principal.TokenImpersonationLevel.Identification>.</span><span class="sxs-lookup"><span data-stu-id="9a831-132">The default value for the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> property of the <xref:System.ServiceModel.Security.WindowsClientCredential> class is <xref:System.Security.Principal.TokenImpersonationLevel.Identification>.</span></span> <span data-ttu-id="9a831-133">Çoğu durumda, kimlik düzeyi kimliğe bürünme bağlamının herhangi bir ek derlemeyi yükleme izni yoktur.</span><span class="sxs-lookup"><span data-stu-id="9a831-133">In most cases, an identification-level impersonation context has no rights to load any additional assemblies.</span></span> <span data-ttu-id="9a831-134">Bu varsayılan değerdir, bu nedenle farkında olmak üzere çok yaygın bir durumdur.</span><span class="sxs-lookup"><span data-stu-id="9a831-134">This is the default value, so this is a very common condition to be aware of.</span></span> <span data-ttu-id="9a831-135">Kimliğe bürünme işlemi `SeImpersonate` ayrıcalığına sahip olmadığında, kimlik düzeyi kimliğe bürünme da oluşur.</span><span class="sxs-lookup"><span data-stu-id="9a831-135">Identification-level impersonation also occurs when the impersonating process does not have the `SeImpersonate` privilege.</span></span> <span data-ttu-id="9a831-136">Daha fazla bilgi için bkz. [temsil ve kimliğe bürünme](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="9a831-136">For more information, see [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
### <a name="delegation-requires-credential-negotiation"></a><span data-ttu-id="9a831-137">Temsili kimlik bilgisi anlaşması gerektirir</span><span class="sxs-lookup"><span data-stu-id="9a831-137">Delegation Requires Credential Negotiation</span></span>  
 <span data-ttu-id="9a831-138">Kerberos kimlik doğrulama protokolünü temsilcisiyle birlikte kullanmak için, Kerberos protokolünü kimlik bilgisi anlaşmasına (bazen çok aşamalı veya çok adımlı Kerberos olarak adlandırılır) uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9a831-138">To use the Kerberos authentication protocol with delegation, you must implement the Kerberos protocol with credential negotiation (sometimes called multi-leg or multi-step Kerberos).</span></span> <span data-ttu-id="9a831-139">Kimlik bilgisi anlaşması olmadan Kerberos kimlik doğrulaması uygularsanız (bazen tek veya tek seferlik Kerberos olarak adlandırılır), bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="9a831-139">If you implement Kerberos authentication without credential negotiation (sometimes called one-shot or single-leg Kerberos), an exception is thrown.</span></span> <span data-ttu-id="9a831-140">Kimlik bilgisi anlaşmasını uygulama hakkında daha fazla bilgi için bkz. [Windows kimlik doğrulama hatalarını ayıklama](../../../../docs/framework/wcf/feature-details/debugging-windows-authentication-errors.md).</span><span class="sxs-lookup"><span data-stu-id="9a831-140">For more information about how to implement credential negotiation, see [Debugging Windows Authentication Errors](../../../../docs/framework/wcf/feature-details/debugging-windows-authentication-errors.md).</span></span>  
  
## <a name="cryptography"></a><span data-ttu-id="9a831-141">Şifreleme</span><span class="sxs-lookup"><span data-stu-id="9a831-141">Cryptography</span></span>  
  
### <a name="sha-256-supported-only-for-symmetric-key-usages"></a><span data-ttu-id="9a831-142">SHA-256 yalnızca simetrik anahtar kullanımları için desteklenir</span><span class="sxs-lookup"><span data-stu-id="9a831-142">SHA-256 Supported Only for Symmetric Key Usages</span></span>  
 <span data-ttu-id="9a831-143">WCF, sistem tarafından belirtilen bağlamalarda algoritma paketini kullanarak belirtebileceğiniz çeşitli şifreleme ve imza özeti oluşturma algoritmalarını destekler.</span><span class="sxs-lookup"><span data-stu-id="9a831-143">WCF supports a variety of encryption and signature digest creation algorithms that you can specify using the algorithm suite in the system-provided bindings.</span></span> <span data-ttu-id="9a831-144">WCF, daha iyi güvenlik için imza Özet karmaları oluşturmak amacıyla güvenli karma algoritması (SHA) 2 algoritmalarını, özellikle SHA-256 ' i destekler.</span><span class="sxs-lookup"><span data-stu-id="9a831-144">For improved security, WCF supports Secure Hash Algorithm (SHA) 2 algorithms, specifically SHA-256, for creating signature digest hashes.</span></span> <span data-ttu-id="9a831-145">Bu sürüm, yalnızca Kerberos anahtarları gibi simetrik anahtar kullanımları için SHA-256 ' ı destekler ve iletiyi imzalamak için bir X. 509.440 sertifikası kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="9a831-145">This release supports SHA-256 only for symmetric key usages, such as Kerberos keys, and where an X.509 certificate is not used to sign the message.</span></span> <span data-ttu-id="9a831-146">WCF, WinFX 'de RSA-SHA256 için desteklenmeyen destek olmaması nedeniyle, SHA-256 karması kullanılarak RSA imzalarını (X. 509.440 sertifikalarında kullanılır) desteklemez.</span><span class="sxs-lookup"><span data-stu-id="9a831-146">WCF does not support RSA signatures (used in X.509 certificates) using SHA-256 hash due to the current lack of support for RSA-SHA256 in the WinFX.</span></span>  
  
### <a name="fips-compliant-sha-256-hashes-not-supported"></a><span data-ttu-id="9a831-147">FIPS uyumlu SHA-256 karmaları desteklenmez</span><span class="sxs-lookup"><span data-stu-id="9a831-147">FIPS-Compliant SHA-256 Hashes not Supported</span></span>  
 <span data-ttu-id="9a831-148">WCF, SHA-256 FIPS uyumlu karmaları desteklemez, bu nedenle SHA-256 kullanan algoritma paketleri, FIPS uyumlu algoritmaların kullanılması gereken sistemlerde WCF tarafından desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="9a831-148">WCF does not support SHA-256 FIPS-compliant hashes, so algorithm suites that use SHA-256 are not supported by WCF on systems where use of FIPS compliant algorithms is required.</span></span>  
  
### <a name="fips-compliant-algorithms-may-fail-if-registry-is-edited"></a><span data-ttu-id="9a831-149">Kayıt defteri düzenlendiğinde FIPS uyumlu algoritmalar başarısız olabilir</span><span class="sxs-lookup"><span data-stu-id="9a831-149">FIPS-Compliant Algorithms May Fail if Registry Is Edited</span></span>  
 <span data-ttu-id="9a831-150">Yerel güvenlik ayarları Microsoft Yönetim Konsolu (MMC) ek bileşenini kullanarak Federal bilgi Işleme standartları (FIPS) ile uyumlu algoritmaları etkinleştirebilir ve devre dışı bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9a831-150">You can enable and disable Federal Information Processing Standards (FIPS)-compliant algorithms by using the Local Security Settings Microsoft Management Console (MMC) snap-in.</span></span> <span data-ttu-id="9a831-151">Ayrıca, kayıt defterindeki ayarına erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9a831-151">You can also access the setting in the registry.</span></span> <span data-ttu-id="9a831-152">Ancak, WCF 'nin ayarı sıfırlamak için kayıt defterini kullanmayı desteklemediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="9a831-152">Note, however, that WCF does not support using the registry to reset the setting.</span></span> <span data-ttu-id="9a831-153">Değer 1 veya 0 ' dan farklı bir değere ayarlandıysa, CLR ve işletim sistemi arasında tutarsız sonuçlar meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-153">If the value is set to anything other than 1 or 0, inconsistent results can occur between the CLR and the operating system.</span></span>  
  
### <a name="fips-compliant-aes-encryption-limitation"></a><span data-ttu-id="9a831-154">FIPS uyumlu AES şifreleme sınırlaması</span><span class="sxs-lookup"><span data-stu-id="9a831-154">FIPS-Compliant AES Encryption Limitation</span></span>  
 <span data-ttu-id="9a831-155">FIPS uyumlu AES şifrelemesi, kimlik düzeyi kimliğe bürünme altında çift yönlü geri çağırmalar içinde çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="9a831-155">FIPS compliant AES encryption does not work in duplex callbacks under identification level impersonation.</span></span>  
  
### <a name="cngksp-certificates"></a><span data-ttu-id="9a831-156">CNG/KSP sertifikaları</span><span class="sxs-lookup"><span data-stu-id="9a831-156">CNG/KSP Certificates</span></span>  
 <span data-ttu-id="9a831-157">*Şifreleme API 'si: yeni nesil (CNG)* , CryptoAPI 'nin uzun süreli yerini alır.</span><span class="sxs-lookup"><span data-stu-id="9a831-157">*Cryptography API: Next Generation (CNG)* is the long-term replacement for the CryptoAPI.</span></span> <span data-ttu-id="9a831-158">Bu API, Windows Vista, Windows Server 2008 ve sonraki Windows sürümlerinde yönetilmeyen kodda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-158">This API is available in unmanaged code on Windows Vista, Windows Server 2008, and later Windows versions.</span></span>  
  
 <span data-ttu-id="9a831-159">.NET Framework 4.6.1 ve önceki sürümler, CNG/KSP sertifikalarını işlemek için eski CryptoAPI 'yi kullandıkları için bu sertifikaları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="9a831-159">.NET Framework 4.6.1 and earlier versions do not support these certificates because they use the legacy CryptoAPI to handle CNG/KSP certificates.</span></span> <span data-ttu-id="9a831-160">Bu sertifikaların .NET Framework 4.6.1 ve önceki sürümleriyle kullanımı bir özel duruma neden olur.</span><span class="sxs-lookup"><span data-stu-id="9a831-160">The use of these certificates with   .NET Framework 4.6.1 and earlier versions will cause an exception.</span></span>  
  
 <span data-ttu-id="9a831-161">Bir sertifikanın KSP kullanıp kullanmadığını söylemek için iki olası yol vardır:</span><span class="sxs-lookup"><span data-stu-id="9a831-161">There are two possible ways to tell if a certificate uses KSP:</span></span>  
  
- <span data-ttu-id="9a831-162">`CertGetCertificateContextProperty``p/invoke` yapın ve döndürülen `CertGetCertificateContextProperty``dwProvType` inceleyin.</span><span class="sxs-lookup"><span data-stu-id="9a831-162">Do a `p/invoke` of `CertGetCertificateContextProperty`, and inspect `dwProvType` on the returned `CertGetCertificateContextProperty`.</span></span>  
  
- <span data-ttu-id="9a831-163">Sertifikaları sorgulamak için komut satırından `certutil` komutunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="9a831-163">Use the  `certutil` command from the command line for querying certificates.</span></span> <span data-ttu-id="9a831-164">Daha fazla bilgi için bkz. [sertifika sorunlarını giderme Için Certutil görevleri](https://go.microsoft.com/fwlink/?LinkId=120056).</span><span class="sxs-lookup"><span data-stu-id="9a831-164">For more information, see [Certutil tasks for troubleshooting certificates](https://go.microsoft.com/fwlink/?LinkId=120056).</span></span>  
  
## <a name="message-security-fails-if-using-aspnet-impersonation-and-aspnet-compatibility-is-required"></a><span data-ttu-id="9a831-165">ASP.NET Kimliğe bürünme ve ASP.NET uyumluluğu kullanılması gerekiyorsa ileti güvenliği başarısız olur</span><span class="sxs-lookup"><span data-stu-id="9a831-165">Message Security Fails if Using ASP.NET Impersonation and ASP.NET Compatibility Is Required</span></span>  
 <span data-ttu-id="9a831-166">WCF, istemci kimlik doğrulamasının oluşmasını engelleyebileceğinden aşağıdaki ayar birleşimini desteklemez:</span><span class="sxs-lookup"><span data-stu-id="9a831-166">WCF does not support the following combination of settings because they can prevent client authentication from occurring:</span></span>  
  
- <span data-ttu-id="9a831-167">ASP.NET Kimliğe bürünme etkindir.</span><span class="sxs-lookup"><span data-stu-id="9a831-167">ASP.NET Impersonation is enabled.</span></span> <span data-ttu-id="9a831-168">Bu, <`identity`> öğesinin `impersonate` özniteliği `true`olarak ayarlanarak Web. config dosyasında yapılır.</span><span class="sxs-lookup"><span data-stu-id="9a831-168">This is done in the Web.config file by setting the `impersonate` attribute of the <`identity`> element to `true`.</span></span>  
  
- <span data-ttu-id="9a831-169">ASP.NET uyumluluk modu, [\<serviceHostingEnvironment >](../../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) `aspNetCompatibilityEnabled` özniteliği `true`olarak ayarlanarak etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9a831-169">ASP.NET compatibility mode is enabled by setting the `aspNetCompatibilityEnabled` attribute of the [\<serviceHostingEnvironment>](../../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) to `true`.</span></span>  
  
- <span data-ttu-id="9a831-170">İleti modu güvenliği kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9a831-170">Message mode security is used.</span></span>  
  
 <span data-ttu-id="9a831-171">Geçici çözüm, ASP.NET uyumluluk modunu Kapatbir şekilde çalışır.</span><span class="sxs-lookup"><span data-stu-id="9a831-171">The work-around is to turn off the ASP.NET compatibility mode.</span></span> <span data-ttu-id="9a831-172">Ya da ASP.NET uyumluluk modu gerekliyse, ASP.NET Kimliğe bürünme özelliğini devre dışı bırakın ve bunun yerine WCF tarafından belirtilen kimliğe bürünme özelliğini kullanın.</span><span class="sxs-lookup"><span data-stu-id="9a831-172">Or, if the ASP.NET compatibility mode is required, disable the ASP.NET impersonation feature and use WCF-provided impersonation instead.</span></span> <span data-ttu-id="9a831-173">Daha fazla bilgi için bkz. [temsil ve kimliğe bürünme](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="9a831-173">For more information, see [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="ipv6-literal-address-failure"></a><span data-ttu-id="9a831-174">IPv6 değişmez değer adresi hatası</span><span class="sxs-lookup"><span data-stu-id="9a831-174">IPv6 Literal Address Failure</span></span>  
 <span data-ttu-id="9a831-175">İstemci ve hizmet aynı makineden olduğunda güvenlik istekleri başarısız olur ve hizmet için IPv6 değişmez adresler kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9a831-175">Security requests fail when the client and service are on the same machine, and IPv6 literal addresses are used for the service.</span></span>  
  
 <span data-ttu-id="9a831-176">Hizmet ve istemci farklı makinelerinizde, sabit IPv6 adresleri çalışır.</span><span class="sxs-lookup"><span data-stu-id="9a831-176">Literal IPv6 addresses work if the service and client are on different machines.</span></span>  
  
## <a name="wsdl-retrieval-failures-with-federated-trust"></a><span data-ttu-id="9a831-177">Federasyon güveniyle WSDL alma sorunları</span><span class="sxs-lookup"><span data-stu-id="9a831-177">WSDL Retrieval Failures with Federated Trust</span></span>  
 <span data-ttu-id="9a831-178">WCF, Federasyon güven zincirindeki her düğüm için tam olarak bir WSDL belgesi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="9a831-178">WCF requires exactly one WSDL document for each node in the federated trust chain.</span></span> <span data-ttu-id="9a831-179">Uç noktaları belirtirken bir döngü ayarlanmamaya dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="9a831-179">Be careful not to set up a loop when specifying endpoints.</span></span> <span data-ttu-id="9a831-180">Döngülerin ortaya çıkarılabileceği bir yol, aynı WSDL belgesinde iki veya daha fazla bağlantıyla federasyon güven zincirlerinin WSDL indirmesi kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="9a831-180">One way in which loops can arise is using a WSDL download of federated trust chains with two or more links in the same WSDL document.</span></span> <span data-ttu-id="9a831-181">Bu sorunu oluşturabilecek yaygın bir senaryo, güvenlik belirteci sunucusunun ve hizmetin aynı ServiceHost içinde bulunduğu bir Federasyon hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="9a831-181">A common scenario that can produce this problem is a federated service where the Security Token Server and the service are contained inside the same ServiceHost.</span></span>  
  
 <span data-ttu-id="9a831-182">Bu durumun bir örneği, aşağıdaki üç uç nokta adresini içeren bir hizmettir:</span><span class="sxs-lookup"><span data-stu-id="9a831-182">An example of this situation is a service with the following three endpoint addresses:</span></span>  
  
- <span data-ttu-id="9a831-183">`http://localhost/CalculatorService/service` (hizmet)</span><span class="sxs-lookup"><span data-stu-id="9a831-183">`http://localhost/CalculatorService/service` (the service)</span></span>  
  
- <span data-ttu-id="9a831-184">`http://localhost/CalculatorService/issue_ticket` (STS)</span><span class="sxs-lookup"><span data-stu-id="9a831-184">`http://localhost/CalculatorService/issue_ticket` (the STS)</span></span>  
  
- <span data-ttu-id="9a831-185">`http://localhost/CalculatorService/mex` (meta veri uç noktası)</span><span class="sxs-lookup"><span data-stu-id="9a831-185">`http://localhost/CalculatorService/mex` (the metadata endpoint)</span></span>  
  
 <span data-ttu-id="9a831-186">Bu bir özel durum oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9a831-186">This throws an exception.</span></span>  
  
 <span data-ttu-id="9a831-187">`issue_ticket` uç noktasını başka bir yere yerleştirerek bu senaryonun çalışmasını sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9a831-187">You can make this scenario work by putting the `issue_ticket` endpoint elsewhere.</span></span>  
  
## <a name="wsdl-import-attributes-can-be-lost"></a><span data-ttu-id="9a831-188">WSDL Içeri aktarma öznitelikleri kaybolabilir</span><span class="sxs-lookup"><span data-stu-id="9a831-188">WSDL Import Attributes can be Lost</span></span>  
 <span data-ttu-id="9a831-189">Bir WSDL içeri aktarma işlemi sırasında WCF, bir `RST` şablonundaki `<wst:Claims>` öğesindeki özniteliklerin izlenmesini kaybeder.</span><span class="sxs-lookup"><span data-stu-id="9a831-189">WCF loses track of the attributes on a `<wst:Claims>` element in an `RST` template when doing a WSDL import.</span></span> <span data-ttu-id="9a831-190">Bu, doğrudan talep türü koleksiyonları kullanmak yerine doğrudan `WSFederationHttpBinding.Security.Message.TokenRequestParameters` veya `IssuedSecurityTokenRequestParameters.AdditionalRequestParameters` `<Claims>` belirtirseniz, WSDL içeri aktarma sırasında gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="9a831-190">This happens during a WSDL import if you specify `<Claims>` directly in `WSFederationHttpBinding.Security.Message.TokenRequestParameters` or `IssuedSecurityTokenRequestParameters.AdditionalRequestParameters` instead of using the claim type collections directly.</span></span>  <span data-ttu-id="9a831-191">İçeri aktarma öznitelikleri kaybederse, bağlama WSDL aracılığıyla doğru şekilde geri dönmez ve bu nedenle istemci tarafında yanlış.</span><span class="sxs-lookup"><span data-stu-id="9a831-191">Since the import loses the attributes, the binding does not round trip properly through WSDL and hence is incorrect on the client side.</span></span>  
  
 <span data-ttu-id="9a831-192">Bu, içeri aktarma işlemi yapıldıktan sonra bağlamayı doğrudan istemci üzerinde değiştirmektir.</span><span class="sxs-lookup"><span data-stu-id="9a831-192">The fix is to modify the binding directly on the client after doing the import.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9a831-193">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="9a831-193">See also</span></span>

- [<span data-ttu-id="9a831-194">Güvenlik Konuları</span><span class="sxs-lookup"><span data-stu-id="9a831-194">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)
- [<span data-ttu-id="9a831-195">Bilgilerin Açığa Çıkması</span><span class="sxs-lookup"><span data-stu-id="9a831-195">Information Disclosure</span></span>](../../../../docs/framework/wcf/feature-details/information-disclosure.md)
- [<span data-ttu-id="9a831-196">Ayrıcalıkların Yükseltilmesi</span><span class="sxs-lookup"><span data-stu-id="9a831-196">Elevation of Privilege</span></span>](../../../../docs/framework/wcf/feature-details/elevation-of-privilege.md)
- [<span data-ttu-id="9a831-197">Hizmet Reddi</span><span class="sxs-lookup"><span data-stu-id="9a831-197">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)
- [<span data-ttu-id="9a831-198">İzinsiz Değişiklik</span><span class="sxs-lookup"><span data-stu-id="9a831-198">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)
- [<span data-ttu-id="9a831-199">Yeniden Yürütme Saldırıları</span><span class="sxs-lookup"><span data-stu-id="9a831-199">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)
