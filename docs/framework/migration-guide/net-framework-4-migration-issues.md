---
title: .NET Framework 4 geçiş sorunları
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: 889e63feb71682065641fcdc56ada017dcf6c58c
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/07/2019
ms.locfileid: "73735127"
---
# <a name="net-framework-4-migration-issues"></a>.NET Framework 4 geçiş sorunları

Bu konu, .NET Framework sürüm 3,5 hizmet paketi 1 ile .NET Framework sürüm 4 arasındaki, düzeltmeler, standartlar uyumluluğu ve güvenlik değişiklikleri ve müşteri geri bildirimlerine göre değişiklikler hakkında geçiş sorunları anlatmaktadır. Bu değişikliklerin çoğu uygulamalarınızdaki programlamalarda herhangi bir değişiklik gerektirmez. Değişiklik gerektirebilecek değişiklikler için, tablonun önerilen değişiklikler sütununa bakın. Notable değişiklikleri alana göre bölünür, örneğin, ASP.NET ve Windows Presentation Foundation (WPF).

Bu konudaki sorunlara yönelik daha yüksek düzeyde bir genel bakış için [.NET Framework 4 ' e geçiş kılavuzuna](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)bakın.

Yeni özellikler hakkında bilgi için, bkz. [.NET Framework 4 ' teki](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)yenilikler.

## <a name="aspnet-and-web"></a>ASP.NET ve Web

Ad alanları: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>; bütünleştirilmiş kod: System. Web (System. Web. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Tarayıcı tanım dosyaları** | Tarayıcı tanım dosyaları, yeni ve güncelleştirilmiş tarayıcı ve cihazlarla ilgili bilgileri içerecek şekilde güncelleştirilmiştir. Netscape Navigator gibi eski tarayıcılar ve cihazlar kaldırılmıştır ve Google Chrome ve Apple iPhone gibi yeni tarayıcılar ve cihazlar eklenmiştir.<br><br>Uygulamanız kaldırılmış tarayıcı tanımlarından birinden kalıtımla alan özel tarayıcı tanımları içeriyorsa, bir hata görürsünüz.<br><br><xref:System.Web.HttpBrowserCapabilities> nesnesi (sayfanın `Request.Browse` özelliği tarafından gösterilen) tarayıcı tanım dosyaları tarafından çalıştırılır. Bu nedenle, ASP.NET 4 ' te bu nesnenin bir özelliğine erişerek döndürülen bilgiler, ASP.NET 'in önceki bir sürümünde döndürülen bilgilerden farklı olabilir. | Uygulamanız eski tarayıcı tanımı dosyalarını kullanıyorsa, bunları aşağıdaki klasörden kopyalayabilirsiniz:<br><br>*Windows\\Microsoft.NET\\Framework\\v 2.0.50727\\CONFIG\\tarayıcıları*<br><br>Dosyaları ASP.NET 4 için karşılık gelen *\\CONFIG\\browsers* klasörüne kopyalayın. Dosyaları kopyaladıktan sonra, [Aspnet_regbrowsers. exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) komut satırı aracını çalıştırın. Daha fazla bilgi için [https://www.asp.net/mobile](/aspnet/mobile/overview) Web sitesine bakın. |
| **ASP.NET 'in karma sürümleri altında çalışan alt uygulamalar** | ASP.NET 'ın önceki sürümlerini çalıştıran uygulamaların alt öğeleri olarak yapılandırılan ASP.NET 4 uygulamaları yapılandırma veya derleme hataları nedeniyle başlayamayabilir. Oluşan özel hata, uygulamanın IIS 6,0 veya IIS 7 veya IIS 7,5 altında çalışıp çalışmadığını bağlıdır. | Yapılandırma sisteminin ASP.NET 4 uygulamasını doğru şekilde tanıması için etkilenen uygulamaların yapılandırma dosyalarında değişiklik yapabilirsiniz. Yapmanız gereken değişiklikler hakkında daha fazla bilgi için, belgedeki "ASP.NET 4 alt uygulamalar ASP.NET 2,0 veya ASP.NET 3,5 uygulamaları altında başlatılamıyor" bölümüne bakın ASP.NET Web sitesindeki [4](/aspnet/whitepapers/aspnet4/breaking-changes) . |
| **ClientID değişiklikleri** | ASP.NET 4 ' teki yeni `clientIDMode` ayarı, ASP.NET 'ın HTML öğeleri için `id` özniteliğini nasıl üretmenize olanak tanır. Önceki ASP.NET sürümlerinde, varsayılan davranış `clientIDMode``AutoID` ayarına eşdeğerdir. Varsayılan ayar artık `Predictable`. Daha fazla bilgi için bkz. [ASP.NET Web sunucusu denetim kimliği](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29). | Uygulamanızı ASP.NET 2,0 veya ASP.NET 3,5 ' den yükseltmek için Visual Studio kullanıyorsanız, araç otomatik olarak, .NET Framework önceki sürümlerinin davranışını koruyan Web. config dosyasına otomatik olarak bir ayar ekler. Ancak, IIS 'deki uygulama havuzunu .NET Framework 4 ' ü hedefleyecek şekilde değiştirerek bir uygulamayı yükseltirseniz, ASP.NET varsayılan olarak yeni modu kullanır. Yeni istemci KIMLIĞI modunu devre dışı bırakmak için, Web. config dosyasına aşağıdaki ayarı ekleyin:<br><br>`<pages clientIDMode="AutoID" />` |
| **Kod erişim güvenliği (CAS)** | ASP.NET 3,5 ' de eklenen ASP.NET 2,0 NET özellikleri .NET Framework 1,1 ve .NET Framework 2,0 Code Access Security (CAS) modelini kullanır. Ancak, CA 'ların ASP.NET 4 ' te uygulanması önemli ölçüde fazla oldu. Sonuç olarak, genel derleme önbelleğinde çalışan güvenilir kodu kullanan kısmi güven ASP.NET uygulamaları çeşitli güvenlik özel durumlarıyla başarısız olabilir. Makine CAS ilkesi üzerinde kapsamlı değişikliklere dayanan kısmi güven uygulamaları da başarısız olabilir ve güvenlik özel durumları oluşturabilir. | Aşağıdaki örnekte gösterildiği gibi, `trust` yapılandırma öğesinde yeni `legacyCasModel` özniteliğini kullanarak, kısmi-Trust ASP.NET 4 uygulamalarını ASP.NET 1,1 ve 2,0 davranışına döndürebilirsiniz:<br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br>Önemli: eski CAS modeline geri dönülmesi azaltılmış güvenliği temsil edebilir.<br><br>Yeni ASP.NET 4 kod erişimi güvenlik modeli hakkında daha fazla bilgi için bkz. [ASP.NET 4 uygulamalarında kod erişim güvenliği](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)). |
| **Yapılandırma dosyaları** | .NET Framework ve ASP.NET 4 için kök yapılandırma dosyaları (Machine. config dosyası ve kök Web. config dosyası) ASP.NET içindeki uygulama Web. config dosyalarında bulunan ortak yapılandırma bilgilerinin çoğunu içerecek şekilde güncelleştirilmiştir. 3,5. Yönetilen IIS 7 ve IIS 7,5 yapılandırma sistemlerinin karmaşıklığı nedeniyle, ASP.NET 4 ve IIS 7 ve IIS 7,5 altında ASP.NET 3,5 uygulamalarını çalıştırmak, ASP.NET hataları veya IIS hatalarına neden olabilir. | Visual Studio 'daki proje yükseltme araçlarını kullanarak ASP.NET 3,5 uygulamalarını ASP.NET 4 ' e yükseltin. Visual Studio 2010, ASP.NET 4 için uygun ayarları içerecek şekilde ASP.NET 3,5 uygulamasının Web. config dosyasını otomatik olarak değiştirir.<br><br>Ancak, yeniden derleme olmadan .NET Framework 4 ' ü kullanarak ASP.NET 3,5 uygulamalarını çalıştırabilirsiniz. Bu durumda, uygulamayı .NET Framework 4 ' ün altında ve IIS 7 veya IIS 7,5 altında çalıştırmadan önce uygulamanın Web. config dosyasını el ile değiştirmeniz gerekebilir. Yapmanız gereken belirli değişiklik, Service Pack (SP) sürümleri dahil olmak üzere çalıştığınız yazılımın birleşimine bağlıdır. Bu değişiklikten etkilenen olası yazılım birleşimleri ve belirli birleşimlerle ilgili sorunları çözme hakkında daha fazla bilgi için, belge ASP.NET 4 ' te "New ASP.NET 4 kök yapılandırmasıyla Ilgili yapılandırma hataları" bölümüne bakın. [ ](/aspnet/whitepapers/aspnet4/breaking-changes)ASP.NET Web sitesindeki son değişiklikler. |
| **Denetim işleme** | Önceki ASP.NET sürümlerinde, bazı denetimler devre dışı bırakamayan biçimlendirme olarak yayınlanır. Varsayılan olarak, bu biçimlendirme türü ASP.NET 4 ' te artık oluşturulmaz. İşleme değişiklikleri aşağıdaki denetimleri etkiler:<br><br>* `Image` ve `ImageButton` denetimleri artık `border="0"` özniteliğini işlemez.<br>* `BaseValidator` sınıfı ve bundan türetilen doğrulama denetimleri artık varsayılan olarak kırmızı metin işlemez.<br>* `HtmlForm` denetimi bir `name` özniteliği işlemez.<br>* `Table` denetimi artık `border="0"` özniteliği içermiyor.<br><br>Kullanıcı girişi için tasarlanmamış denetimler (örneğin, `Label` denetimi), `Enabled` özelliği `false` olarak ayarlandıysa (veya bu ayarı bir kapsayıcı denetiminden kalıtımla alıyorsa) `disabled="disabled"` özniteliğini artık işlemez. | Uygulamanızı ASP.NET 2,0 veya ASP.NET 3,5 ' den yükseltmek için Visual Studio kullanıyorsanız, araç otomatik olarak eski işlemeyi koruyan Web. config dosyasına bir ayar ekler. Ancak, IIS 'deki uygulama havuzunu .NET Framework 4 ' ü hedefleyecek şekilde değiştirerek bir uygulamayı yükseltirseniz, ASP.NET varsayılan olarak yeni işleme modunu kullanır. Yeni işleme modunu devre dışı bırakmak için, Web. config dosyasına aşağıdaki ayarı ekleyin:<br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| **Varsayılan belgelerde olay işleyicileri** | ASP.NET 4, varsayılan bir belgeye eşlenmiş bir uzantısız URL 'ye istek yapıldığında HTML `form` öğesinin `action` öznitelik değerini boş bir dize olarak işler. Önceki ASP.NET sürümlerinde, `http://contoso.com` bir istek default. aspx isteğine neden olur. Bu belgede, açma `form` etiketi aşağıdaki örnekte olduğu gibi işlenir:<br><br>`<form action="Default.aspx" />`<br><br>ASP.NET 4 ' te, `http://contoso.com` bir istek default. aspx isteğine da neden olur, ancak ASP.NET artık aşağıdaki örnekte olduğu gibi HTML açma `form` etiketini işler:<br><br>`<form action="" />`<br><br>`action` özniteliği boş bir dize olduğunda, IIS `DefaultDocumentModule` nesnesi default. aspx için bir alt istek oluşturur. Çoğu koşul altında, bu alt istek uygulama koduna saydamdır ve varsayılan. aspx sayfası normal şekilde çalışır. Ancak, yönetilen kod ile IIS 7 veya IIS 7,5 tümleşik modu arasında olası bir etkileşim, yönetilen. aspx sayfalarının alt istek sırasında düzgün çalışmayı durdurmasına neden olabilir. Aşağıdaki koşullar gerçekleşirse, default. aspx belgesine yönelik alt istek bir hata veya beklenmeyen davranışlara neden olur:<br><br>* Bir. aspx sayfası, `form` öğenin `action` özniteliği "" olarak ayarlanmış tarayıcıya gönderilir.<br>* Form ASP.NET 'e geri gönderilir.<br>* Yönetilen bir HTTP modülü varlık gövdesinin `Request.Form` veya `Request.Params`gibi bazı bölümlerini okur. Bu, POST isteğinin varlık gövdesinin yönetilen bellekle okunmasına neden olur. Sonuç olarak, varlık gövdesi artık IIS 7 veya IIS 7,5 tümleşik modunda çalışan herhangi bir yerel kod modülü için kullanılamaz.<br>* IIS `DefaultDocumentModule` nesnesi sonunda çalışır ve varsayılan. aspx belgesine bir alt istek oluşturur. Ancak, varlık gövdesi bir yönetilen kod parçası tarafından zaten okunduğu için, alt isteğe gönderilmek üzere kullanılabilecek bir varlık gövdesi yok.<br>* HTTP işlem hattı alt istek için çalıştığında,. aspx dosyaları için işleyici işleyici yürütme aşamasında çalışır.<br><br>Varlık gövdesi olmadığından, hiçbir form değişkeni yoktur ve Görünüm durumu yoktur. Bu nedenle, hangi olayın (varsa) ne olduğunu belirlemek için. aspx sayfa işleyicisi için kullanılabilir bilgi yoktur. Sonuç olarak, etkilenen. aspx sayfası için geri gönderme olayı işleyicilerinin hiçbiri çalışmaz. | Bu değişikliğin sonucu olarak ortaya çıkabilecek sorunlara geçici çözüm yolları hakkında daha fazla bilgi için, ASP.NET Web 'de [ASP.NET 4 ' ün](/aspnet/whitepapers/aspnet4/breaking-changes) belgedeki "olay işleyicileri IIS 7 veya IIS 7,5 tümleşik modunda bir varsayılan belgede oluşmayabilir" konusuna bakın bölgesi. |
| **Karma algoritması** | ASP.NET, form kimlik doğrulaması tanımlama bilgileri ve Görünüm durumu gibi verilerin güvenliğini sağlamaya yardımcı olmak için hem şifreleme hem de karma algoritmaları kullanır Varsayılan olarak, ASP.NET 4 tanımlama bilgileri ve görünüm durumundaki karma işlemler için <xref:System.Security.Cryptography.HMACSHA256> algoritmasını kullanır. Önceki ASP.NET sürümleri eski <xref:System.Security.Cryptography.HMACSHA1> algoritmasını kullandı. | Form kimlik doğrulaması tanımlama bilgileri gibi verilerin .NET Framework sürümler arasında çalışması gereken ASP.NET 2,0 ve ASP.NET 4 karışımını kullanan uygulamalar çalıştırırsanız, bir ASP.NET 4 Web uygulamasını aşağıdaki ayarı kullanarak eski <xref:System.Security.Cryptography.HMACSHA1> algoritmasını kullanacak şekilde yapılandırın. Web. config dosyası:<br><br>`<machineKey validation="SHA1" />` |
| **Internet Explorer 'da barındırma denetimleri** | Web üzerinde denetimleri barındırmak için daha fazla çözüm olduğundan, Internet Explorer 'da artık Windows Forms denetimleri barındırdırabilirsiniz. Bu nedenle, IEHost. dll ve IEExec. exe derlemeleri .NET Framework kaldırılmıştır. | Web uygulamalarında özel denetim geliştirmesi için aşağıdaki teknolojileri kullanabilirsiniz:<br><br>* Bir Silverlight uygulaması oluşturup tarayıcı dışında çalışacak şekilde yapılandırabilirsiniz. Daha fazla bilgi için bkz. [tarayıcı dışı destek](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).<br>* WPF özelliğinden faydalanmak için bir XAML tarayıcı uygulaması (XBAP) oluşturabilirsiniz (istemci makinelerde .NET Framework gerekir). Daha fazla bilgi için bkz. [WPF XAML tarayıcı uygulamalarına genel bakış](../wpf/app-development/wpf-xaml-browser-applications-overview.md). |
| **HtmlEncode ve UrlEncode yöntemleri** | <xref:System.Web.HttpUtility> ve <xref:System.Web.HttpServerUtility> sınıflarının `HtmlEncode` ve `UrlEncode` yöntemleri, tek tırnak işareti karakteri (') şu şekilde kodlamak üzere güncelleştirilmiştir:<br><br>* `HtmlEncode` yöntemi tek tırnak işaretinin örneklerini `&#39;` olarak kodlar<br>* `UrlEncode` yöntemi tek tırnak işaretinin örneklerini `%27` olarak kodlar | `HtmlEncode` ve `UrlEncode` yöntemlerini kullandığınız konumlar için kodunuzu inceleyin ve Kodlamadaki değişikliğin uygulamanızı etkileyebilecek bir değişikliğe neden olmadığından emin olun. |
| **ASP.NET 2,0 uygulamalarında HttpException hataları** | ASP.NET 4, IIS 6 ' da etkinleştirildikten sonra IIS 6 ' da (Windows Server 2003 veya Windows Server 2003 R2 'de) çalışan ASP.NET 2,0 uygulamaları şunlar gibi hatalar oluşturabilir: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.` | * Web sitesini çalıştırmak için ASP.NET 4 gerekli değilse, siteyi ASP.NET 2,0 kullanacak şekilde yeniden eşleyin.<br><br>veya<br><br>* Web sitesini çalıştırmak için ASP.NET 4 gerekliyse, herhangi bir alt ASP.NET 2,0 sanal dizinini ASP.NET 2,0 ile eşlenmiş farklı bir Web sitesine taşıyın.<br><br>veya<br><br>* Uzantısız URL 'Leri devre dışı bırakın. Daha fazla bilgi için, ASP.NET Web sitesindeki "ASP.NET 2,0 uygulamaları belgedeki eurl. [AXD ' ye](/aspnet/whitepapers/aspnet4/breaking-changes) başvuran HttpException hataları oluşturabilir. |
| **Üyelik türleri** | ASP.NET üyeliğinde kullanılan bazı türler (örneğin, <xref:System.Web.Security.MembershipProvider>) System. Web. dll ' den System. Web. ApplicationServices. dll derlemesine taşınmıştır. Türler, istemcideki türler ve genişletilmiş .NET Framework SKU 'Lar arasında mimari katmanlama bağımlılıklarını çözümlemek için taşınmıştır. | Önceki ASP.NET sürümlerinden yükseltilen ve taşınmış üyelik türlerini kullanan sınıf kitaplıkları bir ASP.NET 4 projesinde kullanıldığında derlenemeyebilir. Bu durumda, Class Library projesinde System. Web. ApplicationServices. dll dosyasına bir başvuru ekleyin. |
| **Menü Denetim değişiklikleri** | <xref:System.Web.UI.WebControls.Menu> Denetim değişiklikleri aşağıdaki davranışa neden olacak:<br><br>* <xref:System.Web.UI.WebControls.MenuRenderingMode> `List`olarak ayarlanırsa veya <xref:System.Web.UI.WebControls.MenuRenderingMode> `Default` olarak ayarlandıysa ve <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> `4.0` veya üzeri olarak ayarlanırsa, <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> özelliğinin etkisi olmaz.<br>* <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> ve <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özelliklerinde ayarlanan yol bir ters eğik çizgi (\\) içeriyorsa, görüntüler işlenmez. (ASP.NET 'in önceki sürümlerinde, yol ters eğik çizgi içerebilir.) | * Bireysel menü öğeleri için <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> özelliğini ayarlamak yerine, üst <xref:System.Web.UI.WebControls.Menu> denetiminin <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> veya <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> ayarlayın.<br><br>veya<br><br><xref:System.Web.UI.WebControls.MenuRenderingMode> `Table`olarak ayarlayın veya <xref:System.Web.UI.WebControls.MenuRenderingMode> `Default` ve <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> olarak ayarlayın. Bu ayarlar, <xref:System.Web.UI.WebControls.Menu> denetiminin önceki ASP.NET sürümlerinde kullanılan HTML tablo tabanlı düzeni kullanmasına neden olur.<br>* <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> veya <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özelliğindeki yol ters eğik çizgi (\\) içeriyorsa, eğik çizgi karakteri (/) koyun. |
| **Web. config dosyasında mobil derleme** | Önceki ASP.NET sürümlerinde, System. Web. Mobile. dll derlemesine bir başvuru, `system.web`/`compilation`altındaki `assemblies` bölümündeki kök Web. config dosyasına eklenmiştir. Performansı artırmak için bu derlemeye başvuru kaldırılmıştır.<br><br>Note: System. Web. Mobile. dll derlemesi ve ASP.NET Mobile denetimleri ASP.NET 4 ' te bulunur, ancak bunlar kullanım dışıdır. | Bu derlemedeki türleri kullanmak istiyorsanız, kök Web. config dosyasında veya bir uygulama Web. config dosyasında derlemeye bir başvuru ekleyin. |
| **Çıktıyı önbelleğe alma** | ASP.NET 1,0 ' de, bir hata, yanıt olarak `Location="ServerAndClient"` belirtilen önbelleğe alınmış sayfalara `Vary:*` bir HTTP üst bilgisinin yayılması için önbellek ayarı olarak neden oldu. Bu, istemci tarayıcılarına sayfayı hiçbir şekilde yerel olarak önbelleğe almamasını söyleme etkisi içeriyordu. ASP.NET 1,1 ' de <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> yöntemi eklenmiştir ve bu, `Vary:*` üst bilgisini bastırmak için çağrılabilir. Ancak, hata raporları geliştiricilerin mevcut `SetOmitVaryStar` davranışının farkında olduğunu önerir.<br><br>ASP.NET 4 ' te, `Vary:*` HTTP üstbilgisi artık aşağıdaki yönergeyi belirten yanıtlardan yayılmayacaktır:<br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br>Sonuç olarak, `Vary:*` üst bilgisini bastırmak için <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> yöntemi artık gerekli değildir. `Location` özniteliği için "ServerAndClient" değerini belirten uygulamalarda, sayfalar, <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>çağırmasına gerek kalmadan tarayıcıda önbelleğe alınır. | Uygulamadaki sayfaların `Vary:*`yaymalıdır, aşağıdaki örnekte gösterildiği gibi <xref:System.Web.HttpResponse.AppendHeader%2A> metodunu çağırın:<br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br>Alternatif olarak, çıktı önbelleği `Location` özniteliğinin değerini "sunucu" olarak değiştirebilirsiniz. |
| **Sayfa ayrıştırma** | ASP.NET Web Pages (. aspx dosyaları) ve Kullanıcı denetimleri (. ascx dosyaları) için sayfa ayrıştırıcısı, ASP.NET 4 ' te daha önceki ASP.NET sürümlerinden daha katı ve önceki sürümlerden daha fazla biçimlendirme bayraklarıyla. | Bir sayfa çalıştırıldığında üretilen hata iletilerini inceleyin ve geçersiz biçimlendirmeden kaynaklanan hataları düzeltir. |
| **Passport türleri** | ASP.NET 2,0 ' de yerleşik olarak bulunan Passport desteği artık kullanılmıyor ve Passport 'daki değişiklikler nedeniyle desteklenmiyor (Şimdi canlı KIMLIK SDK). Sonuç olarak, <xref:System.Web.Security> Passport ile ilgili türler artık `ObsoleteAttribute` özniteliğiyle işaretlenir. | [SDK 'yı](https://go.microsoft.com/fwlink/?LinkId=106346)kullanmak için <xref:System.Web.Security> ad alanındaki Passport türlerini kullanan herhangi bir kodu değiştirin (örneğin, <xref:System.Web.Security.PassportIdentity>). |
| **FilePath özelliğindeki PathInfo bilgileri** | ASP.NET 4 artık, <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>ve <xref:System.Web.HttpRequest.CurrentExecutionFilePath>gibi özelliklerden dönüş değerlerinde `PathInfo` değeri içermez. Bunun yerine, `PathInfo` bilgileri <xref:System.Web.HttpRequest.PathInfo>kullanılabilir. Örneğin, aşağıdaki URL parçasını düşünün:<br><br>`/testapp/Action.mvc/SomeAction`<br><br>Önceki ASP.NET sürümlerinde <xref:System.Web.HttpRequest> özellikler aşağıdaki değerlere sahiptir:<br><br>* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`<br>* <xref:System.Web.HttpRequest.PathInfo>: (boş)<br><br>ASP.NET 4 ' te, bunun yerine <xref:System.Web.HttpRequest> özellikler aşağıdaki değerlere sahiptir:<br><br>* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`<br>* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction` | Yol bilgilerini döndürmek için <xref:System.Web.HttpRequest> sınıfının özelliklerine bağlı olduğunuz konumlar için kodunuzu inceleyin; kodu, yol bilgilerinin döndürüldüğü değişiklikleri yansıtacak şekilde değiştirin. |
| **İstek doğrulaması** | İstek doğrulamasını geliştirmek için, ASP.NET istek doğrulaması istek yaşam döngüsü içinde daha önce çağrılır. Sonuç olarak, Web hizmeti çağrıları ve özel işleyiciler gibi. aspx dosyaları için olmayan istekler için istek doğrulama çalıştırmaları gerekir. İstek işleme işlem hattında özel HTTP modülleri çalışırken istek doğrulaması da etkin olur.<br><br>Bu değişikliğin sonucunda,. aspx dosyalarından farklı kaynak istekleri istek doğrulama hataları oluşturabilir. İstek ardışık düzeninde çalışan özel kod (örneğin, özel HTTP modülleri) istek doğrulama hataları da oluşturabilir. | Gerekirse, Web yapılandırma dosyasında aşağıdaki ayarı kullanarak yalnızca. aspx sayfalarının istek doğrulamasını tetiklemesini sağlamak için eski davranışa dönüştürebilirsiniz:<br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br>Uyarı: eski davranışa döndürürseniz, var olan işleyicilerde, modüllerde ve diğer özel koddaki tüm kodun, XSS saldırı vektörleri olabilecek güvenli olmayan HTTP girişlerini denetlediğinizden emin olun. |
| **Yönlendirme** | Visual Studio 2010 ' de bir dosya sistemi Web sitesi oluşturursanız ve Web sitesi, klasör adında nokta (.) içeren bir klasörde yer alıyorsa, URL yönlendirmesi güvenilir bir şekilde çalışmaz. Bazı sanal yollardan bir HTTP 404 hatası döndürülür. Bu durum Visual Studio 2010, kök sanal dizin için yanlış bir yol kullanarak Visual Studio geliştirme sunucusunu başlattığında oluşur. | * Dosya tabanlı Web sitesinin **Özellikler** sayfasında, **sanal yol** özniteliğini "/" olarak değiştirin.<br><br>veya<br><br>* Bir Web sitesi projesi yerine bir Web uygulaması projesi oluşturun. Web uygulaması projeleri bu soruna sahip değildir ve proje klasörü adında bir nokta olsa bile URL yönlendirme işe yarar.<br><br>veya<br><br>* IIS 'de barındırılan HTTP tabanlı bir Web sitesi oluşturun. IIS tarafından barındırılan Web sitelerinde, sanal yolda ve proje dosyası klasöründe noktalar bulunabilir. |
| **SharePoint siteleri** | `WSS_Minimal`adlı özel kısmi güven düzeyi içeren bir SharePoint Web sitesinin alt öğesi olarak dağıtılan bir ASP.NET 4 Web sitesini çalıştırmayı denerseniz, aşağıdaki hatayı görürsünüz:<br><br>`Could not find permission set named 'ASP.Net'.` | Şu anda, SharePoint 'in hiçbir sürümü ASP.NET ile uyumlu değildir. Sonuç olarak, bir ASP.NET 4 Web sitesini bir SharePoint Web sitesinin alt öğesi olarak çalıştırmayı denememelisiniz. |
| **XHTML 1,1 standartları** | Yeni Web siteleri için XHTML 1,1 uyumluluğunu etkinleştirmek üzere, .NET Framework 4 ' teki ASP.NET denetimleri XHTML 1,1 uyumlu HTML oluşturacaktır. Bu işleme, `<system.Web>` öğesinin içindeki Web. config dosyasında aşağıdaki seçeneği kullanılarak etkinleştirilir:<br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br>Bu seçenek varsayılan olarak 4,0 olarak ayarlanır. Visual Studio 2008 ' den yükseltilen web projelerinin uyumluluk için etkinleştirilmiş 3,5 ayarı vardır. | Yok. |

## <a name="core"></a>Çekirdek

### <a name="general-features"></a>Genel Özellikler

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Rağmen** | Windows CardSpace artık .NET Framework dahil değildir; ayrı olarak sağlanır. | Windows CardSpace 'i [Microsoft Indirme merkezi](https://go.microsoft.com/fwlink/?LinkId=199868)' nden indirin. |
| **Yapılandırma dosyaları** | .NET Framework uygulama yapılandırma dosyalarına nasıl eriştiği konusunda düzeltmeler yapılmıştır. | Uygulama yapılandırma dosyanız *uygulama-adı. config*olarak adlandırılmışsa, *Application-Name. exe. config*olarak yeniden adlandırın. Örneğin, MyApp. *config* ' i *MyApp. exe. config*olarak yeniden adlandırın. |
| **C#kod derleyicisi** | <xref:Microsoft.CSharp> ad alanında bulunan `Compiler`, `CompilerError`ve `ErrorLevel` sınıfları artık kullanılamaz ve bütünleştirilmiş kodu (cscompmgd. dll) artık .NET Framework dahil değildir. | <xref:System.CodeDom.Compiler.CodeDomProvider> sınıfını ve <xref:System.CodeDom.Compiler> ad alanındaki diğer sınıfları kullanın. Daha fazla bilgi için bkz. [CodeDOM kullanma](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29). |
| **Barındırma** (yönetilmeyen API) | Barındırma yeteneklerini geliştirmek için, barındırma etkinleştirme API 'Lerinden bazıları kullanım dışı bırakılmıştır. İşlem içi yan yana yürütme özellikleri, bir uygulamanın aynı işlemde .NET Framework birden çok sürümünü yüklemesini ve başlatmasını sağlar. Örneğin, aynı işlemde .NET Framework 4 ' ü temel alan .NET Framework 2,0 SP1 ve eklentileri temel alan eklentileri (veya bileşenleri) yükleyen uygulamaları çalıştırabilirsiniz. Eski bileşenler eski .NET Framework sürümünü kullanmaya devam eder ve yeni bileşenler yeni .NET Framework sürümünü kullanır. | [Işlem Içi yan yana yürütme](../deployment/in-process-side-by-side-execution.md)bölümünde açıklanan konfigürasyonları kullanın. |
| **Yeni güvenlik modeli** | Kod erişim güvenliği (CAS) ilkesi kapatılmış ve [.NET Framework 4 ' teki güvenlik değişiklikleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29)bölümünde açıklandığı gibi basitleştirilmiş bir modelle değiştirilmiştir. | Uygulamalarınızda CA 'lara bağlı olduğunuzda değişiklikler yapmanız gerekebilir. Daha fazla bilgi için bkz. [kod erişimi güvenlik Ilkesi uyumluluğu ve geçişi](../misc/code-access-security-policy-compatibility-and-migration.md). |

### <a name="date-and-time"></a>Tarih ve Saat

Ad alanı: <xref:System>; bütünleştirilmiş kod: mscorlib (mscorlib. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Gün ışığından yararlanma** | Sistem saatiyle tutarlı olması için zaman özellikleri (<xref:System.TimeZoneInfo.Local> ve <xref:System.DateTime.Now>gibi), artık yaz saati işlemleri için diğer .NET Framework verileri yerine işletim sistemi kurallarını kullanır. | Yok. |
| **Biçimlendirme dizeleri** | Kültüre duyarlı biçimlendirmeyi desteklemek için <xref:System.TimeSpan> yapısı, yeni `ParseExact` ve `TryParseExact` yöntemlerine ek olarak `ToString`, `Parse`ve `TryParse` yöntemlerinin yeni yüklerini içerir. | Yok. |

### <a name="globalization"></a>Genelleştirme

Yeni nötr ve belirli kültürlerin listesi için bkz. [Genelleştirme ve yerelleştirme yenilikleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).

Ad alanı: <xref:System.Globalization>; bütünleştirilmiş kod: mscorlib (mscorlib. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Kültür adları** | Aşağıdaki ad değişiklikleri Almanca, Divehi ve Afrika kültürlerini etkiler:<br><br>* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Almanca (Switizerland) (de-CH) kültürünün para birimi adı "sFr" iken değiştirildi. "fr.".<br>* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Divehi (Maldivler) (DV-MV) kültürünün uzun tarih deseninin "gg/AAAA/yyyy" olarak "gg/aa/yyyy" olarak değiştirildi.<br>* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: P.M. Afrikandili (Güney Afrika) (AF-ZA) kültürünün göstergesi "NM" iken "PM" olarak değiştirildi. | Kültür adı değişikliklerini Note. |
| **LCıD parametresi** | Otomasyon sunucu ayarlarında beklenen davranışla tutarlı olması için CLR artık `LCID` parametresi için geçerli kültürü yönetilmeyen COM tabanlı uygulamalara geçirmemektedir. Bunun yerine, kültür için 1033 (en-US) geçirir. | Belirli bir kültür gerektiren yerel uygulamalar haricinde hiçbir değişiklik gerekmiyor. |
| **Kullanılmayan kültür türleri** | <xref:System.Globalization.CultureTypes> ve <xref:System.Globalization.CultureTypes> kültür türleri artık kullanılmıyor.<br><br>Geriye dönük uyumluluk için <xref:System.Globalization.CultureTypes> artık önceki .NET Framework dahil edilen nötr ve özel kültürler döndürür ve <xref:System.Globalization.CultureTypes> artık boş bir liste döndürüyor. | <xref:System.Globalization.CultureTypes> numaralandırmanın diğer değerlerini kullanın. |
| **Kültür alınıyor** | Windows 7 ' den başlayarak .NET Framework 4, verilerin kendisini depolamak yerine işletim sisteminden kültür bilgilerini alır. Ayrıca .NET Framework, verileri sıralama ve büyük/küçük harfe çevirme için Windows ile eşitlenir. | Yok. |
| **Unicode 5,1 standartları** | .NET Framework, yaklaşık 1400 karakterden oluşan tüm UNICODE 5,1 karakterlerini desteklemektedir. Yeni semboller, oklar, aksanlar, noktalama, matematik sembolleri, ÇJK konturları ve kavram, ek Malayalam Dili ve Telugu dili sayısal karakter ve çeşitli Myanmar, Latin, Arapça, Yunanca, Moğolca ve Kiril arasında ek karakterler bulunur. karakterle. Aşağıdaki yeni betikler Unicode 5,1: sunda, Lepcha, ol Chiki, Vai, Saurashtra, Kayah li, Rejang, Gurmukhi, odia, Tamil dili, Telugu dili, Malayalam Dili ve çam dili ile desteklenir. | Yok. |

### <a name="exceptions"></a>Özel Durumlar

Ad alanları: <xref:System>, <xref:System.Runtime.ExceptionServices>; bütünleştirilmiş kod: mscorlib (mscorlib. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bozuk işlem durumu için özel durumlar** | CLR artık, Yönetilen koddaki özel durum işleyicilerine bozuk işlem durumu için özel durumlar teslim eder. | Bu özel durumlar, bir işlemin durumunun bozuk olduğunu gösterir. Uygulamanızı bu durumda çalıştırmanızı önermiyoruz.<br><br>Daha fazla bilgi için, bkz. <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> ve giriş Içindeki CLR Içindeki [bozulmuş durum özel durumlarını işleme](https://go.microsoft.com/fwlink/?LinkID=179681) . |
| **Yürütme motoru özel durumları** | <xref:System.ExecutionEngineException> artık kullanımdan kalkmıştır, çünkü bir catch özel durumu kararsız bir işlemin çalıştırılmaya devam etmesine izin verir. Bu değişiklik, çalışma zamanındaki öngörülebilirlik ve güvenilirliği artırır. | Koşula işaret etmek için bir <xref:System.InvalidOperationException> kullanın. |

### <a name="reflection"></a>Yansıma

Ad alanı: <xref:System.Reflection>; bütünleştirilmiş kod: mscorlib (mscorlib. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bütünleştirilmiş kod karma algoritmaları** | <xref:System.Reflection.AssemblyName.HashAlgorithm> özelliği, derleme yüklü olmadığında başvurulan derlemenin karma algoritmasını bilmez olduğundan, artık <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>döndürür. (Bu, <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> metodu tarafından döndürülen gibi başvurulan bir derlemede özelliğini kullanmayı ifade eder.) | Yok. |
| **Derlemeyi yükleme** | Derlemelerin gereksiz şekilde yüklenmesini engellemek ve sanal adres alanını kaydetmek için, CLR artık yalnızca Win32 `MapViewOfFile` işlevini kullanarak derlemeleri yükler. Artık `LoadLibrary` işlevi de çağırmayacaktır.<br><br>Bu değişiklik tanılama uygulamalarını aşağıdaki yollarla etkiler:<br><br>* Bir <xref:System.Diagnostics.ProcessModuleCollection>, bir `Process.GetCurrentProcess().Modules`çağrısından alınan bir sınıf kitaplığından (. dll dosyası) modül içermez.<br>* `EnumProcessModules` işlevi kullanan Win32 uygulamaları, listelenen tüm yönetilen modülleri görmez. | Yok. |
| **Bildirim türü** | <xref:System.Type.DeclaringType> özelliği, tür bir bildirim türü içermiyorsa doğru şekilde null değer döndürüyor. | Yok. |
| **Temsilciler** | Temsilci, temsilci oluşturucusuna null değer geçirildiğinde bir <xref:System.NullReferenceException> yerine bir <xref:System.ArgumentNullException> oluşturur. | Tüm özel durum işlemenin <xref:System.ArgumentNullException>yakalar emin olun. |
| **Genel bütünleştirilmiş kod önbelleği konum değişikliği** | .NET Framework 4 derlemeleri için, genel derleme önbelleği Windows dizininden taşındı (% WINDIR%) Microsoft.Net alt dizinine ( *% WINDIR%\\Microsoft.net*). Önceki sürümlerden alınan derlemeler eski dizinde kalır.<br><br>Yönetilmeyen [asm_cache_flags](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) numaralandırması yeni `ASM_CACHE_ROOT_EX` bayrağını içerir. Bu bayrak, [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) işlevi tarafından edinilen .NET Framework 4 derlemelerinin önbellek konumunu alır. | Hiçbiri, uygulamaların derlemeler için açık yollar kullanmadığı varsayılarak, bu önerilen bir uygulama değildir. |
| **Genel derleme önbelleği aracı** | [Gacutil. exe (genel bütünleştirilmiş kod önbelleği aracı)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) artık kabuk eklentisi görüntüleyicisini desteklememektedir. | Yok. |

### <a name="interoperability"></a>Birlikte Çalışabilirlik

Ad alanı: <xref:System.Runtime.InteropServices>; bütünleştirilmiş kod: mscorlib (mscorlib. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Arabellek uzunluğu** (yönetilmeyen API) | Belleği kaydetmek için, [ICorProfilerInfo2:: GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) yöntemi için `pBufferLengthOffset` parametresi işlevselliği `pStringLengthOffset` parametresiyle eşleşecek şekilde değiştirilmiştir. Her iki parametre de artık dizenin uzunluğunun konum konumunu işaret. Arabellek uzunluğu dize sınıfının gösteriminden kaldırıldı. | Arabellek uzunluğunun bağımlılığını kaldırın. |
| **JıT hata ayıklama** | Tam zamanında (JıT) hata ayıklama için kayıt işlemini basitleştirmek üzere .NET Framework hata ayıklayıcı artık yalnızca yerel kod için JıT hata ayıklama davranışını denetleyen AeDebug kayıt defteri anahtarını kullanır. Bu değişiklik aşağıdaki şekilde sonuçlanır:<br><br>* Yönetilen ve yerel kod için, artık iki farklı hata ayıklayıcıları kaydedemiyor.<br>* Etkileşimli olmayan bir işlem için artık hata ayıklayıcıyı otomatik olarak başlatamazsınız, ancak kullanıcıdan etkileşimli bir işlem için istemde bulunabilir.<br>* Hata ayıklayıcı başlayamazsa veya başlaması gereken kayıtlı bir hata ayıklayıcı olmadığında artık bilgilendirilirsiniz.<br>* Uygulamanın etkileşimini temel alan otomatik başlatma ilkeleri artık desteklenmemektedir. | Hata ayıklama işlemlerini gereken şekilde ayarlayın. |
| **Platform çağırma** | Yönetilmeyen kod ile birlikte çalışabilirlik performansını artırmak için, bir platform çağırmada hatalı çağırma kuralları artık uygulamanın başarısız olmasına neden olur. Önceki sürümlerde, sıralama katmanı bu hataları yığının üzerinde çözmüştür. | Microsoft Visual Studio ' de uygulamalarınızın hatalarını ayıklama, bu hatalara göre sizi düzeltebilmeniz için sizi uyarır.<br><br>Güncelleştirilemeyen ikili dosyalarınız varsa, daha önceki sürümlerde olduğu gibi çağırma hatalarının çağrılmasını sağlamak için uygulamanızın yapılandırma dosyasına [\<NetFx40_PInvokeStackResilience >](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) öğesini dahil edebilirsiniz. Bununla birlikte, bu durum uygulamanızın performansını etkileyebilir. |
| **Kaldırılan arabirimler** (yönetilmeyen API) | Geliştirici karışıklığına engel olmak için aşağıdaki arabirimler kaldırılmıştır, çünkü herhangi bir faydalı çalışma zamanı senaryosu sağlamamış ve CLR hiçbir uygulama sağlamadı veya kabul etmedi:<br><br>* **INativeImageINativeImageDependency**<br>* **INativeImageInstallInfo**<br>* **INativeImageEvaluate**<br>* **INativeImageConverter**<br>**ıcormodule** * <br>* **IMetaDataConverter** | Yok. |

## <a name="data"></a>Veri

Bu bölümde, veri kümeleri ve SQL istemcileri, Entity Framework, LINQ to SQL ve WCF veri sunucuları (eski adıyla ADO.NET veri Hizmetleri) kullanımına ilişkin geçiş sorunları açıklanmaktadır.

### <a name="dataset-and-sql-client"></a>Veri kümesi ve SQL Istemcisi

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient>; Derlemeler: System. Data (System. Data. dll içinde), System. Data. Entity (System. Data. Entity. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **POCO senaryoları** | <xref:System.Data.Objects.DataClasses.IRelatedEnd> arabirimi, düz eski CLR nesne (POCO) senaryolarında kullanılabilirliğini geliştirmek için yeni yöntemler içerir. Bu yeni yöntemler, bir <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> varlığı yerine bir parametre olarak <xref:System.Object> alır. |
| **Satırları düzenle** | <xref:System.Data.DataView> sınıfı tarafından uygulanan <xref:System.Collections.IList.IndexOf%2A> yöntemi, artık,-1 döndürmek yerine düzenlenmekte olan bir satırın değerini doğru bir şekilde döndürür. |
| **Olaylar** | <xref:System.Data.DataRowView.PropertyChanged> olayı, bir satır değiştirilmiş durumda olduğunda ve <xref:System.Data.DataRow.RejectChanges%2A> yöntemi çağrıldığında oluşturulur. Bu değişiklik, bir <xref:System.Data.DataSet> nesnesinin içeriğini açığa çıkaran UI denetimleri oluşturmayı kolaylaştırır. |
| **Özel Durumlar** | <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> yöntemi artık bir bağlantı <xref:System.NullReferenceException>yerine ayarlanmamışsa veya açılmadığından bir <xref:System.InvalidOperationException> oluşturur. |
| **Görünümleri eşleme** | Sorgu görünümü eşleme hataları artık çalışma zamanında <xref:System.NullReferenceException> oluşturmak yerine tasarım zamanında yakalanır.<br><br>Eşleme doğrulaması artık kavramsal şema (CSDL) içindeki iki ilişkilendirme kümesinin aynı sütunla eşlendiği hatayı yakalar. |
| **İşlemler** | Bir uygulama, bir işlem tamamlandıktan sonra bir bağlantı üzerinde bir ifadeyi yürütmeye çalışırsa (iptal edilen veya geri alındı dahil), şimdi bir <xref:System.InvalidOperationException> oluşturulur. Önceki sürümler özel durum oluşturmadı ve bir işlem durdurulmuş olsa bile ek komutlar yürütmenizi sağlar. |

### <a name="entity-framework"></a>Varlık Çerçevesi

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses>; bütünleştirilmiş kod: System. Data. Entity (System. Data. Entity. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık nesneleri** | Artık <xref:System.Data.Objects.ObjectContext.Detach%2A> yöntemi ve <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> yöntemi çağrıldığında varlık nesnesinin durumu arasında eşlik vardır. Bu iyileştirilmiş tutarlılık, beklenmeyen özel durumların oluşturulmasını engeller. |
| **Entity SQL** | Kurallar Entity SQL ' de tanımlayıcı çözümleri için geliştirilmiştir.<br><br>Entity SQL ayrıştırıcısı çok parçalı tanımlayıcıları çözümlemek için iyileştirildi. |
| **Yapısal ek açıklamaları** | Entity Framework artık yapısal ek açıklamaları tanır. |
| **Sorgular** | Sorgularda aşağıdaki iyileştirmeler yapılmıştır:<br><br>* Boş bir koleksiyon üzerinde null anahtar kullanan bir `GroupBy` sorgusu, sorguda ek seçim olup olmamasına bakılmaksızın herhangi bir satır döndürmez.<br>* LINQ ve Entity-SQL sorguları içinde oluşturulan SQL, artık dize parametrelerini varsayılan olarak Unicode olmayan değerler olarak değerlendirir. |

### <a name="linq-to-sql"></a>LINQ - SQL

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanı: <xref:System.Data.Linq>; bütünleştirilmiş kod: System. Data. LINQ (System. Data. LINQ. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Olaylar** | <xref:System.Data.Linq.EntitySet%601> bir koleksiyon artık, koleksiyon yüklenirken olayı derlemeye ek olarak <xref:System.Data.Linq.EntitySet%601> kaldırıldığında ekleme ve kaldırma işlemleri için <xref:System.Data.Linq.EntitySet%601.ListChanged> olayını oluşturur. |
| **Sorgular** | `Skip(0)` artık LINQ to SQL sorgularda yok sayılır. Sonuç olarak, bu yönteme sahip olan sorgular farklı şekilde davranmayabilir. Örneğin, bazı durumlarda `Skip(0)`bir `OrderBy` yan tümcesi gerekir ve `OrderBy` yan tümcesi dahil edilmediğinden sorgu artık <xref:System.NotSupportedException> özel durumu oluşturur. |

### <a name="wcf-data-services"></a>WCF Veri Hizmetleri

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>; Derlemeler: System. Data. Services (System. Data. Services. dll dosyasında), System. Data. Services. Client (System. Data. Services. Client. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Toplu Ikili Içerik** | WCF Veri Hizmetleri artık isteklerde ve yanıtlarda toplu ikili içeriği desteklemektedir. |
| **Değişiklik yakalayıcılar** | Değişiklik dinleyicileri artık silme isteği için yürütülür.<br><br>Değişiklik yakalayıcısı, varlık kümesindeki bir varlığı değiştirmek için sunucu tarafından her istek alındığında çalışan bir yöntemdir. Gelen istek yürütülmeden önce çalışır. Değişiklik yakalayıcısı, değiştirilmekte olan varlığa ve üzerinde gerçekleştirilen işleme erişim sağlar. |
| **Özel Durumlar** | Aşağıdaki koşullar artık <xref:System.NullReferenceException>yerine daha faydalı özel durumlar oluşturur:<br><br>* Bir veri hizmetine yapılan çağrı zaman aşımına uğrarsa bir <xref:System.ServiceProcess.TimeoutException>.<br>* Bir veri hizmetine hatalı istek yapıldığında bir <xref:System.Data.Services.Client.DataServiceRequestException>.<br><br>Uygulamalarınızda, yeni özel durumları yakalamak için özel durum işlemeyi değiştirmelisiniz. |
| **Bilgisinde** | Üst bilgilerde aşağıdaki iyileştirmeler yapılmıştır:<br><br>* WCF Veri Hizmetleri artık belirtilmemiş bir değere sahip bir `eTag` üstbilgisini doğru bir şekilde reddeder.<br>* WCF Veri Hizmetleri şimdi bir hata döndürüyor ve istekte bir `if-*` üstbilgisi olduğunda bir bağlantıyı silme isteği için yürütmüyor.<br>* WCF Veri Hizmetleri artık istemciye, Accept üst bilgisinde belirtilen biçimde (Atom, JSON) bir hata döndürüyor. |
| **JSON okuyucusu** | JavaScript Nesne Gösterimi (JSON) okuyucusu artık, bir WCF veri hizmetine gönderilen JSON yüklerini işlediğinde, tek ters eğik çizgi ("\\") kaçış karakterini okurken bir hatayı doğru bir şekilde döndürür. |
| **'Ün** | <xref:System.Data.Services.Client.MergeOption> numaralandırmasında aşağıdaki iyileştirmeler yapılmıştır:<br><br>* <xref:System.Data.Services.Client.MergeOption> birleştirme seçeneği artık istemci üzerindeki varlığı bir veri hizmetinden sonraki yanıtın sonucu olarak değiştirmiyor.<br>* <xref:System.Data.Services.Client.MergeOption> seçeneği artık dinamik SQL ve saklı yordam tabanlı güncelleştirmeler arasında tutarlıdır. |
| **İstekleri** | <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> yöntemi artık veri Hizmetleri için bir istek işlenmeden önce çağırılır. Bu, isteğin <xref:System.Data.Services.Providers.ServiceOperation> Hizmetleri için düzgün çalışmasını sağlar. |
| **Larındaki** | WCF Veri Hizmetleri okuma ve yazma işlemleri için temel alınan akışı artık kapatmayacaktır. |
| **Þ** | WCF Veri Hizmetleri istemcisi tarafından URI kaçışı düzeltildi. |

## <a name="windows-communication-foundation-wcf"></a>Windows Communication Foundation (WCF)

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Yapılandırma dosyaları** | Yapılandırma dosyası hiyerarşisi aracılığıyla davranışların devralınmasını etkinleştirmek için, WCF artık yapılandırma dosyaları arasında birleştirmeyi desteklemektedir.<br><br>Yapılandırma devralma modeli, kullanıcıların bilgisayarda çalışan tüm hizmetlere uygulanacak davranışları tanımlamasına izin vermek üzere genişletilir.<br><br>Hiyerarşinin farklı düzeylerinde aynı ada sahip davranışlar varsa, davranış değişiklikleriyle karşılaşabilirsiniz. |
| **Hizmet barındırma** | Öğe tanımına `allowDefinition="MachineToApplication"` özniteliğini ekleyerek, artık hizmet düzeyinde `<serviceHostingEnvironment>` yapılandırma öğesini belirtemezsiniz.<br><br>Hizmet düzeyinde `<serviceHostingEnvironment>` öğesi belirtildiğinde teknik açıdan hatalı ve tutarsız davranışa neden olur. |

## <a name="windows-presentation-foundation-wpf"></a>Windows Presentation Foundation (WPF)

### <a name="applications"></a>Uygulamalar

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>; bütünleştirilmiş kod: PresentationFramework (PresentationFramework. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Özel durum işleme** | Daha önce algılanan hataları etkinleştirmek için WPF bir <xref:System.Reflection.TargetInvocationException> oluşturur ve <xref:System.Exception.InnerException> özelliğini özgün özel durumu yakalamak yerine <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>ve <xref:System.Security.SecurityException>gibi kritik özel durumlara ayarlar. | Yok. |
| **Bağlı kaynaklar** | Bağlama daha kolay hale getirmek için, projenin klasör yapısı dışında bir konumda bulunan kaynak dosyaları (örneğin, görüntüler), uygulama oluşturulduğunda kaynak KIMLIĞI olarak yalnızca dosya adı yerine kaynak dosyasının tam yolunu kullanır. Uygulama, çalışma zamanında dosyaları bulabilecektir. | Yok. |
| **Kısmi güven uygulamaları** | Güvenlik konuları için, kısmi güvende çalışan ve bir <xref:System.Windows.Controls.WebBrowser> denetimi veya HTML içeren bir <xref:System.Windows.Controls.Frame> denetimi içeren Windows tabanlı uygulamalar Denetim oluşturulduğunda bir <xref:System.Security.SecurityException> oluşturur.<br><br>Tarayıcı uygulamaları, bir özel durum oluşturur ve aşağıdaki koşulların tümü karşılanıyorsa bir ileti görüntüler:<br><br>* Uygulama Firefox 'ta çalışmaktadır.<br>* Uygulama, güvenilir olmayan sitelerden Internet bölgesinde kısmi güvende çalışıyor.<br>* Uygulama, HTML içeren bir <xref:System.Windows.Controls.WebBrowser> denetimi veya <xref:System.Windows.Controls.Frame> denetimi içerir.<br><br>Güvenilen sitelerden veya intranet bölgesinden çalıştırılan uygulamaların etkilenmemesini unutmayın. | Tarayıcı uygulamalarınızda, aşağıdakilerden birini yaparak bu değişikliği kolay hale getirebilirsiniz:<br><br>* Tarayıcı uygulamasını tam güvende çalıştırın.<br>* Müşterilerin uygulamanın sitesini güvenilir siteler bölgesine eklemesini sağlar.<br>* Müşterilerin uygulamayı Internet Explorer 'da çalıştırmasını sağlayabilirsiniz. |
| **Kaynak sözlükleri** | Tema düzeyi kaynak sözlüklerini geliştirmek ve bunların değiştirilmesini engellemek için, bir kaynak sözlüğünde tanımlanmış ve tema düzeyinde bir sözlükte birleştirilmiş Freezable kaynakları, her zaman dondurulmuş olarak işaretlenir ve sabittir. Bu, Freezable kaynakları için beklenen davranıştır. | Tema düzeyinde birleştirilmiş bir sözlükte tanımlanan bir kaynağı değiştiren uygulamalar, kaynağı klonlanmış ve kopyalanan kopyayı değiştirecek olmalıdır. Alternatif olarak, kaynağın her sorgulanışında <xref:System.Windows.ResourceDictionary> yeni bir kopya oluşturması için kaynak `x:Shared="false"` olarak işaretlenebilir. |
| **Windows 7** | WPF uygulamalarının Windows 7 ' de daha iyi çalışmasını sağlamak için, bir pencerenin davranışını düzeltmek üzere aşağıdaki iyileştirmeler yapılmıştır:<br><br>* Yerleştirme ve hareket durumları artık kullanıcı etkileşimlerine bağlı olarak beklendiği gibi çalışır.<br>* Görev çubuğu komutları pencereleri **basamakla, Windows 'un yığın olarak gösterilmesini**ve **Windows yan yana** artık doğru davranışa sahiptir ve uygun özellikleri güncelleştirir.<br>* Büyütülmüş veya küçültülmüş bir pencerenin `Top`, `Left`, `Width`ve `Height` özellikleri, izlemeye bağlı olarak diğer değerler yerine pencerenin doğru geri yükleme konumunu içerir. | Yok. |
| **Windows stili ve saydamlığı** | <xref:System.Windows.Window.WindowStyle> <xref:System.Windows.Window.AllowsTransparency> `true` <xref:System.Windows.WindowStyle> dışında bir değere ayarlamayı denerseniz ve <xref:System.Windows.WindowState> <xref:System.Windows.WindowState><xref:System.InvalidOperationException> oluşturulur. | <xref:System.Windows.Window.AllowsTransparency> `true`<xref:System.Windows.Window.WindowStyle> değiştirmeniz gerekiyorsa, Win32 `SetWindowLongPtr` işlevini çağırabilirsiniz. |
| **XPS Görüntüleyicisi** | WPF, Microsoft XML Kağıt Belirtimi Essentials paketi 'ni (XPSEP) içermez. XPSEP, Windows 7 ve Windows Vista 'da bulunur.<br><br>.NET Framework 3,5 SP1 yüklü olmayan Windows XP çalıştıran bir bilgisayarda, <xref:System.Windows.Controls.PrintDialog> dışında bir WPF API kullanarak yazdırma işlemi WINSPOOL 'ı kullanır. Bazı yazıcı özellikleri bildirilmeyecektir ve yazdırma sırasında bazı yazıcı ayarları uygulanmaz. | Gerekirse, [MICROSOFT XML Kağıt Belirtimi Essentials paketini](https://go.microsoft.com/fwlink/?LinkId=178895)indirin. |

### <a name="controls"></a>Denetimler

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; Derlemeler: PresentationFramework (PresentationFramework. dll içinde), PresentationCore (PresentationCore. dll içinde), WindowsBase (WindowsBase. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **İletişim kutuları** | Güvenilirliği artırmak için <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> yöntemi, <xref:Microsoft.Win32.FileDialog> denetimini oluşturan aynı iş parçacığında çağrılır. | <xref:Microsoft.Win32.FileDialog> bir denetim oluşturup aynı iş parçacığında <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> yöntemini çağırdığınızdan emin olun. |
| **Kayan pencereler** | Kayan pencereyi yeniden yeniden etkinleştirme (kalıcı iletişim kutusu gibi görünür hale getirme) olan odak geri yükleme mantığını onarmak için, aday pencerenin bir alt öğesi değilse odak geri yükleme artık engellenir. | Yok. |
| **Koleksiyonlardaki öğeler** | Bir öğe taşındığında veya temel alınan bir koleksiyona eklendiğinde, <xref:System.Windows.Data.CollectionView> sıralanmışsa aynı göreli konumda <xref:System.Windows.Data.CollectionView> görüntülenir. Bu, öğenin koleksiyondaki konumu ile ilişkili <xref:System.Windows.Data.CollectionView>arasında tutarlılık sağlar. | Bir öğenin sabit bir konumuna güvenmek yerine bir öğenin konumunu bir <xref:System.Windows.Data.CollectionView> bulmak için <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> veya <xref:System.Windows.Data.CollectionView.IndexOf%2A> yöntemini kullanın. |
| **Düzenler** | Gereksiz yeniden düzenleri ortadan kaldırmak için <xref:System.Windows.Controls.Page.ShowsNavigationUI> değiştirilmesi artık düzeni geçersiz kılar veya başka bir düzen geçişine neden olur. | Değişen <xref:System.Windows.Controls.Page.ShowsNavigationUI> başka bir düzen geçişine neden olacağını düşünüyorsanız, özelliği ayarladıktan sonra <xref:System.Windows.UIElement.InvalidateVisual%2A> çağırın. |
| **Menüler** | Menü açılır menüsünde ClearType metnini etkinleştirmek için <xref:System.Windows.Controls.ControlTemplate> sınıfında ve <xref:System.Windows.Controls.MenuItem> denetimi ve diğer denetimlerde değişiklikler yapılmıştır. | Uygulamalar denetim şablonlarının görsel yapısına güvenmemelidir. Yalnızca <xref:System.Windows.Controls.ControlTemplate> adlandırılmış parçaları ortak sözleşmenin bir parçasıdır. Bir uygulamanın bir <xref:System.Windows.Controls.ControlTemplate>belirli bir nesneyi bulması gerekiyorsa, ağaç içindeki bir nesnenin sabit konumuna güvenmek yerine görsel ağaçta belirli bir tür için arama yapın. |
| **İçinde** | Bir <xref:System.Windows.Controls.Frame> doğrudan bir konuma gittiğinde, <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> özelliği ilk gezinmeden sonra `true`. Bu değişiklik, başlangıç senaryolarında ek olayların oluşturulmasını engeller. | Yok. |
| **Açılır pencereler** | <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> temsilci artık yalnızca bir kez değil, düzen geçişi sırasında birden çok kez çağrılabilir. | <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> temsilciniz bir <xref:System.Windows.Controls.Primitives.Popup> konumunu önceki konumuna göre hesapladığında, konumu yalnızca `popupSize`, `targetSize`veya `offset` parametrelerinin değerleri değiştiğinde yeniden hesaplayın. |
| **Özellik değerleri** | <xref:System.Windows.DependencyObject.SetCurrentValue%2A> yöntemi artık, özelliği etkileyen bağlama, stil veya tetikleyicisine devam eden bir özelliği etkin bir değere ayarlamanıza olanak sağlar. | Denetim yazarları, özellik değeri kullanıcı düzenlemesi dahil olmak üzere başka bir eylemin yan etkisi olarak her değiştiğinde <xref:System.Windows.DependencyObject.SetCurrentValue%2A> kullanmalıdır. |
| **Metin kutuları** | Güvenlik konuları için <xref:System.Windows.Forms.TextBoxBase.Copy%2A> ve <xref:System.Windows.Forms.TextBoxBase.Cut%2A> yöntemleri kısmi güvende çağrıldığında sessizce başarısız olur.<br><br>Ayrıca, <xref:System.Windows.Controls.Primitives.TextBoxBase> devralan bir denetimde <xref:System.Windows.Input.ApplicationCommands.Copy> veya <xref:System.Windows.Input.ApplicationCommands.Cut> özelliğinin programlı yürütülmesi kısmi güvende engellenir. Ancak, bu komutlardan birine <xref:System.Windows.Controls.Primitives.ButtonBase.Command> özelliği olan bir düğmeye tıklanması gibi kullanıcı tarafından başlatılan kopyalama ve kesme komutları da çalışacaktır. Standart kopyalama ve klavye kısayollarını ve bağlam menüsünü kısmi güvende daha önce olduğu gibi çalışmaya devam edecektir. | <xref:System.Windows.Input.ApplicationCommands.Copy> veya <xref:System.Windows.Input.ApplicationCommands.Cut> komutunu, bir düğmeye tıklanması gibi kullanıcı tarafından başlatılan bir eyleme bağlayın. |

### <a name="graphics"></a>Grafikler

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects>; Derlemeler: PresentationFramework (PresentationFramework. dll içinde), PresentationCore (PresentationCore. dll içinde), WindowsBase (WindowsBase. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bit eşlem efektleri** | Performansı artırmak için, <xref:System.Windows.Media.Effects.BitmapEffect> sınıfı ve <xref:System.Windows.Media.Effects.BitmapEffect> sınıfından kalıtımla alan sınıflar devre dışı bırakılmış olabilir. Aşağıdaki koşullar doğruysa, efekt, donanım hızlandırmalı işleme işlem hattı kullanılarak işlenir:<br><br>* Uygulama, 100 DIU 'dan daha az bir Radius özelliği ayarlanmış bir <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> veya <xref:System.Windows.Media.Effects.BlurBitmapEffect> kullanır.<br>* Uygulamayı çalıştıran bilgisayardaki ekran kartı, Pixel Shader 2,0 ' i destekler.<br><br>Bu koşullar karşılanmazsa, <xref:System.Windows.Media.Effects.BitmapEffect> nesnenin hiçbir etkisi olmayacaktır.<br><br>Ayrıca, Visual Studio, <xref:System.Windows.Media.Effects.BitmapEffect> nesne veya alt sınıf ile karşılaştığında bir derleyici uyarısı oluşturur.<br><br><xref:System.Windows.Media.DrawingContext.PushEffect%2A> yöntemi kullanılmıyor olarak işaretlendi. | Eski <xref:System.Windows.Media.Effects.BitmapEffect> ve türetilmiş sınıfları kullanmayı ve bunun yerine <xref:System.Windows.Media.Effects.Effect>türetilmiş yeni sınıfları kullanın: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>ve <xref:System.Windows.Media.Effects.ShaderEffect>.<br><br>Ayrıca, <xref:System.Windows.Media.Effects.ShaderEffect> sınıfından devralarak kendi efektlerinizi de oluşturabilirsiniz. |
| **Bit eşlem çerçeveleri** | Kopyalanan <xref:System.Windows.Media.Imaging.BitmapFrame> nesneler artık <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>ve <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> olayları alır. Bu, Web 'den indirilen ve bir <xref:System.Windows.Style> doğru bir şekilde çalışmak için <xref:System.Windows.Controls.Image> denetimine uygulanan görüntüleri sağlar.<br><br>Bir değişikliği yalnızca aşağıdaki tüm deyimler doğru olduğunda görürsünüz:<br><br>* <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>veya <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> olayına abone olursunuz.<br>* <xref:System.Windows.Media.Imaging.BitmapFrame> kaynağı Web 'den.<br>* <xref:System.Windows.Media.Imaging.BitmapFrame>, indirme devam ederken klonlanır. | Olay işleyicisindeki göndereni denetleyin ve yalnızca gönderici özgün <xref:System.Windows.Media.Imaging.BitmapFrame>ise işlem yapın. |
| **Görüntülerin kodunu çözme** | Görüntülerin kodu çözemediği zaman <xref:System.IO.IOException> engellemek için, <xref:System.Windows.Media.Imaging.BitmapSource> sınıfı bir görüntünün kodunu çözemediği zaman <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> olayını yükseltir. | <xref:System.IO.IOException>özel durum işlemeyi kaldırın ve kodu çözme hatası olup olmadığını denetlemek için <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> olayını kullanın. |

### <a name="input"></a>Giriş

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; Derlemeler: PresentationFramework (PresentationFramework. dll içinde), PresentationCore (PresentationCore. dll içinde), WindowsBase (WindowsBase. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Komut örnekleri bağlama** | Görüntüleme modeli tabanlı komut örneklerini görüntüleme tabanlı giriş hareketlerine bağlama mekanizması sağlamak için <xref:System.Windows.Input.InputBinding> sınıfı artık <xref:System.Windows.DependencyObject>yerine <xref:System.Windows.Freezable> devralır. Aşağıdaki özellikler artık bağımlılık özellikleridir:<br><br>* <xref:System.Windows.Input.InputBinding.Command><br>* <xref:System.Windows.Input.InputBinding.CommandParameter><br>* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br>Bu değişiklik aşağıdaki şekilde sonuçlanır:<br><br>* Bir <xref:System.Windows.Input.InputBinding> nesnesi, kayıt edildiğinde değişebilir yerine, artık dondurulmuş olur.<br>* <xref:System.Windows.DependencyObject> sınıfının kısıtlamaları nedeniyle, birden çok iş parçacığından örnek düzeyi <xref:System.Windows.Input.InputBinding> nesnelerine erişemezsiniz.<br>* <xref:System.Windows.Freezable> sınıfının kısıtlamaları nedeniyle, kayıt sonrasında sınıf düzeyi giriş bağlamalarını bir süre sonra belirtemezsiniz.<br>* Bir görünüm modelinde oluşturulan komut örneklerinde giriş bağlamaları belirtemezsiniz. | Bağlamaların değiştirilebilir olması durumunda ayrı iş parçacıklarında <xref:System.Windows.Input.InputBinding> sınıfın ayrı örneklerini oluşturun veya bunları başka bir şekilde dondurun. Kaydedildikten sonra sınıf düzeyinde statik <xref:System.Windows.Input.InputBinding> vermeyin. |
| **Tarayıcı uygulamaları** | WPF tarayıcı uygulamaları (. XBAP) artık tek başına WPF uygulamaları gibi önemli olayları, nesnelerin yönlendirilmiş anahtar olaylarını doğru sırada alması için işler. | Yok. |
| **Atılacak anahtar birleşimleri** | WPF, hiçbir görünür karakter üreten kullanılmayan anahtarları belirsizler, ancak bunun yerine anahtarın bir karakter üretmek için bir sonraki harfle birleştirilmek üzere olduğunu belirtir. <xref:System.Windows.Input.Keyboard.KeyDownEvent> olayı gibi anahtar giriş olayları, <xref:System.Windows.Input.KeyEventArgs.Key> özelliğini <xref:System.Windows.Input.Key> değerine ayarlayarak bir anahtar, bir anahtar olmadığında rapor edilir. Uygulamalar genellikle Birleşik bir karakter oluşturan klavye girdisine yanıt vermeyi düşünmediğinden, bu genellikle beklenen davranıştır. | Birleşik karakterlerin bir parçası olan anahtarları okumayı bekleyen uygulamalar, <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> özelliğini kullanarak artık karıştırılmış anahtarı alabilir. |
| **Odak Yöneticisi** | <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> yöntemi [ıfocusscope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) iliştirilmiş özelliği `true`olarak ayarlanmış bir öğeyi geçtiğinde, yöntemi bu odak kapsamındaki son klavye odaklı öğe olan ve yalnızca döndürülen öğe öğesine ait olan bir öğeyi döndürür. yöntemine geçirilen öğesiyle aynı <xref:System.Windows.PresentationSource> nesnesi. | Yok. |

### <a name="ui-automation"></a>UI Otomasyonu

Ad alanı: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; Derlemeler: PresentationFramework (PresentationFramework. dll içinde), PresentationCore (PresentationCore. dll içinde), UIAutomationProvider (UIAutomationProvider. dll içinde), WindowsBase (WindowsBase. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Görünümlerin sınıf hiyerarşisi** | <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> ve <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> sınıfları <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>yerine <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> öğesinden devralınır. | <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> sınıflarından devralıp <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> yöntemini geçersiz kılarsınız, yeni <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> sınıfından devralan bir nesne döndürmeyi düşünün. |
| **Kapsayıcılar ekran dışı** | Hatalı bir dönüş değerini onarmak için <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> yöntemi artık görünüm dışında kaydırılan öğe kapsayıcıları için `false` doğru şekilde döndürüyor. Ayrıca, yöntemin değeri diğer pencereler tarafından occlusiyon veya öğenin belirli bir monitörde görünür olup olmadığı ile etkilenmez. | Yok. |
| **Menüler ve alt nesneler** | <xref:System.Windows.Controls.MenuItem> nesneler dışında alt öğe içeren menülerde UI Otomasyonu etkinleştirmek için <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> yöntemi artık <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> nesne yerine bir alt <xref:System.Windows.UIElement> nesnesinin <xref:System.Windows.Automation.Peers.AutomationPeer> nesnesini döndürür. | Yok. |
| **Yeni arabirimler ve derleme** | UI Otomasyonu için yeni özellikleri etkinleştirmek üzere aşağıdaki arabirimler eklenmiştir:<br><br>* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | WPF Otomasyonu eşleri oluşturan tüm projeler UIAutomationProvider. dll ' ye açık bir başvuru içermelidir. |
| **Thumbs** | <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> yöntemi null yerine bir değer döndürür. Bu nedenle, <xref:System.Windows.Controls.Primitives.Thumb> sınıfından devraldığı <xref:System.Windows.Controls.GridSplitter> gibi denetimler, UI Otomasyonu 'na bir ad rapor eder. | Yok. |
| **Sanallaştırılmış öğeler** | <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> yöntemi, performansı artırmak için, sanallaştırıldıklarından bağımsız olarak, tüm alt nesneler yerine yalnızca aslında görsel ağaçta olan alt nesneleri döndürür. | Bir <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>tüm öğelerini yinelemek için <xref:System.Windows.Automation.ItemContainerPattern> kullanın. |

### <a name="xaml"></a>XAML

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup>; Derlemeler: PresentationFramework (PresentationFramework. dll içinde), PresentationCore (PresentationCore. dll içinde), WindowsBase (WindowsBase. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Biçimlendirme uzantısı** | WPF artık, bir özelliği ayarlamak veya bir koleksiyonda bir öğe oluşturmak için bir biçimlendirme uzantısı kullanıldığında belirli durumlarda <xref:System.Windows.Markup.MarkupExtension> nesnesini döndürmek yerine <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> yönteminden değeri her zaman kullanır. Bir biçimlendirme uzantısı, bazı durumlarda kendisini döndürebilir. | Uygulamanız önceki sürümlerde <xref:System.Windows.Markup.MarkupExtension> nesne döndüren bir kaynağa eriştiğinde, <xref:System.Windows.Markup.MarkupExtension> nesnesi yerine <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>döndürülen nesneye başvurun. |
| **Öznitelikleri ayrıştırma** | XAML içindeki öznitelikler artık yalnızca bir nokta içerebilir. Örneğin, aşağıdakiler geçerlidir:<br><br>`<Button Background="Red"/>` (dönem yok)<br><br>`<Button Button.Background = "Red"/>` (bir nokta)<br><br>Aşağıdakiler artık geçerli değil:<br><br>`<Button Control.Button.Background = "Red"/>` (birden fazla nokta) | Birden fazla dönemi olan XAML özniteliklerini düzeltin. |

## <a name="xml"></a>XML

Bu tablodaki satırlarda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanır.

### <a name="schema-and-transforms"></a>Şema ve dönüşümler

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; Derlemeler: System. xml (System. xml. dll dosyasında), System. xml. LINQ (System. xml. Linq. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Chameleon şemaları** | Veri bozulmasını engellemek için, şemalarda Chameleon şemaları, birden çok şemaya dahil edildiğinde doğru şekilde klonlanır.<br><br>Chameleon şemaları, hedef ad alanı olmayan şemalarda bulunur ve başka bir XSD 'ye dahil edildiğinde, içeri aktarma şemasının hedef ad alanını alırlar. Genellikle bir şemaya ortak türler eklemek için kullanılır. |
| **KIMLIK işlevleri** | Bir <xref:System.Xml.XmlReader> nesnesi bir XLST öğesine geçirildiğinde, XSLT [ID işlevi](/sql/xquery/functions-on-sequences-id) artık null yerine doğru değeri döndürür.<br><br>Kullanıcı <xref:System.Xml.Linq.XNode.CreateReader%2A> yöntemini kullanarak bir LINQ to XML sınıfından bir <xref:System.Xml.XmlReader> nesnesi oluşturduysanız ve bu <xref:System.Xml.XmlReader> nesnesi bir XSLT 'ye geçirilmemişse, XSLT 'deki `id` işlevinin tüm örnekleri daha önce null değeri döndürdü. Bu, `id` işlevi için izin verilen bir dönüş değeri değildir. |
| **Namespace özniteliği** | Bir <xref:System.Xml.XPath.XPathNavigator> nesnesi, verilerin bozulmasını engellemek için artık `x:xmlns` özniteliğinin yerel adını doğru bir şekilde döndürür. |
| **Ad alanı bildirimleri** | Alt ağaçtaki bir <xref:System.Xml.XmlReader> nesnesi artık tek bir XML öğesinde yinelenen ad alanı bildirimleri oluşturmayacaktır. |
| **Şema doğrulama** | Hatalı şema doğrulamasını engellemek için <xref:System.Xml.Schema.XmlSchemaSet> sınıfı, XSD şemalarının doğru ve tutarlı bir şekilde derlenmesine izin verir. Bu şemalar, diğer şemaları içerebilir; Örneğin `A.xsd`, `C.xsd`içerebilen `B.xsd`içerebilir. Bunlardan herhangi birini derlemek, bu bağımlılık grafiğinin bırakılmasına neden olur. |
| **Betik işlevleri** | İşlev gerçekten kullanılabilir olduğunda [işlev kullanılabilir işlevi](https://msdn.microsoft.com/library/ms256124(v=vs.110).aspx) artık yanlış `false` döndürmez. |
| **Þ** | <xref:System.Xml.Linq.XElement.Load%2A> yöntemi artık LINQ sorgularında doğru BaseURI 'yi döndürüyor. |

### <a name="validation"></a>Doğrulama

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; Derlemeler: System. xml (System. xml. dll dosyasında), System. xml. LINQ (System. xml. Linq. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Ad alanı çözümleyiciler** | <xref:System.Xml.XmlReader.ReadContentAs%2A> yöntemi, kendisine geçirilen <xref:System.Xml.IXmlNamespaceResolver> çözümleyici 'yi artık yok saymaz.<br><br>Önceki sürümlerde, belirtilen ad alanı Çözümleyicisi yoksayıldı ve bunun yerine <xref:System.Xml.XmlReader> kullanıldı. |
| **Boşluk** | Bir okuyucu oluştururken veri kaybını engellemek için <xref:System.Xml.XmlReader.Create%2A> yöntemi artık önemli boşluk atar.<br><br>XML doğrulaması karışık içerik modunu tanır ve metin XML işaretlemesi ile birbirine karışabilir. Karma modda, tüm boşluklar önemlidir ve bildirilmesi gerekir. |

### <a name="writing"></a>Yazıp

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; Derlemeler: System. xml (System. xml. dll dosyasında), System. xml. LINQ (System. xml. Linq. dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık başvuruları** | Veri bozulmasını engellemek için, XML özniteliklerinde varlık başvuruları artık iki kez kullanılamaz.<br><br>Kullanıcı bir `xmlns` özniteliğine veya bir `xml:lang` ya da `xml:space` <xref:System.Xml.XmlWriter.WriteEntityRef%2A> özniteliğine bir varlık yazmaya çalıştıysanız, varlık çıktıda iki kez, bu nedenle verileri bozuyor. |
| **Yeni satır işleme** | Veri bozulmasını engellemek için <xref:System.Xml.XmlWriter> nesneleri <xref:System.Xml.NewLineHandling> seçeneğe göre. |

## <a name="see-also"></a>Ayrıca bkz.

- [.NET Framework 4 ' teki yeni türler ve Üyeler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [.NET Framework 4 ' e geçiş kılavuzu](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [.NET Framework 4 ' teki yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [.NET Framework sürüm uyumluluğu](version-compatibility.md)
- [Office çözümlerini .NET Framework 4 ' e geçirme](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [.NET Framework sınıfı kitaplığındaki kullanım dışı Özellikler](../whats-new/whats-obsolete.md)
