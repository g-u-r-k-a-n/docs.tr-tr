---
title: Dökümler-.NET
description: .NET ' te döküme giriş.
ms.date: 10/12/2020
ms.openlocfilehash: 7a4c7bf54b3e9ea43e685eafbd00b4a373326520
ms.sourcegitcommit: c0b803bffaf101e12f071faf94ca21b46d04ff30
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/24/2020
ms.locfileid: "97764948"
---
# <a name="dumps"></a><span data-ttu-id="80cfb-103">Dökümler</span><span class="sxs-lookup"><span data-stu-id="80cfb-103">Dumps</span></span>

<span data-ttu-id="80cfb-104">Döküm, oluşturulduğu sırada işlemin anlık görüntüsünü içeren ve uygulamanızın durumunu incelemek için yararlı olabilecek bir dosyadır.</span><span class="sxs-lookup"><span data-stu-id="80cfb-104">A dump is a file that contains a snapshot of the process at the time it was created and can be useful for examining the state of your application.</span></span> <span data-ttu-id="80cfb-105">Dökümler, üretim veya CI ortamları gibi bir hata ayıklayıcı eklemek zor olduğunda .NET uygulamanızda hata ayıklamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-105">Dumps can be used to debug your .NET application when it is difficult to attach a debugger to it such as production or CI environments.</span></span> <span data-ttu-id="80cfb-106">Dökümleri kullanmak, sorunlu işlemin durumunu yakalamanızı ve uygulamayı durdurmak zorunda kalmadan incelemenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="80cfb-106">Using dumps allows you to capture the state of the problematic process and examine it without having to stop the application.</span></span>

## <a name="collect-dumps"></a><span data-ttu-id="80cfb-107">Dökümleri topla</span><span class="sxs-lookup"><span data-stu-id="80cfb-107">Collect dumps</span></span>

<span data-ttu-id="80cfb-108">Dökümler, uygulamanızı çalıştırdığınız platforma bağlı olarak çeşitli yollarla toplanabilir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-108">Dumps can be collected in a variety of ways depending on which platform you are running your app on.</span></span>

> [!NOTE]
> <span data-ttu-id="80cfb-109">Bir kapsayıcının içinde döküm toplama, veya aracılığıyla eklenebilen PTRACE özelliği gerektirir `--cap-add=SYS_PTRACE` `--privileged` .</span><span class="sxs-lookup"><span data-stu-id="80cfb-109">Collecting a dump inside a container requires PTRACE capability, which can be added via `--cap-add=SYS_PTRACE` or `--privileged`.</span></span>

> [!NOTE]
> <span data-ttu-id="80cfb-110">Dökümler, çalışan işlemin tam belleğini içerebildiğinden gizli bilgiler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-110">Dumps may contain sensitive information because they can contain the full memory of the running process.</span></span> <span data-ttu-id="80cfb-111">Bunları herhangi bir güvenlik kısıtlaması ve gudances ile işleyin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-111">Handle them with any security restrictions and guidances in mind.</span></span>

### <a name="collecting-dumps-on-crash"></a><span data-ttu-id="80cfb-112">Kilitlenme durumunda dökümleri toplama</span><span class="sxs-lookup"><span data-stu-id="80cfb-112">Collecting dumps on crash</span></span>

<span data-ttu-id="80cfb-113">Uygulamanızı kilitlenme sonrasında döküm toplayacak şekilde yapılandırmak için ortam değişkenlerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80cfb-113">You can use environment variables to configure your application to collect a dump upon a crash.</span></span> <span data-ttu-id="80cfb-114">Bu, neden çökme oluştuğunu anlamak istediğinizde yararlı olur.</span><span class="sxs-lookup"><span data-stu-id="80cfb-114">This is helpful when you want to get an understanding of why a crash happened.</span></span> <span data-ttu-id="80cfb-115">Örneğin, bir özel durum oluştuğunda döküm yakalama, kilitlendikçe uygulamanın durumunu inceleyerek bir sorunu belirlemenize yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="80cfb-115">For example, capturing a dump when an exception is thrown helps you identify an issue by examining the state of the app when it crashed.</span></span>

<span data-ttu-id="80cfb-116">Aşağıdaki tabloda, kilitlenme üzerinde dökümleri toplamak için yapılandırabileceğiniz ortam değişkenleri gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-116">The following table shows the environment variables you can configure for collecting dumps on a crash.</span></span>

|<span data-ttu-id="80cfb-117">Ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="80cfb-117">Environment variable</span></span>|<span data-ttu-id="80cfb-118">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80cfb-118">Description</span></span>|<span data-ttu-id="80cfb-119">Varsayılan değer</span><span class="sxs-lookup"><span data-stu-id="80cfb-119">Default value</span></span>|
|-------|---------|---|
|`COMPlus_DbgEnableMiniDump`|<span data-ttu-id="80cfb-120">1 olarak ayarlanırsa, temel döküm oluşturmayı etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-120">If set to 1, enable core dump generation.</span></span>|<span data-ttu-id="80cfb-121">0</span><span class="sxs-lookup"><span data-stu-id="80cfb-121">0</span></span>|
|`COMPlus_DbgMiniDumpType`|<span data-ttu-id="80cfb-122">Toplanacak döküm türü.</span><span class="sxs-lookup"><span data-stu-id="80cfb-122">Type of dump to be collected.</span></span> <span data-ttu-id="80cfb-123">Daha fazla bilgi için aşağıdaki tabloya bakın</span><span class="sxs-lookup"><span data-stu-id="80cfb-123">For more information, see the table below</span></span>|<span data-ttu-id="80cfb-124">2 ( `MiniDumpWithPrivateReadWriteMemory` )</span><span class="sxs-lookup"><span data-stu-id="80cfb-124">2 (`MiniDumpWithPrivateReadWriteMemory`)</span></span>|
|`COMPlus_DbgMiniDumpName`|<span data-ttu-id="80cfb-125">Döküm yazılacak dosyanın yolu.</span><span class="sxs-lookup"><span data-stu-id="80cfb-125">Path to a file to write the dump to.</span></span>|`/tmp/coredump.<pid>`|
|`COMPlus_CreateDumpDiagnostics`|<span data-ttu-id="80cfb-126">1 olarak ayarlanırsa, döküm işleminin tanılama günlüğünü etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-126">If set to 1, enable diagnostic logging of dump process.</span></span>|<span data-ttu-id="80cfb-127">0</span><span class="sxs-lookup"><span data-stu-id="80cfb-127">0</span></span>|

<span data-ttu-id="80cfb-128">Aşağıdaki tabloda, için, `COMPlus_DbgMiniDumpType` bir değer olarak belirtime için kullanabileceğiniz tüm seçenekler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-128">The table below shows all the options you may use for `COMPlus_DbgMiniDumpType` which can be specified as a value.</span></span> <span data-ttu-id="80cfb-129">Örneğin, `COMPlus_DbgMiniDumpType` 1 olarak ayarlandığında, `MiniDumpNormal` kilitlenme üzerinde tür dökümü toplanacaktır.</span><span class="sxs-lookup"><span data-stu-id="80cfb-129">For example, setting `COMPlus_DbgMiniDumpType` to 1 means `MiniDumpNormal` type dump will be collected on a crash.</span></span>

|<span data-ttu-id="80cfb-130">Değer</span><span class="sxs-lookup"><span data-stu-id="80cfb-130">Value</span></span>|<span data-ttu-id="80cfb-131">Ad</span><span class="sxs-lookup"><span data-stu-id="80cfb-131">Name</span></span>|<span data-ttu-id="80cfb-132">Açıklama</span><span class="sxs-lookup"><span data-stu-id="80cfb-132">Description</span></span>|
|-----|----|-----------|
|<span data-ttu-id="80cfb-133">1</span><span class="sxs-lookup"><span data-stu-id="80cfb-133">1</span></span>|`MiniDumpNormal`|<span data-ttu-id="80cfb-134">Yalnızca bir işlemdeki mevcut tüm iş parçacıkları için yığın izlemelerini yakalamak için gereken bilgileri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-134">Include just the information necessary to capture stack traces for all existing threads in a process.</span></span> <span data-ttu-id="80cfb-135">Sınırlı GC yığın belleği ve bilgileri.</span><span class="sxs-lookup"><span data-stu-id="80cfb-135">Limited GC heap memory and information.</span></span>|
|<span data-ttu-id="80cfb-136">2</span><span class="sxs-lookup"><span data-stu-id="80cfb-136">2</span></span>|`MiniDumpWithPrivateReadWriteMemory`|<span data-ttu-id="80cfb-137">Bir işlemdeki tüm mevcut iş parçacıkları için yığın izlemelerini yakalamak için gereken GC yığınlarını ve bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-137">Includes the GC heaps and information necessary to capture stack traces for all existing threads in a process.</span></span>|
|<span data-ttu-id="80cfb-138">3</span><span class="sxs-lookup"><span data-stu-id="80cfb-138">3</span></span>|`MiniDumpFilterTriage`|<span data-ttu-id="80cfb-139">Yalnızca bir işlemdeki mevcut tüm iş parçacıkları için yığın izlemelerini yakalamak için gereken bilgileri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-139">Include just the information necessary to capture stack traces for all existing threads in a process.</span></span> <span data-ttu-id="80cfb-140">Sınırlı GC yığın belleği ve bilgileri.</span><span class="sxs-lookup"><span data-stu-id="80cfb-140">Limited GC heap memory and information.</span></span>|
|<span data-ttu-id="80cfb-141">4</span><span class="sxs-lookup"><span data-stu-id="80cfb-141">4</span></span>|`MiniDumpWithFullMemory`|<span data-ttu-id="80cfb-142">İşlemdeki tüm erişilebilir belleği dahil edin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-142">Include all accessible memory in the process.</span></span> <span data-ttu-id="80cfb-143">Ham bellek verileri sonuna dahildir, böylece ilk yapılar ham bellek bilgileri olmadan doğrudan eşleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-143">The raw memory data is included at the end, so that the initial structures can be mapped directly without the raw memory information.</span></span> <span data-ttu-id="80cfb-144">Bu seçenek çok büyük bir dosyanın oluşmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-144">This option can result in a very large file.</span></span>|

### <a name="collecting-dumps-at-specific-point-in-time"></a><span data-ttu-id="80cfb-145">Belirli bir zaman noktasında dökümleri toplama</span><span class="sxs-lookup"><span data-stu-id="80cfb-145">Collecting dumps at specific point in time</span></span>

<span data-ttu-id="80cfb-146">Uygulama henüz kilitlenmemişse bir döküm toplamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80cfb-146">You may want to collect a dump when the app hasn't crashed yet.</span></span> <span data-ttu-id="80cfb-147">Örneğin, bir kilitlenmeyle gibi görünen bir uygulamanın durumunu incelemek isterseniz, uygulama hala çalıştığından, kilitlenme üzerinde dökümleri toplamak üzere ortam değişkenlerini yapılandırmak yararlı olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="80cfb-147">For example, if you want to examine the state of an application that seems to be in a deadlock, configuring the environment variables to collect dumps on crash will not be helpful because the app is still running.</span></span>

<span data-ttu-id="80cfb-148">Kendi isteğinizin dökümünü toplamak için, `dotnet-dump` dökümleri toplamak ve analiz etmek için BIR CLI aracı olan kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80cfb-148">To collect dump at your own request, you can use `dotnet-dump`, which is a CLI tool for collecting and analyzing dumps.</span></span> <span data-ttu-id="80cfb-149">İle dökümleri toplamak üzere kullanma hakkında daha fazla bilgi için `dotnet-dump` bkz. [döküm toplama ve analiz yardımcı programı](dotnet-dump.md).</span><span class="sxs-lookup"><span data-stu-id="80cfb-149">For more information on how to use it to collect dumps with `dotnet-dump`, see [Dump collection and analysis utility](dotnet-dump.md).</span></span>

## <a name="analyze-dumps"></a><span data-ttu-id="80cfb-150">Dökümleri çözümle</span><span class="sxs-lookup"><span data-stu-id="80cfb-150">Analyze dumps</span></span>

<span data-ttu-id="80cfb-151">[`dotnet-dump`](dotnet-dump.md)CLI aracını veya [Visual Studio 'yu](https://docs.microsoft.com/visualstudio/debugger/using-dump-files)kullanarak dökümleri anlayze yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80cfb-151">You can anlayze dumps using the [`dotnet-dump`](dotnet-dump.md) CLI tool or with [Visual Studio](https://docs.microsoft.com/visualstudio/debugger/using-dump-files).</span></span>

> [!NOTE]
> <span data-ttu-id="80cfb-152">Visual Studio sürüm 16,8 ve üzeri sürümleri, .NET Core 3.1.7 veya üzeri sürümlerde oluşturulan [Linux dökümlerini açmanıza](https://devblogs.microsoft.com/visualstudio/linux-managed-memory-dump-debugging/) olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="80cfb-152">Visual Studio version 16.8 and later allows you to [open Linux dumps](https://devblogs.microsoft.com/visualstudio/linux-managed-memory-dump-debugging/) generated on .NET Core 3.1.7 or later.</span></span>  

> [!NOTE]
> <span data-ttu-id="80cfb-153">Yerel hata ayıklama gerekliyse, [sos hata ayıklayıcı uzantısı](sos-debugging-extension.md) , [Linux ve MacOS üzerinde lldb](debug-linux-dumps.md#analyze-dumps-on-linux)ile birlikte kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-153">If native debugging is necessary, the [SOS debugger extension](sos-debugging-extension.md) can be used with [LLDB on Linux and macOS](debug-linux-dumps.md#analyze-dumps-on-linux).</span></span> <span data-ttu-id="80cfb-154">So, Visual Studio önerilse de Windows üzerinde [WinDbg/CDB](/windows-hardware/drivers/debugger/debugger-download-tools) ile desteklenir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-154">SOS is also supported with [Windbg/cdb](/windows-hardware/drivers/debugger/debugger-download-tools) on Windows, although Visual Studio is recommended.</span></span>

## <a name="see-also"></a><span data-ttu-id="80cfb-155">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="80cfb-155">See also</span></span>

<span data-ttu-id="80cfb-156">.NET uygulamanızdaki sorunları tanılamanıza yardımcı olması için dökümleri nasıl kullanabileceğinizi öğrenin.</span><span class="sxs-lookup"><span data-stu-id="80cfb-156">Learn more about how you can leverage dumps to help diagnosing problems in your .NET application.</span></span>

* <span data-ttu-id="80cfb-157">[Linux dökümleri hata ayıklama](debug-linux-dumps.md) öğreticisinde, Linux 'ta toplanan bir dökümde hata ayıklama işlemi adım adım gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-157">[Debug Linux dumps](debug-linux-dumps.md) tutorial walks you through how to debug a dump that was collected in Linux.</span></span>

* <span data-ttu-id="80cfb-158">[Hata ayıklama kilitlenmesi](debug-deadlock.md) öğreticisinde, dökümleri kullanarak .net uygulamanızda kilitlenmeyle hata ayıklama işlemi adım adım gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="80cfb-158">[Debug deadlock](debug-deadlock.md) tutorial walks you through how to debug a deadlock in your .NET application using dumps.</span></span>
