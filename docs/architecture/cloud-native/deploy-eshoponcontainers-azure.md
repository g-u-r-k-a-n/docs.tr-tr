---
title: eShopOnContainers'ı Azure'a dağıtma
description: Azure Kubernetes hizmeti, helk ve DevSpaces kullanarak eShopOnContainers uygulamasını dağıtma.
ms.date: 06/30/2019
ms.openlocfilehash: 21033cc904dc595193c69f3452ce2522740f8ff6
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/23/2019
ms.locfileid: "71183275"
---
# <a name="deploying-eshoponcontainers-to-azure"></a><span data-ttu-id="99ad3-103">eShopOnContainers'ı Azure'a dağıtma</span><span class="sxs-lookup"><span data-stu-id="99ad3-103">Deploying eShopOnContainers to Azure</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="99ad3-104">EShopOnContainers uygulamasını destekleme mantığı, çeşitli hizmetler kullanılarak Azure tarafından desteklenebilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-104">The logic supporting the eShopOnContainers application can be supported by Azure using a variety of services.</span></span> <span data-ttu-id="99ad3-105">Önerilen yaklaşım, Azure Kubernetes hizmeti (AKS) kullanarak Kubernetes 'ten faydalanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-105">The recommended approach is to leverage Kubernetes using Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="99ad3-106">Bu, kolayca tekrarlanabilir altyapı yapılandırması sağlamak için Held dağıtımıyla birleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-106">This can be combined with Helm deployment to ensure easily repeated infrastructure configuration.</span></span> <span data-ttu-id="99ad3-107">İsteğe bağlı olarak, geliştiriciler geliştirme sürecinin bir parçası olarak Kubernetes Azure Dev Spaces faydalanabilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-107">Optionally, developers can leverage Azure Dev Spaces for Kubernetes as part of their development process.</span></span> <span data-ttu-id="99ad3-108">Diğer bir seçenek de Azure Işlevleri ve Azure Logic Apps gibi Azure sunucusuz özellikleri kullanarak uygulama işlevselliğini barındırmanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="99ad3-108">Another option is to host the functionality of the app using Azure Serverless features like Azure Functions and Azure Logic Apps.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="99ad3-109">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="99ad3-109">Azure Kubernetes Service</span></span>

<span data-ttu-id="99ad3-110">EShopOnContainers uygulamasını kendi AKS kümenizde barındırmak istiyorsanız, ilk adım kümenizin oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-110">If you'd like to host the eShopOnContainers application in your own AKS cluster, the first step is to create your cluster.</span></span> <span data-ttu-id="99ad3-111">Bunu, gerekli adımlarda size yol gösterecek olan Azure portal kullanarak yapabilirsiniz veya Azure CLı 'yı kullanarak, rol tabanlı Access Control (RBAC) ve uygulama yönlendirmeyi bu şekilde etkinleştirmenizi sağlamak için dikkatli olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="99ad3-111">You can do this using the Azure portal, which will walk you through the required steps, or you can use the Azure CLI, taking care to ensure you enable Role-Based Access Control (RBAC) and application routing when you do so.</span></span> <span data-ttu-id="99ad3-112">EShopOnContainers ' belgeleri kendi AKS kümenizi oluşturma ile ilgili adımları açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-112">The eShopOnContainers' documentation describes the steps involved in creating your own AKS cluster.</span></span> <span data-ttu-id="99ad3-113">Küme oluşturulduktan sonra, Kubernetes panosuna erişimi etkinleştirmeniz gerekir, bu noktada kümeyi yönetmek için Kubernetes panosuna gözatabilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-113">Once the cluster is created, you must enable access to the Kubernetes dashboard, at which point you should be able to browse to the Kubernetes dashboard to manage the cluster.</span></span>

<span data-ttu-id="99ad3-114">Küme oluşturulduktan ve yapılandırıldıktan sonra, Held ve Tiller kullanarak uygulamayı dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="99ad3-114">Once the cluster has been created and configured, you can deploy the application to it using Helm and Tiller.</span></span>

## <a name="deploying-to-azure-kubernetes-service-using-helm"></a><span data-ttu-id="99ad3-115">Held kullanarak Azure Kubernetes hizmetine dağıtma</span><span class="sxs-lookup"><span data-stu-id="99ad3-115">Deploying to Azure Kubernetes Service using Helm</span></span>

<span data-ttu-id="99ad3-116">AKS 'e yönelik temel dağıtımlar özel CLı betikleri veya basit dağıtım dosyaları kullanabilir, ancak daha karmaşık uygulamaların Helm gibi bir bağımlılık yönetim aracı kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-116">Basic deployments to AKS may use custom CLI scripts or simple deployment files, but more complex applications should use a dependency management tool like Helm.</span></span> <span data-ttu-id="99ad3-117">Helk, bulut Yerel Bilgi Işlem altyapısı tarafından korunur ve Kubernetes uygulamalarını tanımlamanıza, yüklemenize ve yükseltmenize yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="99ad3-117">Helm is maintained by the Cloud-native Computing Foundation and helps you define, install, and upgrade Kubernetes applications.</span></span> <span data-ttu-id="99ad3-118">Held, Held grafiklerini ve bir küme içi bileşeni olan Tiller bir komut satırı istemcisinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="99ad3-118">Helm is composed of a command-line client, helm, which uses helm charts, and an in-cluster component, Tiller.</span></span> <span data-ttu-id="99ad3-119">Hele grafikleri, ilişkili bir Kubernetes kaynağı kümesini ve genellikle tanımladıkları uygulamayla birlikte sürümlenmiş standart YAML biçimli dosyaları kullanır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-119">Helm Charts use standard YAML-formatted files to describe a related set of Kubernetes resources and are typically versioned alongside the application they describe.</span></span> <span data-ttu-id="99ad3-120">Hele grafikleri, tanımladıkları yüklemenin gereksinimlerine bağlı olarak basit ile karmaşık arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-120">Helm Charts range from simple to complex depending on the requirements of the installation they describe.</span></span>

<span data-ttu-id="99ad3-121">EShopOnContainers Held grafiklerini/k8s/Held klasöründe bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="99ad3-121">You'll find the eShopOnContainers helm charts in the /k8s/helm folder.</span></span> <span data-ttu-id="99ad3-122">Şekil 2-6, uygulamanın farklı bileşenlerinin, Held tarafından yönetilen dağıtımlar tanımlamak için kullanılan bir klasör yapısına nasıl düzenlendiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-122">Figure 2-6 shows how the different components of the application are organized into a folder structure used by helm to define and managed deployments.</span></span>

<span data-ttu-id="99ad3-123">![eShopOnContainers mimarisi](./media/eshoponcontainers-helm-folder.png)
**şekil 2-6**.</span><span class="sxs-lookup"><span data-stu-id="99ad3-123">![eShopOnContainers Architecture](./media/eshoponcontainers-helm-folder.png)
**Figure 2-6**.</span></span> <span data-ttu-id="99ad3-124">EShopOnContainers Held klasörü.</span><span class="sxs-lookup"><span data-stu-id="99ad3-124">The eShopOnContainers helm folder.</span></span>

<span data-ttu-id="99ad3-125">Her bir bileşen bir `helm install` komutu kullanılarak yüklenir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-125">Each individual component is installed using a `helm install` command.</span></span> <span data-ttu-id="99ad3-126">Bu komutlar kolayca betikleştirilmiş ve eShopOnContainers, farklı bileşenler arasında döngü yapan ve bunları ilgili Helu grafiklerini kullanarak yükleyen bir "tümünü dağıt" betiği sağlar.</span><span class="sxs-lookup"><span data-stu-id="99ad3-126">These commands are easily scripted, and eShopOnContainers provides a "deploy all" script that loops through the different components and installs them using their respective helm charts.</span></span> <span data-ttu-id="99ad3-127">Sonuç, kaynak denetimindeki uygulamayla sürümlü, ekip üzerindeki herkesin tek satırlık bir betik komutuyla bir AKS kümesine dağıtabileceği, tekrarlanabilir bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-127">The result is a repeatable process, versioned with the application in source control, that anyone on the team can deploy to an AKS cluster with a one-line script command.</span></span> <span data-ttu-id="99ad3-128">Özellikle de Azure Dev Spaces birleştirildiğinde, bu, geliştiricilerin kendi mikro hizmet tabanlı bulut Yerel uygulamalarında yaptığı değişiklikleri tanılamalarını ve test etmelerini kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-128">Especially when combined with Azure Dev Spaces, this makes it easy for developers to diagnose and test their individual changes to their microservice-based cloud-native apps.</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="99ad3-129">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="99ad3-129">Azure Dev Spaces</span></span>

<span data-ttu-id="99ad3-130">Azure Dev Spaces, bireysel geliştiricilerin geliştirme sırasında Azure 'da AKS kümelerinin kendi benzersiz sürümlerini barındırmalarına yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="99ad3-130">Azure Dev Spaces helps individual developers host their own unique version of AKS clusters in Azure during development.</span></span> <span data-ttu-id="99ad3-131">Bu, yerel makine gereksinimlerini en aza indirir ve takım üyelerinin, değişikliklerinin gerçek bir AKS ortamında nasıl davranacağını hızla görüntülemesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-131">This minimizes local machine requirements and allows team members to quickly see how their changes will behave in a real AKS environment.</span></span> <span data-ttu-id="99ad3-132">Azure Dev Spaces, geliştiricilerin dev alanlarını yönetmek ve gerektiğinde belirli bir alt dev alanına dağıtmak üzere kullanması için bir CLı sunar.</span><span class="sxs-lookup"><span data-stu-id="99ad3-132">Azure Dev Spaces offers a CLI for developers to use to manage their dev spaces and to deploy to a specific child dev space as needed.</span></span> <span data-ttu-id="99ad3-133">Her bir alt dev alanına benzersiz bir URL alt etki alanı kullanılarak başvurulur. bu sayede, tek tek geliştiricilerin devam eden her iş ile çakışmaktan kaçınmak için, değiştirilen kümelerin yan yana dağıtımına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-133">Each child dev space is referenced using a unique URL subdomain, allowing side-by-side deployments of modified clusters so that individual developers can avoid conflicting with each other's work in progress.</span></span> <span data-ttu-id="99ad3-134">Şekil 2-7 ' de, geliştirici Susıe 'nin kendi Bisiklet mikro hizmetinin kendi sürümünü geliştirme alanına dağıttığının nasıl yapıldığını görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="99ad3-134">In Figure 2-7 you can see how developer Susie has deployed her own version of the Bikes microservice into her dev space.</span></span> <span data-ttu-id="99ad3-135">Daha sonra kendi alan adı (susie.s.dev.myapp.eus.azds.io) ile başlayan özel bir URL 'YI kullanarak yaptığı değişiklikleri test edebilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-135">She's then able to test her changes using a custom URL starting with the name of her space (susie.s.dev.myapp.eus.azds.io).</span></span>

<span data-ttu-id="99ad3-136">![eShopOnContainers mimarisi](./media/azure-devspaces-one.png)
**şekil 2-7**.</span><span class="sxs-lookup"><span data-stu-id="99ad3-136">![eShopOnContainers Architecture](./media/azure-devspaces-one.png)
**Figure 2-7**.</span></span> <span data-ttu-id="99ad3-137">Geliştirici Susie, Bisiklet mikro hizmetinin kendi sürümünü dağıtır ve test eder.</span><span class="sxs-lookup"><span data-stu-id="99ad3-137">Developer Susie deploys her own version of the Bikes microservice and tests it.</span></span>

<span data-ttu-id="99ad3-138">Aynı zamanda, geliştirici John, rezervasyonlar mikro hizmetini özelleştirip değişiklikleri test etmek için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-138">At the same time, developer John is customizing the Reservations microservice and needs to test his changes.</span></span> <span data-ttu-id="99ad3-139">Şekil 2-8 ' de gösterildiği gibi, Susie değişiklikleri ile çakışmadan kendi geliştirme alanı üzerinde değişiklikleri dağıtabiyor.</span><span class="sxs-lookup"><span data-stu-id="99ad3-139">He's able to deploy his changes to his own dev space without conflicting with Susie's changes as shown in Figure 2-8.</span></span> <span data-ttu-id="99ad3-140">Kendi URL 'sini kullanarak değişikliklerini test edebilir. Bu, alan adı (john.s.dev.myapp.eus.azds.io) önekini kullanır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-140">He can test his changes using his own URL which is prefixed with the name of his space (john.s.dev.myapp.eus.azds.io).</span></span>

<span data-ttu-id="99ad3-141">![eShopOnContainers mimarisi](./media/azure-devspaces-two.png)
**şekil 2-8**.</span><span class="sxs-lookup"><span data-stu-id="99ad3-141">![eShopOnContainers Architecture](./media/azure-devspaces-two.png)
**Figure 2-8**.</span></span> <span data-ttu-id="99ad3-142">Geliştirici John, rezervasyonlar mikro hizmetinin kendi sürümünü dağıtır ve diğer geliştiricilerle çakışmadan test eder.</span><span class="sxs-lookup"><span data-stu-id="99ad3-142">Developer John deploys his own version of the Reservations microservice and tests it without conflicting with other developers.</span></span>

<span data-ttu-id="99ad3-143">Azure Dev Spaces kullanarak takımlar, değişiklikleri bağımsız olarak değiştirirken, dağıttığınızda ve test ederken doğrudan AKS ile çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-143">Using Azure Dev Spaces, teams can work directly with AKS while independently changing, deploying, and testing their changes.</span></span> <span data-ttu-id="99ad3-144">Bu yaklaşım, her geliştiricinin kendi AKS ortamları etkin olduğundan, ayrı ayrı barındırılan ortamların gereksinimini azaltır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-144">This approach reduces the need for separate dedicated hosted environments since every developer effectively has their own AKS environment.</span></span> <span data-ttu-id="99ad3-145">Geliştiriciler, CLı kullanarak Azure Dev Spaces çalışabilir veya doğrudan Visual Studio 'dan Azure Dev Spaces için uygulamasını başlatabilir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-145">Developers can work with Azure Dev Spaces using its CLI or launch their application to Azure Dev Spaces directly from Visual Studio.</span></span> [<span data-ttu-id="99ad3-146">Azure Dev Spaces nasıl çalıştığı ve yapılandırıldığı hakkında daha fazla bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="99ad3-146">Learn more about how Azure Dev Spaces works and is configured.</span></span>](https://docs.microsoft.com/azure/dev-spaces/how-dev-spaces-works)

## <a name="azure-functions-and-logic-apps-serverless"></a><span data-ttu-id="99ad3-147">Azure Işlevleri ve Logic Apps (sunucusuz)</span><span class="sxs-lookup"><span data-stu-id="99ad3-147">Azure Functions and Logic Apps (Serverless)</span></span>

<span data-ttu-id="99ad3-148">EShopOnContainers örneği, çevrimiçi pazarlama kampanyalarının izlenmesi için destek içerir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-148">The eShopOnContainers sample includes support for tracking online marketing campaigns.</span></span> <span data-ttu-id="99ad3-149">Belirli bir kampanya KIMLIĞI için pazarlama kampanyası ayrıntılarını çekmek üzere bir Azure Işlevi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="99ad3-149">An Azure Function is used to pull marketing campaign details for a given campaign ID.</span></span> <span data-ttu-id="99ad3-150">Bu amaçla bir bütün ASP.NET Core uygulama oluşturmak yerine, tek bir Azure Işlev uç noktası daha basit ve yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-150">Rather than creating a complete ASP.NET Core application for this purpose, a single Azure Function endpoint is simpler and sufficient.</span></span> <span data-ttu-id="99ad3-151">Azure Işlevleri, özellikle Kubernetes 'te çalışacak şekilde yapılandırıldığında tam ASP.NET Core uygulamalardan çok daha basit bir derleme ve dağıtım modeline sahiptir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-151">Azure Functions have a much simpler build and deployment model than full ASP.NET Core applications, especially when configured to run in Kubernetes.</span></span> <span data-ttu-id="99ad3-152">İşlevin dağıtımı Azure Resource Manager (ARM) şablonları ve Azure CLı kullanılarak komut dosyası oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="99ad3-152">Deploying the function is scripted using Azure Resource Manager (ARM) templates and the Azure CLI.</span></span> <span data-ttu-id="99ad3-153">Bu kampanya ayrıntıları mikro hizmeti müşteriye yönelik değildir ve çevrimiçi mağazanızlarla aynı gereksinimlere sahip değildir ve Azure Işlevleri için iyi bir aday haline gelir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-153">This campaign details microservice isn't customer-facing and doesn't have the same requirements as the online store, making it a good candidate for Azure Functions.</span></span> <span data-ttu-id="99ad3-154">İşlev, veritabanı bağlantı dizesi verileri ve görüntü tabanı URI 'SI ayarları gibi bazı yapılandırmanın düzgün şekilde çalışmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="99ad3-154">The function requires some configuration to work properly, such as database connection string data and image base URI settings.</span></span> <span data-ttu-id="99ad3-155">Azure Işlevleri 'ni Azure portalında yapılandırırsınız.</span><span class="sxs-lookup"><span data-stu-id="99ad3-155">You configure Azure Functions in the Azure Portal.</span></span>

## <a name="references"></a><span data-ttu-id="99ad3-156">Referanslar</span><span class="sxs-lookup"><span data-stu-id="99ad3-156">References</span></span>

- <span data-ttu-id="99ad3-157">[eShopOnContainers: AKS 'te Kubernetes kümesi oluşturma](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Deploy-to-Azure-Kubernetes-Service-(AKS)#create-kubernetes-cluster-in-aks)</span><span class="sxs-lookup"><span data-stu-id="99ad3-157">[eShopOnContainers: Create Kubernetes cluster in AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Deploy-to-Azure-Kubernetes-Service-(AKS)#create-kubernetes-cluster-in-aks)</span></span>
- [<span data-ttu-id="99ad3-158">eShopOnContainers: Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="99ad3-158">eShopOnContainers: Azure Dev Spaces</span></span>](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Azure-Dev-Spaces)
- [<span data-ttu-id="99ad3-159">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="99ad3-159">Azure Dev Spaces</span></span>](https://docs.microsoft.com/azure/dev-spaces/about)

>[!div class="step-by-step"]
><span data-ttu-id="99ad3-160">[Önceki](map-eshoponcontainers-azure-services.md)
>[İleri](centralized-configuration.md)</span><span class="sxs-lookup"><span data-stu-id="99ad3-160">[Previous](map-eshoponcontainers-azure-services.md)
[Next](centralized-configuration.md)</span></span>
