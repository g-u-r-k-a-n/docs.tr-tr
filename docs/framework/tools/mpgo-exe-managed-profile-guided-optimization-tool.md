---
title: Mpgo.exe (Yönetilen Profil Temelli İyileştirme Aracı)
description: Yönetilen profil temelli Iyileştirme aracı Mpgo.exe kullanın. Bu araçla, yerel görüntü Oluşturucu (Ngen.exe) tarafından oluşturulan yerel görüntü derlemelerini iyileştirin.
ms.date: 03/30/2017
helpviewer_keywords:
- Mpgo.exe
- training scenarios, generating profiles with
- Managed Profile Guided Optimization Tool
- Ngen.exe
- Ngen.exe, profilers and native images
ms.assetid: f6976502-a000-4fbe-aaf5-a7aab9ce4ec2
ms.openlocfilehash: 0336c3a98fb93a3b3d3689048e5c313b811630d9
ms.sourcegitcommit: 1dbe25ff484a02025d5c34146e517c236f7161fb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/19/2021
ms.locfileid: "104653913"
---
# <a name="mpgoexe-managed-profile-guided-optimization-tool"></a><span data-ttu-id="d160d-104">Mpgo.exe (Yönetilen Profil Temelli İyileştirme Aracı)</span><span class="sxs-lookup"><span data-stu-id="d160d-104">Mpgo.exe (Managed Profile Guided Optimization Tool)</span></span>

<span data-ttu-id="d160d-105">Yönetilen profil temelli Iyileştirme Aracı (Mpgo.exe), [Yerel Görüntü Oluşturucu (Ngen.exe)](ngen-exe-native-image-generator.md)tarafından oluşturulan yerel görüntü derlemelerini iyileştirmek için ortak Son Kullanıcı senaryolarını kullanan bir komut satırı aracıdır.</span><span class="sxs-lookup"><span data-stu-id="d160d-105">The Managed Profile Guided Optimization Tool (Mpgo.exe) is a command-line tool that uses common end-user scenarios to optimize the native image assemblies that are created by the [Native Image Generator (Ngen.exe)](ngen-exe-native-image-generator.md).</span></span> <span data-ttu-id="d160d-106">Bu araç, profil verilerini oluşturan eğitim senaryolarını çalıştırmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="d160d-106">This tool enables you to run training scenarios that generate profile data.</span></span> <span data-ttu-id="d160d-107">[Yerel Görüntü Oluşturucu (Ngen.exe)](ngen-exe-native-image-generator.md) , oluşturulan yerel görüntü uygulama derlemelerini iyileştirmek için bu verileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="d160d-107">The [Native Image Generator (Ngen.exe)](ngen-exe-native-image-generator.md) uses this data to optimize its generated native image application assemblies.</span></span> <span data-ttu-id="d160d-108">Eğitim senaryosu, uygulamanızın beklenen bir kullanımına ilişkin denemedir.</span><span class="sxs-lookup"><span data-stu-id="d160d-108">A training scenario is a trial run of an expected use of your application.</span></span> <span data-ttu-id="d160d-109">Mpgo.exe, Visual Studio Ultimate 2012 ve sonraki sürümlerinde kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="d160d-109">Mpgo.exe is available in Visual Studio Ultimate 2012 and later versions.</span></span> <span data-ttu-id="d160d-110">Visual Studio 2013 başlayarak, Windows 8. x mağaza uygulamalarını iyileştirmek için Mpgo.exe de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-110">Starting with Visual Studio 2013, you can also use Mpgo.exe to optimize Windows 8.x Store apps.</span></span>

<span data-ttu-id="d160d-111">Profil destekli en iyi duruma getirme süreci, eğitim senaryolarından veri toplayıp yerel görüntülerin düzenini en iyi duruma getirmek üzere onları kullanarak verimi, bellek kullanımını (çalışma kümesi boyutu) ve uygulama başlatma süresini iyileştirir.</span><span class="sxs-lookup"><span data-stu-id="d160d-111">Profile-guided optimization improves application startup time, memory utilization (working set size), and throughput by gathering data from training scenarios and using it to optimize the layout of native images.</span></span>

<span data-ttu-id="d160d-112">Ara Dil (IL) derlemeleri için başlatma süresi ve çalışma kümesi boyutuyla ilgili performansı sorunlarıyla karşılaştığınızda, just-in-time (JIT) (tam zamanında) derleme maliyetlerini ortadan kaldırmak ve kod paylaşımını kolaylaştırmak için ilk Ngen.exe'yi kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="d160d-112">When you encounter performance issues with startup time and working set size for Intermediate Language (IL) assemblies, we recommend that you first use Ngen.exe to eliminate just-in-time (JIT) compilation costs and to facilitate code sharing.</span></span> <span data-ttu-id="d160d-113">Ek geliştirmeler gerekiyorsa, uygulamanızı daha ileri düzeyde iyi hale getirmek etmek için Mpgo.exe kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-113">If you need additional improvements, you can then use Mpgo.exe to further optimize your application.</span></span> <span data-ttu-id="d160d-114">Performans artışlarını değerlendirmek için temel olarak, en iyi duruma getirilmemiş yerel görüntü derlemelerindeki performans verilerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-114">You can use the performance data from the un-optimized native image assemblies as a baseline to evaluate the performance gains.</span></span> <span data-ttu-id="d160d-115">Mpgo.exe kullanıldığında soğuk başlangıç sürelerinde kısalma ve çalışma kümesi boyutunda azalma görülebilir.</span><span class="sxs-lookup"><span data-stu-id="d160d-115">Using Mpgo.exe may result in faster cold startup times and a smaller working set size.</span></span> <span data-ttu-id="d160d-116">Mpgo.exe, en iyi duruma getirilmiş yerel görüntü derlemeleri oluşturmak için Ngen.exe'yi kullanan IL derlemelerine bilgi ekler.</span><span class="sxs-lookup"><span data-stu-id="d160d-116">Mpgo.exe adds information to IL assemblies that Ngen.exe uses to create optimized native image assemblies.</span></span> <span data-ttu-id="d160d-117">Daha fazla bilgi için bkz. .NET blogda [Masaüstü uygulamalarınız Için başlatma performansını iyileştirme](https://devblogs.microsoft.com/dotnet/improving-launch-performance-for-your-desktop-applications/) girişi.</span><span class="sxs-lookup"><span data-stu-id="d160d-117">For more information, see the entry [Improving Launch Performance for your Desktop Applications](https://devblogs.microsoft.com/dotnet/improving-launch-performance-for-your-desktop-applications/) in the .NET blog.</span></span>

<span data-ttu-id="d160d-118">Bu araç, Visual Studio ile birlikte otomatik olarak yüklenir.</span><span class="sxs-lookup"><span data-stu-id="d160d-118">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="d160d-119">Aracı çalıştırmak için yönetici kimlik bilgileriyle [Geliştirici komut istemi veya geliştirici PowerShell](/visualstudio/ide/reference/command-prompt-powershell) kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-119">To run the tool, use [Developer Command Prompt or Developer PowerShell](/visualstudio/ide/reference/command-prompt-powershell) with administrator credentials.</span></span>

<span data-ttu-id="d160d-120">Komut istemine aşağıdaki komutu girin:</span><span class="sxs-lookup"><span data-stu-id="d160d-120">Enter the following command at the command prompt:</span></span>

<span data-ttu-id="d160d-121">Masaüstü uygulamaları için:</span><span class="sxs-lookup"><span data-stu-id="d160d-121">For desktop apps:</span></span>

```console
mpgo –Scenario <command> [-Import <directory>] –AssemblyList <assembly1>  <assembly2> ... -OutDir <directory> [options]
```

<span data-ttu-id="d160d-122">Windows 8. x Mağazası uygulamaları için:</span><span class="sxs-lookup"><span data-stu-id="d160d-122">For Windows 8.x Store apps:</span></span>

```console
mpgo –Scenario <packageName> -AppID <appId> -Timeout <seconds>
```

## <a name="parameters"></a><span data-ttu-id="d160d-123">Parametreler</span><span class="sxs-lookup"><span data-stu-id="d160d-123">Parameters</span></span>

 <span data-ttu-id="d160d-124">Mpgo.exe için tüm bağımsız değişkenler büyük/küçük harfe duyarsızdır.</span><span class="sxs-lookup"><span data-stu-id="d160d-124">All arguments to Mpgo.exe are case-insensitive.</span></span> <span data-ttu-id="d160d-125">Komutlara önek olarak bir tire işareti eklenir.</span><span class="sxs-lookup"><span data-stu-id="d160d-125">Commands are prefixed with a dash.</span></span>

> [!NOTE]
> <span data-ttu-id="d160d-126">`–Scenario`Ya da `–Import` gerekli bir komut olarak kullanabilirsiniz, ancak ikisini birden kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="d160d-126">You can use either `–Scenario` or `–Import` as a required command, but not both.</span></span> <span data-ttu-id="d160d-127">Seçeneğini belirtirseniz gerekli parametrelerin hiçbiri kullanılmaz `–Reset` .</span><span class="sxs-lookup"><span data-stu-id="d160d-127">None of the required parameters are used if you specify the `–Reset` option.</span></span>

|<span data-ttu-id="d160d-128">Gerekli parametre</span><span class="sxs-lookup"><span data-stu-id="d160d-128">Required parameter</span></span>|<span data-ttu-id="d160d-129">Description</span><span class="sxs-lookup"><span data-stu-id="d160d-129">Description</span></span>|
|------------------------|-----------------|
|<span data-ttu-id="d160d-130">`-Scenario` \<*command*></span><span class="sxs-lookup"><span data-stu-id="d160d-130">`-Scenario` \<*command*></span></span><br /><br /> <span data-ttu-id="d160d-131">—veya—</span><span class="sxs-lookup"><span data-stu-id="d160d-131">—or—</span></span><br /><br /> <span data-ttu-id="d160d-132">`-Scenario` \<*packageName*></span><span class="sxs-lookup"><span data-stu-id="d160d-132">`-Scenario` \<*packageName*></span></span><br /><br /> <span data-ttu-id="d160d-133">-veya-</span><span class="sxs-lookup"><span data-stu-id="d160d-133">-or-</span></span><br /><br /> <span data-ttu-id="d160d-134">`-Import` \<*directory*></span><span class="sxs-lookup"><span data-stu-id="d160d-134">`-Import` \<*directory*></span></span>|<span data-ttu-id="d160d-135">Masaüstü uygulamaları için, `–Scenario` komut satırı bağımsız değişkenleri dahil olmak üzere iyileştirmek istediğiniz uygulamayı çalıştırmak için komutunu belirtmek üzere kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-135">For desktop apps, use `–Scenario` to specify the command to run the application you want to optimize, including any command-line arguments.</span></span> <span data-ttu-id="d160d-136">Boşluklar içeren bir yol belirtiyorsa *komut* etrafında üç çift tırnak işareti kümesini kullanın; Örneğin: `mpgo.exe -scenario """C:\My App\myapp.exe""" -assemblylist """C:\My App\myapp.exe""" -outdir "C:\optimized files"` .</span><span class="sxs-lookup"><span data-stu-id="d160d-136">Use three sets of double quotation marks around *command* if it specifies a path that includes spaces; for example: `mpgo.exe -scenario """C:\My App\myapp.exe""" -assemblylist """C:\My App\myapp.exe""" -outdir "C:\optimized files"`.</span></span> <span data-ttu-id="d160d-137">Çift tırnak işareti kullanmayın; *komut* boşluk içeriyorsa, bunlar düzgün çalışmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="d160d-137">Do not use double quotation marks; they will not work correctly if *command* includes spaces.</span></span><br /><br /> <span data-ttu-id="d160d-138">-veya-</span><span class="sxs-lookup"><span data-stu-id="d160d-138">-or-</span></span><br /><br /> <span data-ttu-id="d160d-139">Windows 8. x Mağazası uygulamaları için `–Scenario` profil bilgilerini oluşturmak istediğiniz paketi belirtmek üzere kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-139">For Windows 8.x Store apps, use `–Scenario` to specify the package that you want to generate profile information for.</span></span> <span data-ttu-id="d160d-140">Tam paket adı yerine, paketin görünen adını veya paket aile adını belirtirseniz ve yalnızca tek bir eşleşme varsa Mpgo.exe sağladığınız adla eşleşen paketi seçer.</span><span class="sxs-lookup"><span data-stu-id="d160d-140">If you specify the package display name or the package family name instead of the full package name, Mpgo.exe will select the package that matches the name you provided if there is only one match.</span></span> <span data-ttu-id="d160d-141">Belirtilen adla eşleşen birden çok paket varsa, Mpgo.exe sizden bir paket seçmenizi ister.</span><span class="sxs-lookup"><span data-stu-id="d160d-141">If multiple packages match the specified name, Mpgo.exe will prompt you to choose a package.</span></span><br /><br /> <span data-ttu-id="d160d-142">—veya—</span><span class="sxs-lookup"><span data-stu-id="d160d-142">—or—</span></span><br /><br /> <span data-ttu-id="d160d-143">`-Import`' Deki derlemeleri iyileştirmek için önceden iyileştirilmiş derlemelerin en iyi duruma getirme verilerinin kullanılması gerektiğini belirtmek için kullanın `-AssemblyList` .</span><span class="sxs-lookup"><span data-stu-id="d160d-143">Use `-Import` to specify that optimization data from previously optimized assemblies should be used to optimize the assemblies in `-AssemblyList`.</span></span> <span data-ttu-id="d160d-144">*Dizin* , önceden iyileştirilmiş dosyaları içeren dizini belirtir.</span><span class="sxs-lookup"><span data-stu-id="d160d-144">*directory* specifies the directory that contains the previously optimized files.</span></span> <span data-ttu-id="d160d-145">Veya içinde belirtilen derlemeler `–AssemblyList` , `–AssemblyListFile` içeri aktarılan dosyalardaki veriler kullanılarak en iyi duruma getirilecek derlemelerin yeni sürümleridir.</span><span class="sxs-lookup"><span data-stu-id="d160d-145">The assemblies specified in `–AssemblyList` or `–AssemblyListFile` are the new versions of the assemblies to be optimized using the data from the imported files.</span></span> <span data-ttu-id="d160d-146">Derlemelerin eski sürümlerine ait en iyi duruma getirme verilerini kullanmak, senaryoyu yeniden çalıştırmadan derlemelerin yeni sürümlerini en iyi duruma getirmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d160d-146">Using optimization data from older version of assemblies enables you to optimize newer versions of assemblies without re-running the scenario.</span></span>  <span data-ttu-id="d160d-147">Ancak, içe aktarılan ve hedef derlemeler önemli ölçüde farklı kodlar içeriyorsa, en iyi duruma getirme verileri etkisiz olur.</span><span class="sxs-lookup"><span data-stu-id="d160d-147">However, if the imported and target assemblies include significantly different code, the optimization data will be ineffective.</span></span> <span data-ttu-id="d160d-148">Veya içinde belirtilen derleme adları `–AssemblyList` , `–AssemblyListFile` Dizin tarafından belirtilen dizinde bulunmalıdır `–Import` .</span><span class="sxs-lookup"><span data-stu-id="d160d-148">The assembly names specified in `–AssemblyList` or `–AssemblyListFile` must be present in the directory specified by `–Import`*directory*.</span></span> <span data-ttu-id="d160d-149">Boşluk içeren bir yol belirtiyorsa *Dizin* etrafında üç çift tırnak işareti kümesini kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-149">Use three sets of double quotation marks around *directory* if it specifies a path that includes spaces.</span></span><br /><br /> <span data-ttu-id="d160d-150">Ya da parametresini belirtmeniz `–Scenario` gerekir `–Import` .</span><span class="sxs-lookup"><span data-stu-id="d160d-150">You must specify either `–Scenario` or `–Import`, but not both parameters.</span></span>|
|<span data-ttu-id="d160d-151">`-OutDir` \<*directory*></span><span class="sxs-lookup"><span data-stu-id="d160d-151">`-OutDir` \<*directory*></span></span>|<span data-ttu-id="d160d-152">En iyi duruma getirilmiş derlemelerin yerleştirileceği dizin.</span><span class="sxs-lookup"><span data-stu-id="d160d-152">The directory in which to place the optimized assemblies.</span></span> <span data-ttu-id="d160d-153">Çıkış dizini klasöründe bir derleme zaten varsa, yeni bir kopya oluşturulur ve adına bir dizin numarası eklenir; Örneğin: *assemblyname*-1.exe.</span><span class="sxs-lookup"><span data-stu-id="d160d-153">If an assembly already exists in the output directory folder, a new copy is created and an index number is appended to its name; for example: *assemblyname*-1.exe.</span></span> <span data-ttu-id="d160d-154">Boşluk içeren bir yol belirtiyorsa *Dizin* etrafında çift tırnak işareti kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-154">Use double quotation marks around *directory* if it specifies a path that contains spaces.</span></span>|
|<span data-ttu-id="d160d-155">`-AssemblyList` \<*assembly1 assembly2 ...*></span><span class="sxs-lookup"><span data-stu-id="d160d-155">`-AssemblyList` \<*assembly1 assembly2 ...*></span></span><br /><br /> <span data-ttu-id="d160d-156">—veya—</span><span class="sxs-lookup"><span data-stu-id="d160d-156">—or—</span></span><br /><br /> <span data-ttu-id="d160d-157">`-AssemblyListFile` \<*file*></span><span class="sxs-lookup"><span data-stu-id="d160d-157">`-AssemblyListFile` \<*file*></span></span>|<span data-ttu-id="d160d-158">Hakkında profil bilgileri toplamak istediğiniz derlemeleri (.exe ve .dll dosyaları gibi) boşluklarla ayrılmış olarak içeren bir liste.</span><span class="sxs-lookup"><span data-stu-id="d160d-158">A list of assemblies (including .exe and .dll files), separated by spaces, that you want collect profile information about.</span></span> <span data-ttu-id="d160d-159">`C:\Dir\*.dll` `*.dll` Belirtilen veya geçerli çalışma dizinindeki tüm derlemeleri belirtebilir veya seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-159">You can specify `C:\Dir\*.dll` or `*.dll` to select all the assemblies in the designated or current working directory.</span></span> <span data-ttu-id="d160d-160">Daha fazla bilgi için Açıklamalar bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="d160d-160">See the Remarks section for more information.</span></span><br /><br /> <span data-ttu-id="d160d-161">—veya—</span><span class="sxs-lookup"><span data-stu-id="d160d-161">—or—</span></span><br /><br /> <span data-ttu-id="d160d-162">Her satırda bir derleme olacak şekilde, hakkında profil bilgileri toplamak istediğiniz derlemelerin listesini içeren bir metin dosyası.</span><span class="sxs-lookup"><span data-stu-id="d160d-162">A text file that contains the list of assemblies you want to collect profile information about, listed one assembly per line.</span></span> <span data-ttu-id="d160d-163">Bir derleme adı tire işareti (-) ile başlıyorsa, bir derleme dosyası listesi kullanın veya derlemeyi yeniden adlandırın.</span><span class="sxs-lookup"><span data-stu-id="d160d-163">If an assembly name begins with a hyphen (-), use an assembly file list or rename the assembly.</span></span>|
|<span data-ttu-id="d160d-164">`-AppID` \<*appId*></span><span class="sxs-lookup"><span data-stu-id="d160d-164">`-AppID` \<*appId*></span></span>|<span data-ttu-id="d160d-165">Belirtilen paketteki uygulamanın kimliği.</span><span class="sxs-lookup"><span data-stu-id="d160d-165">The ID of the application in the specified package.</span></span> <span data-ttu-id="d160d-166">Joker karakteri ( \* ) kullanırsanız, Mpgo.exe paketteki Appıds değerlerini numaralandırmaya çalışır ve geri dönecektir \<*package_family_name*> ! Uygulama başarısız olursa.</span><span class="sxs-lookup"><span data-stu-id="d160d-166">If you use the wildcard (\*), Mpgo.exe will try to enumerate the AppIDs in the package and will fall back to \<*package_family_name*>!App if it fails.</span></span> <span data-ttu-id="d160d-167">Başında önek olarak ünlem işareti (!) konmuş bir dize belirtirseniz, Mpgo.exe paket aile adını sağlanan bağımsız değişkenle birleştirir.</span><span class="sxs-lookup"><span data-stu-id="d160d-167">If you specify a string that is prefixed by an exclamation point (!), Mpgo.exe will concatenate the package family name with the argument provided.</span></span>|
|<span data-ttu-id="d160d-168">`-Timeout` \<*seconds*></span><span class="sxs-lookup"><span data-stu-id="d160d-168">`-Timeout` \<*seconds*></span></span>|<span data-ttu-id="d160d-169">Uygulama gelmeden önce Windows 8. x Mağazası uygulamasının çalışmasına izin verme süresi.</span><span class="sxs-lookup"><span data-stu-id="d160d-169">The amount of time to allow the Windows 8.x Store app to run before the app exits.</span></span>|

|<span data-ttu-id="d160d-170">İsteğe bağlı parametre</span><span class="sxs-lookup"><span data-stu-id="d160d-170">Optional parameter</span></span>|<span data-ttu-id="d160d-171">Description</span><span class="sxs-lookup"><span data-stu-id="d160d-171">Description</span></span>|
|------------------------|-----------------|
|`-64bit`|<span data-ttu-id="d160d-172">64-bit sistemler için derlemeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="d160d-172">Instruments the assemblies for 64-bit systems.</span></span>  <span data-ttu-id="d160d-173">Derlemeniz kendisini 64-bit olarak bildiriyor olsa da 64-bit derlemeler için bu parametreyi belirtmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-173">You must specify this parameter for 64-bit assemblies, even if your assembly declares itself as 64 bit.</span></span>|
|<span data-ttu-id="d160d-174">`-ExeConfig` \<*filename*></span><span class="sxs-lookup"><span data-stu-id="d160d-174">`-ExeConfig` \<*filename*></span></span>|<span data-ttu-id="d160d-175">Senaryonuzun sürüm ve yükleyici bilgilerini sağlamak üzere kullandığı yapılandırma dosyasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="d160d-175">Specifies the configuration file that your scenario uses to provide version and loader information.</span></span>|
|`-f`|<span data-ttu-id="d160d-176">İmzalanmış olsa da, ikili bir derlemeye profil verilerinin eklenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="d160d-176">Forces the inclusion of the profile data in a binary assembly, even if it's signed.</span></span>  <span data-ttu-id="d160d-177">Derleme imzalanmışsa, yeniden imzalanması gerekir; aksi takdirde derleme yüklenemez ve çalıştırılamaz.</span><span class="sxs-lookup"><span data-stu-id="d160d-177">If the assembly is signed, it must be re-signed; otherwise, the assembly will fail to load and run.</span></span>|
|`-Reset`|<span data-ttu-id="d160d-178">İptal edilen bir profil oluşturma oturumunun derlemelerinizi etkilemediğinden emin olmak için ortamı sıfırlar ve ardından çıkış yapar.</span><span class="sxs-lookup"><span data-stu-id="d160d-178">Resets the environment to make certain that an aborted profiling session doesn't affect your assemblies, and then quits.</span></span> <span data-ttu-id="d160d-179">Ortam varsayılan olarak bir profil oluşturma oturumundan önce ve sonra sıfırlanır.</span><span class="sxs-lookup"><span data-stu-id="d160d-179">The environment is reset by default before and after a profiling session.</span></span>|
|<span data-ttu-id="d160d-180">`-Timeout` \<*time in seconds*></span><span class="sxs-lookup"><span data-stu-id="d160d-180">`-Timeout` \<*time in seconds*></span></span>|<span data-ttu-id="d160d-181">Profil oluşturma süresini saniye cinsinden belirtir.</span><span class="sxs-lookup"><span data-stu-id="d160d-181">Specifies the profiling duration in seconds.</span></span> <span data-ttu-id="d160d-182">GUI uygulamaları için, gözlemlenen başlangıç zamanlarınızdan biraz daha büyük bir değer kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-182">Use a value that is slightly more than your observed startup times for GUI applications.</span></span> <span data-ttu-id="d160d-183">Uygulama çalışmaya devam etse de, zaman aşımı süresinin sonunda profil verileri kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="d160d-183">At the end of the time-out period, the profile data is recorded although the application continues to run.</span></span> <span data-ttu-id="d160d-184">Bu seçeneği ayarlamazsanız, profil oluşturma işlemi uygulamayı kapanana kadar devam eder, ardından veriler kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="d160d-184">If you don't set this option, profiling will continue until application shutdown, at which time the data will be recorded.</span></span>|
|`-LeaveNativeImages`|<span data-ttu-id="d160d-185">Kullanılan yerel görüntülerin senaryo çalıştırıldıktan sonra kaldırılmayacağını belirtir.</span><span class="sxs-lookup"><span data-stu-id="d160d-185">Specifies that the instrumented native images shouldn't be removed after running the scenario.</span></span> <span data-ttu-id="d160d-186">Bu seçenek öncelikle senaryo için belirttiğiniz uygulamayı çalıştırırken kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d160d-186">This option is primarily used when you're getting the application that you specified for the scenario running.</span></span> <span data-ttu-id="d160d-187">Mpgo.exe'nin sonraki çalışmaları için yerel görüntülerin yeniden oluşturulmasını önler.</span><span class="sxs-lookup"><span data-stu-id="d160d-187">It will prevent the recreation of native images for subsequent runs of Mpgo.exe.</span></span> <span data-ttu-id="d160d-188">Bu seçeneği belirtirseniz, uygulamanızı çalıştırmayı tamamladığınızda, önbellekte üst öğesi olmayan yerel görüntüler olabilir.</span><span class="sxs-lookup"><span data-stu-id="d160d-188">When you have finished running your application, there may be orphaned native images in the cache if you specify this option.</span></span> <span data-ttu-id="d160d-189">Bu durumda, aynı senaryo ve derleme listesi ile Mpgo.exe çalıştırın ve `–RemoveNativeImages` Bu yerel görüntüleri kaldırmak için parametresini kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-189">In this case, run Mpgo.exe with the same scenario and assembly list and use the `–RemoveNativeImages` parameter to remove these native images.</span></span>|
|`-RemoveNativeImages`|<span data-ttu-id="d160d-190">Belirtilen bir çalıştırmanın ölçeğini temizler `–LeaveNativeImages` .</span><span class="sxs-lookup"><span data-stu-id="d160d-190">Cleans up from a run where `–LeaveNativeImages` was specified.</span></span> <span data-ttu-id="d160d-191">`-RemoveNativeImages`' I belirtirseniz, Mpgo.exe hariç tüm bağımsız değişkenleri `-64bit` yoksayar `–AssemblyList` ve tüm belgelenmiş yerel görüntüleri kaldırdıktan sonra çıkar.</span><span class="sxs-lookup"><span data-stu-id="d160d-191">If you specify `-RemoveNativeImages`, Mpgo.exe ignores any arguments except `-64bit` and `–AssemblyList`, and exits after removing all instrumented native images.</span></span>|

## <a name="remarks"></a><span data-ttu-id="d160d-192">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="d160d-192">Remarks</span></span>

 <span data-ttu-id="d160d-193">Komut satırında hem hem `–AssemblyList` de `- AssemblyListFile` birden çok kez kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-193">You can use both `–AssemblyList` and `- AssemblyListFile` multiple times on the command line.</span></span>

 <span data-ttu-id="d160d-194">Derlemeleri belirtirken tam yol adları belirtmezseniz, Mpgo.exe geçerli dizinde arar.</span><span class="sxs-lookup"><span data-stu-id="d160d-194">If you do not specify full path names when specifying assemblies, Mpgo.exe looks in the current directory.</span></span> <span data-ttu-id="d160d-195">Yanlış bir yol belirtirseniz, Mpgo.exe bir hata iletisi görüntüler, ancak diğer derlemeler için veri oluşturmaya devam eder.</span><span class="sxs-lookup"><span data-stu-id="d160d-195">If you specify an incorrect path, Mpgo.exe displays an error message but continues to generate data for other assemblies.</span></span> <span data-ttu-id="d160d-196">Eğitim senaryosu sırasında yüklenmemiş bir derleme belirtirseniz, o derleme için eğitim verisi oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="d160d-196">If you specify an assembly that is not loaded during the training scenario, no training data is generated for that assembly.</span></span>

 <span data-ttu-id="d160d-197">Listedeki bir derleme genel derleme önbelleğinde ise, profil bilgilerini içerecek şekilde güncelleştirilmez.</span><span class="sxs-lookup"><span data-stu-id="d160d-197">If an assembly in the list is in the global assembly cache, it will not be updated to contain the profile information.</span></span>  <span data-ttu-id="d160d-198">Profil bilgilerini toplamak için onu genel derleme önbelleğinden kaldırın.</span><span class="sxs-lookup"><span data-stu-id="d160d-198">Remove it from the global assembly cache to collect profile information.</span></span>

 <span data-ttu-id="d160d-199">Ngen.exe ve Mpgo.exe'nin kullanılması yalnızca yönetilen büyük uygulamalar için önerilir, çünkü önceden derlenmiş yerel görüntülerin yararı genellikle yalnızca çalışma zamanında önemli ölçüde JIT derlemesini kaldırdığında görülür.</span><span class="sxs-lookup"><span data-stu-id="d160d-199">The use of Ngen.exe and Mpgo.exe is recommended only for large managed applications, because the benefit of precompiled native images is typically seen only when it eliminates significant JIT compilation at run time.</span></span> <span data-ttu-id="d160d-200">Yoğun bir şekilde ayarlı olmayan "Merhaba Dünya" stil uygulamalarında Mpgo.exe çalıştırmak, daha fazla avantaj sağlamayacaktır ve Mpgo.exe profil verilerini toplayamayabilir.</span><span class="sxs-lookup"><span data-stu-id="d160d-200">Running Mpgo.exe on "Hello World" style applications that aren’t working-set intensive will not provide any benefits, and Mpgo.exe may even fail to gather profile data.</span></span>

> [!NOTE]
> <span data-ttu-id="d160d-201">Ngen.exe ve Mpgo.exe, ASP.NET uygulamaları ve Windows Communication Foundation (WCF) hizmetleri için önerilmez.</span><span class="sxs-lookup"><span data-stu-id="d160d-201">Ngen.exe and Mpgo.exe are not recommended for ASP.NET applications and Windows Communication Foundation (WCF) services.</span></span>

## <a name="to-use-mpgoexe"></a><span data-ttu-id="d160d-202">Mpgo.exe'yi kullanmak için</span><span class="sxs-lookup"><span data-stu-id="d160d-202">To Use Mpgo.exe</span></span>

1. <span data-ttu-id="d160d-203">Visual Studio Ultimate 2012 ve uygulamanızın yüklü olduğu bir bilgisayar kullanın.</span><span class="sxs-lookup"><span data-stu-id="d160d-203">Use a computer that has the Visual Studio Ultimate 2012 and your application installed.</span></span>

2. <span data-ttu-id="d160d-204">Mpgo.exe'yi bir yönetici olarak gerekli parametrelerle çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="d160d-204">Run Mpgo.exe as an administrator with the necessary parameters.</span></span>  <span data-ttu-id="d160d-205">Örnek komutlar için sonraki bölüme bakın.</span><span class="sxs-lookup"><span data-stu-id="d160d-205">See the next section for sample commands.</span></span>

     <span data-ttu-id="d160d-206">İyileştirilmiş ara dil (IL) derlemeleri, parametresi tarafından belirtilen klasörde oluşturulur `–OutDir` (örneklerde, bu `C:\Optimized` klasördür).</span><span class="sxs-lookup"><span data-stu-id="d160d-206">The optimized intermediate language (IL) assemblies are created in the folder specified by the `–OutDir` parameter (in the examples, this is the `C:\Optimized` folder).</span></span>

3. <span data-ttu-id="d160d-207">Ngen.exe için kullandığınız Il derlemelerini, tarafından belirtilen dizinden profil bilgilerini içeren yeni Il Derlemeleriyle değiştirin `–OutDir` .</span><span class="sxs-lookup"><span data-stu-id="d160d-207">Replace the IL assemblies you used for Ngen.exe  with the new IL assemblies that contain the profile information from the directory specified by `–OutDir`.</span></span>

4. <span data-ttu-id="d160d-208">Mpgo.exe tarafından sağlanan görüntüleri kullanan uygulama kurulumu en iyi duruma getirilmiş yerel görüntüleri yükler.</span><span class="sxs-lookup"><span data-stu-id="d160d-208">The application setup (using the images provided by Mpgo.exe) will install optimized native images.</span></span>

## <a name="suggested-workflow"></a><span data-ttu-id="d160d-209">Önerilen İş Akışı</span><span class="sxs-lookup"><span data-stu-id="d160d-209">Suggested Workflow</span></span>

1. <span data-ttu-id="d160d-210">Parametresiyle Mpgo.exe kullanarak en iyileştirilmiş bir IL derlemeleri kümesi oluşturun `–Scenario` .</span><span class="sxs-lookup"><span data-stu-id="d160d-210">Create a set of optimized IL assemblies by using Mpgo.exe with the `–Scenario` parameter.</span></span>

2. <span data-ttu-id="d160d-211">En iyi duruma getirilmiş IL derlemelerini kaynak denetime girin.</span><span class="sxs-lookup"><span data-stu-id="d160d-211">Check the optimized IL assemblies into source control.</span></span>

3. <span data-ttu-id="d160d-212">Yapı sürecinde, `–Import` Ngen.exe geçirilecek IYILEŞTIRILMIŞ Il görüntüleri oluşturmak için derleme sonrası bir adım olarak parametresiyle Mpgo.exe çağırın.</span><span class="sxs-lookup"><span data-stu-id="d160d-212">In the build process, call Mpgo.exe with the `–Import` parameter as a post-build step to generate optimized IL images to pass to Ngen.exe.</span></span>

 <span data-ttu-id="d160d-213">Bu işlem tüm derlemelerin en iyi duruma getirilmiş verilere sahip olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="d160d-213">This process ensures that all assemblies have optimization data.</span></span> <span data-ttu-id="d160d-214">Güncelleştirilmiş en iyi duruma getirilmiş derlemeleri daha sık iade ederseniz (1. ve 2. adım), tüm üretim geliştirme sürecinde performans numaraları daha tutarlı olur.</span><span class="sxs-lookup"><span data-stu-id="d160d-214">If you check in updated optimized assemblies (steps 1 and 2) more frequently, the performance numbers will be more consistent throughout product development.</span></span>

## <a name="using-mpgoexe-from-visual-studio"></a><span data-ttu-id="d160d-215">Visual Studio'dan Mpgo.exe'yi kullanma</span><span class="sxs-lookup"><span data-stu-id="d160d-215">Using Mpgo.exe from Visual Studio</span></span>

 <span data-ttu-id="d160d-216">Visual Studio 'dan Mpgo.exe çalıştırabilirsiniz (bkz. [nasıl yapılır: yapı olaylarını belirtme (C#)](/visualstudio/ide/how-to-specify-build-events-csharp)) aşağıdaki kısıtlamalara göre:</span><span class="sxs-lookup"><span data-stu-id="d160d-216">You can run Mpgo.exe from Visual Studio (see the article [How to: Specify Build Events (C#)](/visualstudio/ide/how-to-specify-build-events-csharp)) with the following restrictions:</span></span>

- <span data-ttu-id="d160d-217">Visual Studio makroları aynı zamanda varsayılan olarak sonlarında eğik çizgiler içerdiğinden, sonda eğik çizgileri olan tırnak işaretli yollar kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="d160d-217">You cannot use quoted paths with trailing slash marks, because Visual Studio macros also use trailing slash marks by default.</span></span> <span data-ttu-id="d160d-218">(Örneğin, `–OutDir "C:\Output Folder\"` geçersiz.) Bu kısıtlamayı geçici olarak çözmek için sondaki eğik çizgiden çıkma yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-218">(For example, `–OutDir "C:\Output Folder\"` is invalid.) To work around this restriction, you can escape the trailing slash.</span></span> <span data-ttu-id="d160d-219">(Örneğin, `-OutDir "$(OutDir)\"` bunun yerine kullanın.)</span><span class="sxs-lookup"><span data-stu-id="d160d-219">(For example, use `-OutDir "$(OutDir)\"` instead.)</span></span>

- <span data-ttu-id="d160d-220">Varsayılan olarak, Mpgo.exe Visual Studio yapı yolu üzerinde değildir.</span><span class="sxs-lookup"><span data-stu-id="d160d-220">By default, Mpgo.exe is not on the Visual Studio build path.</span></span> <span data-ttu-id="d160d-221">Yolu Visual Studio'ya eklemeli ya da Mpgo komut satırında tam yolu belirtmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-221">You must either add the path to Visual Studio or specify the full path on the Mpgo command line.</span></span> <span data-ttu-id="d160d-222">`–Scenario` `–Import` Visual Studio 'da derleme sonrası olayında ya da parametresini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d160d-222">You can use either the `–Scenario` or the `–Import` parameter in the post-build event in Visual Studio.</span></span> <span data-ttu-id="d160d-223">Ancak, tipik işlem, `–Scenario` Visual Studio için geliştirici komut istemi bir kez kullanılır ve ardından `–Import` her derlemeden sonra iyileştirilmiş derlemeleri güncelleştirmek için kullanılır; Örneğin:  `"C:\Program Files\Microsoft Visual Studio 11.0\Team Tools\Performance Tools\mpgo.exe" -import "$(OutDir)tmp" -assemblylist "$(TargetPath)" -outdir "$(OutDir)\"` .</span><span class="sxs-lookup"><span data-stu-id="d160d-223">However, the typical process is to use `–Scenario` one time from a Developer Command Prompt for Visual Studio, and then use `–Import` to update the optimized assemblies after each build; for example:  `"C:\Program Files\Microsoft Visual Studio 11.0\Team Tools\Performance Tools\mpgo.exe" -import "$(OutDir)tmp" -assemblylist "$(TargetPath)" -outdir "$(OutDir)\"`.</span></span>

<a name="samples"></a>

## <a name="examples"></a><span data-ttu-id="d160d-224">Örnekler</span><span class="sxs-lookup"><span data-stu-id="d160d-224">Examples</span></span>

 <span data-ttu-id="d160d-225">Visual Studio için bir Geliştirici Komut İstemi aşağıdaki Mpgo.exe komutu bir vergi uygulamasını iyileştirir:</span><span class="sxs-lookup"><span data-stu-id="d160d-225">The following Mpgo.exe command from a Developer Command Prompt for Visual Studio optimizes a tax application:</span></span>

```console
mpgo –scenario "C:\MyApp\MyTax.exe /params par" –AssemblyList Mytax.dll MyTaxUtil2011.dll –OutDir C:\Optimized –TimeOut 15
```

 <span data-ttu-id="d160d-226">Aşağıdaki Mpgo.exe komut bir ses uygulamasını en iyi duruma getirir:</span><span class="sxs-lookup"><span data-stu-id="d160d-226">The following Mpgo.exe command optimizes a sound application:</span></span>

```console
mpgo –scenario "C:\MyApp\wav2wma.exe –input song1.wav –output song1.wma" –AssemblyList transcode.dll –OutDir C:\Optimized –TimeOut 15
```

 <span data-ttu-id="d160d-227">Aşağıdaki Mpgo.exe komutu yeni sürümleri en iyi duruma getirmek için daha önce en iyi duruma getirilmiş derlemelere ait verileri kullanır:</span><span class="sxs-lookup"><span data-stu-id="d160d-227">The following Mpgo.exe command uses data from previously optimized assemblies to optimize newer versions of the assemblies:</span></span>

```console
mpgo.exe -import "C:\Optimized" -assemblylist "C:\MyApp\MyTax.dll" "C:\MyApp\MyTaxUtil2011.dll" -outdir C:\ReOptimized
```

## <a name="see-also"></a><span data-ttu-id="d160d-228">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="d160d-228">See also</span></span>

- [<span data-ttu-id="d160d-229">Ngen.exe (yerel görüntü Oluşturucu)</span><span class="sxs-lookup"><span data-stu-id="d160d-229">Ngen.exe (Native Image Generator)</span></span>](ngen-exe-native-image-generator.md)
- [<span data-ttu-id="d160d-230">Geliştirici komut satırı kabukları</span><span class="sxs-lookup"><span data-stu-id="d160d-230">Developer command-line shells</span></span>](/visualstudio/ide/reference/command-prompt-powershell)
- [<span data-ttu-id="d160d-231">Masaüstü uygulamalarınız için başlatma performansını artırma</span><span class="sxs-lookup"><span data-stu-id="d160d-231">Improving Launch Performance for your Desktop Applications</span></span>](https://devblogs.microsoft.com/dotnet/improving-launch-performance-for-your-desktop-applications/)
- [<span data-ttu-id="d160d-232">.NET Framework 4,5 ' deki performans Iyileştirmelerine genel bakış</span><span class="sxs-lookup"><span data-stu-id="d160d-232">An Overview of Performance Improvements in .NET Framework 4.5</span></span>](/archive/msdn-magazine/2012/april/clr-an-overview-of-performance-improvements-in-net-4-5)
