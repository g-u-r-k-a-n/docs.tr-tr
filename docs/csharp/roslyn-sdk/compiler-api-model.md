---
title: .NET Derleyici Platformu SDK kavramları ve nesne modeli
description: Bu genel bakış, .NET derleyicisi SDK ile etkili bir şekilde çalışmak için gereken arka planı sağlar. API katmanlarını, ilgili ana türleri ve genel nesne modelini öğreneceksiniz.
ms.date: 10/10/2017
ms.custom: mvc
ms.openlocfilehash: e563260e21fb8807017db90ff63e30fec0415a48
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "79156967"
---
# <a name="understand-the-net-compiler-platform-sdk-model"></a><span data-ttu-id="b3c27-104">.NET Derleyici Platformu SDK modelini anlayın</span><span class="sxs-lookup"><span data-stu-id="b3c27-104">Understand the .NET Compiler Platform SDK model</span></span>

<span data-ttu-id="b3c27-105">Derleyiciler, yazdığınız kodu, genellikle insanların kodu okuma ve anlama şeklinden farklı olan yapılandırılmış kuralları izleyerek işler.</span><span class="sxs-lookup"><span data-stu-id="b3c27-105">Compilers process the code you write following structured rules that often differ from the way humans read and understand code.</span></span> <span data-ttu-id="b3c27-106">Derleyiciler tarafından kullanılan modelin temel bir şekilde anlaşılması, Roslyn tabanlı araçlar inşa ederken kullandığınız API'leri anlamak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-106">A basic understanding of the model used by compilers is essential to understanding the APIs you use when building Roslyn-based tools.</span></span>

## <a name="compiler-pipeline-functional-areas"></a><span data-ttu-id="b3c27-107">Derleyici boru hattı fonksiyonel alanları</span><span class="sxs-lookup"><span data-stu-id="b3c27-107">Compiler pipeline functional areas</span></span>

<span data-ttu-id="b3c27-108">.NET Derleyici Platformu SDK, geleneksel derleyici ardışık hattını yansıtan bir API katmanı sağlayarak C# ve Visual Basic derleyicilerinin kod çözümlemesi'ni tüketici olarak size sunar.</span><span class="sxs-lookup"><span data-stu-id="b3c27-108">The .NET Compiler Platform SDK exposes the C# and Visual Basic compilers' code analysis to you as a consumer by providing an API layer that mirrors a traditional compiler pipeline.</span></span>

![nesne koduna derleyici boru hattı işleme kaynak kodunun adımları](media/compiler-api-model/compiler-pipeline.png)

<span data-ttu-id="b3c27-110">Bu ardışık hattın her aşaması ayrı bir bileşendir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-110">Each phase of this pipeline is a separate component.</span></span> <span data-ttu-id="b3c27-111">İlk olarak, ayrıştirme aşaması, kaynak metni dil dilbilgisini izleyen sözdizimi olarak belirterek ayrıştirır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-111">First, the parse phase tokenizes and parses source text into syntax that follows the language grammar.</span></span> <span data-ttu-id="b3c27-112">İkinci olarak, bildirim aşaması kaynak ve alınan meta verileri çözümleyip adlandırılmış sembolleroluşturur.</span><span class="sxs-lookup"><span data-stu-id="b3c27-112">Second, the declaration phase analyzes source and imported metadata to form named symbols.</span></span> <span data-ttu-id="b3c27-113">Daha sonra, bağlama aşaması koddaki tanımlayıcıları sembollerle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-113">Next, the bind phase matches identifiers in the code to symbols.</span></span> <span data-ttu-id="b3c27-114">Son olarak, yayan aşama derleyici tarafından biriken tüm bilgileri içeren bir derleme yayar.</span><span class="sxs-lookup"><span data-stu-id="b3c27-114">Finally, the emit phase emits an assembly with all the information built up by the compiler.</span></span>

![derleyici pipeline api derleyici ardışık bir parçası olan her adıma erişim sağlar](media/compiler-api-model/compiler-pipeline-api.png)

<span data-ttu-id="b3c27-116">Bu aşamaların her birine karşılık gelen .NET Derleyici Platformu SDK, o aşamadaki bilgilere erişim sağlayan bir nesne modelini ortaya çıkarır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-116">Corresponding to each of those phases, the .NET Compiler Platform SDK exposes an object model that allows access to the information at that phase.</span></span> <span data-ttu-id="b3c27-117">Ayrıştırma aşaması sözdizimi ağacını, bildirim aşaması hiyerarşik bir sembol tablosunu, bağlama aşaması derleyicinin semantik çözümlemesi sonucunu ortaya çıkarır ve yaslanma aşaması IL byte kodları üreten bir API'dir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-117">The parsing phase exposes a syntax tree, the declaration phase exposes a hierarchical symbol table, the binding phase exposes the result of the compiler’s semantic analysis, and the emit phase is an API that produces IL byte codes.</span></span>

![derleyici ardışık boru hattının her adımında derleyici api'den edinilebilen dil hizmetleri](media/compiler-api-model/compiler-pipeline-lang-svc.png)

<span data-ttu-id="b3c27-119">Her derleyici bu bileşenleri tek bir uç-uç bütün olarak birleştirir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-119">Each compiler combines these components together as a single end-to-end whole.</span></span>

<span data-ttu-id="b3c27-120">Bu API'ler Visual Studio tarafından kullanılanlarla aynıdır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-120">These APIs are the same ones used by Visual Studio.</span></span> <span data-ttu-id="b3c27-121">Örneğin, kod anahat ve biçimlendirme özellikleri sözdizimi ağaçlarını kullanır, Nesne Tarayıcısı ve gezinti özellikleri sembol tablosunu kullanır, yeniden düzenleme ve Tanıma Git semantik modeli kullanır ve Düzenle ve Devam, Emit API dahil olmak üzere tüm bunları kullanır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-121">For instance, the code outlining and formatting features use the syntax trees, the Object Browser and navigation features use the symbol table, refactorings and Go to Definition use the semantic model, and Edit and Continue uses all of these, including the Emit API.</span></span>

## <a name="api-layers"></a><span data-ttu-id="b3c27-122">API katmanları</span><span class="sxs-lookup"><span data-stu-id="b3c27-122">API layers</span></span>

<span data-ttu-id="b3c27-123">.NET derleyici SDK API'lerin iki ana katmanından oluşur: derleyici API'leri ve çalışma alanları API'leri.</span><span class="sxs-lookup"><span data-stu-id="b3c27-123">The .NET compiler SDK consists of two main layers of APIs: compiler APIs and workspaces APIs.</span></span>

![derleyici boru hattı apistarafından temsil edilen api katmanları](media/compiler-api-model/api-layers.png)

### <a name="compiler-apis"></a><span data-ttu-id="b3c27-125">Derleyici API'leri</span><span class="sxs-lookup"><span data-stu-id="b3c27-125">Compiler APIs</span></span>

<span data-ttu-id="b3c27-126">Derleyici katmanı, derleyici ardışık ardışık ardışık ardışık ardışık her aşamasında maruz kalan bilgilere karşılık gelen nesne modellerini içerir, hem sözdizimverici hem de anlamsal.</span><span class="sxs-lookup"><span data-stu-id="b3c27-126">The compiler layer contains the object models that correspond to information exposed at each phase of the compiler pipeline, both syntactic and semantic.</span></span> <span data-ttu-id="b3c27-127">Derleyici katmanı, derleme başvuruları, derleyici seçenekleri ve kaynak kodu dosyaları da dahil olmak üzere derleyicinin tek bir çağırmasının değişmez anlık görüntüsünü de içerir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-127">The compiler layer also contains an immutable snapshot of a single invocation of a compiler, including assembly references, compiler options, and source code files.</span></span> <span data-ttu-id="b3c27-128">C# dilini ve Visual Basic dilini temsil eden iki farklı API vardır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-128">There are two distinct APIs that represent the C# language and the Visual Basic language.</span></span> <span data-ttu-id="b3c27-129">Bu iki API şeklinde benzer ama her bir dile yüksek sadakat için özel.</span><span class="sxs-lookup"><span data-stu-id="b3c27-129">These two APIs are similar in shape but tailored for high-fidelity to each individual language.</span></span> <span data-ttu-id="b3c27-130">Bu katmanın Visual Studio bileşenlerine hiçbir bağımlılığı yoktur.</span><span class="sxs-lookup"><span data-stu-id="b3c27-130">This layer has no dependencies on Visual Studio components.</span></span>

### <a name="diagnostic-apis"></a><span data-ttu-id="b3c27-131">TanıSAL API'lar</span><span class="sxs-lookup"><span data-stu-id="b3c27-131">Diagnostic APIs</span></span>

<span data-ttu-id="b3c27-132">Derleme, analizinin bir parçası olarak sözdizimi, anlamsal ve kesin atama hatalarından çeşitli uyarılara ve bilgilendirme diagnostiklerine kadar her şeyi kapsayan bir dizi tanılama üretebilir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-132">As part of its analysis the compiler may produce a set of diagnostics covering everything from syntax, semantic, and definite assignment errors to various warnings and informational diagnostics.</span></span> <span data-ttu-id="b3c27-133">Derleyici API katmanı, kullanıcı tanımlı çözümleyicilerin derleme işlemine takılmasını sağlayan genişletilebilir bir API aracılığıyla tanılamayı ortaya çıkarır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-133">The Compiler API layer exposes diagnostics through an extensible API that allows user-defined analyzers to be plugged into the compilation process.</span></span> <span data-ttu-id="b3c27-134">StyleCop veya FxCop gibi araçlar tarafından üretilenler gibi kullanıcı tanımlı tanılamaların derleyici tanımlı tanılamayla birlikte üretilmesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-134">It allows user-defined diagnostics, such as those produced by tools like StyleCop or FxCop, to be produced alongside compiler-defined diagnostics.</span></span> <span data-ttu-id="b3c27-135">Bu şekilde tanılama üretmek, politikaya dayalı bir yapıyı durdurmak ve editörde canlı squiggles göstermek ve kod önermek gibi deneyimler için tanılama ya da tanılama ya da kod önerme gibi araçlarla doğal olarak bütünleşme nin avantajına sahiptir. Giderir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-135">Producing diagnostics in this way has the benefit of integrating naturally with tools such as MSBuild and Visual Studio which depend on diagnostics for experiences such as halting a build based on policy and showing live squiggles in the editor and suggesting code fixes.</span></span>

### <a name="scripting-apis"></a><span data-ttu-id="b3c27-136">Komut Dosyası API'leri</span><span class="sxs-lookup"><span data-stu-id="b3c27-136">Scripting APIs</span></span>

<span data-ttu-id="b3c27-137">Barındırma ve komut dosyası API'leri derleyici katmanının bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-137">Hosting and scripting APIs are part of the compiler layer.</span></span> <span data-ttu-id="b3c27-138">Bunları kod parçacıklarını yürütmek ve çalışma zamanı yürütme bağlamı biriktirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3c27-138">You can use them for executing code snippets and accumulating a runtime execution context.</span></span>
<span data-ttu-id="b3c27-139">C# etkileşimli REPL (Oku-Değerlendir-Yazdır Döngüsü) bu API'leri kullanır.</span><span class="sxs-lookup"><span data-stu-id="b3c27-139">The C# interactive REPL (Read-Evaluate-Print Loop) uses these APIs.</span></span> <span data-ttu-id="b3c27-140">REPL, C#'ı komut dosyası dili olarak kullanmanızı ve siz yazarken kodu etkileşimli olarak yürütmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="b3c27-140">The REPL enables you to use C# as a scripting language, executing the code interactively as you write it.</span></span>

### <a name="workspaces-apis"></a><span data-ttu-id="b3c27-141">Çalışma Alanları API'leri</span><span class="sxs-lookup"><span data-stu-id="b3c27-141">Workspaces APIs</span></span>

<span data-ttu-id="b3c27-142">Çalışma Alanları katmanı, kod çözümlemesi yapmak ve tüm çözümleri yeniden düzenlemenin başlangıç noktası olan Çalışma Alanı API'sini içerir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-142">The Workspaces layer contains the Workspace API, which is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="b3c27-143">Projelerle ilgili tüm bilgileri tek bir nesne modelinde düzenlemenize yardımcı olur ve dosyaları ayrıştırmaya, seçenekleri yapılandırmaya veya projeden projeye bağımlılıkları yönetmeye gerek kalmadan derleyici katmanı nesne modellerine doğrudan erişim sağlar .</span><span class="sxs-lookup"><span data-stu-id="b3c27-143">It assists you in organizing all the information about the projects in a solution into single object model, offering you direct access to the compiler layer object models without needing to parse files, configure options, or manage project-to-project dependencies.</span></span>

<span data-ttu-id="b3c27-144">Buna ek olarak, Çalışma Alanları katmanı, Visual Studio IDE gibi bir ana bilgisayar ortamında işlev gören kod çözümlemesi ve yeniden düzenleme araçları uygularken kullanılan bir dizi API'yi yüzeyler.</span><span class="sxs-lookup"><span data-stu-id="b3c27-144">In addition, the Workspaces layer surfaces a set of APIs used when implementing code analysis and refactoring tools that function within a host environment like the Visual Studio IDE.</span></span> <span data-ttu-id="b3c27-145">Örnekler arasında Tüm Başvuruları Bul, Biçimlendirme ve Kod Oluşturma API'leri verilebilir.</span><span class="sxs-lookup"><span data-stu-id="b3c27-145">Examples include the Find All References, Formatting, and Code Generation APIs.</span></span>

<span data-ttu-id="b3c27-146">Bu katmanın Visual Studio bileşenlerine hiçbir bağımlılığı yoktur.</span><span class="sxs-lookup"><span data-stu-id="b3c27-146">This layer has no dependencies on Visual Studio components.</span></span>
