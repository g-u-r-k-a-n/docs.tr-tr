---
title: Gözlemlenebilirlik desenleri
description: Bulutta yerel uygulamalar için Observability desenleri
ms.date: 05/13/2020
ms.openlocfilehash: db6a56358923025cbcca9478908474227e5da96d
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/19/2020
ms.locfileid: "83613817"
---
# <a name="observability-patterns"></a><span data-ttu-id="846a2-103">Gözlemlenebilirlik desenleri</span><span class="sxs-lookup"><span data-stu-id="846a2-103">Observability patterns</span></span>

<span data-ttu-id="846a2-104">Aynı şekilde, uygulamalarda kod düzeninde yardımcı olacak desenler geliştirildiği gibi, güvenilir bir şekilde işletim uygulamaları için desenler de vardır.</span><span class="sxs-lookup"><span data-stu-id="846a2-104">Just as patterns have been developed to aid in the layout of code in applications, there are patterns for operating applications in a reliable way.</span></span> <span data-ttu-id="846a2-105">Uygulamaları muhafaza etmek için üç kullanışlı düzen ortaya çıktı: **günlüğe kaydetme**, **izleme**ve **Uyarılar**.</span><span class="sxs-lookup"><span data-stu-id="846a2-105">Three useful patterns in maintaining applications have emerged: **logging**, **monitoring**, and **alerts**.</span></span>

## <a name="when-to-use-logging"></a><span data-ttu-id="846a2-106">Günlüğe kaydetme ne zaman kullanılır?</span><span class="sxs-lookup"><span data-stu-id="846a2-106">When to use logging</span></span>

<span data-ttu-id="846a2-107">Ne kadar dikkatli oluruz, uygulamalar üretimde beklenmedik yollarla neredeyse her zaman davranır.</span><span class="sxs-lookup"><span data-stu-id="846a2-107">No matter how careful we are, applications almost always behave in unexpected ways in production.</span></span> <span data-ttu-id="846a2-108">Kullanıcılar bir uygulamayla ilgili sorunları raporlayabilir, sorun oluştuğunda uygulamayla neler olduğunu görmeniz son derece yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="846a2-108">When users report problems with an application, it's extremely useful to be able to see what was going on with the app when the problem occurred.</span></span> <span data-ttu-id="846a2-109">Uygulamanın çalışırken ne yaptığını öğrenmek için en az denek ve gerçek yol, uygulamanın ne yaptığını yazalım.</span><span class="sxs-lookup"><span data-stu-id="846a2-109">One of the most tried and true ways of capturing information about what an application is doing while it's running is to have the application write down what it's doing.</span></span> <span data-ttu-id="846a2-110">Bu işlem günlüğe kaydetme olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="846a2-110">This process is known as logging.</span></span> <span data-ttu-id="846a2-111">Üretimde herhangi bir zaman veya sorun oluştuğunda, amaç, üretim dışı bir ortamda, hataların oluştuğu koşulları yeniden oluşturmak olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="846a2-111">Any time failures or problems occur in production, the goal should be to reproduce the conditions under which the failures occurred, in a non-production environment.</span></span> <span data-ttu-id="846a2-112">İyi bir şekilde oturum açmak, geliştiricilerin test edilmesi ve denedik bir ortamda sorunları yinelemek için izlenmesi için bir yol haritası sağlar.</span><span class="sxs-lookup"><span data-stu-id="846a2-112">Having good logging in place provides a roadmap for developers to follow in order to duplicate problems in an environment that can be tested and experimented with.</span></span>

### <a name="challenges-when-logging-with-cloud-native-applications"></a><span data-ttu-id="846a2-113">Bulutta yerel uygulamalarla günlüğe kaydetme sorunları</span><span class="sxs-lookup"><span data-stu-id="846a2-113">Challenges when logging with cloud-native applications</span></span>

<span data-ttu-id="846a2-114">Geleneksel uygulamalarda, günlük dosyaları genellikle yerel makinede depolanır.</span><span class="sxs-lookup"><span data-stu-id="846a2-114">In traditional applications, log files are typically stored on the local machine.</span></span> <span data-ttu-id="846a2-115">Aslında, UNIX benzeri işletim sistemlerinde, genellikle altında tüm günlükleri tutmak için tanımlanmış bir klasör yapısı vardır `/var/log` .</span><span class="sxs-lookup"><span data-stu-id="846a2-115">In fact, on Unix-like operating systems, there's a folder structure defined to hold any logs, typically under `/var/log`.</span></span>

<span data-ttu-id="846a2-116">![Tek parçalı bir uygulamadaki bir dosyaya oturum açma. ](./media/single-monolith-logging.png)
 **Şekil 7-1**.</span><span class="sxs-lookup"><span data-stu-id="846a2-116">![Logging to a file in a monolithic app.](./media/single-monolith-logging.png)
**Figure 7-1**.</span></span> <span data-ttu-id="846a2-117">Tek parçalı bir uygulamadaki bir dosyaya oturum açma.</span><span class="sxs-lookup"><span data-stu-id="846a2-117">Logging to a file in a monolithic app.</span></span>

<span data-ttu-id="846a2-118">Tek bir makinedeki düz bir dosyaya kaydetmenin yararlılığı, bir bulut ortamında büyük ölçüde azaltılır.</span><span class="sxs-lookup"><span data-stu-id="846a2-118">The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment.</span></span> <span data-ttu-id="846a2-119">Günlüklerin fiziksel makinelere göre karıştırılır, Günlükler üreten uygulamaların yerel diske erişimi olmayabilir veya yerel disk çok daha geçici olabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-119">Applications producing logs may not have access to the local disk or the local disk may be highly transient as containers are shuffled around physical machines.</span></span> <span data-ttu-id="846a2-120">Birden çok düğümdeki tek parçalı uygulamaların basit ölçeklendirilmesi, uygun dosya tabanlı günlük dosyasını bulmayı zor hale getirir.</span><span class="sxs-lookup"><span data-stu-id="846a2-120">Even simple scaling up of monolithic applications across multiple nodes can make it challenging to locate the appropriate file-based log file.</span></span>

<span data-ttu-id="846a2-121">![Ölçeklenen tek parçalı bir uygulamadaki dosyalara oturum açma. ](./media/multiple-node-monolith-logging.png)
 **Şekil 7-2**.</span><span class="sxs-lookup"><span data-stu-id="846a2-121">![Logging to files in a scaled monolithic app.](./media/multiple-node-monolith-logging.png)
**Figure 7-2**.</span></span> <span data-ttu-id="846a2-122">Ölçeklenen tek parçalı bir uygulamadaki dosyalara oturum açma.</span><span class="sxs-lookup"><span data-stu-id="846a2-122">Logging to files in a scaled monolithic app.</span></span>

<span data-ttu-id="846a2-123">Mikro hizmetler mimarisi kullanılarak geliştirilen bulutta yerel uygulamalar Ayrıca dosya tabanlı Günlükçüler için bazı zorluklar ortaya çıkarabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-123">Cloud-native applications developed using a microservices architecture also pose some challenges for file-based loggers.</span></span> <span data-ttu-id="846a2-124">Kullanıcı istekleri artık farklı makinelerde çalışan birden fazla hizmete yayılabilir ve herhangi bir yerel dosya sistemine erişimi olmayan sunucusuz işlevler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-124">User requests may now span multiple services that are run on different machines and may include serverless functions with no access to a local file system at all.</span></span> <span data-ttu-id="846a2-125">Günlükleri bir kullanıcı veya bu çok sayıda hizmet ve makine üzerindeki bir oturumla ilişkilendirmek çok zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-125">It would be very challenging to correlate the logs from a user or a session across these many services and machines.</span></span>

<span data-ttu-id="846a2-126">![Mikro hizmetler uygulamasındaki yerel dosyalara oturum açma. ](./media/local-log-file-per-service.png)
 **Şekil 7-3**.</span><span class="sxs-lookup"><span data-stu-id="846a2-126">![Logging to local files in a microservices app.](./media/local-log-file-per-service.png)
**Figure 7-3**.</span></span> <span data-ttu-id="846a2-127">Mikro hizmetler uygulamasındaki yerel dosyalara oturum açma.</span><span class="sxs-lookup"><span data-stu-id="846a2-127">Logging to local files in a microservices app.</span></span>

<span data-ttu-id="846a2-128">Son olarak, bazı bulut yerel uygulamalardaki kullanıcı sayısı yüksektir.</span><span class="sxs-lookup"><span data-stu-id="846a2-128">Finally, the number of users in some cloud-native applications is high.</span></span> <span data-ttu-id="846a2-129">Her kullanıcının bir uygulamada oturum açtıklarında yüz satırlık günlük iletileri üretmediğini düşünün.</span><span class="sxs-lookup"><span data-stu-id="846a2-129">Imagine that each user generates a hundred lines of log messages when they log into an application.</span></span> <span data-ttu-id="846a2-130">Yalıtımlı, ancak 100.000 ' den fazla Kullanıcı ve günlük hacmi, günlüklerin etkin kullanımını desteklemek için gerekli araçların yeterince büyük hale gelir.</span><span class="sxs-lookup"><span data-stu-id="846a2-130">In isolation, that is manageable, but multiply that over 100,000 users and the volume of logs becomes large enough that specialized tools are needed to support effective use of the logs.</span></span>

### <a name="logging-in-cloud-native-applications"></a><span data-ttu-id="846a2-131">Bulutta yerel uygulamalarda günlüğe kaydetme</span><span class="sxs-lookup"><span data-stu-id="846a2-131">Logging in cloud-native applications</span></span>

<span data-ttu-id="846a2-132">Her programlama dili, günlüklerin yazılmasına izin veren araçları içerir ve genellikle bu günlükleri yazma yükü düşüktür.</span><span class="sxs-lookup"><span data-stu-id="846a2-132">Every programming language has tooling that permits writing logs, and typically the overhead for writing these logs is low.</span></span> <span data-ttu-id="846a2-133">Günlüğe kaydetme kitaplıklarının birçoğu, çalışma zamanında ayarlanabilir farklı tür CriticalHandle 'ların günlüğe kaydedilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="846a2-133">Many of the logging libraries provide logging different kinds of criticalities, which can be tuned at run time.</span></span> <span data-ttu-id="846a2-134">Örneğin, [Serilog kitaplığı](https://serilog.net/) , aşağıdaki günlük düzeylerini sağlayan, .NET için popüler bir yapılandırılmış günlük kitaplığıdır:</span><span class="sxs-lookup"><span data-stu-id="846a2-134">For instance, the [Serilog library](https://serilog.net/) is a popular structured logging library for .NET that provides the following logging levels:</span></span>

* <span data-ttu-id="846a2-135">Ayrıntılı</span><span class="sxs-lookup"><span data-stu-id="846a2-135">Verbose</span></span>
* <span data-ttu-id="846a2-136">Hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="846a2-136">Debug</span></span>
* <span data-ttu-id="846a2-137">Bilgi</span><span class="sxs-lookup"><span data-stu-id="846a2-137">Information</span></span>
* <span data-ttu-id="846a2-138">Uyarı</span><span class="sxs-lookup"><span data-stu-id="846a2-138">Warning</span></span>
* <span data-ttu-id="846a2-139">Hata</span><span class="sxs-lookup"><span data-stu-id="846a2-139">Error</span></span>
* <span data-ttu-id="846a2-140">Hataya</span><span class="sxs-lookup"><span data-stu-id="846a2-140">Fatal</span></span>

<span data-ttu-id="846a2-141">Bu farklı günlük düzeyleri günlüğe kaydetme sırasında ayrıntı düzeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="846a2-141">These different log levels provide granularity in logging.</span></span> <span data-ttu-id="846a2-142">Uygulama üretimde düzgün şekilde çalıştığında yalnızca önemli iletileri günlüğe kaydetmek üzere yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-142">When the application is functioning properly in production, it may be configured to only log important messages.</span></span> <span data-ttu-id="846a2-143">Uygulama yanlış davrandıktan sonra, daha ayrıntılı günlüklerin toplanması için günlük düzeyi artırılabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-143">When the application is misbehaving, then the log level can be increased so more verbose logs are gathered.</span></span> <span data-ttu-id="846a2-144">Bu, performansı hata ayıklamaya karşı dengeler.</span><span class="sxs-lookup"><span data-stu-id="846a2-144">This balances performance against ease of debugging.</span></span>

<span data-ttu-id="846a2-145">Günlük araçlarının yüksek performansı ve ayrıntı düzeyi, geliştiricilerin sıklıkla günlüğe kaydedilmesini teşvik etmelidir.</span><span class="sxs-lookup"><span data-stu-id="846a2-145">The high performance of logging tools and the tunability of verbosity should encourage developers to log frequently.</span></span> <span data-ttu-id="846a2-146">Birçok yöntem, her yöntemin giriş ve çıkış kaydını günlüğe kaydetme düzenlerini tercih.</span><span class="sxs-lookup"><span data-stu-id="846a2-146">Many favor a pattern of logging the entry and exit of each method.</span></span> <span data-ttu-id="846a2-147">Bu yaklaşım, fazla sonlandırma gibi bir işlem olabilir, ancak geliştiricilerin daha az günlük kaydına istedikleri kadar seyrek görünür.</span><span class="sxs-lookup"><span data-stu-id="846a2-147">This approach may sound like overkill, but it's infrequent that developers will wish for less logging.</span></span> <span data-ttu-id="846a2-148">Aslında, sorunlu bir yöntem etrafında günlük kaydı eklemenin tek amacı için dağıtımları gerçekleştirmek yaygın olmayan bir durumdur.</span><span class="sxs-lookup"><span data-stu-id="846a2-148">In fact, it's not uncommon to perform deployments for the sole purpose of adding logging around a problematic method.</span></span> <span data-ttu-id="846a2-149">Çok fazla günlüğe kaydetme ve çok az bir şey olmadığı tarafında hata.</span><span class="sxs-lookup"><span data-stu-id="846a2-149">Err on the side of too much logging and not on too little.</span></span> <span data-ttu-id="846a2-150">Bazı araçlar, bu tür bir günlüğe yazmayı otomatik olarak sağlamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-150">Some tools can be used to automatically provide this kind of logging.</span></span>

<span data-ttu-id="846a2-151">Bulutta yerel uygulamalarda dosya tabanlı günlükleri kullanmayla ilişkili sorunlar nedeniyle merkezi Günlükler tercih edilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-151">Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs are preferred.</span></span> <span data-ttu-id="846a2-152">Günlükler, uygulamalar tarafından toplanır ve günlükleri dizinleyen ve depolayan merkezi bir günlüğe kaydetme uygulamasına gönderilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-152">Logs are collected by the applications and shipped to a central logging application which indexes and stores the logs.</span></span> <span data-ttu-id="846a2-153">Bu sistem sınıfı her gün on binlerce günlük alabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-153">This class of system can ingest tens of gigabytes of logs every day.</span></span>

<span data-ttu-id="846a2-154">Birçok hizmeti kapsayan günlük oluşturma sırasında bazı standart uygulamaları izlemek da faydalı olur.</span><span class="sxs-lookup"><span data-stu-id="846a2-154">It's also helpful to follow some standard practices when building logging that spans many services.</span></span> <span data-ttu-id="846a2-155">Örneğin, uzun bir etkileşimin başlangıcında bir [BAĞıNTı kimliği](https://blog.rapid7.com/2016/12/23/the-value-of-correlation-ids/) oluşturma ve ardından bu etkileşime ilişkin her iletide günlüğe kaydetme, tüm ilgili iletileri aramanızı kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="846a2-155">For instance, generating a [correlation ID](https://blog.rapid7.com/2016/12/23/the-value-of-correlation-ids/) at the start of a lengthy interaction, and then logging it in each message that is related to that interaction, makes it easier to search for all related messages.</span></span> <span data-ttu-id="846a2-156">Tek bir ileti bulur ve ilgili tüm iletileri bulmak için bağıntı KIMLIĞINI ayıklar.</span><span class="sxs-lookup"><span data-stu-id="846a2-156">One need only find a single message and extract the correlation ID to find all the related messages.</span></span> <span data-ttu-id="846a2-157">Diğer bir örnek, günlük biçiminin her hizmet için aynı olduğundan ve kullandığı dil ya da günlüğe kaydetme kitaplığının her ne kadar aynı olmasını sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="846a2-157">Another example is ensuring that the log format is the same for every service, whatever the language or logging library it uses.</span></span> <span data-ttu-id="846a2-158">Bu Standartlaştırma, okuma günlüklerini çok daha kolay hale getirir.</span><span class="sxs-lookup"><span data-stu-id="846a2-158">This standardization makes reading logs much easier.</span></span> <span data-ttu-id="846a2-159">Şekil 7-4, mikro hizmet mimarisinin iş akışının bir parçası olarak Merkezi günlük kaydını nasıl yükseltebileceğinizi gösterir.</span><span class="sxs-lookup"><span data-stu-id="846a2-159">Figure 7-4 demonstrates how a microservices architecture can leverage centralized logging as part of its workflow.</span></span>

<span data-ttu-id="846a2-160">![Çeşitli kaynaklardaki Günlükler merkezi bir günlük deposuna alınır. ](./media/centralized-logging.png)
 **Şekil 7-4**.</span><span class="sxs-lookup"><span data-stu-id="846a2-160">![Logs from various sources are ingested into a centralized log store.](./media/centralized-logging.png)
**Figure 7-4**.</span></span> <span data-ttu-id="846a2-161">Çeşitli kaynaklardaki Günlükler merkezi bir günlük deposuna alınır.</span><span class="sxs-lookup"><span data-stu-id="846a2-161">Logs from various sources are ingested into a centralized log store.</span></span>

## <a name="challenges-with-detecting-and-responding-to-potential-app-health-issues"></a><span data-ttu-id="846a2-162">Olası uygulama sistem durumu sorunlarını algılamayla ve yanıt vermeye yönelik sorunlar</span><span class="sxs-lookup"><span data-stu-id="846a2-162">Challenges with detecting and responding to potential app health issues</span></span>

<span data-ttu-id="846a2-163">Bazı uygulamalar görev açısından önemli değildir.</span><span class="sxs-lookup"><span data-stu-id="846a2-163">Some applications aren't mission critical.</span></span> <span data-ttu-id="846a2-164">Belki de yalnızca dahili olarak kullanılıyor ve bir sorun ortaya çıktığında, Kullanıcı takımdan sorumlu ile iletişim kurabilme ve uygulamanın yeniden başlatılması olabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-164">Maybe they're only used internally, and when a problem occurs, the user can contact the team responsible and the application can be restarted.</span></span> <span data-ttu-id="846a2-165">Ancak, müşteriler genellikle kullandıkları uygulamalar için daha yüksek beklentileri vardır.</span><span class="sxs-lookup"><span data-stu-id="846a2-165">However, customers often have higher expectations for the applications they consume.</span></span> <span data-ttu-id="846a2-166">Kullanıcılarınızın uygulamadan *önce* veya kullanıcıların sizi bilgilendirmesi için ne zaman sorun olduğunu bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="846a2-166">You should know when problems occur with your application *before* users do, or before users notify you.</span></span> <span data-ttu-id="846a2-167">Aksi takdirde, bir sorun hakkında bilmeniz için, uygulamanızı veya hatta kuruluşunuzu bir kez sağanağına, sosyal medya gönderilerinden oluşan bir fark etmeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-167">Otherwise, the first you know about a problem may be when you notice an angry deluge of social media posts deriding your application or even your organization.</span></span>

<span data-ttu-id="846a2-168">Göz önünde bulundurmanız gerekebilecek bazı senaryolar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="846a2-168">Some scenarios you may need to consider include:</span></span>

- <span data-ttu-id="846a2-169">Uygulamanızdaki bir hizmet başarısız olarak devam eder ve yeniden başlatılır, böylece aralıklı olarak yavaş yanıtlara neden olur.</span><span class="sxs-lookup"><span data-stu-id="846a2-169">One service in your application keeps failing and restarting, resulting in intermittent slow responses.</span></span>
- <span data-ttu-id="846a2-170">Günün bazı saatlerinde uygulamanızın yanıt süresi düşüktür.</span><span class="sxs-lookup"><span data-stu-id="846a2-170">At some times of the day, your application's response time is slow.</span></span>
- <span data-ttu-id="846a2-171">Son dağıtımdan sonra, veritabanındaki yükün daha da gezinme yapılır.</span><span class="sxs-lookup"><span data-stu-id="846a2-171">After a recent deployment, load on the database has tripled.</span></span>

<span data-ttu-id="846a2-172">Düzgün şekilde uygulandığında, sorun ortaya çıkan koşulları, önemli Kullanıcı etkilerine neden olmadan önce temel koşulları adreslendiribilmenizi sağlayan koşullar hakkında bilgi verebilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-172">Implemented properly, monitoring can let you know about conditions that will lead to problems, letting you address underlying conditions before they result in any significant user impact.</span></span>

### <a name="monitoring-cloud-native-apps"></a><span data-ttu-id="846a2-173">Bulutta yerel uygulamaları izleme</span><span class="sxs-lookup"><span data-stu-id="846a2-173">Monitoring cloud-native apps</span></span>

<span data-ttu-id="846a2-174">Bazı Merkezi günlük sistemleri,, saf günlüklerin dışında telemetri toplamanın ek bir rolünü alır.</span><span class="sxs-lookup"><span data-stu-id="846a2-174">Some centralized logging systems take on an additional role of collecting telemetry outside of pure logs.</span></span> <span data-ttu-id="846a2-175">Veritabanı sorgusu çalıştırma zamanı, bir Web sunucusundan ortalama yanıt süresi ve hatta işletim sistemi tarafından bildirilen CPU yükü ortalamaları ve bellek baskısı gibi ölçümleri toplayabilirler.</span><span class="sxs-lookup"><span data-stu-id="846a2-175">They can collect metrics, such as time to run a database query, average response time from a web server, and even CPU load averages and memory pressure as reported by the operating system.</span></span> <span data-ttu-id="846a2-176">Bu sistemler, Günlükler ile birlikte sistemdeki ve uygulamadaki düğümlerin sistem durumunun bir bütün olarak bütünsel görünümünü sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-176">In conjunction with the logs, these systems can provide a holistic view of the health of nodes in the system and the application as a whole.</span></span>

<span data-ttu-id="846a2-177">İzleme araçlarının ölçüm toplama özellikleri, uygulamanın içinden el ile de dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-177">The metric-gathering capabilities of the monitoring tools can also be fed manually from within the application.</span></span> <span data-ttu-id="846a2-178">Yeni kullanıcılar için kaydolan ve yerleştirilmiş siparişler gibi belirli iş akışları, merkezi izleme sisteminde bir sayacı artırmaları gibi belgelenmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-178">Business flows that are of particular interest such as new users signing up or orders being placed, may be instrumented such that they increment a counter in the central monitoring system.</span></span> <span data-ttu-id="846a2-179">Bu, izleme araçlarının kilidini yalnızca uygulamanın sistem durumunu, ancak iş durumunu izlemek için kaldırır.</span><span class="sxs-lookup"><span data-stu-id="846a2-179">This unlocks the monitoring tools to not only monitor the health of the application but the health of the business.</span></span>

<span data-ttu-id="846a2-180">Sorgular, özel panolar üzerinde grafik biçiminde görüntülenebilen belirli istatistikleri veya desenleri aramak için günlük toplama araçları ' nda oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-180">Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which can then be displayed in graphical form, on custom dashboards.</span></span> <span data-ttu-id="846a2-181">Genellikle takımlar, bir uygulamayla ilgili istatistikte geçen büyük, duvara takılan ekranlarda yatırım yapar.</span><span class="sxs-lookup"><span data-stu-id="846a2-181">Frequently, teams will invest in large, wall-mounted displays that rotate through the statistics related to an application.</span></span> <span data-ttu-id="846a2-182">Bu şekilde, sorunları ortaya çıktığında görmek basittir.</span><span class="sxs-lookup"><span data-stu-id="846a2-182">This way, it's simple to see the problems as they occur.</span></span>

<span data-ttu-id="846a2-183">Bulutta yerel izleme araçları, tek parçalı uygulamalar veya dağıtılmış mikro hizmet mimarilerinden bağımsız olarak, uygulamalar için gerçek zamanlı telemetri ve öngörüler sağlar.</span><span class="sxs-lookup"><span data-stu-id="846a2-183">Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether they're single-process monolithic applications or distributed microservice architectures.</span></span> <span data-ttu-id="846a2-184">Bunlar uygulamadan veri toplamaya izin veren araçları ve uygulamanın sistem durumu hakkındaki bilgileri sorgulamak ve görüntülemek için araçlar içerir.</span><span class="sxs-lookup"><span data-stu-id="846a2-184">They include tools that allow collection of data from the app as well as tools for querying and displaying information about the app's health.</span></span>

## <a name="challenges-with-reacting-to-critical-problems-in-cloud-native-apps"></a><span data-ttu-id="846a2-185">Bulutta yerel uygulamalarda kritik sorunlara tepki verme sorunları</span><span class="sxs-lookup"><span data-stu-id="846a2-185">Challenges with reacting to critical problems in cloud-native apps</span></span>

<span data-ttu-id="846a2-186">Uygulamanızla ilgili sorunlara yanıt vermek gerekirse, doğru personeli uyarmak için bir yol gerekir.</span><span class="sxs-lookup"><span data-stu-id="846a2-186">If you need to react to problems with your application, you need some way to alert the right personnel.</span></span> <span data-ttu-id="846a2-187">Bu, üçüncü bulut Yerel uygulama Observability deseninin yanı sıra günlüğe kaydetme ve izlemeye bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="846a2-187">This is the third cloud-native application observability pattern and depends on logging and monitoring.</span></span> <span data-ttu-id="846a2-188">Uygulamanın, sorunların tanılanabileceği ve bazı durumlarda izleme araçlarına akışını sağlamak için oturum açması gerekir.</span><span class="sxs-lookup"><span data-stu-id="846a2-188">Your application needs to have logging in place to allow problems to be diagnosed, and in some cases to feed into monitoring tools.</span></span> <span data-ttu-id="846a2-189">Uygulama ölçümlerini ve sistem durumu verilerini tek bir yerde toplamak için izlemeye ihtiyaç duyuyor.</span><span class="sxs-lookup"><span data-stu-id="846a2-189">It needs monitoring to aggregate application metrics and health data in one place.</span></span> <span data-ttu-id="846a2-190">Bu bir kez kurulduktan sonra, belirli ölçümler kabul edilebilir düzeylerin dışına düşecek şekilde uyarı tetiklenecek kurallar oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-190">Once this has been established, rules can be created that will trigger alerts when certain metrics fall outside of acceptable levels.</span></span>

<span data-ttu-id="846a2-191">Genellikle, uyarılar, belirli koşulların takım üyelerine acil sorunları bildirmek üzere uygun uyarıları tetiklemesine benzer şekilde izlemenin üzerine katmanlıdır.</span><span class="sxs-lookup"><span data-stu-id="846a2-191">Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate alerts to notify team members of urgent problems.</span></span> <span data-ttu-id="846a2-192">Uyarı gerektirebilecek bazı senaryolar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="846a2-192">Some scenarios that may require alerts include:</span></span>

- <span data-ttu-id="846a2-193">Uygulamanızın hizmetlerinden biri 1 dakikalık kapalı kalma süresi sonra yanıt vermiyor.</span><span class="sxs-lookup"><span data-stu-id="846a2-193">One of your application's services is not responding after 1 minute of downtime.</span></span>
- <span data-ttu-id="846a2-194">Uygulamanız isteklerin %1 ' inden fazlasına başarısız HTTP yanıtları döndürüyor.</span><span class="sxs-lookup"><span data-stu-id="846a2-194">Your application is returning unsuccessful HTTP responses to more than 1% of requests.</span></span>
- <span data-ttu-id="846a2-195">Ana uç noktalar için uygulamanızın ortalama yanıt süresi 2000 MS 'yi aşıyor.</span><span class="sxs-lookup"><span data-stu-id="846a2-195">Your application's average response time for key endpoints exceeds 2000 ms.</span></span>

### <a name="alerts-in-cloud-native-apps"></a><span data-ttu-id="846a2-196">Bulutta yerel uygulamalardaki uyarılar</span><span class="sxs-lookup"><span data-stu-id="846a2-196">Alerts in cloud-native apps</span></span>

<span data-ttu-id="846a2-197">Bilinen hata koşullarını aramak için izleme araçlarına karşı sorgular oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="846a2-197">You can craft queries against the monitoring tools to look for known failure conditions.</span></span> <span data-ttu-id="846a2-198">Örneğin, sorgular, Web sunucusundaki bir sorunu belirten HTTP durum kodu 500 göstergeleri için gelen günlüklerde arama sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-198">For instance, queries could search through the incoming logs for indications of HTTP status code 500, which indicates a problem on a web server.</span></span> <span data-ttu-id="846a2-199">Bunlardan biri algılandıktan hemen sonra, araştırmaya başlayabilen kaynak hizmetin sahibine e-posta veya SMS gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-199">As soon as one of these is detected, then an e-mail or an SMS could be sent to the owner of the originating service who can begin to investigate.</span></span>

<span data-ttu-id="846a2-200">Genellikle, bir sorun oluştuğunu belirleyebilmek için tek bir 500 hatası yeterli değildir.</span><span class="sxs-lookup"><span data-stu-id="846a2-200">Typically, though, a single 500 error isn't enough to determine that a problem has occurred.</span></span> <span data-ttu-id="846a2-201">Kullanıcı parolasını yanlış yazmış veya bazı hatalı biçimlendirilmiş veriler girdiği anlamına gelebilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-201">It could mean that a user mistyped their password or entered some malformed data.</span></span> <span data-ttu-id="846a2-202">Uyarı sorguları yalnızca ortalama 500 hata sayısından daha büyük bir hata algılandığında tetiklenebilir.</span><span class="sxs-lookup"><span data-stu-id="846a2-202">The alert queries can be crafted to only fire when a larger than average number of 500 errors are detected.</span></span>

<span data-ttu-id="846a2-203">Uyarı verme sırasında en zararlı desenlerden biri, insanların araştırılması için çok fazla uyarı tetikleyemedi.</span><span class="sxs-lookup"><span data-stu-id="846a2-203">One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate.</span></span> <span data-ttu-id="846a2-204">Hizmet sahipleri, daha önce araştırdıkları ve zararsız olmaya bulduğu hatalara hızla Desensitized.</span><span class="sxs-lookup"><span data-stu-id="846a2-204">Service owners will rapidly become desensitized to errors that they've previously investigated and found to be benign.</span></span> <span data-ttu-id="846a2-205">Ardından, doğru hatalar oluştuğunda yüzlerce hatalı pozitif sonuç gürültüsünü kaybolur.</span><span class="sxs-lookup"><span data-stu-id="846a2-205">Then, when true errors occur, they'll be lost in the noise of hundreds of false positives.</span></span> <span data-ttu-id="846a2-206">[Wolf 'Yi düşünen erkek](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf) 'nın, bu çok tehlike altında bunları uyarmak için sık sık alt öğe olduğunu söyledi.</span><span class="sxs-lookup"><span data-stu-id="846a2-206">The parable of the [Boy Who Cried Wolf](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf) is frequently told to children to warn them of this very danger.</span></span> <span data-ttu-id="846a2-207">Yangın gerektiren uyarıların gerçek bir sorunu belirttiğinden emin olmak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="846a2-207">It's important to ensure that the alerts that do fire are indicative of a real problem.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="846a2-208">[Önceki](monitoring-health.md) 
> [Sonraki](logging-with-elastic-stack.md)</span><span class="sxs-lookup"><span data-stu-id="846a2-208">[Previous](monitoring-health.md)
[Next](logging-with-elastic-stack.md)</span></span>
