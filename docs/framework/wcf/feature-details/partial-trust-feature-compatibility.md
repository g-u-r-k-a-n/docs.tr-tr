---
title: Kısmi Güven Özelliği Uyumluluğu
ms.date: 03/30/2017
ms.assetid: a36a540b-1606-4e63-88e0-b7c59e0e6ab7
ms.openlocfilehash: baf7758bc83419a68f900aa51233006ecb61d8e0
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96248011"
---
# <a name="partial-trust-feature-compatibility"></a><span data-ttu-id="59340-102">Kısmi Güven Özelliği Uyumluluğu</span><span class="sxs-lookup"><span data-stu-id="59340-102">Partial Trust Feature Compatibility</span></span>

<span data-ttu-id="59340-103">Windows Communication Foundation (WCF) kısmen güvenilen bir ortamda çalışırken sınırlı bir işlev alt kümesini destekler.</span><span class="sxs-lookup"><span data-stu-id="59340-103">Windows Communication Foundation (WCF) supports a limited subset of functionality when running in a partially-trusted environment.</span></span> <span data-ttu-id="59340-104">Kısmi güvende desteklenen özellikler, [Desteklenen Dağıtım senaryoları](supported-deployment-scenarios.md) konusunda açıklandığı gibi belirli bir senaryo kümesi etrafında tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="59340-104">The features supported in partial trust are designed around a specific set of scenarios as described in the [Supported Deployment Scenarios](supported-deployment-scenarios.md) topic.</span></span>  
  
## <a name="minimum-permission-requirements"></a><span data-ttu-id="59340-105">En düşük Izin gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="59340-105">Minimum Permission Requirements</span></span>  

 <span data-ttu-id="59340-106">WCF, aşağıdaki standart adlandırılmış izin kümelerinden biri altında çalışan uygulamalardaki özelliklerin bir alt kümesini destekler:</span><span class="sxs-lookup"><span data-stu-id="59340-106">WCF supports a subset of features in applications running under either of the following standard named permission sets:</span></span>  
  
- <span data-ttu-id="59340-107">Orta güven izinleri</span><span class="sxs-lookup"><span data-stu-id="59340-107">Medium Trust permissions</span></span>  
  
- <span data-ttu-id="59340-108">Internet bölgesi izinleri</span><span class="sxs-lookup"><span data-stu-id="59340-108">Internet Zone permissions</span></span>  
  
 <span data-ttu-id="59340-109">Daha kısıtlayıcı izinlerle kısmen güvenilen uygulamalarda WCF kullanılmaya çalışılması, çalışma zamanında güvenlik özel durumlarına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="59340-109">Attempting to use WCF in partially-trusted applications with more restrictive permissions may result in security exceptions at runtime.</span></span>  
  
## <a name="contracts"></a><span data-ttu-id="59340-110">Sözleşmeler</span><span class="sxs-lookup"><span data-stu-id="59340-110">Contracts</span></span>  

 <span data-ttu-id="59340-111">Sözleşmeler kısmi güven altında çalışırken aşağıdaki kısıtlamalara tabidir:</span><span class="sxs-lookup"><span data-stu-id="59340-111">Contracts are subject to the following restrictions when running under partial trust:</span></span>  
  
- <span data-ttu-id="59340-112">Arabirimi uygulayan hizmet sınıfı, `[ServiceContract]` olmalıdır `public` ve bir oluşturucuya sahip olmalıdır `public` .</span><span class="sxs-lookup"><span data-stu-id="59340-112">The service class that implements the `[ServiceContract]` interface must be `public` and have a `public` constructor.</span></span> <span data-ttu-id="59340-113">`[OperationContract]`Yöntemleri tanımlıyorsa, bunlar olmalıdır `public` .</span><span class="sxs-lookup"><span data-stu-id="59340-113">If it defines `[OperationContract]` methods, these must be `public`.</span></span> <span data-ttu-id="59340-114">Bunun yerine bir arabirim uygularsa `[ServiceContract]` , bu yöntem uygulamaları açık veya `private` arabirimin olması şartıyla açık olabilir `[ServiceContract]` `public` .</span><span class="sxs-lookup"><span data-stu-id="59340-114">If it instead implements a `[ServiceContract]` interface, those method implementations can be explicit or `private`, provided that the `[ServiceContract]` interface is `public`.</span></span>  
  
- <span data-ttu-id="59340-115">`[ServiceKnownType]`Özniteliği kullanılırken, belirtilen yöntemin olması gerekir `public` .</span><span class="sxs-lookup"><span data-stu-id="59340-115">When using the `[ServiceKnownType]` attribute, the method specified must be `public`.</span></span>  
  
- <span data-ttu-id="59340-116">`[MessageContract]` sınıflar ve üyeleri olabilir `public` .</span><span class="sxs-lookup"><span data-stu-id="59340-116">`[MessageContract]` classes and their members can be `public`.</span></span> <span data-ttu-id="59340-117">`[MessageContract]`Sınıf uygulama derlemesinde tanımlıysa, `internal` ve `internal` üyeleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="59340-117">If the `[MessageContract]` class is defined in the application assembly it can be `internal` and have `internal` members.</span></span>  
  
## <a name="system-provided-bindings"></a><span data-ttu-id="59340-118">Sistem Tarafından Sağlanan Bağlamalar</span><span class="sxs-lookup"><span data-stu-id="59340-118">System-Provided Bindings</span></span>  

 <span data-ttu-id="59340-119"><xref:System.ServiceModel.BasicHttpBinding>Ve <xref:System.ServiceModel.WebHttpBinding> kısmi güven ortamında tamamen desteklenir.</span><span class="sxs-lookup"><span data-stu-id="59340-119">The <xref:System.ServiceModel.BasicHttpBinding> and <xref:System.ServiceModel.WebHttpBinding> are fully supported in a partial trust environment.</span></span> <span data-ttu-id="59340-120"><xref:System.ServiceModel.WSHttpBinding>Yalnızca Aktarım güvenliği modu için desteklenir.</span><span class="sxs-lookup"><span data-stu-id="59340-120">The <xref:System.ServiceModel.WSHttpBinding> is supported for Transport security mode only.</span></span>  
  
 <span data-ttu-id="59340-121">,, Veya gibi HTTP dışındaki aktarımları kullanan bağlamalar, <xref:System.ServiceModel.NetTcpBinding> <xref:System.ServiceModel.NetNamedPipeBinding> <xref:System.ServiceModel.NetMsmqBinding> kısmi güven ortamında çalışırken desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-121">Bindings that use transports other than HTTP, such as the <xref:System.ServiceModel.NetTcpBinding>, the <xref:System.ServiceModel.NetNamedPipeBinding>, or the <xref:System.ServiceModel.NetMsmqBinding>, are not supported when running in a partial trust environment.</span></span>  
  
## <a name="custom-bindings"></a><span data-ttu-id="59340-122">Özel Bağlamalar</span><span class="sxs-lookup"><span data-stu-id="59340-122">Custom Bindings</span></span>  

 <span data-ttu-id="59340-123">Özel Bağlamalar kısmi güven ortamında oluşturulabilir ve kullanılabilir, ancak bu bölümde belirtilen kısıtlamaların izlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="59340-123">Custom bindings can be created and used in a partial trust environment, but must follow the restrictions specified in this section.</span></span>  
  
### <a name="transports"></a><span data-ttu-id="59340-124">Taşımalar</span><span class="sxs-lookup"><span data-stu-id="59340-124">Transports</span></span>  

 <span data-ttu-id="59340-125">Yalnızca ve izin verilen aktarım bağlama öğeleri <xref:System.ServiceModel.Channels.HttpTransportBindingElement> <xref:System.ServiceModel.Channels.HttpsTransportBindingElement> .</span><span class="sxs-lookup"><span data-stu-id="59340-125">The only allowed transport binding elements are <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>.</span></span>  
  
### <a name="encoders"></a><span data-ttu-id="59340-126">Kodlayıcılar</span><span class="sxs-lookup"><span data-stu-id="59340-126">Encoders</span></span>  

 <span data-ttu-id="59340-127">Aşağıdaki kodlayıcılara izin verilir:</span><span class="sxs-lookup"><span data-stu-id="59340-127">The following encoders are allowed:</span></span>  
  
- <span data-ttu-id="59340-128">Metin Kodlayıcısı ( <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> ).</span><span class="sxs-lookup"><span data-stu-id="59340-128">The text encoder (<xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>).</span></span>  
  
- <span data-ttu-id="59340-129">İkili kodlayıcı ( <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement> ).</span><span class="sxs-lookup"><span data-stu-id="59340-129">The binary encoder (<xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>).</span></span>  
  
- <span data-ttu-id="59340-130">Web Iletisi Kodlayıcısı ( <xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement> ).</span><span class="sxs-lookup"><span data-stu-id="59340-130">The Web Message encoder (<xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>).</span></span>  
  
 <span data-ttu-id="59340-131">Ileti Iletimi Iyileştirme mekanizması (MTOM) kodlayıcıları desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-131">The Message Transmission Optimization Mechanism (MTOM) encoders are not supported.</span></span>  
  
### <a name="security"></a><span data-ttu-id="59340-132">Güvenlik</span><span class="sxs-lookup"><span data-stu-id="59340-132">Security</span></span>  

 <span data-ttu-id="59340-133">Kısmen güvenilir uygulamalar, iletişim güvenliğini sağlamak için WCF 'nin aktarım düzeyi güvenlik özelliklerini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="59340-133">Partially-trusted applications can use WCF's transport-level security features for securing their communication.</span></span> <span data-ttu-id="59340-134">İleti düzeyi güvenlik desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-134">Message-level security is not supported.</span></span> <span data-ttu-id="59340-135">Bir bağlamayı ileti düzeyi güvenlik ile kullanmak için yapılandırma, çalışma zamanında bir özel durum ile sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="59340-135">Configuring a binding to use message-level security results in an exception at runtime.</span></span>  
  
### <a name="unsupported-bindings"></a><span data-ttu-id="59340-136">Desteklenmeyen bağlamalar</span><span class="sxs-lookup"><span data-stu-id="59340-136">Unsupported Bindings</span></span>  

 <span data-ttu-id="59340-137">Güvenilir Mesajlaşma, işlemler veya ileti düzeyi güvenlik kullanan bağlamalar desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-137">Bindings that use reliable messaging, transactions, or message-level security are not supported.</span></span>  
  
## <a name="serialization"></a><span data-ttu-id="59340-138">Serileştirme</span><span class="sxs-lookup"><span data-stu-id="59340-138">Serialization</span></span>  

 <span data-ttu-id="59340-139">Hem hem de <xref:System.Runtime.Serialization.DataContractSerializer> , <xref:System.Xml.Serialization.XmlSerializer> kısmi güven ortamında desteklenir.</span><span class="sxs-lookup"><span data-stu-id="59340-139">Both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer> are supported in a partial trust environment.</span></span> <span data-ttu-id="59340-140">Ancak, öğesinin kullanımı <xref:System.Runtime.Serialization.DataContractSerializer> aşağıdaki koşullara tabidir:</span><span class="sxs-lookup"><span data-stu-id="59340-140">However, use of the <xref:System.Runtime.Serialization.DataContractSerializer> is subject to the following conditions:</span></span>  
  
- <span data-ttu-id="59340-141">Tüm serileştirilebilir `[DataContract]` türler olmalıdır `public` .</span><span class="sxs-lookup"><span data-stu-id="59340-141">All serializable `[DataContract]` types must be `public`.</span></span>  
  
- <span data-ttu-id="59340-142">Bir türdeki tüm seri hale getirilebilir `[DataMember]` alanların veya özelliklerin `[DataContract]` ortak ve okuma/yazma olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="59340-142">All serializable `[DataMember]` fields or properties in a `[DataContract]` type must be public and read/write.</span></span> <span data-ttu-id="59340-143">[Salt okunur](https://go.microsoft.com/fwlink/?LinkID=98854) alanların serileştirilmesi ve serisini kaldırma, kısmen güvenilen BIR uygulamada WCF çalıştırılırken desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-143">The serialization and deserialization of [readonly](https://go.microsoft.com/fwlink/?LinkID=98854) fields is not supported when running WCF in a partially-trusted application.</span></span>  
  
- <span data-ttu-id="59340-144">`[Serializable]`/ISerializable programlama modeli kısmi güven ortamında desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-144">The `[Serializable]`/ISerializable programming model is not supported in a partial trust environment.</span></span>  
  
- <span data-ttu-id="59340-145">Bilinen türler kod veya makine düzeyinde yapılandırma (machine.config) içinde belirtilmelidir.</span><span class="sxs-lookup"><span data-stu-id="59340-145">Known types must be specified in code or machine-level configuration (machine.config).</span></span> <span data-ttu-id="59340-146">Bilinen türler güvenlik nedeniyle uygulama düzeyi yapılandırmasında belirtilemez.</span><span class="sxs-lookup"><span data-stu-id="59340-146">Known types cannot be specified in application-level configuration for security reasons.</span></span>  
  
- <span data-ttu-id="59340-147">Uygulayan türler <xref:System.Runtime.Serialization.IObjectReference> kısmen güvenilen bir ortamda özel durum oluşturur.</span><span class="sxs-lookup"><span data-stu-id="59340-147">Types that implement <xref:System.Runtime.Serialization.IObjectReference> throw an exception in a partially-trusted environment.</span></span>  
  
 <span data-ttu-id="59340-148">Kısmen güvenilen bir uygulamada güvenle kullanırken güvenlik hakkında daha fazla bilgi için [kısmi güven En Iyi uygulamaları](partial-trust-best-practices.md) bölümündeki serileştirme bölümüne bakın <xref:System.Runtime.Serialization.DataContractSerializer> .</span><span class="sxs-lookup"><span data-stu-id="59340-148">See the Serialization section in [Partial Trust Best Practices](partial-trust-best-practices.md) for more information about security when using <xref:System.Runtime.Serialization.DataContractSerializer> safely in a partially-trusted application.</span></span>  
  
### <a name="collection-types"></a><span data-ttu-id="59340-149">Koleksiyon türleri</span><span class="sxs-lookup"><span data-stu-id="59340-149">Collection Types</span></span>  

 <span data-ttu-id="59340-150">Bazı koleksiyon türleri hem hem de uygular <xref:System.Collections.Generic.IEnumerable%601> <xref:System.Collections.IEnumerable> .</span><span class="sxs-lookup"><span data-stu-id="59340-150">Some collection types implement both <xref:System.Collections.Generic.IEnumerable%601> and <xref:System.Collections.IEnumerable>.</span></span> <span data-ttu-id="59340-151">Örnek, uygulayan türler içerir <xref:System.Collections.Generic.ICollection%601> .</span><span class="sxs-lookup"><span data-stu-id="59340-151">Examples include types that implement <xref:System.Collections.Generic.ICollection%601>.</span></span> <span data-ttu-id="59340-152">Bu tür türler, uygulamasının bir `public` uygulamasını `GetEnumerator()` ve açık bir uygulamasını uygulayabilir `GetEnumerator()` .</span><span class="sxs-lookup"><span data-stu-id="59340-152">Such types can implement a `public` implementation of `GetEnumerator()`, and an explicit implementation of `GetEnumerator()`.</span></span> <span data-ttu-id="59340-153">Bu durumda, uygulamasının <xref:System.Runtime.Serialization.DataContractSerializer> `public` `GetEnumerator()` Açık uygulamasını değil, uygulamasını çağırır `GetEnumerator()` .</span><span class="sxs-lookup"><span data-stu-id="59340-153">In this case, <xref:System.Runtime.Serialization.DataContractSerializer> invokes the `public` implementation of `GetEnumerator()`, and not the explicit implementation of `GetEnumerator()`.</span></span> <span data-ttu-id="59340-154">`GetEnumerator()`Uygulamalardan hiçbiri `public` ve hepsi açık uygulamalartadıysanız, öğesini <xref:System.Runtime.Serialization.DataContractSerializer> çağırır `IEnumerable.GetEnumerator()` .</span><span class="sxs-lookup"><span data-stu-id="59340-154">If none of the `GetEnumerator()` implementations are `public` and all are explicit implementations, then <xref:System.Runtime.Serialization.DataContractSerializer> invokes `IEnumerable.GetEnumerator()`.</span></span>  
  
 <span data-ttu-id="59340-155">Bir kısmi güven ortamında WCF çalışırken koleksiyon türleri için, uygulamalardan hiçbiri yoksa `GetEnumerator()` `public` veya hiçbiri açık arabirim uygulamaları değilse, bir güvenlik özel durumu oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="59340-155">For collection types when WCF is running in a partial trust environment, if none of the `GetEnumerator()` implementations are `public`, or none of them are explicit interface implementations, then a security exception is thrown.</span></span>  
  
### <a name="netdatacontractserializer"></a><span data-ttu-id="59340-156">NetDataContractSerializer</span><span class="sxs-lookup"><span data-stu-id="59340-156">NetDataContractSerializer</span></span>  

 <span data-ttu-id="59340-157">, Ve gibi birçok .NET Framework koleksiyon türü, <xref:System.Collections.Generic.List%601> <xref:System.Collections.ArrayList> <xref:System.Collections.Generic.Dictionary%602> <xref:System.Collections.Hashtable> <xref:System.Runtime.Serialization.NetDataContractSerializer> kısmi güvende içinde desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-157">Many .NET Framework collection types such as <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ArrayList>, <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Hashtable> are not supported by the <xref:System.Runtime.Serialization.NetDataContractSerializer> in partial trust.</span></span> <span data-ttu-id="59340-158">Bu türlerin `[Serializable]` özniteliği kümesi vardır ve daha önce serileştirme bölümünde belirtildiği gibi, bu öznitelik kısmi güvende desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="59340-158">These types have the `[Serializable]` attribute set, and as stated previously in the Serialization section, this attribute is not supported in partial trust.</span></span> <span data-ttu-id="59340-159">, <xref:System.Runtime.Serialization.DataContractSerializer> Koleksiyonları özel bir şekilde davranır ve bu kısıtlamayı aşmak, ancak <xref:System.Runtime.Serialization.NetDataContractSerializer> Bu kısıtlamayı aşmak için böyle bir mekanizması yoktur.</span><span class="sxs-lookup"><span data-stu-id="59340-159">The <xref:System.Runtime.Serialization.DataContractSerializer> treats collections in a special way and is thus able to get around this restriction, but the <xref:System.Runtime.Serialization.NetDataContractSerializer> has no such mechanism to circumvent this restriction.</span></span>  
  
 <span data-ttu-id="59340-160"><xref:System.DateTimeOffset>Tür <xref:System.Runtime.Serialization.NetDataContractSerializer> kısmi güvende tarafından desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="59340-160">The <xref:System.DateTimeOffset> type is not supported by the <xref:System.Runtime.Serialization.NetDataContractSerializer> in partial trust.</span></span>  
  
 <span data-ttu-id="59340-161"><xref:System.Runtime.Serialization.NetDataContractSerializer>Kısmi güvende çalışırken (mekanizması kullanılarak) bir vekil ile birlikte kullanılamaz <xref:System.Runtime.Serialization.SurrogateSelector> .</span><span class="sxs-lookup"><span data-stu-id="59340-161">A surrogate cannot be used with the <xref:System.Runtime.Serialization.NetDataContractSerializer> (using the <xref:System.Runtime.Serialization.SurrogateSelector> mechanism) when running in partial trust.</span></span> <span data-ttu-id="59340-162">Bu kısıtlamanın, bir yedek kullanılarak, serileştirilmek için geçerli olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="59340-162">Note that this restriction applies to using a surrogate, not to serializing it.</span></span>  
  
## <a name="enabling-common-behaviors-to-run"></a><span data-ttu-id="59340-163">Ortak davranışları çalıştırmak için etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="59340-163">Enabling Common Behaviors to Run</span></span>  

 <span data-ttu-id="59340-164"><xref:System.Security.AllowPartiallyTrustedCallersAttribute>Bir yapılandırma dosyasının bölümüne eklenen öznitelik (APTCA) ile işaretlenmemiş hizmet veya uç nokta davranışları, [\<commonBehaviors>](../../configure-apps/file-schema/wcf/commonbehaviors.md) Uygulama kısmi bir güven ortamında çalıştırıldığında ve bu gerçekleştiğinde hiçbir özel durum atılışında çalıştırılmaz.</span><span class="sxs-lookup"><span data-stu-id="59340-164">Service or endpoint behaviors not marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute (APTCA) that are added to the [\<commonBehaviors>](../../configure-apps/file-schema/wcf/commonbehaviors.md) section of a configuration file are not run when the application runs in a partial trust environment and no exception is thrown when this occurs.</span></span> <span data-ttu-id="59340-165">Ortak davranışları çalıştırmaya zorlamak için aşağıdaki seçeneklerden birini yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="59340-165">To enforce the running of common behaviors, you must do one of the following options:</span></span>  
  
- <span data-ttu-id="59340-166"><xref:System.Security.AllowPartiallyTrustedCallersAttribute>Kısmi güven uygulaması olarak dağıtıldığında çalışabilmesi için ortak davranışınızı özniteliğiyle işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="59340-166">Mark your common behavior with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute so that it can run when deployed as a partial trust application.</span></span> <span data-ttu-id="59340-167">APTCA tarafından işaretlenmiş derlemelerin çalıştırılmasını engellemek için bilgisayarda bir kayıt defteri girişi ayarlanmayacağınızı unutmayın.</span><span class="sxs-lookup"><span data-stu-id="59340-167">Note that a registry entry can be set on the computer to prevent APTCA-marked assemblies from running.</span></span> <span data-ttu-id="59340-168">.</span><span class="sxs-lookup"><span data-stu-id="59340-168">.</span></span>  
  
- <span data-ttu-id="59340-169">Uygulamanın, uygulamayı kısmi güven ortamında çalıştırmak için kod erişimi güvenlik ayarlarını değiştiremediği tam güvenilir bir uygulama olarak dağıtıldığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="59340-169">Ensure that if the application is deployed as a fully-trusted application that users cannot modify the code-access security settings to run the application in a partial trust environment.</span></span> <span data-ttu-id="59340-170">Bunu yapabilirse, davranış çalışmaz ve hiçbir özel durum oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="59340-170">If they can do so, the behavior does not run and no exception is thrown.</span></span> <span data-ttu-id="59340-171">Bunu sağlamak için, [Caspol.exe (kod erişimi güvenlik Ilkesi aracı)](../../tools/caspol-exe-code-access-security-policy-tool.md)kullanarak **LevelFinal** seçeneğine bakın.</span><span class="sxs-lookup"><span data-stu-id="59340-171">To ensure this, see the **levelfinal** option using [Caspol.exe (Code Access Security Policy Tool)](../../tools/caspol-exe-code-access-security-policy-tool.md).</span></span>  
  
 <span data-ttu-id="59340-172">Yaygın bir davranış örneği için bkz. [nasıl yapılır: kuruluştaki uç noktaları kilitleme](../extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="59340-172">For an example of a common behavior, see [How to: Lock Down Endpoints in the Enterprise](../extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
## <a name="configuration"></a><span data-ttu-id="59340-173">Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="59340-173">Configuration</span></span>  

 <span data-ttu-id="59340-174">Tek bir özel durum ile, kısmen güvenilen kod yalnızca yerel dosyadaki WCF yapılandırma bölümlerini yükleyebilir `app.config` .</span><span class="sxs-lookup"><span data-stu-id="59340-174">With one exception, partially-trusted code can only load WCF configuration sections in the local `app.config` file.</span></span> <span data-ttu-id="59340-175">machine.config veya bir kök web.config dosyasında WCF bölümlerine başvuruda bulunan WCF yapılandırma bölümlerinin yüklenmesi için ConfigurationPermission (Kısıtlamasız) gerekir.</span><span class="sxs-lookup"><span data-stu-id="59340-175">To load WCF configuration sections that reference WCF sections in machine.config or in a root web.config file requires ConfigurationPermission(Unrestricted).</span></span> <span data-ttu-id="59340-176">Bu izin olmadan, yerel yapılandırma dosyası dışındaki WCF yapılandırma bölümlerine (davranışlar, bağlamalar) başvurular, yapılandırma yüklendiğinde bir özel durumla sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="59340-176">Without this permission, references to WCF configuration sections (behaviors, bindings) outside of the local configuration file results in an exception when the configuration is loaded.</span></span>  
  
 <span data-ttu-id="59340-177">Bu konunun serileştirme bölümünde açıklandığı gibi, bir özel durum serileştirme için bilinen tür yapılandırmadır.</span><span class="sxs-lookup"><span data-stu-id="59340-177">The one exception is known-type configuration for serialization, as described in the Serialization section of this topic.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="59340-178">Yapılandırma uzantıları yalnızca tam güven altında çalışırken desteklenir.</span><span class="sxs-lookup"><span data-stu-id="59340-178">Configuration extensions are only supported when running under Full Trust.</span></span>  
  
## <a name="diagnostics"></a><span data-ttu-id="59340-179">Tanılama</span><span class="sxs-lookup"><span data-stu-id="59340-179">Diagnostics</span></span>  
  
### <a name="event-logging"></a><span data-ttu-id="59340-180">Etkinlikleri Günlüğe Kaydetme</span><span class="sxs-lookup"><span data-stu-id="59340-180">Event Logging</span></span>  

 <span data-ttu-id="59340-181">Kısmi güven altında sınırlı olay günlüğü desteklenir.</span><span class="sxs-lookup"><span data-stu-id="59340-181">Limited event logging is supported under partial trust.</span></span> <span data-ttu-id="59340-182">Olay günlüğüne yalnızca hizmet etkinleştirme hataları ve izleme/ileti günlüğe kaydetme hataları kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="59340-182">Only service activation faults and tracing/message logging failures are logged to the Event Log.</span></span> <span data-ttu-id="59340-183">Olay günlüğüne aşırı ileti yazılmasını önlemek için bir işlem tarafından günlüğe kaydedilen en fazla olay sayısı 5 ' tir.</span><span class="sxs-lookup"><span data-stu-id="59340-183">The maximum number of events that can be logged by a process is 5, to avoid writing excessive messages to the Event Log.</span></span>  
  
### <a name="message-logging"></a><span data-ttu-id="59340-184">İleti Günlüğe Kaydetme</span><span class="sxs-lookup"><span data-stu-id="59340-184">Message Logging</span></span>  

 <span data-ttu-id="59340-185">WCF kısmi güven ortamında çalıştırıldığında ileti günlüğe kaydetme çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="59340-185">Message logging does not work when WCF is run in a partial trust environment.</span></span> <span data-ttu-id="59340-186">Kısmi güven altında etkinleştirilirse, hizmet etkinleştirmesi başarısız olmaz, ancak hiçbir ileti günlüğe kaydedilmez.</span><span class="sxs-lookup"><span data-stu-id="59340-186">If enabled under partial trust, it does not fail service activation, but no message is logged.</span></span>  
  
### <a name="tracing"></a><span data-ttu-id="59340-187">İzleme</span><span class="sxs-lookup"><span data-stu-id="59340-187">Tracing</span></span>  

 <span data-ttu-id="59340-188">Kısıtlı izleme işlevselliği, kısmi güven ortamında çalışırken kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="59340-188">Restricted tracing functionality is available when running in a partial trust environment.</span></span> <span data-ttu-id="59340-189">`listeners`Yapılandırma dosyasındaki <> öğesinde, ekleyebileceğiniz tek tür <xref:System.Diagnostics.TextWriterTraceListener> ve yeni <xref:System.Diagnostics.EventSchemaTraceListener> .</span><span class="sxs-lookup"><span data-stu-id="59340-189">In the <`listeners`> element in the configuration file, the only types that you can add are <xref:System.Diagnostics.TextWriterTraceListener> and the new <xref:System.Diagnostics.EventSchemaTraceListener>.</span></span> <span data-ttu-id="59340-190">Standart kullanımı <xref:System.Diagnostics.XmlWriterTraceListener> tamamlanmamış veya hatalı günlüklere neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="59340-190">Use of the standard <xref:System.Diagnostics.XmlWriterTraceListener> may result in incomplete or incorrect logs.</span></span>  
  
 <span data-ttu-id="59340-191">Desteklenen izleme kaynakları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="59340-191">Supported trace sources are:</span></span>  
  
- <xref:System.ServiceModel>  
  
- <xref:System.Runtime.Serialization>  
  
- <span data-ttu-id="59340-192"><xref:System.IdentityModel.Claims>, <xref:System.IdentityModel.Policy> , <xref:System.IdentityModel.Selectors> , ve <xref:System.IdentityModel.Tokens> .</span><span class="sxs-lookup"><span data-stu-id="59340-192"><xref:System.IdentityModel.Claims>, <xref:System.IdentityModel.Policy>, <xref:System.IdentityModel.Selectors>, and <xref:System.IdentityModel.Tokens>.</span></span>  
  
 <span data-ttu-id="59340-193">Aşağıdaki izleme kaynakları desteklenmez:</span><span class="sxs-lookup"><span data-stu-id="59340-193">The following trace sources are not supported:</span></span>  
  
- <span data-ttu-id="59340-194">CardSpace</span><span class="sxs-lookup"><span data-stu-id="59340-194">CardSpace</span></span>  
  
- <xref:System.IO.Log>  

- <span data-ttu-id="59340-195">[System. ServiceModel. Internal. TransactionBridge](/previous-versions/aa346556(v=vs.110))]</span><span class="sxs-lookup"><span data-stu-id="59340-195">[System.ServiceModel.Internal.TransactionBridge](/previous-versions/aa346556(v=vs.110))]</span></span>
  
 <span data-ttu-id="59340-196">Numaralandırmanın aşağıdaki üyeleri <xref:System.Diagnostics.TraceOptions> belirtilmemelidir:</span><span class="sxs-lookup"><span data-stu-id="59340-196">The following members of the <xref:System.Diagnostics.TraceOptions> enumeration should not be specified:</span></span>  
  
- <xref:System.Diagnostics.TraceOptions.Callstack?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceOptions.ProcessId?displayProperty=nameWithType>  
  
 <span data-ttu-id="59340-197">İzlemeyi kısmi güven ortamında kullanırken, uygulamanın İzleme dinleyicisinin çıkışını depolamak için yeterli izinlere sahip olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="59340-197">When using tracing in a partial trust environment, ensure that the application has sufficient permissions to store the output of the trace listener.</span></span> <span data-ttu-id="59340-198">Örneğin, <xref:System.Diagnostics.TextWriterTraceListener> izleme çıkışını bir metin dosyasına yazmak için kullanırken, uygulamanın izleme dosyasına başarıyla yazmak için gerekli dosya dosyası ' na sahip olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="59340-198">For example, when using the <xref:System.Diagnostics.TextWriterTraceListener> to write trace output to a text file, ensure that the application has the necessary FileIOPermission required to successfully write to the trace file.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="59340-199">İzleme dosyalarının yinelenen hatalarla taşmasını önlemek için, WCF ilk güvenlik hatasından sonra kaynağın veya eylemin izlenmesini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="59340-199">To avoid flooding the trace files with duplicate errors, WCF disables tracing of the resource or action after the first security failure.</span></span> <span data-ttu-id="59340-200">Her başarısız kaynak erişimi için bir özel durum izlemesi vardır. kaynağa erişmek veya eylemi gerçekleştirmek için ilk kez girişimde bulunuldu.</span><span class="sxs-lookup"><span data-stu-id="59340-200">There is one exception trace for each failed resource access, the first time an attempt is made to access the resource or perform the action.</span></span>  
  
## <a name="wcf-service-host"></a><span data-ttu-id="59340-201">WCF hizmet ana bilgisayarı</span><span class="sxs-lookup"><span data-stu-id="59340-201">WCF Service Host</span></span>  

 <span data-ttu-id="59340-202">WCF hizmeti ana bilgisayarı kısmi güveni desteklemez.</span><span class="sxs-lookup"><span data-stu-id="59340-202">WCF service host does not support partial trust.</span></span> <span data-ttu-id="59340-203">Kısmi güvende bir WCF hizmeti kullanmak istiyorsanız, Visual Studio 'da WCF hizmet kitaplığı proje şablonunu kullanarak hizmetinizi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="59340-203">If you want to use a WCF service in partial trust, do not use the WCF Service Library Project template in Visual Studio to build your service.</span></span> <span data-ttu-id="59340-204">Bunun yerine, Visual Studio 'da, WCF kısmi güveninin desteklendiği bir Web sunucusunda hizmeti barındırabilen WCF hizmeti Web sitesi şablonunu seçerek yeni bir Web sitesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="59340-204">Instead, create a new Web site in Visual Studio by choosing the WCF service Web site template, which can host the service in a Web server on which WCF partial trust is supported.</span></span>  
  
## <a name="other-limitations"></a><span data-ttu-id="59340-205">Diğer sınırlamalar</span><span class="sxs-lookup"><span data-stu-id="59340-205">Other Limitations</span></span>  

  <span data-ttu-id="59340-206">WCF, genel olarak, barındırma uygulaması tarafından bu uygulamaya getirilen güvenlik hususları ile sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="59340-206">WCF is generally limited to the security considerations imposed upon it by the hosting application.</span></span> <span data-ttu-id="59340-207">Örneğin, WCF bir XAML tarayıcı uygulamasında (XBAP) barındırılıyorsa, [Windows Presentation Foundation kısmi güven güvenliği](/dotnet/desktop/wpf/wpf-partial-trust-security)' nde açıklandığı gıbı, XBAP kısıtlamalarına tabidir.</span><span class="sxs-lookup"><span data-stu-id="59340-207">For example, if WCF is hosted in a XAML Browser Application (XBAP), it is subject to XBAP limitations, as described in [Windows Presentation Foundation Partial Trust Security](/dotnet/desktop/wpf/wpf-partial-trust-security).</span></span>  
  
 <span data-ttu-id="59340-208">Kısmi güven ortamında İndigo2 çalıştırılırken aşağıdaki ek özellikler etkinleştirilmemiştir:</span><span class="sxs-lookup"><span data-stu-id="59340-208">The following additional features are not enabled when running indigo2 in a partial trust environment:</span></span>  
  
- <span data-ttu-id="59340-209">Windows Yönetim Araçları (WMI)</span><span class="sxs-lookup"><span data-stu-id="59340-209">Windows Management Instrumentation (WMI)</span></span>  
  
- <span data-ttu-id="59340-210">Olay günlüğü yalnızca kısmen etkinleştirilmiştir ( **Tanılama** bölümünde tartışma bölümüne bakın).</span><span class="sxs-lookup"><span data-stu-id="59340-210">Event logging is only partially enabled (see discussion in **Diagnostics** section).</span></span>  
  
- <span data-ttu-id="59340-211">Performans sayaçları</span><span class="sxs-lookup"><span data-stu-id="59340-211">Performance counters</span></span>  
  
 <span data-ttu-id="59340-212">Kısmi güven ortamında desteklenmeyen WCF özelliklerinin kullanımı, çalışma zamanında özel durumlara neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="59340-212">Use of WCF features that are not supported in a partial trust environment may result in exceptions at runtime.</span></span>  
  
## <a name="unlisted-features"></a><span data-ttu-id="59340-213">Listelenmemiş Özellikler</span><span class="sxs-lookup"><span data-stu-id="59340-213">Unlisted Features</span></span>  

 <span data-ttu-id="59340-214">Kısmi güven ortamında çalışırken bir bilgi veya eylem parçasının kullanılamaz olduğunu öğrenmenin en iyi yolu, kaynağa erişmeyi veya bir bloğun içinde eylemi yapmayı denemenin `try` yanı sıra `catch` başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="59340-214">The best way to discover that a piece of information or action is unavailable when running in a partial trust environment is to try to access the resource or do the action inside of a `try` block, and then `catch` the failure.</span></span> <span data-ttu-id="59340-215">İzleme dosyalarının yinelenen hatalarla taşmasını önlemek için, WCF ilk güvenlik hatasından sonra kaynağın veya eylemin izlenmesini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="59340-215">To avoid flooding the trace files with duplicate errors, WCF disables tracing of the resource or action after the first security failure.</span></span> <span data-ttu-id="59340-216">Her başarısız kaynak erişimi için bir özel durum izlemesi vardır. kaynağa erişmek veya eylemi gerçekleştirmek için ilk kez girişimde bulunuldu.</span><span class="sxs-lookup"><span data-stu-id="59340-216">There is one exception trace for each failed resource access, the first time an attempt is made to access the resource or perform the action.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="59340-217">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="59340-217">See also</span></span>

- <xref:System.ServiceModel.Channels.HttpTransportBindingElement>
- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>
- <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>
- <xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>
- [<span data-ttu-id="59340-218">Desteklenen Dağıtım Senaryoları</span><span class="sxs-lookup"><span data-stu-id="59340-218">Supported Deployment Scenarios</span></span>](supported-deployment-scenarios.md)
- [<span data-ttu-id="59340-219">Kısmi Güven En İyi Uygulamaları</span><span class="sxs-lookup"><span data-stu-id="59340-219">Partial Trust Best Practices</span></span>](partial-trust-best-practices.md)
