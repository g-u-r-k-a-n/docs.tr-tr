---
description: 'Hakkında daha fazla bilgi edinin: ertelenmiş Içerik yükleme (WCF Veri Hizmetleri)'
title: Ertelenmiş Içerik yükleniyor (WCF Veri Hizmetleri)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, deferred content
- WCF Data Services, loading data
ms.assetid: 32f9b588-c832-44c4-a7e0-fcce635df59a
ms.openlocfilehash: e14796ba003cbad721160ed4a0e2be3e8d148660
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99764924"
---
# <a name="loading-deferred-content-wcf-data-services"></a><span data-ttu-id="73097-103">Ertelenmiş Içerik yükleniyor (WCF Veri Hizmetleri)</span><span class="sxs-lookup"><span data-stu-id="73097-103">Loading Deferred Content (WCF Data Services)</span></span>

[!INCLUDE [wcf-deprecated](~/includes/wcf-deprecated.md)]

<span data-ttu-id="73097-104">Varsayılan olarak, WCF Veri Hizmetleri bir sorgunun döndürdüğü veri miktarını sınırlandırır.</span><span class="sxs-lookup"><span data-stu-id="73097-104">By default, WCF Data Services limits the amount of data that a query returns.</span></span> <span data-ttu-id="73097-105">Ancak, gerekli olduğunda veri hizmetinden ilgili varlıklar, sayfalama yanıtı verileri ve ikili veri akışları dahil ek verileri açıkça yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73097-105">However, you can explicitly load additional data, including related entities, paged response data, and binary data streams, from the data service when it is needed.</span></span> <span data-ttu-id="73097-106">Bu konu, bu tür ertelenmiş içeriğin uygulamanıza nasıl yükleneceğini açıklar.</span><span class="sxs-lookup"><span data-stu-id="73097-106">This topic describes how to load such deferred content into your application.</span></span>  
  
## <a name="related-entities"></a><span data-ttu-id="73097-107">İlgili varlıklar</span><span class="sxs-lookup"><span data-stu-id="73097-107">Related Entities</span></span>  

 <span data-ttu-id="73097-108">Bir sorgu yürüttüğünüzde, yalnızca belirtilen varlık kümesindeki varlıklar döndürülür.</span><span class="sxs-lookup"><span data-stu-id="73097-108">When you execute a query, only entities in the addressed entity set are returned.</span></span> <span data-ttu-id="73097-109">Örneğin, Northwind Data Service 'e yönelik bir sorgu `Customers` varlıkları döndürdüğünde, `Orders` ve arasında bir ilişki olsa da, ilgili varlıklar varsayılan olarak döndürülmez `Customers` `Orders` .</span><span class="sxs-lookup"><span data-stu-id="73097-109">For example, when a query against the Northwind data service returns `Customers` entities, by default the related `Orders` entities are not returned, even though there is a relationship between `Customers` and `Orders`.</span></span> <span data-ttu-id="73097-110">Ayrıca, veri hizmetinde sayfalama etkin olduğunda, sonraki veri sayfalarını hizmetten açıkça yüklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="73097-110">Also, when paging is enabled in the data service, you must explicitly load subsequent data pages from the service.</span></span> <span data-ttu-id="73097-111">İlgili varlıkları yüklemek için iki yol vardır:</span><span class="sxs-lookup"><span data-stu-id="73097-111">There are two ways to load related entities:</span></span>  
  
- <span data-ttu-id="73097-112">**Ekip yükleme**: sorgu, sorgunun `$expand` istediği varlık kümesine yönelik bir ilişki ile ilişkili varlıkları döndürmesini istemek için sorgu seçeneğini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73097-112">**Eager loading**: You can use the `$expand` query option to request that the query return entities that are related by an association to the entity set that the query requested.</span></span> <span data-ttu-id="73097-113"><xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> <xref:System.Data.Services.Client.DataServiceQuery%601> `$expand` Veri hizmetine gönderilen sorguya seçeneği eklemek için üzerinde yöntemini kullanın.</span><span class="sxs-lookup"><span data-stu-id="73097-113">Use the <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> method on the <xref:System.Data.Services.Client.DataServiceQuery%601> to add the `$expand` option to the query that is sent to the data service.</span></span> <span data-ttu-id="73097-114">Aşağıdaki örnekte olduğu gibi, bunları virgülle ayırarak birden çok ilgili varlık kümesi isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73097-114">You can request multiple related entity sets by separating them by a comma, as in the following example.</span></span> <span data-ttu-id="73097-115">Sorgu tarafından istenen tüm varlıklar tek bir yanıtta döndürülür.</span><span class="sxs-lookup"><span data-stu-id="73097-115">All entities requested by the query are returned in a single response.</span></span> <span data-ttu-id="73097-116">Aşağıdaki örnek, `Order_Details` `Customers` varlık kümesiyle birlikte ve birlikte döndürür `Orders` :</span><span class="sxs-lookup"><span data-stu-id="73097-116">The following example returns `Order_Details` and `Customers` together with the `Orders` entity set:</span></span>  
  
     [!code-csharp[Astoria Northwind Client#ExpandOrderDetailsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#expandorderdetailsspecific)]
     [!code-vb[Astoria Northwind Client#ExpandOrderDetailsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#expandorderdetailsspecific)]  
  
     <span data-ttu-id="73097-117">Sorgu seçeneği kullanılarak tek bir sorguya dahil edilebilir olan varlık kümesi sayısını 12 ' ye WCF Veri Hizmetleri kısıtlar `$expand` .</span><span class="sxs-lookup"><span data-stu-id="73097-117">WCF Data Services limits to 12 the number of entity sets that can be included in a single query by using the `$expand` query option.</span></span>  
  
- <span data-ttu-id="73097-118">**Açık yükleme**: <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> <xref:System.Data.Services.Client.DataServiceContext> ilgili varlıkları açıkça yüklemek için örneğinde yöntemi çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="73097-118">**Explicit loading**: You can call the <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> instance to explicitly load related entities.</span></span> <span data-ttu-id="73097-119">Yöntemine yapılan her çağrı <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> , veri hizmetine ayrı bir istek oluşturur.</span><span class="sxs-lookup"><span data-stu-id="73097-119">Each call to the <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> method creates a separate request to the data service.</span></span> <span data-ttu-id="73097-120">Aşağıdaki örnek `Order_Details` bir varlık için açıkça yüklenir `Orders` :</span><span class="sxs-lookup"><span data-stu-id="73097-120">The following example explicitly loads `Order_Details` for an `Orders` entity:</span></span>  
  
     [!code-csharp[Astoria Northwind Client#LoadRelatedOrderDetailsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#loadrelatedorderdetailsspecific)]
     [!code-vb[Astoria Northwind Client#LoadRelatedOrderDetailsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#loadrelatedorderdetailsspecific)]  
  
 <span data-ttu-id="73097-121">Hangi seçeneği kullanacağınızı göz önünde bulundurmanız durumunda, veri hizmetine yapılan istek sayısı ve tek bir yanıtta döndürülen veri miktarı arasında bir zorunluluğunu getirir olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="73097-121">When you consider which option to use, realize that there is a tradeoff between the number of requests to the data service and the amount of data that is returned in a single response.</span></span> <span data-ttu-id="73097-122">Uygulamanız ilişkili nesneler gerektirdiğinde ve ek isteklerin açıkça alınması için ek gecikme süresinin oluşmasını önlemek istediğinizde, Eager yükleme kullanın.</span><span class="sxs-lookup"><span data-stu-id="73097-122">Use eager loading when your application requires associated objects and you want to avoid the added latency of additional requests to explicitly retrieve them.</span></span> <span data-ttu-id="73097-123">Ancak, uygulamanın yalnızca belirli varlık örnekleri için verileri ihtiyacı olduğunda, yöntemi çağırarak bu varlıkları açıkça yüklemeyi göz önünde bulundurmanız gerekir <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> .</span><span class="sxs-lookup"><span data-stu-id="73097-123">However, if there are cases when the application only needs the data for specific related entity instances, you should consider explicitly loading those entities by calling the <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> method.</span></span> <span data-ttu-id="73097-124">Daha fazla bilgi için bkz. [nasıl yapılır: Ilgili varlıkları yükleme](how-to-load-related-entities-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="73097-124">For more information, see [How to: Load Related Entities](how-to-load-related-entities-wcf-data-services.md).</span></span>  
  
## <a name="paged-content"></a><span data-ttu-id="73097-125">Disk belleğine alınmış Içerik</span><span class="sxs-lookup"><span data-stu-id="73097-125">Paged Content</span></span>  

 <span data-ttu-id="73097-126">Veri hizmetinde sayfalama etkin olduğunda, veri hizmetinin döndürdüğü akıştaki giriş sayısı veri hizmetinin yapılandırmasıyla sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="73097-126">When paging is enabled in the data service, the number of entries in the feed that the data service returns is limited by the configuration of the data service.</span></span> <span data-ttu-id="73097-127">Sayfa sınırları her bir varlık kümesi için ayrı ayrı ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="73097-127">Page limits can be set separately for each entity set.</span></span> <span data-ttu-id="73097-128">Daha fazla bilgi için bkz. [veri hizmetini yapılandırma](configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="73097-128">For more information, see [Configuring the Data Service](configuring-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="73097-129">Sayfalama etkinleştirildiğinde akıştaki son giriş, bir sonraki veri sayfasına bir bağlantı içerir.</span><span class="sxs-lookup"><span data-stu-id="73097-129">When paging is enabled, the final entry in the feed contains a link to the next page of data.</span></span> <span data-ttu-id="73097-130">Bu bağlantı bir nesne içinde yer alır <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> .</span><span class="sxs-lookup"><span data-stu-id="73097-130">This link is contained in a <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> object.</span></span> <span data-ttu-id="73097-131">Bir sonraki veri sayfasına URI 'yi <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> , yürütüldüğünde döndürülen üzerinde yöntemini çağırarak elde edersiniz <xref:System.Data.Services.Client.QueryOperationResponse%601> <xref:System.Data.Services.Client.DataServiceQuery%601> .</span><span class="sxs-lookup"><span data-stu-id="73097-131">You obtain the URI to the next page of data by calling the <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> method on the <xref:System.Data.Services.Client.QueryOperationResponse%601> returned when the <xref:System.Data.Services.Client.DataServiceQuery%601> is executed.</span></span> <span data-ttu-id="73097-132">Döndürülen <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> nesne daha sonra sonuçların sonraki sayfasını yüklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="73097-132">The returned <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> object is then used to load the next page of results.</span></span> <span data-ttu-id="73097-133">Yöntemi çağırmadan önce sorgu sonucunu numaralandırabilirsiniz gerekir <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> .</span><span class="sxs-lookup"><span data-stu-id="73097-133">You must enumerate the query result before you call the <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> method.</span></span> <span data-ttu-id="73097-134">`do…while`İlk olarak sorgu sonucunu numaralandırmak ve sonra bir sonraki bağlantı değerini denetlemek için bir döngü kullanmayı düşünün `non-null` .</span><span class="sxs-lookup"><span data-stu-id="73097-134">Consider using a `do…while` loop to first enumerate the query result and then check for a `non-null` next link value.</span></span> <span data-ttu-id="73097-135"><xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A>Yöntem döndüğünde `null` ( `Nothing` Visual Basic), özgün sorgu için ek sonuç sayfası yoktur.</span><span class="sxs-lookup"><span data-stu-id="73097-135">When the <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> method returns `null` (`Nothing` in Visual Basic), there are no additional result pages for the original query.</span></span> <span data-ttu-id="73097-136">Aşağıdaki örnekte, `do…while` Northwind örnek veri hizmetinden disk belleğine alınmış müşteri verileri yükleyen bir döngü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="73097-136">The following example shows a `do…while` loop that loads paged customer data from the Northwind sample data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LoadNextLink](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#loadnextlink)]
 [!code-vb[Astoria Northwind Client#LoadNextLink](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#loadnextlink)]  
  
 <span data-ttu-id="73097-137">Bir sorgu, ilgili varlıkların istenen varlık kümesiyle birlikte tek bir yanıtta döndürüldüğü zaman, sayfalama sınırları, yanıtla birlikte satır içi olan iç içe akışları etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="73097-137">When a query requests that related entities are returned in a single response together with the requested entity set, paging limits may affect nested feeds that are included inline with the response.</span></span> <span data-ttu-id="73097-138">Örneğin, varlık kümesi için Northwind örnek veri hizmetinde bir sayfalama sınırı ayarlandığında `Customers` , `Orders` Northwind örnek veri hizmetini tanımlayan Northwind.svc.cs dosyasından aşağıdaki örnekte olduğu gibi ilgili varlık kümesi için de bağımsız bir sayfalama sınırı ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="73097-138">For example, when a paging limit is set in the Northwind sample data service for the `Customers` entity set, an independent paging limit can also be set for the related `Orders` entity set, as in the following example from the Northwind.svc.cs file that defines the Northwind sample data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Service#DataServiceConfigPaging](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_service/cs/northwind.svc.cs#dataserviceconfigpaging)]
 [!code-vb[Astoria Northwind Service#DataServiceConfigPaging](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_service/vb/northwind.svc.vb#dataserviceconfigpaging)]  
  
 <span data-ttu-id="73097-139">Bu durumda, hem üst düzey `Customers` hem de iç içe varlık akışları için sayfalama uygulamanız gerekir `Orders` .</span><span class="sxs-lookup"><span data-stu-id="73097-139">In this case, you must implement paging for both the top-level `Customers` and the nested `Orders` entity feeds.</span></span> <span data-ttu-id="73097-140">Aşağıdaki örnek, `while` `Orders` Seçilen bir varlıkla ilgili varlıkların sayfalarını yüklemek için kullanılan döngüyü gösterir `Customers` .</span><span class="sxs-lookup"><span data-stu-id="73097-140">The following example shows the `while` loop used to load pages of `Orders` entities related to a selected `Customers` entity.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LoadNextOrdersLink](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#loadnextorderslink)]
 [!code-vb[Astoria Northwind Client#LoadNextOrdersLink](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#loadnextorderslink)]  
  
 <span data-ttu-id="73097-141">Daha fazla bilgi için bkz. [nasıl yapılır: Sayfalanmış sonuçları yükleme](how-to-load-paged-results-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="73097-141">For more information, see [How to: Load Paged Results](how-to-load-paged-results-wcf-data-services.md).</span></span>  
  
## <a name="binary-data-streams"></a><span data-ttu-id="73097-142">İkili veri akışları</span><span class="sxs-lookup"><span data-stu-id="73097-142">Binary Data Streams</span></span>  

 <span data-ttu-id="73097-143">WCF Veri Hizmetleri, ikili büyük nesne (BLOB) verilerine veri akışı olarak erişmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="73097-143">WCF Data Services enables you to access binary large object (BLOB) data as a data stream.</span></span> <span data-ttu-id="73097-144">Akış, gerekli olana kadar ikili verilerin yüklenmesini erteler ve istemci bu verileri daha verimli bir şekilde işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="73097-144">Streaming defers the loading of binary data until it is needed, and the client can more efficiently process this data.</span></span> <span data-ttu-id="73097-145">Bu işlevden yararlanmak için, veri hizmetinin sağlayıcıyı uygulaması gerekir <xref:System.Data.Services.Providers.IDataServiceStreamProvider> .</span><span class="sxs-lookup"><span data-stu-id="73097-145">In order to take advantage of this functionality, the data service must implement the <xref:System.Data.Services.Providers.IDataServiceStreamProvider> provider.</span></span> <span data-ttu-id="73097-146">Daha fazla bilgi için bkz. [Akış sağlayıcısı](streaming-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="73097-146">For more information, see [Streaming Provider](streaming-provider-wcf-data-services.md).</span></span> <span data-ttu-id="73097-147">Akış etkinleştirildiğinde, varlık türleri ilgili ikili veriler olmadan döndürülür.</span><span class="sxs-lookup"><span data-stu-id="73097-147">When streaming is enabled, entity types are returned without the related binary data.</span></span> <span data-ttu-id="73097-148">Bu durumda, <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> <xref:System.Data.Services.Client.DataServiceContext> hizmetten gelen ikili veriler için veri akışına erişmek üzere sınıfının yöntemini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="73097-148">In this case, you must use the <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> method of the <xref:System.Data.Services.Client.DataServiceContext> class to access the data stream for the binary data from the service.</span></span> <span data-ttu-id="73097-149">Benzer şekilde, <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> bir varlık için ikili verileri bir akış olarak eklemek veya değiştirmek için yöntemini kullanın.</span><span class="sxs-lookup"><span data-stu-id="73097-149">Similarly, use the <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> method to add or change binary data for an entity as a stream.</span></span> <span data-ttu-id="73097-150">Daha fazla bilgi için bkz. [Ikili verilerle çalışma](working-with-binary-data-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="73097-150">For more information, see [Working with Binary Data](working-with-binary-data-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="73097-151">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="73097-151">See also</span></span>

- [<span data-ttu-id="73097-152">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="73097-152">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
- [<span data-ttu-id="73097-153">Veri Hizmetini Sorgulama</span><span class="sxs-lookup"><span data-stu-id="73097-153">Querying the Data Service</span></span>](querying-the-data-service-wcf-data-services.md)
