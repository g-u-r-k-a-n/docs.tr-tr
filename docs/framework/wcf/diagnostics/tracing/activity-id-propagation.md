---
description: 'Daha fazla bilgi edinin: etkinlik KIMLIĞI yayma'
title: Etkinlik Kimliği Yayma
ms.date: 03/30/2017
ms.assetid: cd1c1ae5-cc8a-4f51-90c9-f7b476bcfe70
ms.openlocfilehash: d407af04304298bcc04a7aa4264eb6fc46563d3a
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99770904"
---
# <a name="activity-id-propagation"></a><span data-ttu-id="852ef-103">Etkinlik Kimliği Yayma</span><span class="sxs-lookup"><span data-stu-id="852ef-103">Activity ID Propagation</span></span>

<span data-ttu-id="852ef-104">Bir ServiceModel (ServiceModel yayma) veya devre dışı bırakıldığında (kullanıcıdan kullanıcıya etkinlik yayma), yayma gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="852ef-104">Propagation happens when ServiceModel activity tracing is enabled (ServiceModel propagation) or disabled (User-to-User activity propagation).</span></span>  
  
## <a name="servicemodel-activity-tracing-is-enabled"></a><span data-ttu-id="852ef-105">ServiceModel etkinlik Izleme etkin</span><span class="sxs-lookup"><span data-stu-id="852ef-105">ServiceModel Activity Tracing is Enabled</span></span>  

 <span data-ttu-id="852ef-106">ServiceModel ActivityTracing etkinse, işlem, ProcessAction etkinlikleri arasında gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="852ef-106">If ServiceModel ActivityTracing is enabled, propagation happens between ProcessAction activities.</span></span>  
  
### <a name="server"></a><span data-ttu-id="852ef-107">Sunucu</span><span class="sxs-lookup"><span data-stu-id="852ef-107">Server</span></span>  

 <span data-ttu-id="852ef-108">`propagateActivity`Özniteliği hem istemcide hem de sunucuda olarak ayarlandığında `true` , `ProcessAction` sunucudaki etkinliğin kimliği, YAYıLAN ileti üstbilgisindeki kimlikle aynı olur `ActivityId` .</span><span class="sxs-lookup"><span data-stu-id="852ef-108">When the `propagateActivity` attribute is set to `true` on both the client and server, the ID of the `ProcessAction` activity in the server is identical to the ID in the propagated `ActivityId` message header.</span></span>  
  
 <span data-ttu-id="852ef-109">`ActivityId`İletide (yani, `propagateActivity` = `false` istemcide) veya sunucuda bir başlık yoksa, `propagateActivity` = `false` sunucu yeni bir etkinlik kimliği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="852ef-109">When no `ActivityId` header is present in the message (that is, `propagateActivity`=`false` on the client), or when `propagateActivity`=`false` on the server, the server generates a new activity ID.</span></span>  
  
### <a name="client"></a><span data-ttu-id="852ef-110">İstemci</span><span class="sxs-lookup"><span data-stu-id="852ef-110">Client</span></span>  

 <span data-ttu-id="852ef-111">İstemci eşzamanlı olarak tek iş parçacıklı ise istemci, `propagateActivity` istemci veya sunucu üzerinde herhangi bir ayarı yoksayar.</span><span class="sxs-lookup"><span data-stu-id="852ef-111">If the client is synchronously single threaded, the client disregards any settings of `propagateActivity` at the client or server.</span></span> <span data-ttu-id="852ef-112">Bunun yerine, yanıt istek etkinliğinde işlenir.</span><span class="sxs-lookup"><span data-stu-id="852ef-112">Instead, the response is handled in the request activity.</span></span> <span data-ttu-id="852ef-113">İstemci, istemcide zaman uyumsuz veya zaman uyumlu iş parçacıklı ise `propagateActivity` = `true` ve sunucu tarafından gönderilen iletide bir etkinlik kimliği üst bilgisi varsa, istemci, iletideki etkinlik kimliğini alır ve yayılan etkinlik kimliğini içeren işlem eylemi etkinliğine aktarır.</span><span class="sxs-lookup"><span data-stu-id="852ef-113">If the client is asynchronous or synchronous multithreaded, `propagateActivity`=`true` in the client, and there is an activity ID header in the message sent by the server, the client retrieves the activity ID from the message, and transfers to the Process Action activity that contains the propagated activity ID.</span></span> <span data-ttu-id="852ef-114">Aksi halde istemci, Işlem Iletisi etkinliğinden yeni bir Işlem eylemi etkinliğine aktarır.</span><span class="sxs-lookup"><span data-stu-id="852ef-114">Otherwise, the client transfers from Process Message activity to a new Process Action activity.</span></span> <span data-ttu-id="852ef-115">Yeni bir Işlem eylemi etkinliğine yönelik bu ek aktarım, tutarlılık açısından yapılır.</span><span class="sxs-lookup"><span data-stu-id="852ef-115">This extra transfer to a new Process Action activity is done for consistency.</span></span> <span data-ttu-id="852ef-116">Bu etkinliğin içinde istemci, iş parçacığı yanıt iletisi işleme için ayrıldığında yerel iş parçacığı bağlamından BeginCall etkinliğinin etkinlik KIMLIĞINI alır.</span><span class="sxs-lookup"><span data-stu-id="852ef-116">Inside this activity, the client retrieves the activity ID of the BeginCall activity from the local thread context, when the thread is allocated for response message processing.</span></span> <span data-ttu-id="852ef-117">Ardından ilk Işlem eylemi etkinliğine aktarır.</span><span class="sxs-lookup"><span data-stu-id="852ef-117">It then transfers to the initial Process Action activity.</span></span>  
  
 <span data-ttu-id="852ef-118">İstemci çift yönlü ise, istemci iletiyi alırken sunucu olarak davranır.</span><span class="sxs-lookup"><span data-stu-id="852ef-118">If the client is duplex, the client acts as server on receiving the message.</span></span>  
  
### <a name="propagation-in-fault-messages"></a><span data-ttu-id="852ef-119">Hata Iletilerinde yayma</span><span class="sxs-lookup"><span data-stu-id="852ef-119">Propagation in Fault Messages</span></span>  

 <span data-ttu-id="852ef-120">Geçerli ve hata iletilerini işlemede fark yoktur.</span><span class="sxs-lookup"><span data-stu-id="852ef-120">There is no difference in handling valid and fault messages.</span></span> <span data-ttu-id="852ef-121">İse `propagateActivity` = `true` , SOAP hata iletisi başlıklarına eklenen etkinlik kimliği çevresel etkinliklerle aynıdır.</span><span class="sxs-lookup"><span data-stu-id="852ef-121">If `propagateActivity`=`true`, the activity ID added to the SOAP fault message headers is identical to the ambient activity.</span></span>  
  
## <a name="servicemodel-activity-tracing-is-disabled"></a><span data-ttu-id="852ef-122">ServiceModel etkinliği Izleme devre dışı</span><span class="sxs-lookup"><span data-stu-id="852ef-122">ServiceModel Activity Tracing is Disabled</span></span>  

 <span data-ttu-id="852ef-123">ServiceModel ActivityTracing devre dışıysa, doğrudan ServiceModel etkinliklerine geçmeden Kullanıcı kodu etkinlikleri arasında yayma yapılır.</span><span class="sxs-lookup"><span data-stu-id="852ef-123">If ServiceModel ActivityTracing is disabled, propagation occurs between user code activities directly without going through ServiceModel activities.</span></span> <span data-ttu-id="852ef-124">Kullanıcı tanımlı bir etkinlik KIMLIĞI de ileti etkinlik KIMLIĞI üst bilgisi aracılığıyla dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="852ef-124">A user-defined activity ID is also propagated through the message activity ID header.</span></span>  
  
 <span data-ttu-id="852ef-125">`propagateActivity` = `true` Ve `ActivityTracing` = `off` bir ServiceModel Trace dinleyicisi için (izlemenin ServiceModel üzerinde etkin olup olmamasına bakılmaksızın), istemci veya sunucuda aşağıdakiler gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="852ef-125">If `propagateActivity`=`true` and `ActivityTracing`=`off` for a ServiceModel trace listener (regardless of whether tracing is enabled on ServiceModel), the following happen on either the client or server:</span></span>  
  
- <span data-ttu-id="852ef-126">İşlem isteği veya gönderme yanıtı üzerinde, bir ileti oluşturuluncaya kadar, TLS 'deki etkinlik KIMLIĞI kullanıcı kodundan dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="852ef-126">On operation request or sending response, the activity ID in TLS is propagated out of user code until a message is formed.</span></span> <span data-ttu-id="852ef-127">Bir etkinlik KIMLIĞI üst bilgisi, gönderilmeden önce iletiye de eklenir.</span><span class="sxs-lookup"><span data-stu-id="852ef-127">An activity ID header is also inserted into the message before it is sent.</span></span>  
  
- <span data-ttu-id="852ef-128">İstek veya alma yanıtı alındığında, alınan ileti nesnesi oluşturulduktan hemen sonra etkinlik KIMLIĞI ileti başlığından alınır.</span><span class="sxs-lookup"><span data-stu-id="852ef-128">On receiving request or receiving response, the activity ID is retrieved from the message header as soon as the received message object is created.</span></span> <span data-ttu-id="852ef-129">Kullanıcı koduna ulaşılana kadar, ileti kapsamdan kaybolduktan sonra TLS 'deki etkinlik KIMLIĞI dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="852ef-129">The activity ID in TLS is propagated as soon as the message disappears from scope until user code is reached.</span></span>  
  
 <span data-ttu-id="852ef-130">Bu eylemler, yayma açık ise Kullanıcı izlemelerinin aynı etkinlikte görüneceğini garanti eder.</span><span class="sxs-lookup"><span data-stu-id="852ef-130">These actions guarantee that user traces will appear in the same activity if propagation is on.</span></span> <span data-ttu-id="852ef-131">Ancak, ServiceModel izlemelerinde garanti vermez.</span><span class="sxs-lookup"><span data-stu-id="852ef-131">However, it makes no guarantee on ServiceModel traces.</span></span> <span data-ttu-id="852ef-132">Yalnızca bu izlemelerin işlenmesi Kullanıcı kodu etkinliğinin ayarlandığı iş parçacığında yürütülürse, ServiceModel izlemeleri bir Kullanıcı kodu etkinliğinde oluşur.</span><span class="sxs-lookup"><span data-stu-id="852ef-132">ServiceModel traces occur in a user code activity only if the processing of those traces is executed on the same thread where the user code activity was set.</span></span>  
  
 <span data-ttu-id="852ef-133">Genel olarak, ServiceModel izlemeleri aşağıdaki yerlerde gözlemlenebilir:</span><span class="sxs-lookup"><span data-stu-id="852ef-133">In general, ServiceModel traces can be observed in the following places:</span></span>  
  
- <span data-ttu-id="852ef-134">ServiceModel izleme devre dışıysa, tüm yayınlanan izlemeler Kullanıcı etkinlikleri ' nde görünür.</span><span class="sxs-lookup"><span data-stu-id="852ef-134">If ServiceModel tracing is disabled, all emitted traces appear in user activities.</span></span> <span data-ttu-id="852ef-135">Hem sunucu hem de istemcide yayma etkinse, bu izlemeler aynı etkinlikte olacaktır.</span><span class="sxs-lookup"><span data-stu-id="852ef-135">If propagation is enabled at both the server and client, these traces will be in the same activity.</span></span>  
  
- <span data-ttu-id="852ef-136">ServiceModel izleme etkinse ancak ActivityTracing devre dışıysa, her iki uçta de yayma etkinse kullanıcı izlemeleri aynı etkinlikte görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="852ef-136">If ServiceModel tracing is enabled, but ActivityTracing is disabled, user traces appear in the same activity if propagation is enabled on both ends.</span></span> <span data-ttu-id="852ef-137">ServiceModel izlemeleri, etkinliğin başlangıçta ayarlandığı Kullanıcı kodu işlemeyle aynı iş parçacığında gerçekleşmedikleri sürece varsayılan 0000 etkinliğinde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="852ef-137">ServiceModel traces appear in the default 0000 activity, unless they occur in the same thread as the user code processing where the activity is initially set.</span></span>  
  
- <span data-ttu-id="852ef-138">Hem ServiceModel izleme hem de ActivityTracing etkinse, kullanıcı izlemeleri Kullanıcı tanımlı etkinliklerde görünür ve ServiceModel izlemeleri ServiceModel tarafından tanımlanan etkinliklerde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="852ef-138">If both ServiceModel tracing and ActivityTracing are enabled, user traces appear in user-defined activities, and ServiceModel traces appear in ServiceModel-defined activities.</span></span> <span data-ttu-id="852ef-139">Yayma, ServiceModel düzeyinde gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="852ef-139">Propagation happens at ServiceModel level.</span></span>
