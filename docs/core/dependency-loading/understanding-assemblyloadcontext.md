---
title: AssemblyLoadContext'ı Anlama - .NET Core
description: .NET Core'da AssemblyLoadContext'ın amacını ve davranışını anlamak için temel kavramlar.
ms.date: 08/09/2019
author: sdmaclea
ms.author: stmaclea
ms.openlocfilehash: 8a73a432bf8cc72cced77cf6c62a785b72032913
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "72291255"
---
# <a name="understanding-systemruntimeloaderassemblyloadcontext"></a><span data-ttu-id="6d512-103">Anlama Sistemi.Runtime.Loader.AssemblyLoadContext</span><span class="sxs-lookup"><span data-stu-id="6d512-103">Understanding System.Runtime.Loader.AssemblyLoadContext</span></span>

<span data-ttu-id="6d512-104">Sınıf <xref:System.Runtime.Loader.AssemblyLoadContext> .NET Core'a özgüdür.</span><span class="sxs-lookup"><span data-stu-id="6d512-104">The <xref:System.Runtime.Loader.AssemblyLoadContext> class is unique to .NET Core.</span></span> <span data-ttu-id="6d512-105">Bu makalede, API dokümantasyonlarını <xref:System.Runtime.Loader.AssemblyLoadContext> kavramsal bilgilerle tamamlamaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="6d512-105">This article attempts to supplement the <xref:System.Runtime.Loader.AssemblyLoadContext> API documentation with conceptual information.</span></span>

<span data-ttu-id="6d512-106">Bu makale, dinamik yükleme, özellikle dinamik yükleme çerçeve geliştiricileri uygulayan geliştiriciler için ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="6d512-106">This article is relevant to developers implementing dynamic loading, especially dynamic loading framework developers.</span></span>

## <a name="what-is-the-assemblyloadcontext"></a><span data-ttu-id="6d512-107">AssemblyLoadContext nedir?</span><span class="sxs-lookup"><span data-stu-id="6d512-107">What is the AssemblyLoadContext?</span></span>

<span data-ttu-id="6d512-108">Her .NET Core uygulaması <xref:System.Runtime.Loader.AssemblyLoadContext>örtülü olarak .</span><span class="sxs-lookup"><span data-stu-id="6d512-108">Every .NET Core application implicitly uses the <xref:System.Runtime.Loader.AssemblyLoadContext>.</span></span>
<span data-ttu-id="6d512-109">Bağımlılıkları bulmak ve yüklemek için çalışma zamanı sağlayıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-109">It's the runtime's provider for locating and loading dependencies.</span></span> <span data-ttu-id="6d512-110">Bir bağımlılık yüklendiğinde, onu <xref:System.Runtime.Loader.AssemblyLoadContext> bulmak için bir örnek çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6d512-110">Whenever a dependency is loaded, an <xref:System.Runtime.Loader.AssemblyLoadContext> instance is invoked to locate it.</span></span>

- <span data-ttu-id="6d512-111">Yönetilen derlemeleri ve diğer bağımlılıkları bulma, yükleme ve önbelleğe alma hizmeti sağlar.</span><span class="sxs-lookup"><span data-stu-id="6d512-111">It provides a service of locating, loading, and caching managed assemblies and other dependencies.</span></span>

- <span data-ttu-id="6d512-112">Dinamik kod yükleme ve boşaltmayı desteklemek için, kod yükleme ve kendi <xref:System.Runtime.Loader.AssemblyLoadContext> örneğindeki bağımlılıkları için yalıtılmış bir bağlam oluşturur.</span><span class="sxs-lookup"><span data-stu-id="6d512-112">To support dynamic code loading and unloading, it creates an isolated context for loading code and its dependencies in their own <xref:System.Runtime.Loader.AssemblyLoadContext> instance.</span></span>

## <a name="when-do-you-need-multiple-assemblyloadcontext-instances"></a><span data-ttu-id="6d512-113">Birden çok AssemblyLoadContext örneğine ne zaman ihtiyacınız var?</span><span class="sxs-lookup"><span data-stu-id="6d512-113">When do you need multiple AssemblyLoadContext instances?</span></span>

<span data-ttu-id="6d512-114">Tek <xref:System.Runtime.Loader.AssemblyLoadContext> bir örnek, basit bir montaj <xref:System.Reflection.Assembly> adı başına <xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType>tam bir sürümünü yüklemekle sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-114">A single <xref:System.Runtime.Loader.AssemblyLoadContext> instance is limited to loading exactly one version of an <xref:System.Reflection.Assembly> per simple assembly name, <xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="6d512-115">Kod modüllerini dinamik olarak yüklerken bu kısıtlama sorun haline gelebilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-115">This restriction can become a problem when loading code modules dynamically.</span></span> <span data-ttu-id="6d512-116">Her modül bağımsız olarak derlenir ve bir <xref:System.Reflection.Assembly>.'ün farklı sürümlerine bağlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-116">Each module is independently compiled and may depend on different versions of an <xref:System.Reflection.Assembly>.</span></span> <span data-ttu-id="6d512-117">Bu sorun genellikle farklı modüller yaygın olarak kullanılan kitaplığın farklı sürümlerine bağlı olduğunda oluşur.</span><span class="sxs-lookup"><span data-stu-id="6d512-117">This problem commonly occurs when different modules depend on different versions of a commonly used library.</span></span>

<span data-ttu-id="6d512-118">Dinamik yükleme kodunu desteklemek <xref:System.Runtime.Loader.AssemblyLoadContext> için API, aynı uygulamadaki <xref:System.Reflection.Assembly> bir uygulamanın çakışan sürümlerini yüklemeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="6d512-118">To support dynamically loading code, the <xref:System.Runtime.Loader.AssemblyLoadContext> API provides for loading conflicting versions of an <xref:System.Reflection.Assembly> in the same application.</span></span> <span data-ttu-id="6d512-119">Her <xref:System.Runtime.Loader.AssemblyLoadContext> örnek, her <xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType> biri belirli <xref:System.Reflection.Assembly> bir örneğin eşlemesini benzersiz bir sözlük sağlar.</span><span class="sxs-lookup"><span data-stu-id="6d512-119">Each <xref:System.Runtime.Loader.AssemblyLoadContext> instance provides a unique dictionary mapping each <xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType> to a specific <xref:System.Reflection.Assembly> instance.</span></span>

<span data-ttu-id="6d512-120">Ayrıca, daha sonra boşaltmak için bir kod modülü ile ilgili bağımlılıkları gruplandırmak için kullanışlı bir mekanizma sağlar.</span><span class="sxs-lookup"><span data-stu-id="6d512-120">It also provides a convenient mechanism for grouping dependencies related to a code module for later unload.</span></span>

## <a name="what-is-special-about-the-assemblyloadcontextdefault-instance"></a><span data-ttu-id="6d512-121">AssemblyLoadContext.Default örneğinin özel özelliği nedir?</span><span class="sxs-lookup"><span data-stu-id="6d512-121">What is special about the AssemblyLoadContext.Default instance?</span></span>

<span data-ttu-id="6d512-122">Örnek, <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> başlangıçtaçalışma süresine göre otomatik olarak doldurulur.</span><span class="sxs-lookup"><span data-stu-id="6d512-122">The <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> instance is automatically populated by the runtime at startup.</span></span>  <span data-ttu-id="6d512-123">Tüm statik bağımlılıkları bulmak ve bulmak için [varsayılan sondalama](default-probing.md) kullanır.</span><span class="sxs-lookup"><span data-stu-id="6d512-123">It uses [default probing](default-probing.md) to locate and find all static dependencies.</span></span>

<span data-ttu-id="6d512-124">En yaygın bağımlılık yükleme senaryolarını çözer.</span><span class="sxs-lookup"><span data-stu-id="6d512-124">It solves the most common dependency loading scenarios.</span></span>

## <a name="how-does-assemblyloadcontext-support-dynamic-dependencies"></a><span data-ttu-id="6d512-125">AssemblyLoadContext dinamik bağımlılıkları nasıl destekler?</span><span class="sxs-lookup"><span data-stu-id="6d512-125">How does AssemblyLoadContext support dynamic dependencies?</span></span>

<span data-ttu-id="6d512-126"><xref:System.Runtime.Loader.AssemblyLoadContext>geçersiz kılınabilecek çeşitli olaylara ve sanal işlevlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="6d512-126"><xref:System.Runtime.Loader.AssemblyLoadContext> has various events and virtual functions that can be overridden.</span></span>

<span data-ttu-id="6d512-127">Örnek <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> yalnızca olayları geçersiz kılmayı destekler.</span><span class="sxs-lookup"><span data-stu-id="6d512-127">The <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> instance only supports overriding the events.</span></span>

<span data-ttu-id="6d512-128">Makaleler [Yönetilen montaj yükleme algoritması,](loading-managed.md) [Uydu montaj yükleme algoritması](loading-resources.md)ve [Yönetilmeyen (yerel) kitaplık yükleme algoritması](loading-unmanaged.md) tüm kullanılabilir olaylar ve sanal işlevleri bakın.</span><span class="sxs-lookup"><span data-stu-id="6d512-128">The articles [Managed assembly loading algorithm](loading-managed.md), [Satellite assembly loading algorithm](loading-resources.md), and [Unmanaged (native) library loading algorithm](loading-unmanaged.md) refer to all the available events and virtual functions.</span></span>  <span data-ttu-id="6d512-129">Makaleler, yükleme algoritmalarında her olay ve işlevin göreli konumunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="6d512-129">The articles show each event and function's relative position in the loading algorithms.</span></span> <span data-ttu-id="6d512-130">Bu makale, bu bilgileri çoğaltmaz.</span><span class="sxs-lookup"><span data-stu-id="6d512-130">This article doesn't reproduce that information.</span></span>

<span data-ttu-id="6d512-131">Bu bölüm, ilgili olaylar ve işlevler için genel ilkeleri kapsar.</span><span class="sxs-lookup"><span data-stu-id="6d512-131">This section covers the general principles for the relevant events and functions.</span></span>

- <span data-ttu-id="6d512-132">**Tekrarlanabilir olun.**</span><span class="sxs-lookup"><span data-stu-id="6d512-132">**Be repeatable**.</span></span> <span data-ttu-id="6d512-133">Belirli bir bağımlılık için bir sorgu her zaman aynı yanıt neden olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-133">A query for a specific dependency must always result in the same response.</span></span> <span data-ttu-id="6d512-134">Aynı yüklenen bağımlılık örneği döndürülmelidir.</span><span class="sxs-lookup"><span data-stu-id="6d512-134">The same loaded dependency instance must be returned.</span></span> <span data-ttu-id="6d512-135">Bu gereksinim, önbellek tutarlılığı için temeldir.</span><span class="sxs-lookup"><span data-stu-id="6d512-135">This requirement is fundamental  for cache consistency.</span></span> <span data-ttu-id="6d512-136">Özellikle yönetilen derlemeler için bir <xref:System.Reflection.Assembly> önbellek oluşturuyoruz.</span><span class="sxs-lookup"><span data-stu-id="6d512-136">For managed assemblies in particular, we're creating a <xref:System.Reflection.Assembly> cache.</span></span> <span data-ttu-id="6d512-137">Önbellek anahtarı basit bir derleme <xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType>adıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-137">The cache key is a simple assembly name, <xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="6d512-138">**Genellikle atmayın.**</span><span class="sxs-lookup"><span data-stu-id="6d512-138">**Typically don't throw**.</span></span>  <span data-ttu-id="6d512-139">İstenen bağımlılık bulamadığında bu işlevlerin atmak yerine dönmesi `null` beklenir.</span><span class="sxs-lookup"><span data-stu-id="6d512-139">It's expected that these functions return `null` rather than throw when unable to find the requested dependency.</span></span> <span data-ttu-id="6d512-140">Atma erken arama sona erecek ve arayan için bir özel durum yaymak olacaktır.</span><span class="sxs-lookup"><span data-stu-id="6d512-140">Throwing will prematurely end the search and be propagate an exception to the caller.</span></span> <span data-ttu-id="6d512-141">Atma bozuk bir derleme veya bellek dışı bir durum gibi beklenmeyen hatalarla sınırlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-141">Throwing should be restricted to unexpected errors like a corrupted assembly or an out of memory condition.</span></span>
- <span data-ttu-id="6d512-142">**Özyinelemeden kaçının.**</span><span class="sxs-lookup"><span data-stu-id="6d512-142">**Avoid recursion**.</span></span> <span data-ttu-id="6d512-143">Bu işlevlerin ve işleyicilerin bağımlılıkları bulmak için yükleme kurallarını uyguladığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="6d512-143">Be aware that these functions and handlers implement the loading rules for locating dependencies.</span></span> <span data-ttu-id="6d512-144">Uygulamanız, özyinelemeyi tetikleyen API'leri aramamalıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-144">Your implementation shouldn't call APIs that trigger recursion.</span></span> <span data-ttu-id="6d512-145">Kodunuz genellikle belirli bir yol veya bellek başvuru argümanı gerektiren **AssemblyLoadContext** yük işlevlerini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6d512-145">Your code should typically call **AssemblyLoadContext** load functions that require a specific path or memory reference argument.</span></span>
- <span data-ttu-id="6d512-146">**Doğru AssemblyLoadContext'a yükleyin.**</span><span class="sxs-lookup"><span data-stu-id="6d512-146">**Load into the correct AssemblyLoadContext**.</span></span> <span data-ttu-id="6d512-147">Bağımlılıkların yüklendiği yerin seçimi uygulamaya özgüdür.</span><span class="sxs-lookup"><span data-stu-id="6d512-147">The choice of where to load dependencies is application-specific.</span></span>  <span data-ttu-id="6d512-148">Seçim bu olaylar ve işlevler tarafından uygulanır.</span><span class="sxs-lookup"><span data-stu-id="6d512-148">The choice is implemented by these events and functions.</span></span> <span data-ttu-id="6d512-149">Kodunuz **AssemblyLoadContext** load-by-path işlevlerini aradığında, kodun yüklenmesini istediğiniz durumda bunları arayın.</span><span class="sxs-lookup"><span data-stu-id="6d512-149">When your code calls **AssemblyLoadContext** load-by-path functions call them on the instance where you want the code loaded.</span></span> <span data-ttu-id="6d512-150">Bazen geri `null` dönen ve <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> yükün işlemesine izin vermek en basit seçenek olabilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-150">Sometime returning `null` and letting the <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> handle the load may be the simplest option.</span></span>
- <span data-ttu-id="6d512-151">**Konu yarışları farkında olun.**</span><span class="sxs-lookup"><span data-stu-id="6d512-151">**Be aware of thread races**.</span></span> <span data-ttu-id="6d512-152">Yükleme birden çok iş parçacığı tarafından tetiklenebilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-152">Loading can be triggered by multiple threads.</span></span> <span data-ttu-id="6d512-153">AssemblyLoadContext, önbelleğine atomik olarak derlemeler ekleyerek iş parçacığı yarışlarını işler.</span><span class="sxs-lookup"><span data-stu-id="6d512-153">The AssemblyLoadContext handles thread races by atomically adding assemblies to its cache.</span></span> <span data-ttu-id="6d512-154">Yarış kaybedeninin örneği atılır.</span><span class="sxs-lookup"><span data-stu-id="6d512-154">The race loser's instance is discarded.</span></span> <span data-ttu-id="6d512-155">Uygulama mantığınızda, birden çok iş parçacığı düzgün işlemeyen ekstra mantık eklemeyin.</span><span class="sxs-lookup"><span data-stu-id="6d512-155">In your implementation logic, don't add extra logic that doesn't handle multiple threads properly.</span></span>

## <a name="how-are-dynamic-dependencies-isolated"></a><span data-ttu-id="6d512-156">Dinamik bağımlılıklar nasıl yalıtılır?</span><span class="sxs-lookup"><span data-stu-id="6d512-156">How are dynamic dependencies isolated?</span></span>

<span data-ttu-id="6d512-157">Her <xref:System.Runtime.Loader.AssemblyLoadContext> örnek, örnekler <xref:System.Reflection.Assembly> ve <xref:System.Type> tanımlar için benzersiz bir kapsamı temsil eder.</span><span class="sxs-lookup"><span data-stu-id="6d512-157">Each <xref:System.Runtime.Loader.AssemblyLoadContext> instance represents a unique scope for <xref:System.Reflection.Assembly> instances and <xref:System.Type> definitions.</span></span>

<span data-ttu-id="6d512-158">Bu bağımlılıklar arasında ikili izolasyon yok.</span><span class="sxs-lookup"><span data-stu-id="6d512-158">There's no binary isolation between these dependencies.</span></span> <span data-ttu-id="6d512-159">Sadece birbirlerini isme göre bulamadıkları için izole edilmişler.</span><span class="sxs-lookup"><span data-stu-id="6d512-159">They're only isolated by not finding each other by name.</span></span>

<span data-ttu-id="6d512-160">Her <xref:System.Runtime.Loader.AssemblyLoadContext>birinde:</span><span class="sxs-lookup"><span data-stu-id="6d512-160">In each <xref:System.Runtime.Loader.AssemblyLoadContext>:</span></span>

- <span data-ttu-id="6d512-161"><xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType>farklı <xref:System.Reflection.Assembly> bir örneğe başvurabilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-161"><xref:System.Reflection.AssemblyName.Name?displayProperty=nameWithType> may refer to a different <xref:System.Reflection.Assembly> instance.</span></span>
- <span data-ttu-id="6d512-162"><xref:System.Type.GetType%2A?displayProperty=nameWithType>aynı tür `name`için farklı bir tür örneği döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-162"><xref:System.Type.GetType%2A?displayProperty=nameWithType> may return a different type instance for the same type `name`.</span></span>

## <a name="how-are-dependencies-shared"></a><span data-ttu-id="6d512-163">Bağımlılıklar nasıl paylaşılır?</span><span class="sxs-lookup"><span data-stu-id="6d512-163">How are dependencies shared?</span></span>

<span data-ttu-id="6d512-164">Bağımlılıklar örnekler arasında <xref:System.Runtime.Loader.AssemblyLoadContext> kolayca paylaşılabilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-164">Dependencies can easily be shared between <xref:System.Runtime.Loader.AssemblyLoadContext> instances.</span></span> <span data-ttu-id="6d512-165">Genel model bir <xref:System.Runtime.Loader.AssemblyLoadContext> bağımlılık yüklemek için bir.</span><span class="sxs-lookup"><span data-stu-id="6d512-165">The general model is for one <xref:System.Runtime.Loader.AssemblyLoadContext> to load a dependency.</span></span>  <span data-ttu-id="6d512-166">Diğer, yüklenen derlemeye bir başvuru kullanarak bağımlılığı paylaşır.</span><span class="sxs-lookup"><span data-stu-id="6d512-166">The other shares the dependency by using a reference to the loaded assembly.</span></span>

<span data-ttu-id="6d512-167">Bu paylaşım çalışma zamanı derlemeleri için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="6d512-167">This sharing is required of the runtime assemblies.</span></span> <span data-ttu-id="6d512-168">Bu derlemeler yalnızca <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6d512-168">These assemblies can only be loaded into the <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType>.</span></span> <span data-ttu-id="6d512-169">Aynı şey `ASP.NET`, `WPF`, veya `WinForms`.</span><span class="sxs-lookup"><span data-stu-id="6d512-169">The same is required for frameworks like `ASP.NET`, `WPF`, or `WinForms`.</span></span>

<span data-ttu-id="6d512-170">Paylaşılan bağımlılıkların <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType>' a yüklenmesi önerilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-170">It's recommended that shared dependencies should be loaded into <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType>.</span></span> <span data-ttu-id="6d512-171">Bu paylaşım ortak tasarım desenidir.</span><span class="sxs-lookup"><span data-stu-id="6d512-171">This sharing is the common design pattern.</span></span>

<span data-ttu-id="6d512-172">Paylaşım, özel <xref:System.Runtime.Loader.AssemblyLoadContext> örneğin kodlanmasında uygulanır.</span><span class="sxs-lookup"><span data-stu-id="6d512-172">Sharing is implemented in the coding of the custom <xref:System.Runtime.Loader.AssemblyLoadContext> instance.</span></span> <span data-ttu-id="6d512-173"><xref:System.Runtime.Loader.AssemblyLoadContext>geçersiz kılınabilecek çeşitli olaylara ve sanal işlevlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="6d512-173"><xref:System.Runtime.Loader.AssemblyLoadContext> has various events and virtual functions that can be overridden.</span></span> <span data-ttu-id="6d512-174">Bu işlevlerden herhangi biri başka <xref:System.Reflection.Assembly> <xref:System.Runtime.Loader.AssemblyLoadContext> bir örnekte yüklenen bir <xref:System.Reflection.Assembly> örne başvuru döndürdüğünde, örnek paylaşılır.</span><span class="sxs-lookup"><span data-stu-id="6d512-174">When any of these functions return a reference to an <xref:System.Reflection.Assembly> instance that was loaded in another <xref:System.Runtime.Loader.AssemblyLoadContext> instance, the <xref:System.Reflection.Assembly> instance is shared.</span></span> <span data-ttu-id="6d512-175">Standart yükleme algoritması, <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> ortak paylaşım deseni basitleştirmek için yüklemeiçin erteler.</span><span class="sxs-lookup"><span data-stu-id="6d512-175">The standard load algorithm defers to <xref:System.Runtime.Loader.AssemblyLoadContext.Default?displayProperty=nameWithType> for loading to simplify the common sharing pattern.</span></span>  <span data-ttu-id="6d512-176">Bkz. [Yönetilen montaj yükleme algoritması.](loading-managed.md)</span><span class="sxs-lookup"><span data-stu-id="6d512-176">See [Managed assembly loading algorithm](loading-managed.md).</span></span>

## <a name="complications"></a><span data-ttu-id="6d512-177">Zorluk Grubu</span><span class="sxs-lookup"><span data-stu-id="6d512-177">Complications</span></span>

### <a name="type-conversion-issues"></a><span data-ttu-id="6d512-178">Tür dönüştürme sorunları</span><span class="sxs-lookup"><span data-stu-id="6d512-178">Type conversion issues</span></span>

<span data-ttu-id="6d512-179">İki <xref:System.Runtime.Loader.AssemblyLoadContext> örnek aynı `name`tür tanımları içeriyorsa, aynı türde değildir.</span><span class="sxs-lookup"><span data-stu-id="6d512-179">When two <xref:System.Runtime.Loader.AssemblyLoadContext> instances contain type definitions with the same `name`, they're not the same type.</span></span> <span data-ttu-id="6d512-180">Aynı <xref:System.Reflection.Assembly> örnekten geliyorsa aynı tipteler.</span><span class="sxs-lookup"><span data-stu-id="6d512-180">They're the same type if and only if they come from the same <xref:System.Reflection.Assembly> instance.</span></span>

<span data-ttu-id="6d512-181">Sorunları karmaşıklaştırmak için, bu eşleşmemiş türleri hakkında özel durum iletileri kafa karıştırıcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-181">To complicate matters, exception messages about these mismatched types can be confusing.</span></span> <span data-ttu-id="6d512-182">Türler, özel durum iletilerinde basit tür adlarıyla adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6d512-182">The types are referred to in the exception messages by their simple type names.</span></span> <span data-ttu-id="6d512-183">Bu durumda ortak özel durum iletisi formolacaktır:</span><span class="sxs-lookup"><span data-stu-id="6d512-183">The common exception message in this case would be of the form:</span></span>

> <span data-ttu-id="6d512-184">'Yalıtılmış Tip' türünden bir nesne 'Yalıtılmış Yazı' türüne dönüştürülemez.</span><span class="sxs-lookup"><span data-stu-id="6d512-184">Object of type 'IsolatedType' cannot be converted to type 'IsolatedType'.</span></span>

### <a name="debugging-type-conversion-issues"></a><span data-ttu-id="6d512-185">Tür dönüştürme sorunlarını hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="6d512-185">Debugging type conversion issues</span></span>

<span data-ttu-id="6d512-186">Uyumsuz türleri bir çift göz önüne alındığında da bilmek önemlidir:</span><span class="sxs-lookup"><span data-stu-id="6d512-186">Given a pair of mismatched types it's important to also know:</span></span>

- <span data-ttu-id="6d512-187">Her tür<xref:System.Type.Assembly?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="6d512-187">Each type's <xref:System.Type.Assembly?displayProperty=nameWithType></span></span>
- <span data-ttu-id="6d512-188">Her <xref:System.Runtime.Loader.AssemblyLoadContext>tür, <xref:System.Runtime.Loader.AssemblyLoadContext.GetLoadContext(System.Reflection.Assembly)?displayProperty=nameWithType> hangi fonksiyonu ile elde edilebilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-188">Each type's <xref:System.Runtime.Loader.AssemblyLoadContext>, which can be obtained via the <xref:System.Runtime.Loader.AssemblyLoadContext.GetLoadContext(System.Reflection.Assembly)?displayProperty=nameWithType> function.</span></span>

<span data-ttu-id="6d512-189">Verilen iki `a` nesne `b`ve , hata ayıklama aşağıdaki değerlendirilmesi yararlı olacaktır:</span><span class="sxs-lookup"><span data-stu-id="6d512-189">Given two objects `a` and `b`, evaluating the following in the debugger will be helpful:</span></span>

```csharp
// In debugger look at each assembly's instance, Location, and FullName
a.GetType().Assembly
b.GetType().Assembly
// In debugger look at each AssemblyLoadContext's instance and name
System.Runtime.AssemblyLoadContext.GetLoadContext(a.GetType().Assembly)
System.Runtime.AssemblyLoadContext.GetLoadContext(b.GetType().Assembly)
```

### <a name="resolving-type-conversion-issues"></a><span data-ttu-id="6d512-190">Tür dönüştürme sorunlarını çözme</span><span class="sxs-lookup"><span data-stu-id="6d512-190">Resolving type conversion issues</span></span>

<span data-ttu-id="6d512-191">Bu tür dönüştürme sorunlarını çözmek için iki tasarım delemi vardır.</span><span class="sxs-lookup"><span data-stu-id="6d512-191">There are two design patterns for solving these type conversion issues.</span></span>

1. <span data-ttu-id="6d512-192">Ortak paylaşılan türleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="6d512-192">Use common shared types.</span></span> <span data-ttu-id="6d512-193">Bu paylaşılan tür ilkel bir çalışma zamanı türü olabilir veya paylaşılan bir derlemede yeni bir paylaşılan tür oluşturmayı içerebilir.</span><span class="sxs-lookup"><span data-stu-id="6d512-193">This shared type can either be a primitive runtime type, or it can involve creating a new shared type in a shared assembly.</span></span>  <span data-ttu-id="6d512-194">Genellikle paylaşılan tür, bir uygulama derlemesinde tanımlanan bir [arabirimdir.](../../csharp/language-reference/keywords/interface.md)</span><span class="sxs-lookup"><span data-stu-id="6d512-194">Often the shared type is an [interface](../../csharp/language-reference/keywords/interface.md) defined in an application assembly.</span></span> <span data-ttu-id="6d512-195">Ayrıca bakınız: [Bağımlılıklar nasıl paylaşılır?](#how-are-dependencies-shared)</span><span class="sxs-lookup"><span data-stu-id="6d512-195">See also: [How are dependencies shared?](#how-are-dependencies-shared).</span></span>

2. <span data-ttu-id="6d512-196">Bir türden diğerine dönüştürmek için mareşalleme tekniklerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="6d512-196">Use marshaling techniques to convert from one type to another.</span></span>
