---
title: gRPC
description: GRPC, bulutta yerel uygulamalardaki rolü ve HTTP ile gerçekleşen iletişimin nasıl farklı olduğunu öğrenin.
author: robvet
ms.date: 03/31/2020
ms.openlocfilehash: 01dd4c934f0b39041ea377691067edf4dbe20378
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895561"
---
# <a name="grpc"></a><span data-ttu-id="2d2d7-103">gRPC</span><span class="sxs-lookup"><span data-stu-id="2d2d7-103">gRPC</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="2d2d7-104">Şimdiye kadar bu kitapta, [REST tabanlı](https://docs.microsoft.com/azure/architecture/best-practices/api-design) iletişime odaklandık.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-104">So far in this book, we've focused on [REST-based](https://docs.microsoft.com/azure/architecture/best-practices/api-design) communication.</span></span> <span data-ttu-id="2d2d7-105">REST 'in varlık kaynaklarına karşı CRUD tabanlı işlemleri tanımlayan esnek bir mimari stili olduğunu gördük.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-105">We've seen that REST is a flexible architectural style that defines CRUD-based operations against entity resources.</span></span> <span data-ttu-id="2d2d7-106">İstemciler, istek/yanıt iletişim modeliyle HTTP genelindeki kaynaklarla etkileşime geçin.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-106">Clients interact with resources across HTTP with a request/response communication model.</span></span> <span data-ttu-id="2d2d7-107">DIĞER bir deyişle, daha yeni bir iletişim teknolojisi olan gRPC, buluta özgü topluluk genelinde inanılmaz itici güç elde etti.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-107">While REST is widely implemented, a newer communication technology, gRPC, has gained tremendous momentum across the cloud-native community.</span></span>

## <a name="what-is-grpc"></a><span data-ttu-id="2d2d7-108">GRPC nedir?</span><span class="sxs-lookup"><span data-stu-id="2d2d7-108">What is gRPC?</span></span>

<span data-ttu-id="2d2d7-109">gRPC, yaş-eski [uzak yordam çağrısı (RPC) protokolünü gelişten](https://en.wikipedia.org/wiki/Remote_procedure_call) modern ve yüksek performanslı bir çerçevedir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-109">gRPC is a modern, high-performance framework that evolves the age-old [remote procedure call (RPC)](https://en.wikipedia.org/wiki/Remote_procedure_call) protocol.</span></span> <span data-ttu-id="2d2d7-110">Uygulama düzeyinde, gRPC istemciler ve arka uç hizmetleri arasında ileti gönderimi kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-110">At the application level, gRPC streamlines messaging between clients and back-end services.</span></span> <span data-ttu-id="2d2d7-111">Google 'dan kaynaklanan gRPC, bulutta yerel [Bilgi Işlem altyapısı (CNCF)](https://www.cncf.io/) ekosisteminin açık kaynak ve bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-111">Originating from Google, gRPC is open source and part of the  [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) ecosystem of cloud-native offerings.</span></span> <span data-ttu-id="2d2d7-112">CNCF gRPC 'yi bir [ınubating projesi](https://github.com/cncf/toc/blob/master/process/graduation_criteria.adoc)olarak değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-112">CNCF considers gRPC an [incubating project](https://github.com/cncf/toc/blob/master/process/graduation_criteria.adoc).</span></span> <span data-ttu-id="2d2d7-113">Inubating, son kullanıcıların, üretim uygulamalarında teknolojiyi kullandığı ve projenin sağlıklı sayıda katkıda bulunanın olduğu anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-113">Incubating means end users are using the technology in production applications, and the project has a healthy number of contributors.</span></span>

<span data-ttu-id="2d2d7-114">Tipik bir gRPC istemci uygulaması, bir iş işlemi uygulayan yerel, işlem içi bir işlev sergilecektir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-114">A typical gRPC client app will expose a local, in-process function that implements a business operation.</span></span> <span data-ttu-id="2d2d7-115">Bu yerel işlev, ' ın altında, uzak bir makinede başka bir işlevi çağırır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-115">Under the covers, that local function invokes another function on a remote machine.</span></span> <span data-ttu-id="2d2d7-116">Yerel bir çağrı olarak görünen, uzak bir hizmete bir saydam işlem dışı çağrısı olur.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-116">What appears to be a local call essentially becomes a transparent out-of-process call to a remote service.</span></span> <span data-ttu-id="2d2d7-117">RPC sıhhi tesisat, bilgisayarlar arasında noktadan noktaya ağ iletişimini, Serileştirmeyi ve yürütmeyi soyutlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-117">The RPC plumbing abstracts the point-to-point networking communication, serialization, and execution between computers.</span></span>

<span data-ttu-id="2d2d7-118">Bulutta yerel uygulamalarda, geliştiriciler genellikle programlama dilleri, çerçeveler ve teknolojilerde çalışır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-118">In cloud-native applications, developers often work across programming languages, frameworks, and technologies.</span></span> <span data-ttu-id="2d2d7-119">Bu *birlikte çalışabilirlik* , platformlar arası iletişim için gereken ileti sözleşmelerini ve sıhhi tesisat 'yi karmaşıklaştırır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-119">This *interoperability* complicates message contracts and the plumbing required for cross-platform communication.</span></span>  <span data-ttu-id="2d2d7-120">gRPC, bu kaygıları soyutlayan bir "Tekdüzen yatay katman" sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-120">gRPC provides a "uniform horizontal layer" that abstracts these concerns.</span></span> <span data-ttu-id="2d2d7-121">Yerel platformlarda bulunan geliştiriciler iş işlevselliğine odaklanırken, gRPC iletişim sıhhi tesisat ile ilgilenir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-121">Developers code in their native platform focused on business functionality, while gRPC handles communication plumbing.</span></span>

<span data-ttu-id="2d2d7-122">gRPC, Java, JavaScript, C#, Go, Swift ve NodeJS dahil birçok popüler geliştirme yığını genelinde kapsamlı destek sunar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-122">gRPC offers comprehensive support across most popular development stacks, including Java, JavaScript, C#, Go, Swift, and NodeJS.</span></span>

## <a name="grpc-benefits"></a><span data-ttu-id="2d2d7-123">gRPC avantajları</span><span class="sxs-lookup"><span data-stu-id="2d2d7-123">gRPC Benefits</span></span>

<span data-ttu-id="2d2d7-124">gRPC, Aktarım Protokolü için HTTP/2 kullanır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-124">gRPC uses HTTP/2 for its transport protocol.</span></span> <span data-ttu-id="2d2d7-125">HTTP 1,1 ile uyumlu olmakla birlikte, HTTP/2 özellikleri birçok gelişmiş özelliğe sahiptir:</span><span class="sxs-lookup"><span data-stu-id="2d2d7-125">While compatible with HTTP 1.1, HTTP/2 features many advanced capabilities:</span></span>

- <span data-ttu-id="2d2d7-126">Verileri düz metin olarak gönderen HTTP 1,1 'nin aksine veri aktarımı için bir ikili protokol.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-126">A binary protocol for data transport - unlike HTTP 1.1, which sends data as clear text.</span></span>
- <span data-ttu-id="2d2d7-127">Aynı bağlantı üzerinden birden çok paralel istek göndermek için çoğullama desteği-HTTP 1,1, işleme bir kerede tek bir istek/yanıt iletisi ile sınırlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-127">Multiplexing support for sending multiple parallel requests over the same connection - HTTP 1.1 limits processing to one request/response message at a time.</span></span>
- <span data-ttu-id="2d2d7-128">Hem istemci isteklerini hem de sunucu yanıtlarını aynı anda göndermek için çift yönlü tam çift yönlü iletişim.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-128">Bidirectional full-duplex communication for sending both client requests and server responses simultaneously.</span></span>
- <span data-ttu-id="2d2d7-129">Zaman uyumsuz akış büyük veri kümelerine yönelik istekleri ve yanıtları etkinleştiren yerleşik akış.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-129">Built-in streaming enabling requests and responses to asynchronously stream large data sets.</span></span>

<span data-ttu-id="2d2d7-130">gRPC hafif ve yüksek performanslı.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-130">gRPC is lightweight and highly performant.</span></span> <span data-ttu-id="2d2d7-131">% 60-80 daha küçük iletilerle JSON serileştirmesine kadar daha hızlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-131">It can be up to 8x faster than JSON serialization with messages 60-80% smaller.</span></span> <span data-ttu-id="2d2d7-132">Microsoft [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) ayrıştırmasına göre, GRPC performansı, yüksek oranda Iyileştirilmiş [NetTcp bağlamalarının](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8)hızını ve verimliliğini aşmaktadır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-132">In Microsoft [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) parlance, gRPC performance exceeds the speed and efficiency of the highly optimized [NetTCP bindings](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8).</span></span> <span data-ttu-id="2d2d7-133">Microsoft Stack ' i tercih eden NetTCP 'nin aksine gRPC platformlar arası bir platformdur.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-133">Unlike NetTCP, which favors the Microsoft stack, gRPC is cross-platform.</span></span>

## <a name="protocol-buffers"></a><span data-ttu-id="2d2d7-134">Protokol Arabellekleri</span><span class="sxs-lookup"><span data-stu-id="2d2d7-134">Protocol Buffers</span></span>

<span data-ttu-id="2d2d7-135">gRPC, [protokol arabellekleri](https://developers.google.com/protocol-buffers/docs/overview)adlı açık kaynaklı bir teknolojinin ayraçları.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-135">gRPC embraces an open-source technology called [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview).</span></span> <span data-ttu-id="2d2d7-136">Hizmetlerin birbirlerine gönderdikleri yapılandırılmış iletileri serileştirmek için yüksek düzeyde etkili ve platformdan bağımsız bir serileştirme biçimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-136">They provide a highly efficient and platform-neutral serialization format for serializing structured messages that services send to each other.</span></span> <span data-ttu-id="2d2d7-137">Platformlar arası arabirim tanım dili (IDL) kullanarak, geliştiriciler her mikro hizmet için bir hizmet sözleşmesi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-137">Using a cross-platform Interface Definition Language (IDL), developers define a service contract for each microservice.</span></span> <span data-ttu-id="2d2d7-138">Metin tabanlı `.proto` dosya olarak uygulanan sözleşme, her hizmet için yöntemleri, girişleri ve çıkışları açıklar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-138">The contract, implemented as a text-based `.proto` file, describes the methods, inputs, and outputs for each service.</span></span> <span data-ttu-id="2d2d7-139">Aynı sözleşme dosyası, farklı geliştirme platformları üzerine inşa olan gRPC istemcileri ve hizmetleri için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-139">The same contract file can be used for gRPC clients and services built on different development platforms.</span></span>

<span data-ttu-id="2d2d7-140">Prototiparabelleği derleyicisi `protoc`olan proto dosyasını kullanarak, hedef platformunuz için hem istemci hem de hizmet kodu üretir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-140">Using the proto file, the Protobuf compiler, `protoc`, generates both client and service code for your target platform.</span></span> <span data-ttu-id="2d2d7-141">Kod aşağıdaki bileşenleri içerir:</span><span class="sxs-lookup"><span data-stu-id="2d2d7-141">The code includes the following components:</span></span>

- <span data-ttu-id="2d2d7-142">İstemci ve hizmet tarafından paylaşılan, bir ileti için hizmet işlemlerini ve veri öğelerini temsil eden türü kesin belirlenmiş nesneler.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-142">Strongly-typed objects, shared by the client and service, that represent the service operations and data elements for a message.</span></span>
- <span data-ttu-id="2d2d7-143">Uzak gRPC hizmetinin devralmasını ve uzatabtiği, gerekli ağ tesisat gerektiren, kesin olarak belirtilmiş bir temel sınıf.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-143">A strongly-typed base class with the required network plumbing that the remote gRPC service can inherit and extend.</span></span>
- <span data-ttu-id="2d2d7-144">Uzak gRPC hizmetini çağırmak için gereken sıhhi tesisat 'yi içeren bir istemci saplaması.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-144">A client stub that contains the required plumbing to invoke the remote gRPC service.</span></span>

<span data-ttu-id="2d2d7-145">Çalışma zamanında, her ileti standart bir Prototipme temsili olarak serileştirilir ve istemci ile uzak hizmet arasında değiş tokuş yapılır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-145">At runtime, each message is serialized as a standard Protobuf representation and exchanged between the client and remote service.</span></span> <span data-ttu-id="2d2d7-146">JSON veya XML 'den farklı olarak, prototipli mesajlar derlenmiş ikili bayt olarak serileştirilir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-146">Unlike JSON or XML, Protobuf messages are serialized as compiled binary bytes.</span></span>

<span data-ttu-id="2d2d7-147">Microsoft mimari sitesinden sunulan [WCF geliştiricileri Için GRPC](https://docs.microsoft.com/dotnet/architecture/grpc-for-wcf-developers/)Rehberi, GRPC ve protokol arabelleklerinin ayrıntılı kapsamını sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-147">The book, [gRPC for WCF Developers](https://docs.microsoft.com/dotnet/architecture/grpc-for-wcf-developers/), available from the Microsoft Architecture site, provides in-depth coverage of gRPC and Protocol Buffers.</span></span>

## <a name="grpc-support-in-net"></a><span data-ttu-id="2d2d7-148">.NET ' te gRPC desteği</span><span class="sxs-lookup"><span data-stu-id="2d2d7-148">gRPC support in .NET</span></span>

<span data-ttu-id="2d2d7-149">gRPC, .NET Core 3,0 SDK ve sonraki sürümleriyle tümleşiktir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-149">gRPC is integrated into .NET Core 3.0 SDK and later.</span></span> <span data-ttu-id="2d2d7-150">Aşağıdaki araçlar bunu destekler:</span><span class="sxs-lookup"><span data-stu-id="2d2d7-150">The following tools support it:</span></span>

- <span data-ttu-id="2d2d7-151">Web geliştirme iş yükü yüklüyken Visual Studio 2019, sürüm 16,3 veya üzeri.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-151">Visual Studio 2019, version 16.3 or later, with the web development workload installed.</span></span>
- <span data-ttu-id="2d2d7-152">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="2d2d7-152">Visual Studio Code</span></span>
- <span data-ttu-id="2d2d7-153">DotNet CLı</span><span class="sxs-lookup"><span data-stu-id="2d2d7-153">the dotnet CLI</span></span>

<span data-ttu-id="2d2d7-154">SDK, Endpoint Routing, yerleşik IOC ve günlüğe kaydetme için araç içerir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-154">The SDK includes tooling for endpoint routing, built-in IoC, and logging.</span></span> <span data-ttu-id="2d2d7-155">Açık kaynaklı Kestrel Web sunucusu HTTP/2 bağlantılarını destekler.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-155">The open-source Kestrel web server supports HTTP/2 connections.</span></span> <span data-ttu-id="2d2d7-156">Şekil 4-20, bir gRPC hizmeti için iskelet bir projeyi dolandırıcılara bağlayan bir Visual Studio 2019 şablonunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-156">Figure 4-20 shows a Visual Studio 2019 template that scaffolds a skeleton project for a gRPC service.</span></span> <span data-ttu-id="2d2d7-157">.NET Core 'un Windows, Linux ve macOS 'ı tam olarak nasıl desteklediğini aklınızda yapın.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-157">Note how .NET Core fully supports Windows, Linux, and macOS.</span></span>

![Visual Studio 2019 ' de gRPC desteği](./media/visual-studio-2019-grpc-template.png)

<span data-ttu-id="2d2d7-159">**Şekil 4-20**.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-159">**Figure 4-20**.</span></span> <span data-ttu-id="2d2d7-160">Visual Studio 2019 ' de gRPC desteği</span><span class="sxs-lookup"><span data-stu-id="2d2d7-160">gRPC support in Visual Studio 2019</span></span>
  
<span data-ttu-id="2d2d7-161">Şekil 4-21, Visual Studio 2019 ' de yer alan yerleşik yapı iskelesi tarafından oluşturulan iskelet gRPC hizmetini gösterir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-161">Figure 4-21 shows the skeleton gRPC service generated from the built-in scaffolding included in Visual Studio 2019.</span></span>  

![Visual Studio 2019 ' de gRPC projesi](./media/grpc-project.png  )

<span data-ttu-id="2d2d7-163">**Şekil 4-21**.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-163">**Figure 4-21**.</span></span> <span data-ttu-id="2d2d7-164">Visual Studio 2019 ' de gRPC projesi</span><span class="sxs-lookup"><span data-stu-id="2d2d7-164">gRPC project in Visual Studio 2019</span></span>

<span data-ttu-id="2d2d7-165">Önceki şekilde, Proto Description dosyası ve hizmet kodu ' na göz önünde.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-165">In the previous figure, note the proto description file and service code.</span></span> <span data-ttu-id="2d2d7-166">Kısa süre içinde gördüğünüz gibi, Visual Studio hem başlangıç sınıfında hem de temel alınan proje dosyasında ek yapılandırma oluşturur.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-166">As you'll see shortly, Visual Studio generates additional configuration in both the Startup class and underlying project file.</span></span>

## <a name="grpc-usage"></a><span data-ttu-id="2d2d7-167">gRPC kullanımı</span><span class="sxs-lookup"><span data-stu-id="2d2d7-167">gRPC usage</span></span>

<span data-ttu-id="2d2d7-168">GRPC 'yi aşağıdaki senaryolar için tercih edin:</span><span class="sxs-lookup"><span data-stu-id="2d2d7-168">Favor gRPC for the following scenarios:</span></span>

- <span data-ttu-id="2d2d7-169">İşleme devam etmek için anında yanıtın gerekli olduğu, zaman uyumlu arka uç mikro hizmetten mikro hizmet iletişimi.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-169">Synchronous backend microservice-to-microservice communication where an immediate response is required to continue processing.</span></span>
- <span data-ttu-id="2d2d7-170">Karma programlama platformlarını desteklemesi gereken çok yönlü ortamları.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-170">Polyglot environments that need to support mixed programming platforms.</span></span>
- <span data-ttu-id="2d2d7-171">Performansın kritik olduğu düşük gecikme süresi ve yüksek aktarım hızı iletişimi.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-171">Low latency and high throughput communication where performance is critical.</span></span>
- <span data-ttu-id="2d2d7-172">Noktadan noktaya gerçek zamanlı iletişim-gRPC, yoklama yapmadan iletileri gerçek zamanlı olarak gönderebilir ve iki yönlü akış için mükemmel destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-172">Point-to-point real-time communication - gRPC can push messages in real time without polling and has excellent support for bi-directional streaming.</span></span>
- <span data-ttu-id="2d2d7-173">Ağ kısıtlamalı ortamlar – ikili gRPC iletileri her zaman eşdeğer bir metin tabanlı JSON iletisinden küçüktür.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-173">Network constrained environments – binary gRPC messages are always smaller than an equivalent text-based JSON message.</span></span>

<span data-ttu-id="2d2d7-174">Bu yazma sırasında, gRPC öncelikle arka uç hizmetleriyle birlikte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-174">At the time, of this writing, gRPC is primarily used with backend services.</span></span> <span data-ttu-id="2d2d7-175">Modern tarayıcıların çoğu, ön uç gRPC istemcisini desteklemek için gereken HTTP/2 denetimi düzeyini sağlayamaz.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-175">Most modern browsers can't provide the level of HTTP/2 control required to support a front-end gRPC client.</span></span> <span data-ttu-id="2d2d7-176">Yani, JavaScript veya Blazor WebAssembly teknolojileriyle oluşturulmuş tarayıcı tabanlı uygulamalardan gRPC iletişimini sağlayan [erken bir girişim](https://devblogs.microsoft.com/aspnet/grpc-web-experiment/) vardır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-176">That said, there's an [early initiative](https://devblogs.microsoft.com/aspnet/grpc-web-experiment/) that enables gRPC communication from browser-based apps built with JavaScript or Blazor WebAssembly technologies.</span></span> <span data-ttu-id="2d2d7-177">[.Net Için GRPC-Web](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md) , ASP.NET Core GRPC uygulamasının tarayıcı uygulamalarında GRPC özelliklerini desteklemesini sağlar:</span><span class="sxs-lookup"><span data-stu-id="2d2d7-177">The  [gRPC-Web for .NET](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md) enables an ASP.NET Core gRPC app to support gRPC features in browser apps:</span></span>

- <span data-ttu-id="2d2d7-178">Kesin tür belirtilmiş kod tarafından oluşturulan istemciler</span><span class="sxs-lookup"><span data-stu-id="2d2d7-178">Strongly-typed code-generated clients</span></span>
- <span data-ttu-id="2d2d7-179">Küçük mesajlar</span><span class="sxs-lookup"><span data-stu-id="2d2d7-179">Compact Protobuf messages</span></span>
- <span data-ttu-id="2d2d7-180">Sunucu akışı</span><span class="sxs-lookup"><span data-stu-id="2d2d7-180">Server streaming</span></span>

## <a name="grpc-implementation"></a><span data-ttu-id="2d2d7-181">gRPC uygulama</span><span class="sxs-lookup"><span data-stu-id="2d2d7-181">gRPC implementation</span></span>

<span data-ttu-id="2d2d7-182">Microsoft 'un [kapsayıcılarındaki](https://github.com/dotnet-architecture/eShopOnContainers)mikro hizmet başvuru mimarisi, .NET Core uygulamalarında GRPC hizmetlerinin nasıl uygulanacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-182">The microservice reference architecture, [eShop on Containers](https://github.com/dotnet-architecture/eShopOnContainers), from Microsoft, shows how to implement gRPC services in .NET Core applications.</span></span> <span data-ttu-id="2d2d7-183">Şekil 4-22 arka uç mimarisini gösterir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-183">Figure 4-22 presents the back-end architecture.</span></span>

![Kapsayıcılarda eShop için arka uç mimarisi](./media/eshop-with-aggregators.png)

<span data-ttu-id="2d2d7-185">**Şekil 4-22**.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-185">**Figure 4-22**.</span></span> <span data-ttu-id="2d2d7-186">Kapsayıcılarda eShop için arka uç mimarisi</span><span class="sxs-lookup"><span data-stu-id="2d2d7-186">Backend architecture for eShop on Containers</span></span>

<span data-ttu-id="2d2d7-187">Önceki şekilde, birden çok API ağ geçidini açığa çıkararak eShop 'nin ön uç (BFF) [Için arka](https://docs.microsoft.com/azure/architecture/patterns/backends-for-frontends) ucunu nasıl atdığını aklınızda bir yere aklınızda</span><span class="sxs-lookup"><span data-stu-id="2d2d7-187">In the previous figure, note how eShop embraces the [Backend for Frontends pattern](https://docs.microsoft.com/azure/architecture/patterns/backends-for-frontends) (BFF) by exposing multiple API gateways.</span></span> <span data-ttu-id="2d2d7-188">Bu bölümün önceki kısımlarında BFF modelini tartıştık.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-188">We discussed the BFF pattern earlier in this chapter.</span></span> <span data-ttu-id="2d2d7-189">Web-alışveriş API ağ geçidi ve arka uç alışverişi mikro hizmetleri arasında yer alan toplayıcı mikro hizmetine (gri) yakın bir ilgi ödeyin.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-189">Pay close attention to the Aggregator microservice (in gray) that sits between the Web-Shopping API Gateway and backend Shopping microservices.</span></span> <span data-ttu-id="2d2d7-190">Toplayıcı bir istemciden tek bir istek alır, bunu çeşitli mikro hizmetlere dağıtır, sonuçları toplar ve bunları istek istemcisine geri gönderir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-190">The Aggregator receives a single request from a client, dispatches it to various microservices, aggregates the results, and sends them back to the requesting client.</span></span> <span data-ttu-id="2d2d7-191">Bu işlemler genellikle anında yanıt üretmek için zaman uyumlu iletişim gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-191">Such operations typically require synchronous communication as to produce an immediate response.</span></span> <span data-ttu-id="2d2d7-192">EShop 'de, Şekil 4-23 ' de gösterildiği gibi, toplayıcıdan arka uç çağrıları gRPC kullanılarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-192">In eShop, backend calls from the Aggregator are performed using gRPC as shown in Figure 4-23.</span></span>

![Kapsayıcılar üzerinde eShop içinde gRPC](./media/grpc-implementation.png)

<span data-ttu-id="2d2d7-194">**Şekil 4-23**.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-194">**Figure 4-23**.</span></span> <span data-ttu-id="2d2d7-195">Kapsayıcılar üzerinde eShop içinde gRPC</span><span class="sxs-lookup"><span data-stu-id="2d2d7-195">gRPC in eShop on Containers</span></span>

<span data-ttu-id="2d2d7-196">gRPC iletişimi hem istemci hem de sunucu bileşenleri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-196">gRPC communication requires both client and server components.</span></span> <span data-ttu-id="2d2d7-197">Önceki şekilde, alışveriş toplayıcısı 'nın gRPC istemcisini nasıl uyguladığı hakkında daha fazla.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-197">In the previous figure, note how the Shopping Aggregator implements a gRPC client.</span></span> <span data-ttu-id="2d2d7-198">İstemci, her biri gRPC sunucusunu uygulayan, arka uç mikro hizmetleri için zaman uyumlu gRPC çağrıları (kırmızı) yapar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-198">The client makes synchronous gRPC calls (in red) to backend microservices, each of which implement a gRPC server.</span></span> <span data-ttu-id="2d2d7-199">Hem istemci hem de sunucu, .NET Core SDK yerleşik gRPC tesisat özelliğinden faydalanır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-199">Both the client and server take advantage of the built-in gRPC plumbing from the .NET Core SDK.</span></span> <span data-ttu-id="2d2d7-200">İstemci tarafı *saplamaları* , uzak GRPC çağrılarını çağırma için bir sıhhi tesisat sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-200">Client-side *stubs* provide the plumbing to invoke remote gRPC calls.</span></span> <span data-ttu-id="2d2d7-201">Sunucu tarafı bileşenleri, özel hizmet sınıflarının devralması ve tükettiği gRPC sıhhi tesisat sağlar.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-201">Server-side components provide gRPC plumbing that custom service classes can inherit and consume.</span></span>

<span data-ttu-id="2d2d7-202">Hem yeniden takip eden bir API 'yi hem de gRPC iletişimini sunan mikro hizmetler, trafiği yönetmek için birden çok uç nokta gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-202">Microservices that expose both a RESTful API and gRPC communication require multiple endpoints to manage traffic.</span></span> <span data-ttu-id="2d2d7-203">Yeniden yapılan çağrılar için HTTP trafiğini dinleyen bir uç nokta ve farklı gRPC çağrıları için bir tane açarsınız.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-203">You would open an endpoint that listens for HTTP traffic for the RESTful calls and another for gRPC calls.</span></span> <span data-ttu-id="2d2d7-204">GRPC uç noktasının, gRPC iletişimi için gerekli olan HTTP/2 Protokolü için yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-204">The gRPC endpoint must be configured for the HTTP/2 protocol that is required for gRPC communication.</span></span>

<span data-ttu-id="2d2d7-205">Bağımsız olarak, mikro hizmetleri zaman uyumsuz iletişim desenleriyle ayırarak, bazı işlemler doğrudan çağrı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-205">While we strive to decouple microservices with asynchronous communication patterns, some operations require direct calls.</span></span> <span data-ttu-id="2d2d7-206">gRPC, mikro hizmetler arasında doğrudan zaman uyumlu iletişim için birincil seçim olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-206">gRPC should be the primary choice for direct synchronous communication between microservices.</span></span> <span data-ttu-id="2d2d7-207">HTTP/2 ve protokol arabelleklerine bağlı olarak yüksek performanslı iletişim protokolü, bunu kusursuz bir seçim yapın.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-207">Its high-performance communication protocol, based on HTTP/2 and protocol buffers, make it a perfect choice.</span></span>

## <a name="looking-ahead"></a><span data-ttu-id="2d2d7-208">Öne bakıyor</span><span class="sxs-lookup"><span data-stu-id="2d2d7-208">Looking ahead</span></span>

<span data-ttu-id="2d2d7-209">İleriye bakarak, gRPC, bulutta yerel sistemler için bir işlem yapmaya devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-209">Looking ahead, gRPC will continue to gain traction for cloud-native systems.</span></span> <span data-ttu-id="2d2d7-210">Performans avantajları ve geliştirme kolaylığı etkileyici.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-210">The performance benefits and ease of development are compelling.</span></span> <span data-ttu-id="2d2d7-211">Ancak REST büyük olasılıkla uzun bir süre içinde olabilir.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-211">However, REST will likely be around for a long time.</span></span> <span data-ttu-id="2d2d7-212">Bu, genel kullanıma açık API 'Ler ve geriye dönük uyumluluk nedenleriyle daha fazla.</span><span class="sxs-lookup"><span data-stu-id="2d2d7-212">It excels for publicly exposed APIs and for backward compatibility reasons.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="2d2d7-213">[Önceki](service-to-service-communication.md)
>[İleri](service-mesh-communication-infrastructure.md)</span><span class="sxs-lookup"><span data-stu-id="2d2d7-213">[Previous](service-to-service-communication.md)
[Next](service-mesh-communication-infrastructure.md)</span></span>
