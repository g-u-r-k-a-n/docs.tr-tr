---
title: Uygulama Etki Alanı Kaynak İzleme
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- monitoring managed memory use by application domain
- application domains, memory use
- memory use, monitoring
- application domains, resource monitoring
ms.assetid: 318bedf8-7f35-4f00-b34a-2b7b8e3fa315
ms.openlocfilehash: 54e300bef1818fd08f27d7920eec68ee1f2c45bb
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73141388"
---
# <a name="application-domain-resource-monitoring"></a><span data-ttu-id="b2c6a-102">Uygulama Etki Alanı Kaynak İzleme</span><span class="sxs-lookup"><span data-stu-id="b2c6a-102">Application Domain Resource Monitoring</span></span>

<span data-ttu-id="b2c6a-103">Uygulama etki alanı kaynak izleme (ARM), ana bilgisayarların, uygulama etki alanı tarafından CPU ve bellek kullanımını izlemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-103">Application domain resource monitoring (ARM) enables hosts to monitor CPU and memory usage by application domain.</span></span> <span data-ttu-id="b2c6a-104">Bu, uzun süre çalışan bir işlemde birçok uygulama etki alanı kullanan ASP.NET gibi konaklar için yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-104">This is useful for hosts such as ASP.NET that use many application domains in a long-running process.</span></span> <span data-ttu-id="b2c6a-105">Ana bilgisayar, tüm işlemin performansını olumsuz yönde etkileyen, ancak sorunlu uygulamayı belirleyebildiği bir uygulamanın uygulama etki alanını kaldırabilirler.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-105">The host can unload the application domain of an application that is adversely affecting the performance of the entire process, but only if it can identify the problematic application.</span></span> <span data-ttu-id="b2c6a-106">ARM, bu tür kararlar verirken kullanılabilecek bilgiler sağlar.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-106">ARM provides information that can be used to assist in making such decisions.</span></span>

<span data-ttu-id="b2c6a-107">Örneğin, bir barındırma hizmeti bir ASP.NET sunucusunda çalışan çok sayıda uygulamaya sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-107">For example, a hosting service might have many applications running on an ASP.NET server.</span></span> <span data-ttu-id="b2c6a-108">İşlemdeki bir uygulama çok fazla bellek veya çok fazla işlemci zamanı kullanmaya başlarsa, barındırma hizmeti, soruna neden olan uygulama etki alanını belirlemek için ARM 'yi kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-108">If one application in the process begins consuming too much memory or too much processor time, the hosting service can use ARM to identify the application domain that is causing the problem.</span></span>

<span data-ttu-id="b2c6a-109">ARM, canlı uygulamalarda kullanılmak üzere yeterince hafif.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-109">ARM is sufficiently lightweight to use in live applications.</span></span> <span data-ttu-id="b2c6a-110">Windows için olay izleme (ETW) veya doğrudan yönetilen ya da yerel API 'Ler aracılığıyla bilgilere erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-110">You can access the information by using event tracing for Windows (ETW) or directly through managed or native APIs.</span></span>

## <a name="enabling-resource-monitoring"></a><span data-ttu-id="b2c6a-111">Kaynak Izlemeyi etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="b2c6a-111">Enabling Resource Monitoring</span></span>

<span data-ttu-id="b2c6a-112">ARM dört şekilde etkinleştirilebilir: ortak dil çalışma zamanı (CLR) başlatıldığında, yönetilmeyen bir barındırma API kullanarak, yönetilen kod kullanarak veya ARM ETW olaylarını dinleyerek, bir yapılandırma dosyası sağlayarak bir yapılandırma dosyası sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-112">ARM can be enabled in four ways: by supplying a configuration file when the common language runtime (CLR) is started, by using an unmanaged hosting API, by using managed code, or by listening to ARM ETW events.</span></span>

<span data-ttu-id="b2c6a-113">ARM etkin hale geldiğinde, işlemdeki tüm uygulama etki alanlarında veri toplamaya başlar. ARM etkinleştirilmeden önce bir uygulama etki alanı oluşturulduysa, uygulama etki alanı oluşturulduğunda değil ARM etkinleştirildiğinde, toplu veriler başlar. Etkinleştirildikten sonra ARM devre dışı bırakılamaz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-113">As soon as ARM is enabled, it begins collecting data on all application domains in the process.If an application domain was created before ARM is enabled, cumulative data starts when ARM is enabled, not when the application domain was created.Once it is enabled, ARM cannot be disabled.</span></span>

- <span data-ttu-id="b2c6a-114">Yapılandırma dosyasına [\<appDomainResourceMonitoring >](../../../docs/framework/configure-apps/file-schema/runtime/appdomainresourcemonitoring-element.md) öğesini ekleyerek ve `enabled` özniteliğini `true`olarak ayarlayarak clr başlangıcında ARM 'yi etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-114">You can enable ARM at CLR startup by adding the [\<appDomainResourceMonitoring>](../../../docs/framework/configure-apps/file-schema/runtime/appdomainresourcemonitoring-element.md) element to the configuration file, and setting the `enabled` attribute to `true`.</span></span> <span data-ttu-id="b2c6a-115">`false` değeri (varsayılan) yalnızca ARM 'nin başlangıçta etkinleştirilmediği anlamına gelir; diğer etkinleştirme mekanizmalarından birini kullanarak daha sonra etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-115">A value of `false` (the default) means only that ARM is not enabled at startup; you can activate it later by using one of the other activation mechanisms.</span></span>

- <span data-ttu-id="b2c6a-116">Konak, [ıclartppdomainresourcemonitor](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-interface.md) barındırma ARABIRIMINI isteyerek ARM 'yi etkinleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-116">The host can enable ARM by requesting the [ICLRAppDomainResourceMonitor](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-interface.md) hosting interface.</span></span> <span data-ttu-id="b2c6a-117">Bu arabirim başarılı bir şekilde alındıktan sonra ARM etkin olur.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-117">Once this interface is successfully obtained, ARM is enabled.</span></span>

- <span data-ttu-id="b2c6a-118">Yönetilen kod, statik (Visual Basic`Shared`) <xref:System.AppDomain.MonitoringIsEnabled%2A?displayProperty=nameWithType> özelliğini `true`olarak ayarlayarak ARM 'yi etkinleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-118">Managed code can enable ARM by setting the static (`Shared` in Visual Basic) <xref:System.AppDomain.MonitoringIsEnabled%2A?displayProperty=nameWithType> property to `true`.</span></span> <span data-ttu-id="b2c6a-119">Özelliği ayarlandığı anda ARM etkin olur.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-119">As soon as the property is set, ARM is enabled.</span></span>

- <span data-ttu-id="b2c6a-120">ETW olaylarını dinleyerek, başlangıçtan sonra ARM 'yi etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-120">You can enable ARM after startup by listening to ETW events.</span></span> <span data-ttu-id="b2c6a-121">ARM etkin ve `AppDomainResourceManagementKeyword` anahtar sözcüğünü kullanarak `Microsoft-Windows-DotNETRuntime` ortak sağlayıcıyı etkinleştirdiğinizde tüm uygulama etki alanları için olay yapmaya başlar.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-121">ARM is enabled and begins raising events for all application domains when you enable the public provider `Microsoft-Windows-DotNETRuntime` by using the `AppDomainResourceManagementKeyword` keyword.</span></span> <span data-ttu-id="b2c6a-122">Uygulama etki alanları ve iş parçacıklarıyla verileri ilişkilendirmek için, `ThreadingKeyword` anahtar sözcüğüyle `Microsoft-Windows-DotNETRuntimeRundown` sağlayıcıyı de etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-122">To correlate data with application domains and threads, you must also enable the `Microsoft-Windows-DotNETRuntimeRundown` provider with the `ThreadingKeyword` keyword.</span></span>

## <a name="using-arm"></a><span data-ttu-id="b2c6a-123">ARM kullanma</span><span class="sxs-lookup"><span data-stu-id="b2c6a-123">Using ARM</span></span>

<span data-ttu-id="b2c6a-124">ARM, bir uygulama etki alanı tarafından kullanılan toplam işlemci süresini ve bellek kullanımı hakkında üç tür bilgiyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-124">ARM provides the total processor time that is used by an application domain and three kinds of information about memory use.</span></span>

- <span data-ttu-id="b2c6a-125">**Bir uygulama etki alanı Için toplam işlemci süresi (saniye**): Bu, işletim sistemi tarafından, süresi boyunca uygulama etki alanında yürütmeyi geçen tüm iş parçacıkları için işletim sistemi tarafından bildirilen iş parçacığı süreleri eklenerek hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-125">**Total processor time for an application domain, in seconds**: This is calculated by adding up the thread times reported by the operating system for all threads that spent time executing in the application domain during its lifetime.</span></span> <span data-ttu-id="b2c6a-126">Engellenen veya uyuyan iş parçacıkları işlemci zamanı kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-126">Blocked or sleeping threads do not use processor time.</span></span> <span data-ttu-id="b2c6a-127">Bir iş parçacığı yerel koda çağırdığında, iş parçacığının yerel kodda harcadığı süre, Çağrının yapıldığı uygulama etki alanının sayımına dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-127">When a thread calls into native code, the time that the thread spends in native code is included in the count for the application domain where the call was made.</span></span>

  - <span data-ttu-id="b2c6a-128">Yönetilen API: <xref:System.AppDomain.MonitoringTotalProcessorTime%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-128">Managed API: <xref:System.AppDomain.MonitoringTotalProcessorTime%2A?displayProperty=nameWithType> property.</span></span>

  - <span data-ttu-id="b2c6a-129">Barındırma API 'SI: [ıclartppdomainresourcemonitor:: GetCurrentCpuTime](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentcputime-method.md) yöntemi.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-129">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentCpuTime](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentcputime-method.md) method.</span></span>

  - <span data-ttu-id="b2c6a-130">ETW olayları: `ThreadCreated`, `ThreadAppDomainEnter`ve `ThreadTerminated` olayları.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-130">ETW events: `ThreadCreated`, `ThreadAppDomainEnter`, and `ThreadTerminated` events.</span></span> <span data-ttu-id="b2c6a-131">Sağlayıcılar ve anahtar sözcükler hakkında daha fazla bilgi için bkz. [CLR ETW olaylarında](../../../docs/framework/performance/clr-etw-events.md)"AppDomain kaynak izleme olayları".</span><span class="sxs-lookup"><span data-stu-id="b2c6a-131">For information about providers and keywords, see "AppDomain Resource Monitoring Events" in [CLR ETW Events](../../../docs/framework/performance/clr-etw-events.md).</span></span>

- <span data-ttu-id="b2c6a-132">**Bir uygulama etki alanı tarafından yaşam süresi boyunca, bayt cinsinden yapılan toplam yönetilen ayırma sayısı**: ayrılan nesneler kısa süreli olabileceğinden, toplam ayırma her zaman bir uygulama etki alanı tarafından bellek kullanımını yansıtmaz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-132">**Total managed allocations made by an application domain during its lifetime, in bytes**: Total allocations do not always reflect memory use by an application domain, because the allocated objects might be short-lived.</span></span> <span data-ttu-id="b2c6a-133">Ancak, bir uygulama çok sayıda nesne ayırır ve serbest bırakır, ayırmaların maliyeti önemli olabilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-133">However, if an application allocates and frees huge numbers of objects, the cost of the allocations could be significant.</span></span>

  - <span data-ttu-id="b2c6a-134">Yönetilen API: <xref:System.AppDomain.MonitoringTotalAllocatedMemorySize%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-134">Managed API: <xref:System.AppDomain.MonitoringTotalAllocatedMemorySize%2A?displayProperty=nameWithType> property.</span></span>

  - <span data-ttu-id="b2c6a-135">Barındırma API 'SI: [ıclartppdomainresourcemonitor:: Getcurrentalkonumlandırılan](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentallocated-method.md) yöntemi.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-135">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentAllocated](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentallocated-method.md) method.</span></span>

  - <span data-ttu-id="b2c6a-136">ETW olayları: `AppDomainMemAllocated` olay, `Allocated` alanı.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-136">ETW events: `AppDomainMemAllocated` event, `Allocated` field.</span></span>

- <span data-ttu-id="b2c6a-137">**Bir uygulama etki alanı tarafından başvurulan ve en son tam, engelleyici koleksiyonu kullanan, bayt cinsinden yönetilen bellek**: Bu sayı yalnızca tam, engelleyici bir koleksiyon sonrasında doğrudur.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-137">**Managed memory, in bytes, that is referenced by an application domain and that survived the most recent full, blocking collection**: This number is accurate only after a full, blocking collection.</span></span> <span data-ttu-id="b2c6a-138">(Bu, arka planda gerçekleşen ve uygulamayı engellememe, eşzamanlı koleksiyonlara karşılık gelir.) Örneğin, <xref:System.GC.Collect?displayProperty=nameWithType> yöntemi aşırı yüklemesi tam, engelleyici bir koleksiyon oluşmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-138">(This is in contrast to concurrent collections, which occur in the background and do not block the application.) For example, the <xref:System.GC.Collect?displayProperty=nameWithType> method overload causes a full, blocking collection.</span></span>

  - <span data-ttu-id="b2c6a-139">Yönetilen API: <xref:System.AppDomain.MonitoringSurvivedMemorySize%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-139">Managed API: <xref:System.AppDomain.MonitoringSurvivedMemorySize%2A?displayProperty=nameWithType> property.</span></span>

  - <span data-ttu-id="b2c6a-140">Barındırma API 'SI: [ıclartppdomainresourcemonitor:: GetCurrentSurvived](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) yöntemi, `pAppDomainBytesSurvived` parametresi.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-140">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentSurvived](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) method, `pAppDomainBytesSurvived` parameter.</span></span>

  - <span data-ttu-id="b2c6a-141">ETW olayları: `AppDomainMemSurvived` olay, `Survived` alanı.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-141">ETW events: `AppDomainMemSurvived` event, `Survived` field.</span></span>

- <span data-ttu-id="b2c6a-142">**İşlem tarafından başvurulan ve en son tam ve engelleyici koleksiyonu kullanan toplam yönetilen bellek (bayt cinsinden**). ayrı uygulama etki alanları için kalan bellek bu sayıyla karşılaştırılabilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-142">**Total managed memory, in bytes, that is referenced by the process and that survived the most recent full, blocking collection**: The survived memory for individual application domains can be compared to this number.</span></span>

  - <span data-ttu-id="b2c6a-143">Yönetilen API: <xref:System.AppDomain.MonitoringSurvivedProcessMemorySize%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-143">Managed API: <xref:System.AppDomain.MonitoringSurvivedProcessMemorySize%2A?displayProperty=nameWithType> property.</span></span>

  - <span data-ttu-id="b2c6a-144">Barındırma API 'SI: [ıclartppdomainresourcemonitor:: GetCurrentSurvived](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) yöntemi, `pTotalBytesSurvived` parametresi.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-144">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentSurvived](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) method, `pTotalBytesSurvived` parameter.</span></span>

  - <span data-ttu-id="b2c6a-145">ETW olayları: `AppDomainMemSurvived` olay, `ProcessSurvived` alanı.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-145">ETW events: `AppDomainMemSurvived` event, `ProcessSurvived` field.</span></span>

### <a name="determining-when-a-full-blocking-collection-occurs"></a><span data-ttu-id="b2c6a-146">Tam, engelleyici bir koleksiyonun ne zaman gerçekleşeceğini belirleme</span><span class="sxs-lookup"><span data-stu-id="b2c6a-146">Determining When a Full, Blocking Collection Occurs</span></span>

<span data-ttu-id="b2c6a-147">Kalan bellek sayısının doğru olduğunu anlamak için, tam bir engelleme koleksiyonu ne zaman oluştuğunu bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-147">To determine when counts of survived memory are accurate, you need to know when a full, blocking collection has just occurred.</span></span> <span data-ttu-id="b2c6a-148">Bunu yapma yöntemi, ARM istatistiklerini incelemek için kullandığınız API 'ye bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-148">The method for doing this depends on the API you use to examine ARM statistics.</span></span>

#### <a name="managed-api"></a><span data-ttu-id="b2c6a-149">Yönetilen API</span><span class="sxs-lookup"><span data-stu-id="b2c6a-149">Managed API</span></span>

<span data-ttu-id="b2c6a-150"><xref:System.AppDomain> sınıfının özelliklerini kullanırsanız, tam koleksiyonların bildirimine kaydolmak için <xref:System.GC.RegisterForFullGCNotification%2A?displayProperty=nameWithType> yöntemini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-150">If you use the properties of the <xref:System.AppDomain> class, you can use the <xref:System.GC.RegisterForFullGCNotification%2A?displayProperty=nameWithType> method to register for notification of full collections.</span></span> <span data-ttu-id="b2c6a-151">Bir koleksiyonun yaklaşımı yerine bir koleksiyonun tamamlanmasını beklerken kullandığınız eşik önemli değildir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-151">The threshold you use is not important, because you are waiting for the completion of a collection rather than the approach of a collection.</span></span> <span data-ttu-id="b2c6a-152">Daha sonra, tam bir koleksiyon tamamlanana kadar blokların <xref:System.GC.WaitForFullGCComplete%2A?displayProperty=nameWithType> yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-152">You can then call the <xref:System.GC.WaitForFullGCComplete%2A?displayProperty=nameWithType> method, which blocks until a full collection has completed.</span></span> <span data-ttu-id="b2c6a-153">Bir döngüsünde yöntemi çağıran ve yöntemin her döndürdüğü her türlü gerekli Analizi yapan bir iş parçacığı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-153">You can create a thread that calls the method in a loop and does any necessary analysis whenever the method returns.</span></span>

<span data-ttu-id="b2c6a-154">Alternatif olarak, 2. nesil koleksiyonların sayısının arttığı olup olmadığını görmek için <xref:System.GC.CollectionCount%2A?displayProperty=nameWithType> yöntemini düzenli aralıklarla çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-154">Alternatively, you can call the <xref:System.GC.CollectionCount%2A?displayProperty=nameWithType> method periodically to see if the count of generation 2 collections has increased.</span></span> <span data-ttu-id="b2c6a-155">Yoklama sıklığına bağlı olarak, bu teknik tam bir koleksiyonun oluşumunu doğru bir şekilde sağlamayabilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-155">Depending on the polling frequency, this technique might not provide as accurate an indication of the occurrence of a full collection.</span></span>

#### <a name="hosting-api"></a><span data-ttu-id="b2c6a-156">Barındırma API 'SI</span><span class="sxs-lookup"><span data-stu-id="b2c6a-156">Hosting API</span></span>

<span data-ttu-id="b2c6a-157">Yönetilmeyen barındırma API 'SI kullanırsanız, ana bilgisayarınız CLR 'yi [IHostGCManager](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-interface.md) arabiriminin bir uygulamasına iletmelidir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-157">If you use the unmanaged hosting API, your host must pass the CLR an implementation of the [IHostGCManager](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-interface.md) interface.</span></span> <span data-ttu-id="b2c6a-158">CLR, bir koleksiyon gerçekleştiğinde askıya alınmış iş parçacıklarının yürütülmesini sürdürürse, [IHostGCManager:: SuspensionEnding](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-158">The CLR calls the [IHostGCManager::SuspensionEnding](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) method when it resumes execution of threads that have been suspended while a collection occurs.</span></span> <span data-ttu-id="b2c6a-159">CLR, tamamlanmış koleksiyonun neslini metodun bir parametresi olarak geçirir, bu nedenle konak koleksiyonun tam veya kısmi olup olmadığını belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-159">The CLR passes the generation of the completed collection as a parameter of the method, so the host can determine whether the collection was full or partial.</span></span> <span data-ttu-id="b2c6a-160">[IHostGCManager:: SuspensionEnding](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) yöntemi uygulamanız, daha fazla bellek sorgulayabilir ve bu da sayımların güncelleştirildikten hemen sonra alındıklarından emin olabilir.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-160">Your implementation of the [IHostGCManager::SuspensionEnding](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) method can query for survived memory, to ensure that the counts are retrieved as soon as they are updated.</span></span>

## <a name="see-also"></a><span data-ttu-id="b2c6a-161">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="b2c6a-161">See also</span></span>

- <xref:System.AppDomain.MonitoringIsEnabled%2A?displayProperty=nameWithType>
- [<span data-ttu-id="b2c6a-162">ICLRAppDomainResourceMonitor Arabirimi</span><span class="sxs-lookup"><span data-stu-id="b2c6a-162">ICLRAppDomainResourceMonitor Interface</span></span>](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-interface.md)
- [<span data-ttu-id="b2c6a-163">\<appDomainResourceMonitoring ></span><span class="sxs-lookup"><span data-stu-id="b2c6a-163">\<appDomainResourceMonitoring></span></span>](../../../docs/framework/configure-apps/file-schema/runtime/appdomainresourcemonitoring-element.md)
- [<span data-ttu-id="b2c6a-164">CLR ETW Olayları</span><span class="sxs-lookup"><span data-stu-id="b2c6a-164">CLR ETW Events</span></span>](../../../docs/framework/performance/clr-etw-events.md)
