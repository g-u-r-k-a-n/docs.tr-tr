---
ms.openlocfilehash: 72f907c117748fb19ca0663f24445a8c978afd32
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "68235506"
---
### <a name="cspparametersparentwindowhandle-now-expects-hwnd-value"></a><span data-ttu-id="39281-101">CspParameters.ParentWindowHandle şimdi HWND değeri bekliyor</span><span class="sxs-lookup"><span data-stu-id="39281-101">CspParameters.ParentWindowHandle now expects HWND value</span></span>

|   |   |
|---|---|
|<span data-ttu-id="39281-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="39281-102">Details</span></span>|<span data-ttu-id="39281-103">.NET Framework 2.0'da tanıtılan <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> değer, bir uygulamanın anahtara erişmek için gereken kullanıcı bir kullanıcı ui'sinin (PIN istemi veya onay iletişim kutusu gibi) belirtilen pencereye modal bir alt öğe olarak açılabilmesi için bir ana pencere tutamacı değeri kaydetmesine olanak tanır. .NET Framework 4.7'yi hedefleyen uygulamalardan başlayarak, <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> Windows Forms uygulaması özelliği aşağıdaki gibi kodla ayarlayabilir:</span><span class="sxs-lookup"><span data-stu-id="39281-103">The <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> value, introduced in .NET Framework 2.0, allows an application to register a parent window handle value such that any UI required to access the key (such as a PIN prompt or consent dialog) opens as a modal child to the specified window.Starting with apps that target the .NET Framework 4.7, a Windows Forms application can set the <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> property with code like the following:</span></span><pre><code class="lang-csharp">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre><span data-ttu-id="39281-104">.NET Framework'ün önceki sürümlerinde, değerin <xref:System.IntPtr?displayProperty=name> [HWND](https://docs.microsoft.com/windows/desktop/WinProg/windows-data-types#HWND) değerinin bulunduğu bellekteki bir konumu temsil etmesi bekleniyordu.</span><span class="sxs-lookup"><span data-stu-id="39281-104">In previous versions of the .NET Framework, the value was expected to be an <xref:System.IntPtr?displayProperty=name> representing a location in memory where the [HWND](https://docs.microsoft.com/windows/desktop/WinProg/windows-data-types#HWND) value resided.</span></span> <span data-ttu-id="39281-105">Özelliği forma ayarı. Windows 7 ve önceki sürümlerinde tanıtıcı hiçbir etkisi yoktu, ancak &quot; <xref:System.Security.Cryptography.CryptographicException?displayProperty=name>Windows 8 ve sonraki sürümlerinde, bir sonuçlanır : Parametre yanlıştır.&quot;</span><span class="sxs-lookup"><span data-stu-id="39281-105">Setting the property to form.Handle on Windows 7 and earlier versions had no effect, but on Windows 8 and later versions, it results in a &quot;<xref:System.Security.Cryptography.CryptographicException?displayProperty=name>: The parameter is incorrect.&quot;</span></span>|
|<span data-ttu-id="39281-106">Öneri</span><span class="sxs-lookup"><span data-stu-id="39281-106">Suggestion</span></span>|<span data-ttu-id="39281-107">.NET Framework 4.7 veya daha yüksek bir üst pencere ilişkisini kaydetmek isteyen uygulamaları basitleştirilmiş formu kullanmaya teşvik edilir:</span><span class="sxs-lookup"><span data-stu-id="39281-107">Applications targeting .NET Framework 4.7 or higher wishing to register a parent window relationship are encouraged to use the simplified form:</span></span><pre><code class="lang-csharp">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre><span data-ttu-id="39281-108">Geçmek için doğru değerin, değeri <code>form.Handle</code> tutan bir bellek konumunun adresi olduğunu tespit eden kullanıcılar, AppContext <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> <code>true</code>anahtarını ayarlayarak davranış değişikliğini devre dışı bırakabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="39281-108">Users who had identified that the correct value to pass was the address of a memory location which held the value <code>form.Handle</code> can opt out of the behavior change by setting the AppContext switch <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> to <code>true</code>:</span></span><ol><li><span data-ttu-id="39281-109">[Burada](https://devblogs.microsoft.com/dotnet/net-announcements-at-build-2015/#dotnet46)açıklandığı gibi, AppContext üzerinde compat anahtarları programlı olarak ayarlayarak .</span><span class="sxs-lookup"><span data-stu-id="39281-109">By programmatically setting compat switches on the AppContext, as explained [here](https://devblogs.microsoft.com/dotnet/net-announcements-at-build-2015/#dotnet46).</span></span></li><li><span data-ttu-id="39281-110">app.config dosyasının <code>&lt;runtime&gt;</code> bölümüne aşağıdaki satırı ekleyerek:</span><span class="sxs-lookup"><span data-stu-id="39281-110">By adding the following line to the <code>&lt;runtime&gt;</code> section of the app.config file:</span></span></li></ol><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle=true&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="39281-111">Tam tersine, .NET Framework 4.7 çalışma saatindeki yeni davranışı tercih etmek isteyen kullanıcılar, uygulama eski .NET Framework <code>false</code>sürümleri altında yüklendiğinde AppContext anahtarını .</span><span class="sxs-lookup"><span data-stu-id="39281-111">Conversely, users who wish to opt in to the new behavior on the .NET Framework 4.7 runtime when the application loads under older .NET Framework versions can set the AppContext switch to <code>false</code>.</span></span>|
|<span data-ttu-id="39281-112">Kapsam</span><span class="sxs-lookup"><span data-stu-id="39281-112">Scope</span></span>|<span data-ttu-id="39281-113">İkincil</span><span class="sxs-lookup"><span data-stu-id="39281-113">Minor</span></span>|
|<span data-ttu-id="39281-114">Sürüm</span><span class="sxs-lookup"><span data-stu-id="39281-114">Version</span></span>|<span data-ttu-id="39281-115">4.7</span><span class="sxs-lookup"><span data-stu-id="39281-115">4.7</span></span>|
|<span data-ttu-id="39281-116">Tür</span><span class="sxs-lookup"><span data-stu-id="39281-116">Type</span></span>|<span data-ttu-id="39281-117">Yeniden Hedefleme</span><span class="sxs-lookup"><span data-stu-id="39281-117">Retargeting</span></span>|
|<span data-ttu-id="39281-118">Etkilenen API’ler</span><span class="sxs-lookup"><span data-stu-id="39281-118">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.CspParameters.ParentWindowHandle?displayProperty=nameWithType></li></ul>|
