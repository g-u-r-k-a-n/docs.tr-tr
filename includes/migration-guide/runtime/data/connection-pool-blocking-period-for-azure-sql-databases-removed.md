---
ms.openlocfilehash: c27c63e5bbd4a144b9482a0b1cb74250ae78d91c
ms.sourcegitcommit: cbacb5d2cebbf044547f6af6e74a9de866800985
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/05/2020
ms.locfileid: "89497504"
---
### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a><span data-ttu-id="ebbea-101">Azure SQL veritabanları için bağlantı havuzu engelleme süresi kaldırıldı</span><span class="sxs-lookup"><span data-stu-id="ebbea-101">Connection pool blocking period for Azure SQL databases is removed</span></span>

#### <a name="details"></a><span data-ttu-id="ebbea-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="ebbea-102">Details</span></span>

<span data-ttu-id="ebbea-103">.NET Framework 4.6.2 ile başlayarak, bilinen Azure SQL veritabanlarına yönelik bağlantı açık istekleri ( \* . Database.Windows.net, \* . Database.chinacloudapi.cn, \* . database.usgovcloudapi.net, \* . Database.cloudapi.de) için, bağlantı havuzu engelleme süresi kaldırılır ve bağlantı açma hataları önbelleğe alınmaz.</span><span class="sxs-lookup"><span data-stu-id="ebbea-103">Starting with the .NET Framework 4.6.2, for connection open requests to known Azure SQL databases (\*.database.windows.net, \*.database.chinacloudapi.cn, \*.database.usgovcloudapi.net, \*.database.cloudapi.de), the connection pool blocking period is removed, and connection open errors are not cached.</span></span> <span data-ttu-id="ebbea-104">Bağlantı açma isteklerini yeniden deneme girişimleri, geçici bağlantı hatalarından hemen sonra gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="ebbea-104">Attempts to retry connection open requests will occur almost immediately after transient connection errors.</span></span> <span data-ttu-id="ebbea-105">Bu değişiklik, bağlantı açma denemesinin Azure SQL veritabanları için hemen yeniden denenmeye olanak tanır ve böylece bulut özellikli uygulamaların performansını geliştirir.</span><span class="sxs-lookup"><span data-stu-id="ebbea-105">This change allows the connection open attempt to be retried immediately for Azure SQL databases, thereby improving the performance of cloud- enabled apps.</span></span> <span data-ttu-id="ebbea-106">Diğer tüm bağlantı girişimleri için, bağlantı havuzu engelleme süresi zorlanmaya devam eder.</span><span class="sxs-lookup"><span data-stu-id="ebbea-106">For all other connection attempts, the connection pool blocking period continues to be enforced.</span></span><p/><span data-ttu-id="ebbea-107">.NET Framework 4.6.1 ve önceki sürümlerde, bir uygulama bir veritabanına bağlanırken geçici bir bağlantı hatasıyla karşılaştığında bağlantı girişimi hızlı bir şekilde yeniden denenemez, çünkü bağlantı havuzu hatayı önbelleğe alır ve 5 saniye ile 1 dakikaya yeniden atar.</span><span class="sxs-lookup"><span data-stu-id="ebbea-107">In the .NET Framework 4.6.1 and earlier versions, when an app encounters a transient connection failure when connecting to a database, the connection attempt cannot be retried quickly, because the connection pool caches the error and re-throws it for 5 seconds to 1 minute.</span></span> <span data-ttu-id="ebbea-108">Daha fazla bilgi için bkz. [SQL Server bağlantı havuzu (ADO.net)](~/docs/framework/data/adonet/sql-server-connection-pooling.md).</span><span class="sxs-lookup"><span data-stu-id="ebbea-108">For more information, see [SQL Server Connection Pooling (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md).</span></span> <span data-ttu-id="ebbea-109">Bu davranış, genellikle birkaç saniye içinde kurtarılan geçici hatalarla başarısız olan Azure SQL veritabanlarına bağlantı için sorunlu olur.</span><span class="sxs-lookup"><span data-stu-id="ebbea-109">This behavior is problematic for connections to Azure SQL databases, which often fail with transient errors that are typically recovered from within a few seconds.</span></span> <span data-ttu-id="ebbea-110">Bağlantı havuzu engelleme özelliği, uygulamanın, veritabanı kullanılabilir olsa bile ve uygulamanın birkaç saniye içinde işlenmesi gerektiğinden kapsamlı bir süre için veritabanına bağlanamaması anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="ebbea-110">The connection pool blocking feature means that the app cannot connect to the database for an extensive period, even though the database is available and the app needs to render within a few seconds.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="ebbea-111">Öneri</span><span class="sxs-lookup"><span data-stu-id="ebbea-111">Suggestion</span></span>

<span data-ttu-id="ebbea-112">Bu davranış istenmeyen olursa, bağlantı havuzu engelleme süresi <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=fullName> .NET Framework 4.6.2 tarafından tanıtılan özellik ayarlanarak yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="ebbea-112">If this behavior is undesirable, the connection pool blocking period can be configured by setting the <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=fullName> property introduced in the .NET Framework 4.6.2.</span></span> <span data-ttu-id="ebbea-113">Özelliğinin değeri, <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=fullName> üç değerden birini ele alan numaralandırmanın bir üyesidir:</span><span class="sxs-lookup"><span data-stu-id="ebbea-113">The value of the property is a member of the <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=fullName> enumeration that can take either of three values:</span></span><ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul><span data-ttu-id="ebbea-114">Önceki davranış özelliği olarak ayarlanarak geri yüklenebilir <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=fullName> <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock> .</span><span class="sxs-lookup"><span data-stu-id="ebbea-114">The previous behavior can be restored by setting the <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=fullName> property to <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>.</span></span>

| <span data-ttu-id="ebbea-115">Name</span><span class="sxs-lookup"><span data-stu-id="ebbea-115">Name</span></span>    | <span data-ttu-id="ebbea-116">Değer</span><span class="sxs-lookup"><span data-stu-id="ebbea-116">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="ebbea-117">Kapsam</span><span class="sxs-lookup"><span data-stu-id="ebbea-117">Scope</span></span>   |<span data-ttu-id="ebbea-118">İkincil</span><span class="sxs-lookup"><span data-stu-id="ebbea-118">Minor</span></span>|
|<span data-ttu-id="ebbea-119">Sürüm</span><span class="sxs-lookup"><span data-stu-id="ebbea-119">Version</span></span>|<span data-ttu-id="ebbea-120">4.6.2</span><span class="sxs-lookup"><span data-stu-id="ebbea-120">4.6.2</span></span>|
|<span data-ttu-id="ebbea-121">Tür</span><span class="sxs-lookup"><span data-stu-id="ebbea-121">Type</span></span>|<span data-ttu-id="ebbea-122">Çalışma Zamanı</span><span class="sxs-lookup"><span data-stu-id="ebbea-122">Runtime</span></span>|

#### <a name="affected-apis"></a><span data-ttu-id="ebbea-123">Etkilenen API’ler</span><span class="sxs-lookup"><span data-stu-id="ebbea-123">Affected APIs</span></span>

- <xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType>
- <xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType>
- <xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType>

<!--

#### Affected APIs

- `M:System.Data.Common.DbConnection.OpenAsync`
- `M:System.Data.SqlClient.SqlConnection.Open`
- `M:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)`

-->
