---
title: REST ve gRPC
description: Bkz. The The The The The The The The the Cloud-Native Applications ve HTTP REST 'den farklı
author: robvet
ms.date: 09/08/2019
ms.openlocfilehash: 80960a9042b1514fb78e7a8c993a1854067407e8
ms.sourcegitcommit: 14ad34f7c4564ee0f009acb8bfc0ea7af3bc9541
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/01/2019
ms.locfileid: "73417131"
---
# <a name="rest-and-grpc"></a><span data-ttu-id="b1a4d-103">REST ve gRPC</span><span class="sxs-lookup"><span data-stu-id="b1a4d-103">REST and gRPC</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="b1a4d-104">Şimdiye kadar bu kitapta, [REST tabanlı](https://docs.microsoft.com/azure/architecture/best-practices/api-design) iletişime odaklandık.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-104">So far in this book, we’ve focused on [REST-based](https://docs.microsoft.com/azure/architecture/best-practices/api-design) communication.</span></span> <span data-ttu-id="b1a4d-105">REST, dağıtılmış bilgisayar sistemleri arasında birlikte çalışabilirliği tanıtan bir mimari stillidir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-105">REST is an architectural style that promotes interoperability between distributed computer systems.</span></span> <span data-ttu-id="b1a4d-106">Sunucudan gelen her yanıtın istemciden bir istek olduğu bir istek/yanıt modeli kullanır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-106">It uses a request/response model where every response from the server is to a request from the client.</span></span> <span data-ttu-id="b1a4d-107">Yaygın olarak popüler olsa da, REST her sorun için mükemmel bir uyum değildir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-107">While widely popular, REST isn't a perfect fit for every problem.</span></span> <span data-ttu-id="b1a4d-108">GRPC 'ye yönelik daha yeni bir iletişim teknolojisi, çok popülerlik elde etmek ve bulut Yerel dünyasına kendi şeklini yapıyor.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-108">A newer communication technology, entitled gRPC, is rapidly gaining popularity and making its way into the cloud-native world.</span></span>

## <a name="grpc"></a><span data-ttu-id="b1a4d-109">gRPC</span><span class="sxs-lookup"><span data-stu-id="b1a4d-109">gRPC</span></span>

<span data-ttu-id="b1a4d-110">gRPC, Google 'dan kaynaklanan açık kaynaklı bir iletişimdir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-110">gRPC is an open-source communication that originates from Google.</span></span> <span data-ttu-id="b1a4d-111">Dağıtılmış bilgi işlem bölümünde popüler olan, [uzak yordam çağrısı (RPC)](https://en.wikipedia.org/wiki/Remote_procedure_call) modeli üzerine kurulmuştur.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-111">It's built upon the [remote procedure call (RPC)](https://en.wikipedia.org/wiki/Remote_procedure_call) model, popular in distributed computing.</span></span> <span data-ttu-id="b1a4d-112">Bu modelin ardından, yerel bir istemci programı bir işlemi yürütmek için işlem içi bir yöntem sunar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-112">Following this model, a local client program exposes an in-process method to execute an operation.</span></span> <span data-ttu-id="b1a4d-113">Arka planda, bu çağrı dağıtılmış bir ağ üzerinden işlem dışı bir mikro hizmette çağrılır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-113">Behind the scenes, that call is invoked on an out-of-process microservice across a distributed network.</span></span> <span data-ttu-id="b1a4d-114">Geliştirici işlemi bir yerel yordam çağrısı olarak kodlar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-114">The developer codes the operation as a local procedure call.</span></span> <span data-ttu-id="b1a4d-115">Temel alınan Platform, noktadan noktaya ağ iletişimini, Serileştirmeyi ve yürütmeyi soyutlar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-115">The underlying platform abstracts the point-to-point networking communication, serialization, and execution.</span></span>

<span data-ttu-id="b1a4d-116">gRPC, hafif ve yüksek performanslı bir modern RPC çerçevesidir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-116">gRPC is a modern RPC framework that is lightweight and highly performant.</span></span> <span data-ttu-id="b1a4d-117">Aktarım Protokolü için HTTP/2 kullanır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-117">It uses HTTP/2 for its transport protocol.</span></span> <span data-ttu-id="b1a4d-118">HTTP 1,1 ile uyumlu olmakla birlikte, HTTP/2 özellikleri birçok gelişmiş özelliğe sahiptir:</span><span class="sxs-lookup"><span data-stu-id="b1a4d-118">While compatible with HTTP 1.1, HTTP/2 features many advanced capabilities:</span></span>

- <span data-ttu-id="b1a4d-119">HTTP 1,1, verileri şifresiz metin olarak gönderirken HTTP/2 bir ikili protokoldür.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-119">While HTTP 1.1 sends data as clear text, HTTP/2 is a binary protocol.</span></span> <span data-ttu-id="b1a4d-120">Daha az bellek kullanarak verileri daha hızlı ayrıştırır, hız için ilgili iyileştirmelerle ağ gecikmesini azaltır ve ağ kaynaklarını daha verimli bir şekilde yönetir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-120">It parses data faster using less memory, reduces network latency with the related improvements to speed, and manages network resources more efficiently.</span></span>
- <span data-ttu-id="b1a4d-121">HTTP 1,1 tek seferde bir gidiş dönüş isteği/yanıtı işlemeyle sınırlı olsa da, HTTP/2 aynı bağlantı üzerinden çoğullama veya birden çok paralel isteği destekler.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-121">While HTTP 1.1 is limited to processing one round-trip request/response at a time, HTTP/2 supports multiplexing, or multiple parallel requests over the same connection.</span></span>
- <span data-ttu-id="b1a4d-122">HTTP/2, hem istemci hem de sunucu ile aynı anda iletişim kurabildiği tam çift yönlü veya çift yönlü iletişimi destekler.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-122">HTTP/2 supports full-duplex, or bidirectional communication, where both client and server and can communicate at the same time.</span></span> <span data-ttu-id="b1a4d-123">İstemci, istek verilerini sunucu tarafından yanıt verileri gönderilirken aynı anda karşıya yükleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-123">The client can be uploading request data at the same time the server is sending back response data.</span></span>
- <span data-ttu-id="b1a4d-124">Akış, HTTP/2 ' de yerleşik olarak bulunur ve isteklerin ve yanıtların zaman uyumsuz olarak büyük veri kümeleri akışını sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-124">Streaming is built into HTTP/2 meaning that both requests and responses can asynchronously stream large data sets.</span></span>
- <span data-ttu-id="b1a4d-125">GRPC ve HTTP/2 birleştirme performansı önemli ölçüde artar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-125">Combining gRPC and HTTP/2, performance dramatically increases.</span></span> <span data-ttu-id="b1a4d-126">[Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) Pari 'de, GRPC performansı, [NetTcp bağlamalarının](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8)hızını ve verimliliğini karşılar ve bunları aşar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-126">In [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) parlance, gRPC performance meets and exceeds the speed and efficiency of [NetTCP bindings](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8).</span></span> <span data-ttu-id="b1a4d-127">Ancak, NetTCP 'nin aksine gRPC, C# veya vb.NET gibi Microsoft dilleri ile sınırlı değildir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-127">However, unlike NetTCP, gRPC isn't constrained to Microsoft languages such as C# or VB.NET.</span></span>

<span data-ttu-id="b1a4d-128">gRPC, Java, C#, golang ve NodeJS dahil olmak üzere en popüler platformlar arasında desteklenir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-128">gRPC is supported across most popular platforms, including Java, C#, Golang, and NodeJS.</span></span>

## <a name="protocol-buffers"></a><span data-ttu-id="b1a4d-129">Protokol Arabellekleri</span><span class="sxs-lookup"><span data-stu-id="b1a4d-129">Protocol Buffers</span></span>

<span data-ttu-id="b1a4d-130">gRPC, veri göndermek ve almak için [protokol arabellekleri](https://developers.google.com/protocol-buffers/docs/overview) veya prototip iletiler adlı başka bir açık kaynaklı teknolojinin ayraçlarını alır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-130">gRPC embraces another open-source technology called [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview) or Protobuf messages to send and receive data.</span></span> <span data-ttu-id="b1a4d-131">[WCF veri sözleşmesine](https://docs.microsoft.com/dotnet/framework/wcf/feature-details/using-data-contracts)benzer şekilde, prototipleme sistemler için yapılandırılmış verileri okuma ve yazma olarak serileştirir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-131">Similar to a [WCF Data Contract](https://docs.microsoft.com/dotnet/framework/wcf/feature-details/using-data-contracts), Protobuf serializes structured data for systems to read and write.</span></span> <span data-ttu-id="b1a4d-132">XML veya JSON gibi insan tarafından okunabilen biçimlerin yükünü azaltır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-132">It reduces the overhead that human-readable formats like XML or JSON incur.</span></span>

<span data-ttu-id="b1a4d-133">Birçok nesne serileştirme tekniği, çalışma zamanında veri nesnelerinin yapısı genelinde yansıtır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-133">Many object serialization techniques reflect across the structure of data objects at run-time.</span></span> <span data-ttu-id="b1a4d-134">Protobellek, yapıyı platformdan bağımsız bir dil (protokol arabellek dili) ile tanımlamanızı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-134">Protobuf requires you to define the structure up front with a platform-agnostic language (Protocol Buffer Language).</span></span> <span data-ttu-id="b1a4d-135">Her tanım bir ". proto" dosyasında depolanır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-135">Each definition is stored in a ".proto" file.</span></span> <span data-ttu-id="b1a4d-136">Daha sonra prototip derleyicisi, "proton" kullanımı, desteklenen platformlardan herhangi biri için istemci ve sunucu kodu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-136">Then using Protobuf compiler, "Proton," you generate client and server code for any of the supported platforms.</span></span> <span data-ttu-id="b1a4d-137">Oluşturulan kod, verilerin hızlı seri hale getirilmesi/serileştirilmesi için iyileştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-137">The generated code is optimized for fast serialization/deserialization of data.</span></span> <span data-ttu-id="b1a4d-138">Çalışma zamanında, her ileti kesin türü belirtilmiş hizmet sözleşmesine sarmalanır ve standart bir prototipleme gösteriminde serileştirilir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-138">At runtime, each message is wrapped in the strongly-typed service contract and serialized in a standard Protobuf representation.</span></span>

## <a name="grpc-support-in-net"></a><span data-ttu-id="b1a4d-139">.NET ' te gRPC desteği</span><span class="sxs-lookup"><span data-stu-id="b1a4d-139">gRPC support in .NET</span></span>

<span data-ttu-id="b1a4d-140">Microsoft .NET Core Framework 3,0, gRPC için araç ve yerel destek içerir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-140">The Microsoft .NET Core framework 3.0 includes tooling and native support for gRPC.</span></span> <span data-ttu-id="b1a4d-141">Şekil 4-20, GRPC iskelet projesini bir gRPC hizmeti için dolandırıcılara bağlayan Visual Studio 2019 şablonunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-141">Figure 4-20 shows the Visual Studio 2019 template that scaffolds a gRPC skeleton project for a gRPC service.</span></span> <span data-ttu-id="b1a4d-142">.NET Core 'un Windows, Linux ve macOS platformlarını nasıl desteklediğine göz önünde.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-142">Note how .NET Core supports the Windows, Linux, and macOS platforms.</span></span>

![Visual Studio 2019 ' de gRPC desteği](./media/visual-studio-2019-grpc-template.png)

<span data-ttu-id="b1a4d-144">**Şekil 4-20**.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-144">**Figure 4-20**.</span></span> <span data-ttu-id="b1a4d-145">Visual Studio 2019 ' de gRPC desteği</span><span class="sxs-lookup"><span data-stu-id="b1a4d-145">gRPC support in Visual Studio 2019</span></span>

<span data-ttu-id="b1a4d-146">.NET Core 3,0, gRPC 'yi, uç nokta yönlendirme, yerleşik IOC desteği ve günlüğe kaydetme dahil olmak üzere kendi çerçevesiyle sorunsuzca tümleştirir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-146">.NET Core 3.0 seamlessly integrates gRPC into its framework, including endpoint routing, built-in IoC support, and logging.</span></span> <span data-ttu-id="b1a4d-147">Açık kaynaklı Kestrel Web sunucusu HTTP/2 bağlantılarını tam olarak destekler.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-147">The open-source Kestrel web server fully supports HTTP/2 connections.</span></span>

<span data-ttu-id="b1a4d-148">Şekil 4-21, Visual Studio 2019 ' de bir gRPC hizmetinin yapısını gösterir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-148">Figure 4-21 shows structure of a gRPC service in Visual Studio 2019.</span></span> <span data-ttu-id="b1a4d-149">Klasör yapısının proto dosyaları ve hizmet kodu için klasörleri nasıl içerdiğini göz önünde bulundurur.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-149">Note how the folder structure includes folders for the proto files and service code.</span></span>

![Visual Studio 2019 ' de gRPC projesi](./media/grpc-project.png  )

<span data-ttu-id="b1a4d-151">**Şekil 4-21**.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-151">**Figure 4-21**.</span></span> <span data-ttu-id="b1a4d-152">Visual Studio 2019 ' de gRPC projesi</span><span class="sxs-lookup"><span data-stu-id="b1a4d-152">gRPC project in Visual Studio 2019</span></span>

## <a name="grpc-usage"></a><span data-ttu-id="b1a4d-153">gRPC kullanımı</span><span class="sxs-lookup"><span data-stu-id="b1a4d-153">gRPC Usage</span></span>

<span data-ttu-id="b1a4d-154">gRPC aşağıdaki senaryolar için uygundur:</span><span class="sxs-lookup"><span data-stu-id="b1a4d-154">gRPC is well suited for the following scenarios:</span></span>

- <span data-ttu-id="b1a4d-155">Düşük gecikme süresi ve yüksek aktarım hızı iletişimi.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-155">Low latency and high throughput communication.</span></span> <span data-ttu-id="b1a4d-156">gRPC, verimlilik açısından kritik olan hafif mikro hizmetler için harika.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-156">gRPC is great for lightweight microservices where efficiency is critical.</span></span>
- <span data-ttu-id="b1a4d-157">Noktadan noktaya gerçek zamanlı iletişim.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-157">Point-to-point real-time communication.</span></span> <span data-ttu-id="b1a4d-158">gRPC, iki yönlü akış için harika desteğe sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-158">gRPC has excellent support for bi-directional streaming.</span></span> <span data-ttu-id="b1a4d-159">gRPC Hizmetleri, yoklama yapmadan iletileri gerçek zamanlı olarak gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-159">gRPC services can push messages in real time without polling.</span></span>
- <span data-ttu-id="b1a4d-160">Çok yönlü ortamları – gRPC araçları, en popüler geliştirme dillerini destekler ve çok dilli ortamlar için iyi bir seçenek yapar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-160">Polyglot environments – gRPC tooling supports most popular development languages, making it a good choice for multi-language environments.</span></span>
- <span data-ttu-id="b1a4d-161">Ağ kısıtlamalı ortamlar – gRPC iletileri, hafif bir ileti biçimi olan Protoarabellek ile serileştirilir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-161">Network constrained environments – gRPC messages are serialized with Protobuf, a lightweight message format.</span></span> <span data-ttu-id="b1a4d-162">GRPC iletisi her zaman denk bir JSON iletisinden daha küçüktür.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-162">A gRPC message is always smaller than an equivalent JSON message.</span></span>

<span data-ttu-id="b1a4d-163">Bu kitabın yazıldığı sırada tarayıcıların çoğu, gRPC için sınırlı desteğe sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-163">At the time of writing of this book, most browsers have limited support for gRPC.</span></span> <span data-ttu-id="b1a4d-164">gRPC, HTTP/2 özelliklerini çok fazla kullanır ve tarayıcı, bir gRPC istemcisini desteklemek için Web istekleri üzerinde gerekli denetim düzeyini sağlar.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-164">gRPC heavily uses HTTP/2 features and no browser provides the level of control required over web requests to support a gRPC client.</span></span> <span data-ttu-id="b1a4d-165">gRPC, genellikle iç mikro hizmetin mikro hizmet iletişimine yönelik iletişim için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-165">gRPC is typically used for internal microservice to microservice communication.</span></span> <span data-ttu-id="b1a4d-166">Şekil 4-22 basit, ancak yaygın kullanım modelini gösterir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-166">Figure 4-22 shows a simple, but common usage pattern.</span></span>

![gRPC kullanım desenleri](./media/grpc-usage.png)

<span data-ttu-id="b1a4d-168">**Şekil 4-22**.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-168">**Figure 4-22**.</span></span> <span data-ttu-id="b1a4d-169">gRPC kullanım desenleri</span><span class="sxs-lookup"><span data-stu-id="b1a4d-169">gRPC usage patterns</span></span>

<span data-ttu-id="b1a4d-170">Önceki şekilde, ön uç trafiğinin HTTP ile nasıl çağrılacağını, mikro hizmet ile mikro hizmetin de gRPC 'yi kullanması durumunda göz önüne alın.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-170">Note in the previous figure how front-end traffic is invoked with HTTP while back-end microservice to microservice uses gRPC.</span></span>

<span data-ttu-id="b1a4d-171">İleriye yönelik olarak, gRPC, bulutta yerel sistemler için geri kalanı önemli bir rol oynayabilir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-171">Looking ahead, gRPC could play a major role in dethroning the dominance of REST for cloud-native systems.</span></span> <span data-ttu-id="b1a4d-172">Performans avantajları ve geliştirme kolaylığının geçmesi çok iyidir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-172">The performance benefits and ease of development are too good to pass up.</span></span> <span data-ttu-id="b1a4d-173">Ancak, herhangi bir hata yapmayın, DIĞERLERI uzun bir süre içinde devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-173">However, make no mistake, REST will still be around for a long time.</span></span> <span data-ttu-id="b1a4d-174">Bu, genel kullanıma açık API 'Ler ve geriye dönük uyumluluk nedenleriyle hala daha fazla.</span><span class="sxs-lookup"><span data-stu-id="b1a4d-174">It still excels for publicly exposed APIs and for backward compatibility reasons.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="b1a4d-175">[Önceki](service-to-service-communication.md)
>[İleri](service-mesh-communication-infrastructure.md)</span><span class="sxs-lookup"><span data-stu-id="b1a4d-175">[Previous](service-to-service-communication.md)
[Next](service-mesh-communication-infrastructure.md)</span></span>
