---
title: Kayıt türlerini kullanma-C# öğreticisi
description: Kayıt türlerini kullanma, kayıt hiyerarşileri oluşturma ve sınıflar üzerinde kayıt seçme hakkında bilgi edinin.
ms.date: 11/12/2020
ms.openlocfilehash: c8a1922fdf113d046dc087ec289accce4312c4ae
ms.sourcegitcommit: 4b7f6b348c986556ef805cb6baacfd5b9ec18ed0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/08/2021
ms.locfileid: "107075543"
---
# <a name="create-record-types"></a><span data-ttu-id="8e68f-103">Kayıt türleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="8e68f-103">Create record types</span></span>

<span data-ttu-id="8e68f-104">C# 9, sınıflar veya yapılar yerine oluşturabileceğiniz yeni bir başvuru türü olan [*kayıtları*](../../language-reference/builtin-types/record.md)tanıtır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-104">C# 9 introduces [*records*](../../language-reference/builtin-types/record.md), a new reference type that you can create instead of classes or structs.</span></span> <span data-ttu-id="8e68f-105">Kayıtlar, kayıt türlerindeki sınıflardan farklıdır ve *değer tabanlı eşitlik* kullanır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-105">Records are distinct from classes in that record types use *value-based equality*.</span></span> <span data-ttu-id="8e68f-106">Kayıt türünün iki değişkeni, kayıt türü tanımları özdeş ise eşittir ve her alan için her iki kayıttaki değerler eşittir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-106">Two variables of a record type are equal if the record type definitions are identical, and if for every field, the values in both records are equal.</span></span> <span data-ttu-id="8e68f-107">Başvurulan nesneler aynı sınıf türünde ise ve değişkenler aynı nesneye başvurursanız, bir sınıf türünün iki değişkeni eşittir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-107">Two variables of a class type are equal if the objects referred to are the same class type and the variables refer to the same object.</span></span> <span data-ttu-id="8e68f-108">Değer tabanlı eşitlik, muhtemelen kayıt türlerinde istediğiniz diğer özellikleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-108">Value-based equality implies other capabilities you'll probably want in record types.</span></span> <span data-ttu-id="8e68f-109">Derleyici, bir yerine bir tane bildirdiğinizde bu üyelerin birçoğunu üretir `record` `class` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-109">The compiler generates many of those members when you declare a `record` instead of a `class`.</span></span>

<span data-ttu-id="8e68f-110">Bu öğreticide aşağıdakilerin nasıl yapılacağını öğreneceksiniz:</span><span class="sxs-lookup"><span data-stu-id="8e68f-110">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="8e68f-111">' A veya ' i bildirmeniz gerekip gerekmediğine karar verin `class` `record` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-111">Decide if you should declare a `class` or a `record`.</span></span>
> - <span data-ttu-id="8e68f-112">Kayıt türlerini ve Konumsal kayıt türlerini bildirin.</span><span class="sxs-lookup"><span data-stu-id="8e68f-112">Declare record types and positional record types.</span></span>
> - <span data-ttu-id="8e68f-113">Derleyici tarafından oluşturulan metotlar için yöntemlerinizi değiştirin.</span><span class="sxs-lookup"><span data-stu-id="8e68f-113">Substitute your methods for compiler generated methods in records.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="8e68f-114">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="8e68f-114">Prerequisites</span></span>

<span data-ttu-id="8e68f-115">C# 9,0 veya üzeri derleyicisi dahil olmak üzere makinenizi .NET 5 veya sonraki bir sürümünü çalıştıracak şekilde ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-115">You'll need to set up your machine to run .NET 5 or later, including the C# 9.0 or later compiler.</span></span> <span data-ttu-id="8e68f-116">C# 9,0 derleyicisi, [Visual Studio 2019 sürüm 16,8](https://visualstudio.microsoft.com/vs) veya [.NET 5,0 SDK](https://dotnet.microsoft.com/download)ile başlayarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-116">The C# 9.0 compiler is available starting with [Visual Studio 2019 version 16.8](https://visualstudio.microsoft.com/vs) or the [.NET 5.0 SDK](https://dotnet.microsoft.com/download).</span></span>

## <a name="characteristics-of-records"></a><span data-ttu-id="8e68f-117">Kayıtların özellikleri</span><span class="sxs-lookup"><span data-stu-id="8e68f-117">Characteristics of records</span></span>

<span data-ttu-id="8e68f-118"> `record` Ya da `class` anahtar sözcüğü yerine anahtar sözcüğünü içeren bir tür bildirerek bir kayıt tanımlarsınız `struct` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-118">You define a *record* by declaring a type with the `record` keyword, instead of the `class` or `struct` keyword.</span></span> <span data-ttu-id="8e68f-119">Kayıt, başvuru türüdür ve değer tabanlı eşitlik semantiğini izler.</span><span class="sxs-lookup"><span data-stu-id="8e68f-119">A record is a reference type and follows value-based equality semantics.</span></span> <span data-ttu-id="8e68f-120">Değer semantiğini zorlamak için, derleyici kayıt türü için birkaç yöntem üretir:</span><span class="sxs-lookup"><span data-stu-id="8e68f-120">To enforce value semantics, the compiler generates several methods for your record type:</span></span>

- <span data-ttu-id="8e68f-121">Bir geçersiz kılma <xref:System.Object.Equals(System.Object)?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8e68f-121">An override of <xref:System.Object.Equals(System.Object)?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="8e68f-122">`Equals`Parametresi kayıt türü olan bir sanal yöntem.</span><span class="sxs-lookup"><span data-stu-id="8e68f-122">A virtual `Equals` method whose parameter is the record type.</span></span>
- <span data-ttu-id="8e68f-123">Bir geçersiz kılma <xref:System.Object.GetHashCode?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8e68f-123">An override of <xref:System.Object.GetHashCode?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="8e68f-124">Ve için `operator ==` yöntemleri `operator !=` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-124">Methods for `operator ==` and `operator !=`.</span></span>
- <span data-ttu-id="8e68f-125">Kayıt türleri uygular <xref:System.IEquatable%601?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8e68f-125">Record types implement <xref:System.IEquatable%601?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="8e68f-126">Ayrıca, kayıtlar bir geçersiz kılma sağlar <xref:System.Object.ToString?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8e68f-126">In addition, records provide an override of <xref:System.Object.ToString?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8e68f-127">Derleyici, kullanarak kayıtları görüntüleme yöntemlerini birleştirir <xref:System.Object.ToString?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8e68f-127">The compiler synthesizes methods for displaying records using <xref:System.Object.ToString?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8e68f-128">Bu öğretici için kodu yazarken bu üyeleri keşfedebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-128">You'll explore those members as you write the code for this tutorial.</span></span> <span data-ttu-id="8e68f-129">`with`, Bozucu olmayan kayıtları etkinleştirmek için destek ifadelerini kaydeder.</span><span class="sxs-lookup"><span data-stu-id="8e68f-129">Records support `with` expressions to enable non-destructive mutation of records.</span></span>

<span data-ttu-id="8e68f-130">Ayrıca, daha kısa bir sözdizimi kullanarak *konumsal kayıtlar* bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-130">You can also declare *positional records* using a more concise syntax.</span></span> <span data-ttu-id="8e68f-131">Bu derleyici, konumsal kayıtları bildirdiğinizde sizin için daha fazla yöntem sentezler:</span><span class="sxs-lookup"><span data-stu-id="8e68f-131">The compiler synthesizes more methods for you when you declare positional records:</span></span>

- <span data-ttu-id="8e68f-132">Parametreleri, kayıt bildiriminde konumsal parametrelerle eşleşen bir birincil Oluşturucu.</span><span class="sxs-lookup"><span data-stu-id="8e68f-132">A primary constructor whose parameters match the positional parameters on the record declaration.</span></span>
- <span data-ttu-id="8e68f-133">Birincil oluşturucunun her parametresi için yalnızca genel init özellikleri.</span><span class="sxs-lookup"><span data-stu-id="8e68f-133">Public init-only properties for each parameter of a primary constructor.</span></span>
- <span data-ttu-id="8e68f-134">`Deconstruct`Kayıttan özellikleri ayıklamaya yönelik bir yöntem.</span><span class="sxs-lookup"><span data-stu-id="8e68f-134">A `Deconstruct` method to extract properties from the record.</span></span>

## <a name="build-temperature-data"></a><span data-ttu-id="8e68f-135">Sıcaklık verileri oluşturma</span><span class="sxs-lookup"><span data-stu-id="8e68f-135">Build temperature data</span></span>

<span data-ttu-id="8e68f-136">Veriler ve istatistikler, kayıtları kullanmak isteyeceğiniz senaryolar arasındadır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-136">Data and statistics are among the scenarios where you'll want to use records.</span></span> <span data-ttu-id="8e68f-137">Bu öğreticide, farklı kullanımlar için *derece günler* hesaplayan bir uygulama oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="8e68f-137">For this tutorial, you'll build an application that computes *degree days* for different uses.</span></span> <span data-ttu-id="8e68f-138">*Derece günler* , bir gün, hafta veya ay boyunca bir ısı (veya ısı eksikliği) bir ölçüdür.</span><span class="sxs-lookup"><span data-stu-id="8e68f-138">*Degree days* are a measure of heat (or lack of heat) over a period of days, weeks, or months.</span></span> <span data-ttu-id="8e68f-139">Derece günler enerji kullanımını izleyip tahmin eder.</span><span class="sxs-lookup"><span data-stu-id="8e68f-139">Degree days track and predict energy usage.</span></span> <span data-ttu-id="8e68f-140">Daha fazla kullanım günü daha fazla hava anlamına gelir ve daha fazla kora günü daha fazla sayıda kullanım anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-140">More hotter days means more air conditioning, and more colder days means more furnace usage.</span></span> <span data-ttu-id="8e68f-141">Derece günler, Tesis popülasyonlarını yönetmenize ve mevsimler değiştikçe tesis artışına bağıntılı bir yardım sağlar.</span><span class="sxs-lookup"><span data-stu-id="8e68f-141">Degree days help manage plant populations and correlate to plant growth as the seasons change.</span></span> <span data-ttu-id="8e68f-142">Derece günler, kligayı eşleştirmek için seyahat eden türler için bir hayvan geçişi izlemenize yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="8e68f-142">Degree days help track animal migrations for species that travel to match climate.</span></span>

<span data-ttu-id="8e68f-143">Formül, belirli bir gün ve temel sıcaklığa göre ortalama sıcaklığa dayanır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-143">The formula is based on the mean temperature on a given day and a baseline temperature.</span></span> <span data-ttu-id="8e68f-144">Süreyi zaman içinde hesaplamak için, her gün bir süre için yüksek ve düşük sıcaklık gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-144">To compute degree days over time, you'll need the high and low temperature each day for a period of time.</span></span> <span data-ttu-id="8e68f-145">Yeni bir uygulama oluşturarak başlayalım.</span><span class="sxs-lookup"><span data-stu-id="8e68f-145">Let's start by creating a new application.</span></span> <span data-ttu-id="8e68f-146">Yeni bir konsol uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="8e68f-146">Make a new console application.</span></span> <span data-ttu-id="8e68f-147">"Dailysıcaklık. cs" adlı yeni bir dosyada yeni bir kayıt türü oluşturun:</span><span class="sxs-lookup"><span data-stu-id="8e68f-147">Create a new record type in a new file named "DailyTemperature.cs":</span></span>

:::code language="csharp" source="snippets/record-types/InterimSteps.cs" ID="DailyRecord":::

<span data-ttu-id="8e68f-148">Yukarıdaki kod bir *konumsal kayıt* tanımlar.</span><span class="sxs-lookup"><span data-stu-id="8e68f-148">The preceding code defines a *positional record*.</span></span> <span data-ttu-id="8e68f-149">İki özellik içeren bir başvuru türü oluşturdunuz: `HighTemp` , ve `LowTemp` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-149">You've created a reference type that contains two properties: `HighTemp`, and `LowTemp`.</span></span> <span data-ttu-id="8e68f-150">Bu özellikler, oluşturucuda ayarlanabilecekleri veya bir özellik başlatıcısı kullanmanın anlamı *yalnızca init özelliklerdir*.</span><span class="sxs-lookup"><span data-stu-id="8e68f-150">Those properties are *init only properties*, meaning they can be set in the constructor or using a property initializer.</span></span> <span data-ttu-id="8e68f-151">`DailyTemperature`Türün Ayrıca iki özelliği olan iki parametresi olan bir *birincil Oluşturucusu* vardır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-151">The `DailyTemperature` type also has a *primary constructor* that has two parameters that match the two properties.</span></span> <span data-ttu-id="8e68f-152">Birincil oluşturucuyu kullanarak bir `DailyTemperature` kayıt başlatın:</span><span class="sxs-lookup"><span data-stu-id="8e68f-152">You use the primary constructor to initialize a `DailyTemperature` record:</span></span>

:::code language="csharp" source="snippets/record-types/Program.cs" ID="DeclareData":::

<span data-ttu-id="8e68f-153">Konumsal kayıtlar dahil olmak üzere, kayıtlara kendi özelliklerinizi veya yöntemlerinizi ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-153">You can add your own properties or methods to records, including positional records.</span></span> <span data-ttu-id="8e68f-154">Her gün için ortalama sıcaklığın hesaplanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-154">You'll need to compute the mean temperature for each day.</span></span> <span data-ttu-id="8e68f-155">Bu özelliği `DailyTemperature` kayda ekleyebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="8e68f-155">You can add that property to the `DailyTemperature` record:</span></span>

:::code language="csharp" source="snippets/record-types/DailyTemperature.cs" ID="TemperatureRecord":::

<span data-ttu-id="8e68f-156">Bu verileri kullanabileceizin olalım.</span><span class="sxs-lookup"><span data-stu-id="8e68f-156">Let's make sure you can use this data.</span></span> <span data-ttu-id="8e68f-157">Aşağıdaki kodu yönteminizin içine ekleyin `Main` :</span><span class="sxs-lookup"><span data-stu-id="8e68f-157">Add the following code to your `Main` method:</span></span>

```csharp
foreach (var item in data)
    Console.WriteLine(item);
```

<span data-ttu-id="8e68f-158">Uygulamanızı çalıştırın ve aşağıdaki ekranda gösterilene benzer bir çıktı görürsünüz (boşluk için birkaç satır kaldırılır):</span><span class="sxs-lookup"><span data-stu-id="8e68f-158">Run your application, and you'll see output that looks similar to the following display (several rows removed for space):</span></span>

```dotnetcli
DailyTemperature { HighTemp = 57, LowTemp = 30, Mean = 43.5 }
DailyTemperature { HighTemp = 60, LowTemp = 35, Mean = 47.5 }


DailyTemperature { HighTemp = 80, LowTemp = 60, Mean = 70 }
DailyTemperature { HighTemp = 85, LowTemp = 66, Mean = 75.5 }
```

<span data-ttu-id="8e68f-159">Yukarıdaki kod, `ToString` derleyici tarafından sentezlenen geçersiz kılmanın çıktısını gösterir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-159">The preceding code shows the output from the override of `ToString` synthesized by the compiler.</span></span> <span data-ttu-id="8e68f-160">Farklı metin tercih ediyorsanız, `ToString` derleyicinin sizin için bir sürümü birleştirmelerini engelleyen kendi sürümünüzü yazabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-160">If you prefer different text, you can write your own version of `ToString` that prevents the compiler from synthesizing a version for you.</span></span>

## <a name="compute-degree-days"></a><span data-ttu-id="8e68f-161">İşlem Derecesi Günleri</span><span class="sxs-lookup"><span data-stu-id="8e68f-161">Compute degree days</span></span>

<span data-ttu-id="8e68f-162">Derece günleri hesaplamak için, belirli bir gün için bir temel sıcaklığın ve ortalama sıcaklığın farkını alırsınız.</span><span class="sxs-lookup"><span data-stu-id="8e68f-162">To compute degree days, you take the difference from a baseline temperature and the mean temperature on a given day.</span></span> <span data-ttu-id="8e68f-163">Zaman içinde sıcaklığın ölçülmesi için, ortalama sıcaklık taban çizgisinin altında olduğu günleri atabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-163">To measure heat over time, you discard any days where the mean temperature is below the baseline.</span></span> <span data-ttu-id="8e68f-164">Soğuk zamana göre ölçmek için, ortalama sıcaklığın taban çizgisinin üzerinde olduğu günleri atabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-164">To measure cold over time, you discard any days where the mean temperature is above the baseline.</span></span> <span data-ttu-id="8e68f-165">Örneğin ABD, hem Isıtma hem de soğutma derecesi günü için temel olarak 65F kullanır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-165">For example, the U.S. uses 65F as the base for both heating  and cooling degree days.</span></span> <span data-ttu-id="8e68f-166">Bu, herhangi bir ısıtma veya soğutma gerektirmeyen sıcaklığa sahiptir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-166">That's the temperature where no heating or cooling is needed.</span></span> <span data-ttu-id="8e68f-167">Bir gün, 70F 'nin ortalama sıcaklığını içeriyorsa, bu gün 5 soğutma derecesi günü ve 0 Isıtma derecesi günü olur.</span><span class="sxs-lookup"><span data-stu-id="8e68f-167">If a day has a mean temperature of 70F, that day is 5 cooling degree days and 0 heating degree days.</span></span> <span data-ttu-id="8e68f-168">Buna karşılık, ortalama sıcaklık 55F ise, bu gün 10 Isıtma derecesi gün ve 0 soğutma derecesi günü olur.</span><span class="sxs-lookup"><span data-stu-id="8e68f-168">Conversely, if the mean temperature is 55F, that day is 10 heating degree days and 0 cooling degree days.</span></span>

<span data-ttu-id="8e68f-169">Bu formülleri küçük bir kayıt türleri hiyerarşisi olarak ifade edebilirsiniz: bir soyut derece gün türü ve Isıtma derecesi gün ve soğutma derecesi için iki somut tür.</span><span class="sxs-lookup"><span data-stu-id="8e68f-169">You can express these formulas as a small hierarchy of record types: an abstract degree day type and two concrete types for heating degree days and cooling degree days.</span></span> <span data-ttu-id="8e68f-170">Bu türler Ayrıca konumsal kayıtlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-170">These types can also be positional records.</span></span> <span data-ttu-id="8e68f-171">Bunlar, birincil oluşturucunun bağımsız değişkenleri olarak bir taban çizgisi sıcaklığı ve günlük sıcaklık kayıtları sırası alırlar:</span><span class="sxs-lookup"><span data-stu-id="8e68f-171">They take a baseline temperature and a sequence of daily temperature records as arguments to the primary constructor:</span></span>

:::code language="csharp" source="snippets/record-types/InterimSteps.cs" ID="DegreeDaysRecords":::

<span data-ttu-id="8e68f-172">Soyut `DegreeDays` kayıt, ve kayıtlarının her ikisi için de paylaşılan temel `HeatingDegreeDays` sınıftır `CoolingDegreeDays` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-172">The abstract `DegreeDays` record is the shared base class for both the `HeatingDegreeDays` and `CoolingDegreeDays` records.</span></span> <span data-ttu-id="8e68f-173">Türetilmiş kayıtlardaki birincil Oluşturucu bildirimleri, temel kayıt başlatmanın nasıl yönetileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-173">The primary constructor declarations on the derived records show how to manage base record initialization.</span></span> <span data-ttu-id="8e68f-174">Türetilmiş kaydınız, temel kayıt birincil oluşturucudaki tüm parametrelerin parametrelerini bildirir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-174">Your derived record declares parameters for all the parameters in the base record primary constructor.</span></span> <span data-ttu-id="8e68f-175">Temel kayıt bu özellikleri bildirir ve başlatır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-175">The base record declares and initializes those properties.</span></span> <span data-ttu-id="8e68f-176">Türetilmiş kayıt onları gizlemez, ancak temel kaydında bildirilmeyen parametreler için Özellikler oluşturur ve başlatır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-176">The derived record doesn't hide them, but only creates and initializes properties for parameters that aren't declared in its base record.</span></span> <span data-ttu-id="8e68f-177">Bu örnekte, türetilen kayıtlar yeni birincil Oluşturucu parametreleri eklemez.</span><span class="sxs-lookup"><span data-stu-id="8e68f-177">In this example, the derived records don't add new primary constructor parameters.</span></span> <span data-ttu-id="8e68f-178">Aşağıdaki kodu yönteminizin içine ekleyerek kodunuzu test edin `Main` :</span><span class="sxs-lookup"><span data-stu-id="8e68f-178">Test your code by adding the following code to your `Main` method:</span></span>

:::code language="csharp" source="snippets/record-types/Program.cs" ID="HeatingAndCooling":::

<span data-ttu-id="8e68f-179">Aşağıdaki ekran gibi bir çıktı alırsınız:</span><span class="sxs-lookup"><span data-stu-id="8e68f-179">You'll get output like the following display:</span></span>

```dotnetcli
HeatingDegreeDays { BaseTemperature = 65, TempRecords = record_types.DailyTemperature[], DegreeDays = 85 }
CoolingDegreeDays { BaseTemperature = 65, TempRecords = record_types.DailyTemperature[], DegreeDays = 71.5 }
```

## <a name="define-compiler-synthesized-methods"></a><span data-ttu-id="8e68f-180">Derleyici birleştirilmemiş yöntemleri tanımlama</span><span class="sxs-lookup"><span data-stu-id="8e68f-180">Define compiler-synthesized methods</span></span>

<span data-ttu-id="8e68f-181">Kodunuz, bu süre içinde doğru Isıtma ve soğutma derecesi gün sayısını hesaplar.</span><span class="sxs-lookup"><span data-stu-id="8e68f-181">Your code calculates the correct number of heating and cooling degree days over that period of time.</span></span> <span data-ttu-id="8e68f-182">Ancak bu örnekte, kayıtların bazı birleştirilmiş yöntemlerini nasıl değiştirmek isteyebileceğiniz gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-182">But this example shows why you may want to replace some of the synthesized methods for records.</span></span> <span data-ttu-id="8e68f-183">Derleme türü dışında, derleyici sentezlenmiş yöntemlerin herhangi birinin kendi sürümünüzü bir kayıt türünde bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-183">You can declare your own version of any of the compiler-synthesized methods in a record type except the clone method.</span></span> <span data-ttu-id="8e68f-184">Clone yönteminin derleyicinin ürettiği bir adı vardır ve farklı bir uygulama sağlayamezsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-184">The clone method has a compiler generated name and you cannot provide a different implementation.</span></span> <span data-ttu-id="8e68f-185">Bu birleştirilmemiş Yöntemler bir kopya Oluşturucu, arabirimin üyeleri, <xref:System.IEquatable%601?displayProperty=nameWithType> eşitlik ve eşitsizlik testleri ve ' i içerir <xref:System.Object.GetHashCode> .</span><span class="sxs-lookup"><span data-stu-id="8e68f-185">These synthesized methods include a copy constructor, the members of the <xref:System.IEquatable%601?displayProperty=nameWithType> interface, equality and inequality tests, and <xref:System.Object.GetHashCode>.</span></span> <span data-ttu-id="8e68f-186">Bu amaçla, sentezleştir `PrintMembers` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-186">For this purpose, you'll synthesize `PrintMembers`.</span></span> <span data-ttu-id="8e68f-187">Ayrıca kendi kendinize de bildirebilirsiniz `ToString` , ancak `PrintMembers` Devralma senaryoları için daha iyi bir seçenek sağlar.</span><span class="sxs-lookup"><span data-stu-id="8e68f-187">You could also declare your own `ToString`, but `PrintMembers` provides a better option for inheritance scenarios.</span></span> <span data-ttu-id="8e68f-188">Sentezlenmiş yöntemin kendi sürümünüzü sağlamak için imza, sentezlenmiş metotla eşleşmelidir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-188">To provide your own version of a synthesized method, the signature must match the synthesized method.</span></span>

<span data-ttu-id="8e68f-189">`TempRecords`Konsol çıkışında öğesi yararlı değildir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-189">The `TempRecords` element in the console output isn't useful.</span></span> <span data-ttu-id="8e68f-190">Türü görüntüler, ancak başka hiçbir şey yapmaz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-190">It displays the type, but nothing else.</span></span> <span data-ttu-id="8e68f-191">Bu davranışı, kendi kendine birleştirilmiş metodun uygulamanızı sağlayarak değiştirebilirsiniz `PrintMembers` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-191">You can change this behavior by providing your own implementation of the synthesized `PrintMembers` method.</span></span> <span data-ttu-id="8e68f-192">İmza, bildirime uygulanan değiştiricilere bağlıdır `record` :</span><span class="sxs-lookup"><span data-stu-id="8e68f-192">The signature depends on modifiers applied to the `record` declaration:</span></span>

- <span data-ttu-id="8e68f-193">Bir kayıt türü ise `sealed` imza `private bool PrintMembers(StringBuilder builder);`</span><span class="sxs-lookup"><span data-stu-id="8e68f-193">If a record type is `sealed`, the signature is `private bool PrintMembers(StringBuilder builder);`</span></span>
- <span data-ttu-id="8e68f-194">Bir kayıt türü `sealed` ve türetilmemişse (yani `object` , bir temel kayıt bildirmiyor), imza `protected virtual bool PrintMembers(StringBuilder builder);`</span><span class="sxs-lookup"><span data-stu-id="8e68f-194">If a record type isn't `sealed` and derives from `object` (that is, it doesn't declare a base record), the signature is `protected virtual bool PrintMembers(StringBuilder builder);`</span></span>
- <span data-ttu-id="8e68f-195">Bir kayıt türü başka bir `sealed` Kayıttan değilse ve bu kayıtlardan türetilmemişse, imza `protected override bool PrintMembers(StringBuilder builder);`</span><span class="sxs-lookup"><span data-stu-id="8e68f-195">If a record type isn't `sealed` and derives from another record, the signature is `protected override bool PrintMembers(StringBuilder builder);`</span></span>

<span data-ttu-id="8e68f-196">Amacını anlamak için bu kurallar en kolay anlarsınız `PrintMembers` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-196">These rules are easiest to comprehend through understanding the purpose of `PrintMembers`.</span></span> <span data-ttu-id="8e68f-197">`PrintMembers` bir kayıt türündeki her bir özellik hakkındaki bilgileri bir dizeye ekler.</span><span class="sxs-lookup"><span data-stu-id="8e68f-197">`PrintMembers` adds information about each property in a record type to a string.</span></span> <span data-ttu-id="8e68f-198">Sözleşme, üyelerini görüntüsüne eklemek için temel kayıtlar gerektirir ve türetilmiş üyelerin üyelerini eklemesini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="8e68f-198">The contract requires base records to add their members to the display and assumes derived members will add their members.</span></span> <span data-ttu-id="8e68f-199">Her kayıt türü `ToString` , aşağıdaki örneğe benzer bir geçersiz kılma işlemini birleştirir `HeatingDegreeDays` :</span><span class="sxs-lookup"><span data-stu-id="8e68f-199">Each record type synthesizes a `ToString` override that looks similar to the following example for `HeatingDegreeDays`:</span></span>

```csharp
public override string ToString()
{
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.Append("HeatingDegreeDays");
    stringBuilder.Append(" { ");
    if (PrintMembers(stringBuilder))
    {
        stringBuilder.Append(" ");
    }
    stringBuilder.Append("}");
    return stringBuilder.ToString();
}
```

<span data-ttu-id="8e68f-200">`PrintMembers`Kayıt içinde, `DegreeDays` koleksiyonun türünü yazdırmaz bir yöntemi bildirirsiniz:</span><span class="sxs-lookup"><span data-stu-id="8e68f-200">You declare a `PrintMembers` method in the `DegreeDays` record that doesn't print the type of the collection:</span></span>

:::code language="csharp" source="snippets/record-types/DegreeDays.cs" ID="AddPrintMembers":::

<span data-ttu-id="8e68f-201">İmza, `virtual protected` derleyicinin sürümüyle eşleşmesi için bir yöntem bildirir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-201">The signature declares a `virtual protected` method to match the compiler's version.</span></span> <span data-ttu-id="8e68f-202">Erişimcileri yanlış alırsanız endişelenmeyin; Dil doğru imzayı zorlar.</span><span class="sxs-lookup"><span data-stu-id="8e68f-202">Don't worry if you get the accessors wrong; the language enforces the correct signature.</span></span> <span data-ttu-id="8e68f-203">Herhangi bir sentezlenmiş yöntemin doğru değiştiricilerini unutursanız, derleyici doğru imzayı almanıza yardımcı olan uyarıları veya hataları verir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-203">If you forget the correct modifiers for any synthesized method, the compiler issues warnings or errors that help you get the right signature.</span></span>

## <a name="non-destructive-mutation"></a><span data-ttu-id="8e68f-204">Bozucu olmayan mutasyon</span><span class="sxs-lookup"><span data-stu-id="8e68f-204">Non-destructive mutation</span></span>

<span data-ttu-id="8e68f-205">Konumsal bir kayıttaki birleştirilmemiş Üyeler kaydın durumunu değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="8e68f-205">The synthesized members in a positional record don't modify the state of the record.</span></span> <span data-ttu-id="8e68f-206">Amaç, sabit kayıtları daha kolay bir şekilde oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-206">The goal is that you can more easily create immutable records.</span></span> <span data-ttu-id="8e68f-207">Ve için önceki bildirimlerde tekrar bakın `HeatingDegreeDays` `CoolingDegreeDays` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-207">Look again at the preceding declarations for `HeatingDegreeDays` and `CoolingDegreeDays`.</span></span> <span data-ttu-id="8e68f-208">Eklenen Üyeler kayıt için değerler üzerinde hesaplamalar gerçekleştirir, ancak hiçbir zaman durum vermez.</span><span class="sxs-lookup"><span data-stu-id="8e68f-208">The members added perform computations on the values for the record, but don't mutate state.</span></span> <span data-ttu-id="8e68f-209">Konumsal kayıtlar, değişmez başvuru türleri oluşturmanızı kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-209">Positional records make it easier for you to create immutable reference types.</span></span>

<span data-ttu-id="8e68f-210">Değişmez başvuru türleri oluşturmak, bozucu olmayan bir mutasyon kullanmak isteyeceğiniz anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-210">Creating immutable reference types means you'll want to use non-destructive mutation.</span></span> <span data-ttu-id="8e68f-211">[ `with` İfadeleri](../../language-reference/operators/with-expression.md)kullanarak varolan kayıt örneklerine benzer yeni kayıt örnekleri oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-211">You  create new record instances that are similar to existing record instances using [`with` expressions](../../language-reference/operators/with-expression.md).</span></span> <span data-ttu-id="8e68f-212">Bu ifadeler, kopyayı değiştiren ek atamalara sahip bir kopyalama yapımı.</span><span class="sxs-lookup"><span data-stu-id="8e68f-212">These expressions are a copy construction with additional assignments that modify the copy.</span></span> <span data-ttu-id="8e68f-213">Sonuç, her bir özelliğin mevcut kayıttan kopyalandığı ve isteğe bağlı olarak değiştirildiği yeni bir kayıt örneğidir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-213">The result is a new record instance where each property has been copied from the existing record and optionally modified.</span></span> <span data-ttu-id="8e68f-214">Özgün kayıt değiştirilmez.</span><span class="sxs-lookup"><span data-stu-id="8e68f-214">The original record is unchanged.</span></span>

<span data-ttu-id="8e68f-215">Programınıza, ifadeleri gösteren birkaç özellik ekleyelim `with` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-215">Let's add a couple features to your program that demonstrate `with` expressions.</span></span> <span data-ttu-id="8e68f-216">İlk olarak, aynı verileri kullanarak büyüyen derece günleri hesaplamak için yeni bir kayıt oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="8e68f-216">First, let's create a new record to compute growing degree days using the same data.</span></span> <span data-ttu-id="8e68f-217">*Büyüyen derece günler* genellikle temel olarak 41F kullanır ve taban çizgisinin üzerindeki sıcaklıkları ölçer.</span><span class="sxs-lookup"><span data-stu-id="8e68f-217">*Growing degree days* typically uses 41F as the baseline and measures temperatures above the baseline.</span></span> <span data-ttu-id="8e68f-218">Aynı verileri kullanmak için, `coolingDegreeDays` ancak farklı bir temel sıcaklığa sahip olan yeni bir kayıt oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="8e68f-218">To use the same data, you can create a new record that is similar to the `coolingDegreeDays`, but with a different base temperature:</span></span>

:::code language="csharp" source="snippets/record-types/Program.cs" ID="GrowingDegreeDays":::

<span data-ttu-id="8e68f-219">Hesaplanan sayıların sayısını, daha yüksek bir temel sıcaklığa sahip olan sayılarla karşılaştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-219">You can compare the number of degrees computed to the numbers generated with a higher baseline temperature.</span></span> <span data-ttu-id="8e68f-220">Kayıtların *başvuru türleri* olduğunu ve bu kopyaların basit kopyalardır olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="8e68f-220">Remember that records are *reference types* and these copies are shallow copies.</span></span> <span data-ttu-id="8e68f-221">Verilerin dizisi kopyalanmaz, ancak her iki kayıt de aynı verilere başvurur.</span><span class="sxs-lookup"><span data-stu-id="8e68f-221">The array for the data isn't copied, but both records refer to the same data.</span></span> <span data-ttu-id="8e68f-222">Bu olgu, başka bir senaryoda avantajlıdır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-222">That fact is an advantage in one other scenario.</span></span> <span data-ttu-id="8e68f-223">Büyüyen derece gün boyunca, önceki 5 güne ait toplamın izlenmesi yararlı olur.</span><span class="sxs-lookup"><span data-stu-id="8e68f-223">For growing degree days, it's useful to keep track of the total for the previous 5 days.</span></span> <span data-ttu-id="8e68f-224">İfadeleri kullanarak farklı kaynak verilerle yeni kayıtlar oluşturabilirsiniz `with` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-224">You can create new records with different source data using `with` expressions.</span></span> <span data-ttu-id="8e68f-225">Aşağıdaki kod bu accumulations koleksiyonunu oluşturur, sonra değerleri görüntüler:</span><span class="sxs-lookup"><span data-stu-id="8e68f-225">The following code builds a collection of these accumulations, then displays the values:</span></span>

:::code language="csharp" source="snippets/record-types/Program.cs" ID="RunningFiveDayTotal":::

<span data-ttu-id="8e68f-226">Ayrıca, `with` kayıtların kopyalarını oluşturmak için ifadeleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-226">You can also use `with` expressions to create copies of records.</span></span> <span data-ttu-id="8e68f-227">İfadenin küme ayraçları arasında herhangi bir özellik belirtmeyin `with` .</span><span class="sxs-lookup"><span data-stu-id="8e68f-227">Don't specify any properties between the braces for the `with` expression.</span></span> <span data-ttu-id="8e68f-228">Bu, bir kopya oluşturma ve hiçbir özelliği değiştirmeyin anlamına gelir:</span><span class="sxs-lookup"><span data-stu-id="8e68f-228">That means create a copy, and don't change any properties:</span></span>

```csharp
var growingDegreeDaysCopy = growingDegreeDays with { };
```

<span data-ttu-id="8e68f-229">Sonuçları görmek için tamamlanmış uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="8e68f-229">Run the finished application to see the results.</span></span>

## <a name="summary"></a><span data-ttu-id="8e68f-230">Özet</span><span class="sxs-lookup"><span data-stu-id="8e68f-230">Summary</span></span>

<span data-ttu-id="8e68f-231">Bu öğretici kayıtların çeşitli yönlerini gösterdi.</span><span class="sxs-lookup"><span data-stu-id="8e68f-231">This tutorial showed several aspects of records.</span></span> <span data-ttu-id="8e68f-232">Kayıtlar, temel kullanım verilerinin depolandığı başvuru türleri için kısa sözdizimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="8e68f-232">Records provide concise syntax for reference types where the fundamental use is storing data.</span></span> <span data-ttu-id="8e68f-233">Nesne odaklı sınıflar için temel kullanım, sorumlulukları tanımlıyor.</span><span class="sxs-lookup"><span data-stu-id="8e68f-233">For object-oriented classes, the fundamental use is defining responsibilities.</span></span> <span data-ttu-id="8e68f-234">Bu öğreticide, bir kaydın yalnızca init özelliklerini bildirmek için kısa bir sözdizimi kullanabileceğiniz *konumsal kayıtlara* odaklanılmıştır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-234">This tutorial focused on *positional records*, where you can use a concise syntax to declare the init-only properties for a record.</span></span> <span data-ttu-id="8e68f-235">Derleyici, kayıtları kopyalamak ve karşılaştırmak için kaydın birkaç üyesini birleştirir.</span><span class="sxs-lookup"><span data-stu-id="8e68f-235">The compiler synthesizes several members of the record for copying and comparing records.</span></span> <span data-ttu-id="8e68f-236">Kayıt türleriniz için gereken diğer üyeleri ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-236">You can add any other members you need for your record types.</span></span> <span data-ttu-id="8e68f-237">Derleyici tarafından oluşturulan üyelerden hiçbirinin durum olarak bilinmediği farkında olmak üzere sabit kayıt türleri oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-237">You can create immutable record types knowing that none of the compiler-generated members would mutate state.</span></span> <span data-ttu-id="8e68f-238">Ve `with` ifadeleri, bozucu olmayan mutasyon desteğini desteklemeyi kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="8e68f-238">And `with` expressions make it easy to support non-destructive mutation.</span></span>

<span data-ttu-id="8e68f-239">Kayıtlar, türleri tanımlamaya yönelik başka bir yol ekler.</span><span class="sxs-lookup"><span data-stu-id="8e68f-239">Records add another way to define types.</span></span> <span data-ttu-id="8e68f-240">`class`Nesnelerin sorumluluklarına ve davranışına odaklanarak nesne odaklı hiyerarşiler oluşturmak için tanımları kullanırsınız.</span><span class="sxs-lookup"><span data-stu-id="8e68f-240">You use `class` definitions to create object-oriented hierarchies that focus on the responsibilities and behavior of objects.</span></span> <span data-ttu-id="8e68f-241">`struct`Verileri depolayan ve kopyalamaya yetecek kadar az olan veri yapıları için türler oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-241">You create `struct` types for data structures that store data and are small enough to copy efficiently.</span></span> <span data-ttu-id="8e68f-242">`record`Değer tabanlı eşitlik ve karşılaştırma istediğinizde, değerleri kopyalamak istemezsiniz ve başvuru değişkenlerini kullanmak istiyorsanız türler oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-242">You create `record` types when you want value-based equality and comparison, don't want to copy values, and want to use reference variables.</span></span>

<span data-ttu-id="8e68f-243">Kayıt türü ve [Önerilen kayıt türü belirtimi](~/_csharplang/proposals/csharp-9.0/records.md) [için C# dil başvurusu makalesini](../../language-reference/builtin-types/record.md) okuyarak kayıtların tüm açıklamasını öğrenebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8e68f-243">You can learn the complete description of records by reading the [C# language reference article for the record type](../../language-reference/builtin-types/record.md) and the [proposed record type specification](~/_csharplang/proposals/csharp-9.0/records.md).</span></span>
