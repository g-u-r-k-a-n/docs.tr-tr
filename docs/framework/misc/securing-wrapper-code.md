---
title: Sarmalayıcı Kodunun Güvenliğini Sağlama
description: Özellikle sarmalayıcı tarafından kullanılan koddan daha yüksek bir güven varsa, özel bir güvenlik zayıflığı kümesini açan, sarmalayıcı kodunun güvenliğini nasıl önkullanacağınızı gözden geçirin.
ms.date: 03/30/2017
helpviewer_keywords:
- security [.NET Framework], wrapper code
- wrapper code, securing
- secure coding, wrapper code
- code security, wrapper code
ms.assetid: 1df6c516-5bba-48bd-b450-1070e04b7389
ms.openlocfilehash: 4338b3d0ab306501ea252407f386bdf89d191d6d
ms.sourcegitcommit: 0fa2b7b658bf137e813a7f4d09589d64c148ebf5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/14/2020
ms.locfileid: "86309384"
---
# <a name="securing-wrapper-code"></a><span data-ttu-id="027fa-103">Sarmalayıcı Kodunun Güvenliğini Sağlama</span><span class="sxs-lookup"><span data-stu-id="027fa-103">Securing Wrapper Code</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="027fa-104">Sarmalayıcı kodu, özellikle sarmalayıcı tarafından kullanılan koddan daha yüksek güven olduğunda, benzersiz bir güvenlik zayıflığı kümesi açabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-104">Wrapper code, especially where the wrapper has higher trust than code that uses it, can open a unique set of security weaknesses.</span></span> <span data-ttu-id="027fa-105">Çağıranın sınırlı izinlerinin uygun güvenlik denetiminde yer aldığı bir arayan adına yapılan her şey, yararlanılacak potansiyel bir zayıftır.</span><span class="sxs-lookup"><span data-stu-id="027fa-105">Anything done on behalf of a caller, where the caller's limited permissions are not included in the appropriate security check, is a potential weakness to be exploited.</span></span>  
  
 <span data-ttu-id="027fa-106">Çağıranın kendisi tarafından yapamayacağı sarmalayıcı aracılığıyla hiçbir şey etkinleştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="027fa-106">Never enable something through the wrapper that the caller could not do itself.</span></span> <span data-ttu-id="027fa-107">Bu, tam yığın yapma isteğine karşılık sınırlı bir güvenlik denetimi içeren bir şey yaparken özel bir tehlike olur.</span><span class="sxs-lookup"><span data-stu-id="027fa-107">This is a special danger when doing something that involves a limited security check, as opposed to a full stack walk demand.</span></span> <span data-ttu-id="027fa-108">Tek düzeyli denetimler dahil edildiğinde, gerçek arayan ve API öğesi arasındaki sarmalayıcı kodu enterpolaşmek, bu durumda olmaması durumunda güvenlik denetiminin başarılı olmasına neden olur, böylece güvenlik weakening.</span><span class="sxs-lookup"><span data-stu-id="027fa-108">When single-level checks are involved, interposing the wrapper code between the real caller and the API element in question can easily cause the security check to succeed when it should not, thereby weakening security.</span></span>  
  
## <a name="delegates"></a><span data-ttu-id="027fa-109">Temsilciler</span><span class="sxs-lookup"><span data-stu-id="027fa-109">Delegates</span></span>  
 <span data-ttu-id="027fa-110">Temsilci güvenliği .NET Framework sürümleri arasında farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="027fa-110">Delegate security differs between versions of the .NET Framework.</span></span>  <span data-ttu-id="027fa-111">Bu bölümde, farklı temsilci davranışları ve ilişkili güvenlik konuları açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="027fa-111">This section describes the different delegate behaviors and associated security considerations.</span></span>  
  
### <a name="in-version-10-and-11-of-the-net-framework"></a><span data-ttu-id="027fa-112">.NET Framework sürüm 1,0 ve 1,1 ' de</span><span class="sxs-lookup"><span data-stu-id="027fa-112">In version 1.0 and 1.1 of the .NET Framework</span></span>  
 <span data-ttu-id="027fa-113">Sürüm 1,0 ve 1,1 .NET Framework bir temsilci Oluşturucusu ve bir temsilci çağıranına karşı aşağıdaki güvenlik eylemlerini gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="027fa-113">Version 1.0 and 1.1 of the .NET Framework perform the following security actions against a delegate creator and a delegate caller.</span></span>  
  
- <span data-ttu-id="027fa-114">Bir temsilci oluşturulduğunda, temsilci hedef yönteminde güvenlik bağlantısı talepleri, Temsilci oluşturucunun izin kümesine göre gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-114">When a delegate is created, security link demands on the delegate target method are performed against the grant set of the delegate creator.</span></span>  <span data-ttu-id="027fa-115">Güvenlik eylemi sonucu elde etmek için bir hata oluştu <xref:System.Security.SecurityException> .</span><span class="sxs-lookup"><span data-stu-id="027fa-115">Failure to satisfy the security action results in a <xref:System.Security.SecurityException>.</span></span>  
  
- <span data-ttu-id="027fa-116">Temsilci çağrıldığında, çağıran temsilci üzerindeki tüm mevcut güvenlik talepleri gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-116">When the delegate is invoked, any existing security demands on the delegate caller are performed.</span></span>  
  
 <span data-ttu-id="027fa-117">Kodunuz <xref:System.Delegate> , çağırabilecek daha az güvenilir bir koddan her seferinde, izinlerini iletmek için daha az güvenilir kod etkinleştirdiğinizden emin olun.</span><span class="sxs-lookup"><span data-stu-id="027fa-117">Whenever your code takes a <xref:System.Delegate> from less-trusted code that might call it, make sure that you are not enabling the less-trusted code to escalate its permissions.</span></span> <span data-ttu-id="027fa-118">Bir temsilci alıp daha sonra kullanacaksanız, temsilciyi oluşturan kod çağrı yığınında değildir ve temsilci içindeki veya altındaki kod korumalı bir işlem denerse, izinleri test edilmez.</span><span class="sxs-lookup"><span data-stu-id="027fa-118">If you take a delegate and use it later, the code that created the delegate is not on the call stack and its permissions will not be tested if code in or under the delegate attempts a protected operation.</span></span> <span data-ttu-id="027fa-119">Kodunuzun ve arayan kodunuzun oluşturucusunun daha yüksek bir ayrıcalıkları varsa Oluşturucu, çağrı yığınının parçası olmadan çağrı yolunu düzenleyebilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-119">If your code and the caller code have higher privileges than the creator, the creator can orchestrate the call path without being part of the call stack.</span></span>  
  
### <a name="in-version-20-and-later-versions-of-the-net-framework"></a><span data-ttu-id="027fa-120">Sürüm 2,0 ve sonraki sürümlerinde .NET Framework</span><span class="sxs-lookup"><span data-stu-id="027fa-120">In version 2.0 and later versions of the .NET Framework</span></span>  
 <span data-ttu-id="027fa-121">Önceki sürümlerden farklı olarak, sürüm 2,0 ve sonraki .NET Framework sürümleri, temsilci oluşturulup çağrıldığında temsilci Oluşturucu için güvenlik eylemi gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="027fa-121">Unlike previous versions, version 2.0 and later versions of the .NET Framework performs security action against the delegate creator when the delegate is created and called.</span></span>  
  
- <span data-ttu-id="027fa-122">Bir temsilci oluşturulduğunda, temsilci hedef yönteminde güvenlik bağlantısı talepleri, Temsilci oluşturucunun izin kümesine göre gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-122">When a delegate is created, security link demands on the delegate target method are performed against the grant set of the delegate creator.</span></span>  <span data-ttu-id="027fa-123">Güvenlik eylemi sonucu elde etmek için bir hata oluştu <xref:System.Security.SecurityException> .</span><span class="sxs-lookup"><span data-stu-id="027fa-123">Failure to satisfy the security action results in a <xref:System.Security.SecurityException>.</span></span>  
  
- <span data-ttu-id="027fa-124">Temsilci oluşturucunun izin kümesi, temsilci oluşturma sırasında da yakalanır ve temsilciyle birlikte depolanır.</span><span class="sxs-lookup"><span data-stu-id="027fa-124">The delegate creator's grant set is also captured during delegate creation and stored with the delegate.</span></span>  
  
- <span data-ttu-id="027fa-125">Temsilci çağrıldığında, temsilci oluşturan ve çağıran farklı derlemelere ait olduğunda, Temsilci oluşturucunun yakalanan izin kümesi ilk olarak geçerli bağlamdaki tüm taleplere göre değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-125">When the delegate is invoked, the delegate creator's captured grant set is first evaluated against any demands in the current context if the delegate creator and caller belong to different assemblies.</span></span>  <span data-ttu-id="027fa-126">Sonra, temsilci çağıranlarındaki tüm mevcut güvenlik talepleri gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-126">Next, any existing security demands on the delegate caller are performed.</span></span>  
  
## <a name="link-demands-and-wrappers"></a><span data-ttu-id="027fa-127">Bağlantı taleplerini ve sarmalayıcıları</span><span class="sxs-lookup"><span data-stu-id="027fa-127">Link demands and wrappers</span></span>  
 <span data-ttu-id="027fa-128">Bağlantı taleplerine sahip özel bir koruma durumu güvenlik altyapısında güçlenebilir, ancak kodunuzda olası bir zayıflığın kaynağı olmaya devam etmektedir.</span><span class="sxs-lookup"><span data-stu-id="027fa-128">A special protection case with link demands has been strengthened in the security infrastructure, but it is still a source of possible weakness in your code.</span></span>  
  
 <span data-ttu-id="027fa-129">Tam güvenilir kod bir [LinkDemand](link-demands.md)tarafından korunan bir özelliği, olayı veya yöntemi çağırırsa, çağıran Için **LinkDemand** izin denetimi karşılanıyorsa çağrı başarılı olur.</span><span class="sxs-lookup"><span data-stu-id="027fa-129">If fully trusted code calls a property, event, or method protected by a [LinkDemand](link-demands.md), the call succeeds if the **LinkDemand** permission check for the caller is satisfied.</span></span> <span data-ttu-id="027fa-130">Ayrıca, tam olarak güvenilir kod, bir özelliğin adını alan ve yansıma kullanarak **Get** erişimcisini çağıran bir sınıfı kullanıma sunarsa, Kullanıcı kodu bu özelliğe erişim hakkına sahip olmasa bile **Get** erişimcisine çağrı başarılı olur.</span><span class="sxs-lookup"><span data-stu-id="027fa-130">Additionally, if the fully trusted code exposes a class that takes the name of a property and calls its **get** accessor using reflection, that call to the **get** accessor succeeds even though the user code does not have the right to access this property.</span></span> <span data-ttu-id="027fa-131">Bunun nedeni, **LinkDemand** 'in yalnızca hemen güvenilen kod olan hemen çağrıyı denetlediğinde.</span><span class="sxs-lookup"><span data-stu-id="027fa-131">This is because the **LinkDemand** checks only the immediate caller, which is the fully trusted code.</span></span> <span data-ttu-id="027fa-132">Temelde, tam olarak güvenilen kod, kullanıcı kodunun bu çağrıyı yapma hakkına sahip olduğundan emin olmadan Kullanıcı kodu adına ayrıcalıklı bir çağrı yapıyor.</span><span class="sxs-lookup"><span data-stu-id="027fa-132">In essence, the fully trusted code is making a privileged call on behalf of user code without making sure that the user code has the right to make that call.</span></span>  
  
 <span data-ttu-id="027fa-133">Bu tür güvenlik boşluklarını önlemeye yardımcı olmak için, ortak dil çalışma zamanı denetimi bir yönteme, oluşturucuya, özelliğe veya bir **LinkDemand**tarafından korunan olaya dolaylı çağrı üzerinde tam yığın yürüme talebine genişletir.</span><span class="sxs-lookup"><span data-stu-id="027fa-133">To help prevent such security holes, the common language runtime extends the check into a full stack-walking demand on any indirect call to a method, constructor, property, or event protected by a **LinkDemand**.</span></span> <span data-ttu-id="027fa-134">Bu koruma, bazı performans maliyetleri doğurur ve güvenlik denetiminin semantiğini değiştirir; tam yığın ilerme isteği, daha hızlı, tek düzeyli bir denetim geçirildiğinde başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-134">This protection incurs some performance costs and changes the semantics of the security check; the full stack-walk demand might fail where the faster, one-level check would have passed.</span></span>  
  
## <a name="assembly-loading-wrappers"></a><span data-ttu-id="027fa-135">Derleme yükleme sarmalayıcıları</span><span class="sxs-lookup"><span data-stu-id="027fa-135">Assembly loading wrappers</span></span>  
 <span data-ttu-id="027fa-136">Yönetilen kodu yüklemek için kullanılan çeşitli yöntemler, <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType> çağıran bulgu ile derlemeleri yükler.</span><span class="sxs-lookup"><span data-stu-id="027fa-136">Several methods used to load managed code, including <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>, load assemblies with the evidence of the caller.</span></span> <span data-ttu-id="027fa-137">Bu yöntemlerin herhangi birini sarmaladıysanız, güvenlik sistemi, derlemeleri yüklemek için çağıranın, sarmalayıcısına olan izinlerinin yerine kodunuzun izin iznini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-137">If you wrap any of these methods, the security system could use your code's permission grant, instead of the permissions of the caller to your wrapper, to load the assemblies.</span></span> <span data-ttu-id="027fa-138">Daha az güvenilir kodun, çağıranlarınızın sarmalayıcısına göre daha yüksek izinler verdiği kodu yüklemesine izin verme.</span><span class="sxs-lookup"><span data-stu-id="027fa-138">Don't allow less-trusted code to load code that is granted higher permissions than those of the caller to your wrapper.</span></span>  
  
 <span data-ttu-id="027fa-139">Bir olası çağırandan (Internet izinleri düzeyi çağıran dahil) tam güvene veya önemli ölçüde daha yüksek güvene sahip olan tüm kodlar güvenliği bu şekilde zayıflatabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-139">Any code that has full trust or significantly higher trust than a potential caller (including an Internet-permissions-level caller) could weaken security in this way.</span></span> <span data-ttu-id="027fa-140">Kodunuzun, bir bayt dizisi alan ve bunu **Assembly. Load**öğesine ileten bir ortak yöntemi varsa, bunu çağıranın adına bir derleme oluşturarak güvenlik kesintiye uğramayabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-140">If your code has a public method that takes a byte array and passes it to **Assembly.Load**, thereby creating an assembly on the caller's behalf, it might break security.</span></span>  
  
 <span data-ttu-id="027fa-141">Bu sorun aşağıdaki API öğeleri için geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="027fa-141">This issue applies to the following API elements:</span></span>  
  
- <xref:System.AppDomain.DefineDynamicAssembly%2A?displayProperty=nameWithType>  
  
- <xref:System.AppDomain.Load%2A?displayProperty=nameWithType>  
  
- <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>  
  
- <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>  
  
## <a name="demand-vs-linkdemand"></a><span data-ttu-id="027fa-142">Talep ve  LinkDemand</span><span class="sxs-lookup"><span data-stu-id="027fa-142">Demand vs. LinkDemand</span></span>  
 <span data-ttu-id="027fa-143">Bildirime dayalı güvenlik, benzer ancak farklı denetimler gerçekleştiren iki tür güvenlik denetimi sunar.</span><span class="sxs-lookup"><span data-stu-id="027fa-143">Declarative security offers two kinds of security checks that are similar but perform different checks.</span></span> <span data-ttu-id="027fa-144">Yanlış seçim zayıf güvenlik veya performans kaybıyla sonuçlanabileceğinden her iki formu da anlamanız iyidir.</span><span class="sxs-lookup"><span data-stu-id="027fa-144">It's good to understand both forms, because the wrong choice can result in weak security or performance loss.</span></span>  
  
 <span data-ttu-id="027fa-145">Bildirime dayalı güvenlik aşağıdaki güvenlik denetimlerini sunar:</span><span class="sxs-lookup"><span data-stu-id="027fa-145">Declarative security offers the following security checks:</span></span>  
  
- <span data-ttu-id="027fa-146"><xref:System.Security.Permissions.SecurityAction.Demand>kod erişimi güvenlik yığını yürüme 'yi belirtir.</span><span class="sxs-lookup"><span data-stu-id="027fa-146"><xref:System.Security.Permissions.SecurityAction.Demand> specifies the code access security stack walk.</span></span> <span data-ttu-id="027fa-147">Yığındaki tüm çağıranlar, geçirilecek belirtilen izne veya kimliğe sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="027fa-147">All callers on the stack must have the specified permission or identity to pass.</span></span> <span data-ttu-id="027fa-148">Yığın farklı çağıranlar içerebileceğinden, her çağrıda **talep** oluşur.</span><span class="sxs-lookup"><span data-stu-id="027fa-148">**Demand** occurs on every call because the stack might contain different callers.</span></span> <span data-ttu-id="027fa-149">Bir yöntemi tekrar tekrar çağırırsanız, bu güvenlik denetimi her seferinde gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="027fa-149">If you call a method repeatedly, this security check occurs each time.</span></span> <span data-ttu-id="027fa-150">**Talep** , LTE saldırılarına karşı iyi bir koruma; üzerinden almaya çalışan yetkisiz kod algılanır.</span><span class="sxs-lookup"><span data-stu-id="027fa-150">**Demand** is good protection against luring attacks; unauthorized code trying to get through it will be detected.</span></span>  
  
- <span data-ttu-id="027fa-151">[LinkDemand](link-demands.md) tam ZAMANıNDA (JIT) derleme zamanında gerçekleşir ve yalnızca anında çağrıyı denetler.</span><span class="sxs-lookup"><span data-stu-id="027fa-151">[LinkDemand](link-demands.md) happens at just-in-time (JIT) compilation time and checks only the immediate caller.</span></span> <span data-ttu-id="027fa-152">Bu güvenlik denetimi çağıranın çağıranı denetlemez.</span><span class="sxs-lookup"><span data-stu-id="027fa-152">This security check does not check the caller's caller.</span></span> <span data-ttu-id="027fa-153">Bu denetim başarılı olduktan sonra, çağıranın kaç kez arayanına bakılmaksızın ek bir güvenlik yükü yoktur.</span><span class="sxs-lookup"><span data-stu-id="027fa-153">Once this check passes, there is no additional security overhead no matter how many times the caller might call.</span></span> <span data-ttu-id="027fa-154">Ancak, LTE saldırılarına karşı koruma de yoktur.</span><span class="sxs-lookup"><span data-stu-id="027fa-154">However, there is also no protection from luring attacks.</span></span> <span data-ttu-id="027fa-155">**LinkDemand**ile, testi geçen ve kodunuza başvuruda bulunan tüm kodlar, kötü amaçlı kodun yetkili kodu kullanarak çağrı yapmasına izin vererek güvenlik kesintiye uğramasına yol açabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-155">With **LinkDemand**, any code that passes the test and can reference your code can potentially break security by allowing malicious code to call using the authorized code.</span></span> <span data-ttu-id="027fa-156">Bu nedenle, tüm olası zayıf yanlar tamamen önlenemez olmadığı için **LinkDemand** kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="027fa-156">Therefore, do not use **LinkDemand** unless all the possible weaknesses can be thoroughly avoided.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="027fa-157">.NET Framework 4 ' te, bağlantı talepleri <xref:System.Security.SecurityCriticalAttribute> <xref:System.Security.SecurityRuleSet.Level2> derlemelerdeki özniteliğiyle değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="027fa-157">In the .NET Framework 4, link demands have been replaced by the <xref:System.Security.SecurityCriticalAttribute> attribute in <xref:System.Security.SecurityRuleSet.Level2> assemblies.</span></span> <span data-ttu-id="027fa-158"><xref:System.Security.SecurityCriticalAttribute>Tam güven için bağlantı talebine eşdeğerdir; ancak, devralma kurallarını da etkiler.</span><span class="sxs-lookup"><span data-stu-id="027fa-158">The <xref:System.Security.SecurityCriticalAttribute> is equivalent to a link demand for full trust; however, it also affects inheritance rules.</span></span> <span data-ttu-id="027fa-159">Bu değişiklik hakkında daha fazla bilgi için bkz. [güvenlik-saydam kod, düzey 2](security-transparent-code-level-2.md).</span><span class="sxs-lookup"><span data-stu-id="027fa-159">For more information about this change, see [Security-Transparent Code, Level 2](security-transparent-code-level-2.md).</span></span>  
  
 <span data-ttu-id="027fa-160">**LinkDemand** kullanılırken gereken ek önlemler ayrı ayrı programlanabilir olmalıdır; güvenlik sistemi, zorlamada yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-160">The extra precautions required when using **LinkDemand** must be programmed individually; the security system can help with enforcement.</span></span> <span data-ttu-id="027fa-161">Herhangi bir hata, güvenlik zayıflılığını açar.</span><span class="sxs-lookup"><span data-stu-id="027fa-161">Any mistake opens a security weakness.</span></span> <span data-ttu-id="027fa-162">Kodunuzu kullanan tüm yetkili kodların, aşağıdakileri yaparak ek güvenlik uygulamaktan sorumlu olması gerekir:</span><span class="sxs-lookup"><span data-stu-id="027fa-162">All authorized code that uses your code must be responsible for implementing additional security by doing the following:</span></span>  
  
- <span data-ttu-id="027fa-163">Çağıran kodun sınıf veya derlemeye erişimini kısıtlama.</span><span class="sxs-lookup"><span data-stu-id="027fa-163">Restricting the calling code's access to the class or assembly.</span></span>  
  
- <span data-ttu-id="027fa-164">Aynı güvenlik denetimlerinin Çağrılmakta olan kodda görünen çağrı kodu üzerinde yerleştirilmesi ve bunu yapmak için çağıranları obligating.</span><span class="sxs-lookup"><span data-stu-id="027fa-164">Placing the same security checks on the calling code that appear on the code being called and obligating its callers to do so.</span></span> <span data-ttu-id="027fa-165">Örneğin, belirtilen bayrak ile için **LinkDemand** ile korunan bir yöntemi çağıran kodu yazarsanız <xref:System.Security.Permissions.SecurityPermission> <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> , yönteminiz bu izin Için aynı zamanda bir **LinkDemand** (veya daha güçlü olan **istek**) de yapar.</span><span class="sxs-lookup"><span data-stu-id="027fa-165">For example, if you write code that calls a method that is protected with a **LinkDemand** for the <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> flag specified, your method should also make a **LinkDemand** (or **Demand**, which is stronger) for this permission.</span></span> <span data-ttu-id="027fa-166">Kodunuz, kodunuzun **talep**korumalı yöntemini, kodunuzda güvenli olduğuna, diğer güvenlik koruması mekanizmalarına (talepler gibi) verilen bir şekilde kullanıyorsa, bu özel durumdur.</span><span class="sxs-lookup"><span data-stu-id="027fa-166">The exception is if your code uses the **LinkDemand**-protected method in a limited way that you decide is safe, given other security protection mechanisms (such as demands) in your code.</span></span> <span data-ttu-id="027fa-167">Bu olağanüstü durumda, çağıran kodda güvenlik korumasını weakening konusunda bir sorumluluğu alır.</span><span class="sxs-lookup"><span data-stu-id="027fa-167">In this exceptional case, the caller takes responsibility in weakening the security protection on the underlying code.</span></span>  
  
- <span data-ttu-id="027fa-168">Kodunuzun çağıranlarının kendi adına korumalı kodu çağırmak için kodunuzu veremeyeceğinden emin olma.</span><span class="sxs-lookup"><span data-stu-id="027fa-168">Ensuring that your code's callers cannot trick your code into calling the protected code on their behalf.</span></span> <span data-ttu-id="027fa-169">Diğer bir deyişle, arayanlar, yetkili kodun korunan koda belirli parametreleri geçmesini veya bundan sonra sonuç almasını zorunlu hale getirilemez.</span><span class="sxs-lookup"><span data-stu-id="027fa-169">In other words, callers cannot force the authorized code to pass specific parameters to the protected code, or to get results back from it.</span></span>  
  
### <a name="interfaces-and-link-demands"></a><span data-ttu-id="027fa-170">Arabirimler ve bağlantı talepleri</span><span class="sxs-lookup"><span data-stu-id="027fa-170">Interfaces and Link Demands</span></span>  
 <span data-ttu-id="027fa-171">**LinkDemand** ile bir sanal yöntem, özellik veya olay bir temel sınıf yöntemini geçersiz kılıyorsa, temel sınıf yönteminin etkin olması için geçersiz kılınan yöntem Için aynı **LinkDemand** öğesine sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="027fa-171">If a virtual method, property, or event with **LinkDemand** overrides a base class method, the base class method must also have the same **LinkDemand** for the overridden method in order to be effective.</span></span> <span data-ttu-id="027fa-172">Kötü amaçlı kodun temel türe geri dönüştürülmesi ve temel sınıf yöntemini çağırması mümkündür.</span><span class="sxs-lookup"><span data-stu-id="027fa-172">It is possible for malicious code to cast back to the base type and call the base class method.</span></span> <span data-ttu-id="027fa-173">Ayrıca, bağlantı taleplerinin derleme düzeyi özniteliğine sahip olmayan derlemelere örtük olarak eklenebileceğini unutmayın <xref:System.Security.AllowPartiallyTrustedCallersAttribute> .</span><span class="sxs-lookup"><span data-stu-id="027fa-173">Also note that link demands can be added implicitly to assemblies that do not have the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> assembly-level attribute.</span></span>  
  
 <span data-ttu-id="027fa-174">Arabirim yöntemlerinin bağlantı taleplerine de sahip olduğu durumlarda yöntem uygulamalarını bağlantı taleplerine karşı korumak iyi bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="027fa-174">It is a good practice to protect method implementations with link demands when interface methods also have link demands.</span></span> <span data-ttu-id="027fa-175">Arabirimler ile bağlantı taleplerini kullanma hakkında aşağıdakilere göz önünde edin:</span><span class="sxs-lookup"><span data-stu-id="027fa-175">Note the following about using link demands with interfaces:</span></span>  
  
- <span data-ttu-id="027fa-176">Arabirim yöntemi uygulayan bir sınıfın genel yöntemine bir **LinkDemand** yerleştirirseniz, daha sonra arabirime ve yöntemini çağırdığınızda **LinkDemand** zorlanmaz.</span><span class="sxs-lookup"><span data-stu-id="027fa-176">If you place a **LinkDemand** on a public method of a class that implements an interface method, the **LinkDemand** will not be enforced if you then cast to the interface and call the method.</span></span> <span data-ttu-id="027fa-177">Bu durumda, arayüzle bağlantılı olduğunuzdan yalnızca arabirimdeki **LinkDemand** kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="027fa-177">In this case, because you linked against the interface, only the **LinkDemand** on the interface is honored.</span></span>  
  
 <span data-ttu-id="027fa-178">Güvenlik sorunları için aşağıdaki öğeleri gözden geçirin:</span><span class="sxs-lookup"><span data-stu-id="027fa-178">Review the following items for security issues:</span></span>  
  
- <span data-ttu-id="027fa-179">Arabirim yöntemlerinde açık bağlantı talepleri.</span><span class="sxs-lookup"><span data-stu-id="027fa-179">Explicit link demands on interface methods.</span></span> <span data-ttu-id="027fa-180">Bu bağlantı taleplerinin beklenen korumayı sağlayıp sağlamadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="027fa-180">Make sure these link demands offer the expected protection.</span></span> <span data-ttu-id="027fa-181">Kötü amaçlı kodun, daha önce açıklandığı gibi bağlantı taleplerini aşmak için bir dönüştürme kullanıp kullanamayacağını belirleme.</span><span class="sxs-lookup"><span data-stu-id="027fa-181">Determine whether malicious code can use a cast to get around the link demands as described previously.</span></span>  
  
- <span data-ttu-id="027fa-182">Bağlantı taleplerine uygulanan sanal yöntemler.</span><span class="sxs-lookup"><span data-stu-id="027fa-182">Virtual methods with link demands applied.</span></span>  
  
- <span data-ttu-id="027fa-183">Türleri ve uygulamadıkları arabirimler.</span><span class="sxs-lookup"><span data-stu-id="027fa-183">Types and the interfaces they implement.</span></span> <span data-ttu-id="027fa-184">Bunlar bağlantı taleplerini sürekli olarak kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="027fa-184">These should use link demands consistently.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="027fa-185">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="027fa-185">See also</span></span>

- [<span data-ttu-id="027fa-186">Güvenli Kodlama Yönergeleri</span><span class="sxs-lookup"><span data-stu-id="027fa-186">Secure Coding Guidelines</span></span>](../../standard/security/secure-coding-guidelines.md)
