---
description: 'Daha fazla bilgi edinin: Etkinlik ağacı denetimi'
title: Etkinlik Ağacı Denetimi
ms.date: 03/30/2017
ms.assetid: 100d00e4-8c1d-4233-8fbb-dd443a01155d
ms.openlocfilehash: aac19dd99199481e6ad0d1a554ad1846678c160e
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99787961"
---
# <a name="activity-tree-inspection"></a><span data-ttu-id="674f5-103">Etkinlik Ağacı Denetimi</span><span class="sxs-lookup"><span data-stu-id="674f5-103">Activity Tree Inspection</span></span>

<span data-ttu-id="674f5-104">Etkinlik ağacı incelemesi, iş akışı uygulama yazarları tarafından, uygulama tarafından barındırılan iş akışlarını incelemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="674f5-104">Activity tree inspection is used by workflow application authors to inspect the workflows hosted by the application.</span></span> <span data-ttu-id="674f5-105">Kullanarak <xref:System.Activities.WorkflowInspectionServices> , iş akışları belirli alt etkinlikler için aranabilir, bireysel etkinlikler ve bunların özellikleri listelenebilir ve etkinliklerin çalışma zamanı meta verileri belirli bir zamanda önbelleğe alınabilir.</span><span class="sxs-lookup"><span data-stu-id="674f5-105">By using <xref:System.Activities.WorkflowInspectionServices>, workflows can be searched for specific child activities, individual activities and their properties can be enumerated, and runtime metadata of the activities can be cached at a specific time.</span></span> <span data-ttu-id="674f5-106">Bu konu, bir genel bakış <xref:System.Activities.WorkflowInspectionServices> ve bir etkinlik ağacını denetlemek için nasıl kullanılacağını sağlar.</span><span class="sxs-lookup"><span data-stu-id="674f5-106">This topic provides an overview of <xref:System.Activities.WorkflowInspectionServices> and how to use it to inspect an activity tree.</span></span>  
  
## <a name="using-workflowinspectionservices"></a><span data-ttu-id="674f5-107">Workflowwınspectionservices kullanma</span><span class="sxs-lookup"><span data-stu-id="674f5-107">Using WorkflowInspectionServices</span></span>  

 <span data-ttu-id="674f5-108"><xref:System.Activities.WorkflowInspectionServices.GetActivities%2A>Yöntemi, belirtilen etkinlik ağacındaki tüm etkinlikleri listelemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="674f5-108">The <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> method is used to enumerate all of the activities in the specified activity tree.</span></span> <span data-ttu-id="674f5-109"><xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> ağaç içinde alt öğeler, temsilci işleyicileri, değişken Varsayılanları ve bağımsız değişken ifadeleri dahil tüm etkinliklere dokunan bir numaralandırılabilir döndürür.</span><span class="sxs-lookup"><span data-stu-id="674f5-109"><xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> returns an enumerable that touches all activities within the tree including children, delegate handlers, variable defaults, and argument expressions.</span></span> <span data-ttu-id="674f5-110">Aşağıdaki örnekte, bir iş akışı tanımı,,,, <xref:System.Activities.Statements.Sequence> <xref:System.Activities.Statements.While> <xref:System.Activities.Statements.ForEach%601> <xref:System.Activities.Statements.WriteLine> ve ifadeleri kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="674f5-110">In the following example, a workflow definition is created by using a <xref:System.Activities.Statements.Sequence>, <xref:System.Activities.Statements.While>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.WriteLine>, and expressions.</span></span> <span data-ttu-id="674f5-111">İş akışı tanımı oluşturulduktan sonra, çağrılır ve sonra `InspectActivity` yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="674f5-111">After the workflow definition is created, it is invoked and then the `InspectActivity` method is called.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#45](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#45)]  
  
 <span data-ttu-id="674f5-112">Etkinlikleri numaralandırmak için, <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> kök etkinlik üzerinde çağrılır ve döndürülen her etkinlik üzerinde yinelemeli olarak yeniden özyinelemeli olur.</span><span class="sxs-lookup"><span data-stu-id="674f5-112">To enumerate the activities, the <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> is called on the root activity, and again recursively on each returned activity.</span></span> <span data-ttu-id="674f5-113">Aşağıdaki örnekte, <xref:System.Activities.Activity.DisplayName%2A> etkinlik ağacındaki her etkinlik ve ifade konsola yazılır.</span><span class="sxs-lookup"><span data-stu-id="674f5-113">In the following example, the <xref:System.Activities.Activity.DisplayName%2A> of each activity and expression in the activity tree is written to the console.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#46](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#46)]  
  
 <span data-ttu-id="674f5-114">Bu örnek kod aşağıdaki çıktıyı sağlar.</span><span class="sxs-lookup"><span data-stu-id="674f5-114">This sample code provides the following output.</span></span>  
  
 <span data-ttu-id="674f5-115">**Liste öğesi 1**</span><span class="sxs-lookup"><span data-stu-id="674f5-115">**List Item 1**</span></span>  
<span data-ttu-id="674f5-116">**Liste öğesi 2** 
 **Liste öğesi 3** 
 **Liste öğesi 4** 
 **Liste öğesi 5** 
 **Koleksiyona eklenen öğeler.** 
 **Dizi** **sabit değer<\<String> > listesi**</span><span class="sxs-lookup"><span data-stu-id="674f5-116">**List Item 2**
**List Item 3**
**List Item 4**
**List Item 5**
**Items added to collection.**
**Sequence** **Literal<List\<String>>**</span></span>  
 <span data-ttu-id="674f5-117">**Edilirken**</span><span class="sxs-lookup"><span data-stu-id="674f5-117">**While**</span></span>  
 <span data-ttu-id="674f5-118">**AddToCollection\<String>**</span><span class="sxs-lookup"><span data-stu-id="674f5-118">**AddToCollection\<String>**</span></span>  
 <span data-ttu-id="674f5-119">**VariableValue<ICollection\<String>>**</span><span class="sxs-lookup"><span data-stu-id="674f5-119">**VariableValue<ICollection\<String>>**</span></span>  
 <span data-ttu-id="674f5-120">**Lambdadvalue\<String>**</span><span class="sxs-lookup"><span data-stu-id="674f5-120">**LambdaValue\<String>**</span></span>  
 <span data-ttu-id="674f5-121">**LocationReferenceValue<listesi\<String>>**</span><span class="sxs-lookup"><span data-stu-id="674f5-121">**LocationReferenceValue<List\<String>>**</span></span>  
 <span data-ttu-id="674f5-122">**Lambdadvalue\<Boolean>**</span><span class="sxs-lookup"><span data-stu-id="674f5-122">**LambdaValue\<Boolean>**</span></span>  
 <span data-ttu-id="674f5-123">**LocationReferenceValue<listesi\<String>>**</span><span class="sxs-lookup"><span data-stu-id="674f5-123">**LocationReferenceValue<List\<String>>**</span></span>  
 <span data-ttu-id="674f5-124">**ForEach\<String>**</span><span class="sxs-lookup"><span data-stu-id="674f5-124">**ForEach\<String>**</span></span>  
 <span data-ttu-id="674f5-125">**VariableValue<IEnumerable\<String>>**</span><span class="sxs-lookup"><span data-stu-id="674f5-125">**VariableValue<IEnumerable\<String>>**</span></span>  
 <span data-ttu-id="674f5-126">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="674f5-126">**WriteLine**</span></span>  
 <span data-ttu-id="674f5-127">**DelegateArgumentValue\<String>**</span><span class="sxs-lookup"><span data-stu-id="674f5-127">**DelegateArgumentValue\<String>**</span></span>  
 <span data-ttu-id="674f5-128">**Sequence**</span><span class="sxs-lookup"><span data-stu-id="674f5-128">**Sequence**</span></span>  
 <span data-ttu-id="674f5-129">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="674f5-129">**WriteLine**</span></span>  
 <span data-ttu-id="674f5-130">**Değişmez \<String> değer**  Tüm etkinlikleri listelemek yerine belirli bir etkinliği almak için <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> kullanılır.</span><span class="sxs-lookup"><span data-stu-id="674f5-130">**Literal\<String>**  To retrieve a specific activity instead of enumerating all of the activities, <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> is used.</span></span> <span data-ttu-id="674f5-131">Hem hem de <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> `WorkflowInspectionServices.CacheMetadata` daha önce çağrılmayan meta veri önbelleğe alma işlemi gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="674f5-131">Both <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> and <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> perform metadata caching if `WorkflowInspectionServices.CacheMetadata` has not been previously called.</span></span> <span data-ttu-id="674f5-132"><xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A>Çağrılırsa, <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> mevcut meta verileri temel alır.</span><span class="sxs-lookup"><span data-stu-id="674f5-132">If <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> has been called then <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> is based on the existing metadata.</span></span> <span data-ttu-id="674f5-133">Bu nedenle, son çağrısından sonra ağaç değişiklikleri yapılmışsa <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> , <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> beklenmedik sonuçlara neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="674f5-133">Therefore, if tree changes have been made since the last call to <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A>, <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> might give unexpected results.</span></span> <span data-ttu-id="674f5-134">Çağrıldıktan sonra iş akışında değişiklik yapılmışsa <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> meta veriler, yöntemi çağırarak yeniden önbelleğe alınabilir <xref:System.Activities.Validation.ActivityValidationServices> <xref:System.Activities.Validation.ActivityValidationServices.Validate%2A> .</span><span class="sxs-lookup"><span data-stu-id="674f5-134">If changes have been made to the workflow after calling <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A>, metadata can be re-cached by calling the <xref:System.Activities.Validation.ActivityValidationServices> <xref:System.Activities.Validation.ActivityValidationServices.Validate%2A> method.</span></span> <span data-ttu-id="674f5-135">Önbelleğe alma meta verileri, sonraki bölümde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="674f5-135">Caching metadata is discussed in the next section.</span></span>  
  
### <a name="caching-metadata"></a><span data-ttu-id="674f5-136">Önbelleğe alma meta verileri</span><span class="sxs-lookup"><span data-stu-id="674f5-136">Caching Metadata</span></span>  

 <span data-ttu-id="674f5-137">Bir etkinliğin meta verilerinin önbelleğe alınması, etkinliğin bağımsız değişkenlerinin, değişkenlerinin, alt etkinliklerinin ve etkinlik temsilcilerinin bir açıklamasını oluşturur ve doğrular.</span><span class="sxs-lookup"><span data-stu-id="674f5-137">Caching the metadata for an activity builds and validates a description of the activity’s arguments, variables, child activities, and activity delegates.</span></span> <span data-ttu-id="674f5-138">Varsayılan olarak meta veriler, bir etkinlik yürütmeye hazırlandığı zaman çalışma zamanı tarafından önbelleğe alınır.</span><span class="sxs-lookup"><span data-stu-id="674f5-138">Metadata, by default, is cached by the runtime when an activity is prepared for execution.</span></span> <span data-ttu-id="674f5-139">Bir iş akışı ana bilgisayar yazarı, bundan önce bir etkinlik veya etkinlik ağacının meta verilerini önbelleğe almak istiyorsa (örneğin, tüm maliyeti kapladıysanız), <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> meta verileri istenen zamanda önbelleğe almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="674f5-139">If a workflow host author wants to cache the metadata for an activity or activity tree before this, for example to take all of the cost upfront, then <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> can be used to cache the metadata at the desired time.</span></span>
