---
description: Hakkında daha fazla bilgi edinin WCF Veri Hizmetleri
title: WCF Veri Hizmetlerinin Güvenliğini Sağlama
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- securing application [WCF Data Services]
- WCF Data Services, security
ms.assetid: 99fc2baa-a040-4549-bc4d-f683d60298af
ms.openlocfilehash: c7f8cb989c33df3d124a1745046ea68cb27e8c2f
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99773114"
---
# <a name="securing-wcf-data-services"></a><span data-ttu-id="cd55c-103">WCF Veri Hizmetlerinin Güvenliğini Sağlama</span><span class="sxs-lookup"><span data-stu-id="cd55c-103">Securing WCF Data Services</span></span>

[!INCLUDE [wcf-deprecated](~/includes/wcf-deprecated.md)]

<span data-ttu-id="cd55c-104">Bu makalede, açık veri Protokolü 'Nü (OData) destekleyen hizmetlere erişen WCF Veri Hizmetleri ve uygulamalar geliştirmeye, dağıtmaya ve çalıştırmaya özgü güvenlik konuları açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-104">This article describes security considerations that are specific to developing, deploying, and running WCF Data Services and applications that access services that support the Open Data Protocol (OData).</span></span> <span data-ttu-id="cd55c-105">Ayrıca, güvenli .NET Framework uygulamalar oluşturmaya yönelik önerileri de izlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-105">You should also follow recommendations for creating secure .NET Framework applications.</span></span>  
  
<span data-ttu-id="cd55c-106">WCF Veri Hizmetleri tabanlı bir OData hizmetini güvenli hale getirme planlaması yaparken, hem kimlik doğrulamasını hem de bir Sorumlunun kimliğini bulma ve doğrulama işlemini ve yetkilendirme, kimliği doğrulanmış bir sorumlunun istenen kaynaklara erişmesine izin verilip verilmeyeceğini belirleme sürecini ele almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-106">When planning how to secure a WCF Data Services-based OData service, you must address both authentication, the process of discovering and verifying the identity of a principal, and authorization, the process of determining whether an authenticated principal is allowed to access the requested resources.</span></span> <span data-ttu-id="cd55c-107">Ayrıca, SSL kullanarak iletiyi şifrelenip şifrelememeyi de göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="cd55c-107">Also consider whether to encrypt the message by using SSL.</span></span>  
  
## <a name="authenticating-client-requests"></a><span data-ttu-id="cd55c-108">İstemci İsteklerinde Kimlik Doğrulama</span><span class="sxs-lookup"><span data-stu-id="cd55c-108">Authenticating Client Requests</span></span>  

<span data-ttu-id="cd55c-109">WCF Veri Hizmetleri, kendi kendine herhangi bir tür kimlik doğrulaması uygulamaz, ancak bunun yerine veri hizmeti ana bilgisayarının kimlik doğrulama sağlamasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-109">WCF Data Services does not implement any kind of authentication of its own, but rather relies on the authentication provisions of the data service host.</span></span> <span data-ttu-id="cd55c-110">Bu, hizmetin aldığı tüm istekleri ağ ana bilgisayarı tarafından zaten doğrulanmış olduğunu ve konağın WCF Veri Hizmetleri tarafından belirtilen arabirimler aracılığıyla istek için ilkeyi doğru bir şekilde tanımladığını varsaydığı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-110">This means that the service assumes that any request that it receives has already been authenticated by the network host and that the host has correctly identified the principle for the request appropriately via the interfaces provided by WCF Data Services.</span></span> <span data-ttu-id="cd55c-111">Bu kimlik doğrulama seçenekleri ve yaklaşımları, çok parçalı [OData ve kimlik doğrulama serisinde](https://devblogs.microsoft.com/odata/?s=%22OData+and+authentication%22)ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-111">These authentication options and approaches are detailed in the multipart [OData and Authentication series](https://devblogs.microsoft.com/odata/?s=%22OData+and+authentication%22).</span></span>  
  
### <a name="authentication-options-for-a-wcf-data-service"></a><span data-ttu-id="cd55c-112">WCF Veri Hizmeti için Kimlik Doğrulama Seçenekleri</span><span class="sxs-lookup"><span data-stu-id="cd55c-112">Authentication Options for a WCF Data Service</span></span>  

 <span data-ttu-id="cd55c-113">Aşağıdaki tabloda, WCF Veri Hizmeti için isteklerin kimliğini doğrulamanıza yardımcı olacak kimlik doğrulama mekanizmalarından bazıları listelenmektedir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-113">The following table lists some of the authentication mechanisms that are available to help you authenticate requests to a WCF Data Service.</span></span>  
  
|<span data-ttu-id="cd55c-114">Kimlik doğrulama seçenekleri</span><span class="sxs-lookup"><span data-stu-id="cd55c-114">Authentication Options</span></span>|<span data-ttu-id="cd55c-115">Description</span><span class="sxs-lookup"><span data-stu-id="cd55c-115">Description</span></span>|  
|----------------------------|-----------------|  
|<span data-ttu-id="cd55c-116">Anonim kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="cd55c-116">Anonymous authentication</span></span>|<span data-ttu-id="cd55c-117">HTTP anonim kimlik doğrulama etkinleştirildiğinde, herhangi bir ilke veri hizmetine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-117">When HTTP anonymous authentication is enabled, any principle is able to connect to the data service.</span></span> <span data-ttu-id="cd55c-118">Anonim erişim için kimlik bilgileri gerekmez.</span><span class="sxs-lookup"><span data-stu-id="cd55c-118">Credentials are not required for anonymous access.</span></span> <span data-ttu-id="cd55c-119">Bu seçeneği, yalnızca herkesin veri hizmetine erişmesini istediğinizde kullanın.</span><span class="sxs-lookup"><span data-stu-id="cd55c-119">Use this option only when you want to allow anyone to access the data service.</span></span>|  
|<span data-ttu-id="cd55c-120">Temel ve özet kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="cd55c-120">Basic and digest authentication</span></span>|<span data-ttu-id="cd55c-121">Kimlik doğrulama için bir kullanıcı adı ve paroladan oluşan kimlik bilgileri gereklidir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-121">Credentials consisting of a user name and password are required for authentication.</span></span> <span data-ttu-id="cd55c-122">Windows olmayan istemcilerin kimlik doğrulamasını destekler.</span><span class="sxs-lookup"><span data-stu-id="cd55c-122">Supports authentication of non-Windows clients.</span></span> <span data-ttu-id="cd55c-123">**Güvenlik notno:**  Temel kimlik doğrulama kimlik bilgileri (Kullanıcı adı ve parola) açık olarak gönderilir ve yakalanabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-123">**Security Note:**  Basic authentication credentials (user name and password) are sent in the clear and can be intercepted.</span></span> <span data-ttu-id="cd55c-124">Özet kimlik doğrulama, sağlanan kimlik bilgilerini temel alan bir karma değer gönderir; bu nedenle temel kimlik doğrulamaya göre daha güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-124">Digest authentication sends a hash based-on the supplied credentials, which makes it more secure than basic authentication.</span></span> <span data-ttu-id="cd55c-125">Her ikisi de ortadaki adam saldırılarına maruz kalabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-125">Both are susceptible to man-in-the-middle attacks.</span></span> <span data-ttu-id="cd55c-126">Bu kimlik doğrulama yöntemlerini kullanırken, Güvenli Yuva Katmanı (SSL) kullanarak istemci ile veri hizmeti arasındaki iletişimi şifrelemeyi göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-126">When using these authentication methods, you should consider encrypting communication between client and the data service by using the Secure Sockets Layer (SSL).</span></span> <br /><br /> <span data-ttu-id="cd55c-127">Microsoft Internet Information Services (IIS), bir ASP.NET uygulamasındaki HTTP istekleri için hem temel hem de Özet kimlik doğrulamasının uygulanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-127">Microsoft Internet Information Services (IIS) provides an implementation of both basic and digest authentication for HTTP requests in an ASP.NET application.</span></span> <span data-ttu-id="cd55c-128">Bu Windows Kimlik Doğrulama Sağlayıcısı uygulaması, Windows kullanıcısının kimlik doğrulaması üzerinde sorunsuz bir şekilde anlaşmaya varmak için veri hizmetine isteğin HTTP üstbilgisindeki kimlik bilgilerini sağlayan bir .NET Framework istemci uygulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-128">This Windows Authentication Provider implementation enables a .NET Framework client application to supply credentials in the HTTP header of the request to the data service to seamlessly negotiate authentication of a Windows user.</span></span> <span data-ttu-id="cd55c-129">Daha fazla bilgi için bkz. [Özet kimlik doğrulaması teknik başvurusu](/previous-versions/windows/it-pro/windows-server-2003/cc782794(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="cd55c-129">For more information, see [Digest Authentication Technical Reference](/previous-versions/windows/it-pro/windows-server-2003/cc782794(v=ws.10)).</span></span><br /><br /> <span data-ttu-id="cd55c-130">Veri hizmetinizin Windows kimlik bilgileri değil, bazı özel kimlik doğrulama hizmetine göre temel kimlik doğrulaması kullanmasını istediğinizde, kimlik doğrulaması için özel bir ADP.NET HTTP modülü uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-130">When you want to have your data service use basic authentication based on some custom authentication service and not Windows credentials, you must implement a custom ADP.NET HTTP Module for authentication.</span></span><br /><br /> <span data-ttu-id="cd55c-131">WCF Veri Hizmetleri ile özel bir temel kimlik doğrulama düzeninin nasıl kullanılacağına ilişkin bir örnek için, bkz. Web günlüğü gönderi [OData ve kimlik doğrulaması – Bölüm 6 – özel temel kimlik doğrulaması](https://devblogs.microsoft.com/odata/odata-and-authentication-part-6-custom-basic-authentication/).</span><span class="sxs-lookup"><span data-stu-id="cd55c-131">For an example of how to use a custom basic authentication scheme with WCF Data Services, see the blog post [OData and Authentication – Part 6 – Custom Basic Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-6-custom-basic-authentication/).</span></span>|  
|<span data-ttu-id="cd55c-132">Windows kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="cd55c-132">Windows authentication</span></span>|<span data-ttu-id="cd55c-133">Windows tabanlı kimlik bilgileri, NTLM veya Kerberos kullanılarak değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-133">Windows-based credentials are exchanged by using NTLM or Kerberos.</span></span> <span data-ttu-id="cd55c-134">Bu mekanizma, basit veya özet kimlik doğrulamaya göre daha güvenlidir, ancak istemcinin Windows tabanlı bir uygulama olmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-134">This mechanism is more secure than basic or digest authentication, but it requires that the client be a Windows-based application.</span></span> <span data-ttu-id="cd55c-135">IIS Ayrıca bir ASP.NET uygulamasındaki HTTP istekleri için Windows kimlik doğrulamasının uygulanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-135">IIS also provides an implementation of Windows authentication for HTTP requests in an ASP.NET application.</span></span> <span data-ttu-id="cd55c-136">Daha fazla bilgi için bkz. [ASP.NET Forms kimlik doğrulamasına genel bakış](/previous-versions/aspnet/7t6b43z4(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="cd55c-136">For more information, see [ASP.NET Forms Authentication Overview](/previous-versions/aspnet/7t6b43z4(v=vs.100)).</span></span><br /><br /> <span data-ttu-id="cd55c-137">Windows kimlik doğrulamasının WCF Veri Hizmetleri ile nasıl kullanılacağına ilişkin bir örnek için bkz. Web günlüğü gönderi [OData ve kimlik doğrulaması – Bölüm 2 – Windows kimlik doğrulaması](https://devblogs.microsoft.com/odata/odata-and-authentication-part-2-windows-authentication/).</span><span class="sxs-lookup"><span data-stu-id="cd55c-137">For an example of how to use Windows authentication with WCF Data Services, see the blog post [OData and Authentication – Part 2 – Windows Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-2-windows-authentication/).</span></span>|  
|<span data-ttu-id="cd55c-138">ASP.NET Forms kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="cd55c-138">ASP.NET forms authentication</span></span>|<span data-ttu-id="cd55c-139">Form kimlik doğrulaması, kendi kodunuzu kullanarak ve sonra bir tanımlama bilgisinde veya sayfa URL 'sinde bir kimlik doğrulama belirteci bulundurarak kullanıcıların kimliğini doğrulayabilmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-139">Forms authentication lets you authenticate users by using your own code and then maintain an authentication token in a cookie or in the page URL.</span></span> <span data-ttu-id="cd55c-140">Oluşturduğunuz bir oturum açma formunu kullanarak kullanıcılarınızın kullanıcı adını ve parolasını doğrularsanız.</span><span class="sxs-lookup"><span data-stu-id="cd55c-140">You authenticate the user name and password of your users using a login form that you create.</span></span> <span data-ttu-id="cd55c-141">Kimliği doğrulanmamış istekler, kullanıcının kimlik bilgileri sağladığı ve formu gönderdiği bir oturum açma sayfasına yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-141">Unauthenticated requests are redirected to a login page, where the user provides credentials and submits the form.</span></span> <span data-ttu-id="cd55c-142">Uygulama isteğin kimliğini doğrularsa, sistem sonraki istekler için kimliği yeniden oluşturabilecek bir anahtar içeren bir anahtar verir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-142">If the application authenticates the request, the system issues a ticket that contains a key for reestablishing the identity for subsequent requests.</span></span> <span data-ttu-id="cd55c-143">Daha fazla bilgi için bkz. [Forms kimlik doğrulama sağlayıcısı](/previous-versions/aspnet/9wff0kyh(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="cd55c-143">For more information, see [Forms Authentication Provider](/previous-versions/aspnet/9wff0kyh(v=vs.100)).</span></span> <span data-ttu-id="cd55c-144">**Güvenlik notno:**  Form kimlik doğrulamasını bir ASP.NET Web uygulamasında kullandığınızda, varsayılan olarak, Forms kimlik doğrulama biletini içeren tanımlama bilgisi güvenli değildir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-144">**Security Note:**  By default, the cookie that contains the forms authentication ticket is not secured when you use forms authentication in a ASP.NET Web application.</span></span> <span data-ttu-id="cd55c-145">Hem kimlik doğrulama anahtarını hem de ilk oturum açma kimlik bilgilerini korumak için SSL kullanılmasını gerekli tutmayı dikkate almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-145">You should consider requiring SSL to protect both the authentication ticket and the initial login credentials.</span></span> <br /><br /> <span data-ttu-id="cd55c-146">Forms kimlik doğrulamasının WCF Veri Hizmetleri ile nasıl kullanılacağına ilişkin bir örnek için bkz. Web günlüğü Post [OData ve authentication – bölüm 7 – Forms Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-7-forms-authentication/).</span><span class="sxs-lookup"><span data-stu-id="cd55c-146">For an example of how to use forms authentication with WCF Data Services, see the blog post [OData and Authentication – Part 7 – Forms Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-7-forms-authentication/).</span></span>|  
|<span data-ttu-id="cd55c-147">Beyana dayalı kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="cd55c-147">Claims-based authentication</span></span>|<span data-ttu-id="cd55c-148">Talep tabanlı kimlik doğrulamasında, veri hizmeti kullanıcının kimliğini doğrulamak için güvenilir bir "üçüncü taraf" kimlik sağlayıcısı hizmetini kullanır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-148">In claims-based authentication, the data service relies on a trusted "third-party" identity provider service to authenticate the user.</span></span> <span data-ttu-id="cd55c-149">Kimlik sağlayıcısı, veri hizmeti kaynaklarına erişmek isteyen kullanıcının kimliğini olumlu bir şekilde doğrular ve istenen kaynaklara erişim izni sağlayan bir belirteç verir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-149">The identity provider positively authenticates the user that is requesting access to data service resources and issues a token that grants access to the requested resources.</span></span> <span data-ttu-id="cd55c-150">Bu belirteç, daha sonra veri hizmetine sunulur. Veri hizmeti, erişim belirtecini veren kimlik hizmetiyle kurulan güven ilişkisine göre kullanıcıya erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-150">This token is then presented to the data service, which then grants access to the user based on the trust relationship with the identity service that issued the access token.</span></span><br /><br /> <span data-ttu-id="cd55c-151">Beyana dayalı kimlik doğrulama sağlayıcısı kullanmanın avantajı, güven etki alanları arasında çeşitli türden istemcilerin kimliğini doğrulamak için kullanılabilmeleridir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-151">The benefit of using a claims-based authentication provider is that they can be used to authenticate various types of clients across trust domains.</span></span> <span data-ttu-id="cd55c-152">Veri hizmeti, böyle bir üçüncü taraf sağlayıcı kullanarak kullanıcıları koruma ve kimliklerini doğrulama gereksinimlerinden kurtulabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-152">By employing such a third-party provider, a data service can offload the requirements of maintaining and authenticating users.</span></span> <span data-ttu-id="cd55c-153">OAuth 2,0, Azure Access Control AppFabric tarafından hizmet olarak federe yetkilendirme için desteklenen talep tabanlı bir kimlik doğrulama protokolüdür.</span><span class="sxs-lookup"><span data-stu-id="cd55c-153">OAuth 2.0 is a claims-based authentication protocol that is supported by Azure AppFabric Access Control for federated authorization as a service.</span></span> <span data-ttu-id="cd55c-154">Bu protokol REST tabanlı hizmetleri destekler.</span><span class="sxs-lookup"><span data-stu-id="cd55c-154">This protocol supports REST-based services.</span></span> <span data-ttu-id="cd55c-155">WCF Veri Hizmetleri ile OAuth 2,0 kullanma hakkında bir örnek için bkz. Web günlüğü gönderi [OData ve kimlik doğrulaması – 5. Bölüm – OAuth sarması](https://devblogs.microsoft.com/odata/odata-and-authentication-part-8-oauth-wrap/).</span><span class="sxs-lookup"><span data-stu-id="cd55c-155">For an example of how to use OAuth 2.0 with WCF Data Services, see the blog post [OData and Authentication – Part 8 – OAuth WRAP](https://devblogs.microsoft.com/odata/odata-and-authentication-part-8-oauth-wrap/).</span></span>|  
  
<a name="clientAuthentication"></a>

### <a name="authentication-in-the-client-library"></a><span data-ttu-id="cd55c-156">İstemci Kitaplığında kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="cd55c-156">Authentication in the Client Library</span></span>  

 <span data-ttu-id="cd55c-157">Varsayılan olarak, WCF Veri Hizmetleri istemci kitaplığı, bir OData hizmetine istek yaparken kimlik bilgileri sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-157">By default, the WCF Data Services client library does not supply credentials when making a request to an OData service.</span></span> <span data-ttu-id="cd55c-158">Veri hizmetinin bir kullanıcının kimliğini doğrulamak için oturum açma kimlik bilgileri gerektiğinde, bu kimlik bilgileri, <xref:System.Net.NetworkCredential> <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> <xref:System.Data.Services.Client.DataServiceContext> Aşağıdaki örnekte olduğu gibi öğesinin özelliğinden erişilebilen öğesine sağlanabilir:</span><span class="sxs-lookup"><span data-stu-id="cd55c-158">When login credentials are required by the data service to authenticate a user, these credentials can be supplied in a <xref:System.Net.NetworkCredential> accessed from the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>, as in the following example:</span></span>  
  
```csharp  
// Set the client authentication credentials.  
context.Credentials =  
    new NetworkCredential(userName, password, domain);  
```  
  
```vb  
' Set the client authentication credentials.  
context.Credentials = _  
    New NetworkCredential(userName, password, domain)  
```  
  
 <span data-ttu-id="cd55c-159">Daha fazla bilgi için bkz. [nasıl yapılır: veri hizmeti isteği Için Istemci kimlik bilgilerini belirtme](specify-client-creds-for-a-data-service-request-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="cd55c-159">For more information, see [How to: Specify Client Credentials for a Data Service Request](specify-client-creds-for-a-data-service-request-wcf.md).</span></span>  
  
 <span data-ttu-id="cd55c-160">Veri hizmeti, talep tabanlı bir belirteç veya tanımlama bilgisi gibi bir nesne kullanılarak belirtilemez oturum açma kimlik bilgileri gerektirdiğinde, <xref:System.Net.NetworkCredential> genellikle `Authorization` ve üst bilgileri http isteğinde el ile ayarlamanız gerekir `Cookie` .</span><span class="sxs-lookup"><span data-stu-id="cd55c-160">When the data service requires login credentials that cannot be specified by using a <xref:System.Net.NetworkCredential> object, such as a claims-based token or cookie, you must manually set headers in the HTTP request, usually the `Authorization` and `Cookie` headers.</span></span> <span data-ttu-id="cd55c-161">Bu tür bir kimlik doğrulama senaryosu hakkında daha fazla bilgi için bkz. Web günlüğü gönderi [ OData ve kimlik doğrulaması – 3. Bölüm – Istemci tarafı kancaları](https://devblogs.microsoft.com/odata/odata-and-authentication-part-3-clientside-hooks/).</span><span class="sxs-lookup"><span data-stu-id="cd55c-161">For more information about this kind of authentication scenario, see the blog post [ OData and Authentication – Part 3 – ClientSide Hooks](https://devblogs.microsoft.com/odata/odata-and-authentication-part-3-clientside-hooks/).</span></span> <span data-ttu-id="cd55c-162">İstek iletisinde HTTP üst bilgilerinin nasıl ayarlanacağı hakkında bir örnek için bkz. [nasıl yapılır: Istemci Isteğinde üst bilgi ayarlama](how-to-set-headers-in-the-client-request-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="cd55c-162">For an example of how to set HTTP headers in a request message, see [How to: Set Headers in the Client Request](how-to-set-headers-in-the-client-request-wcf-data-services.md).</span></span>  
  
## <a name="impersonation"></a><span data-ttu-id="cd55c-163">Kimliğe bürünme</span><span class="sxs-lookup"><span data-stu-id="cd55c-163">Impersonation</span></span>  

 <span data-ttu-id="cd55c-164">Genellikle veri hizmeti, veri hizmetini barındıran çalışan işleminin kimlik bilgilerini kullanarak sunucudaki veya veritabanındaki dosyalar gibi gerekli kaynaklara erişir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-164">Generally, the data service accesses required resources, such as files on the server or a database, by using the credentials of the worker process that is hosting the data service.</span></span> <span data-ttu-id="cd55c-165">Kimliğe bürünme kullanılırken, ASP.NET uygulamaları, isteği yapan kullanıcının Windows kimliğiyle (Kullanıcı hesabı) çalıştırılabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-165">When using impersonation, ASP.NET applications can execute with the Windows identity (user account) of the user making the request.</span></span> <span data-ttu-id="cd55c-166">Kimliğe bürünme, genel olarak kullanıcının kimliğini doğrulamak için IIS'den yararlanan uygulamalarda kullanılır ve gerekli kaynaklara erişmek için bu ilkenin kimlik bilgileri kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-166">Impersonation is commonly used in applications that rely on IIS to authenticate the user, and the credentials of this principle are used to access the required resources.</span></span> <span data-ttu-id="cd55c-167">Daha fazla bilgi için bkz. [ASP.NET Kimliğe bürünme](/previous-versions/aspnet/xh507fc5(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="cd55c-167">For more information, see [ASP.NET Impersonation](/previous-versions/aspnet/xh507fc5(v=vs.100)).</span></span>  
  
## <a name="configuring-data-service-authorization"></a><span data-ttu-id="cd55c-168">Veri Hizmeti Yetkilendirmesini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="cd55c-168">Configuring Data Service Authorization</span></span>  

 <span data-ttu-id="cd55c-169">Yetkilendirme, uygulama kaynaklarının daha önce başarılı olan bir kimlik doğrulama temel alınarak belirlenen bir ilkeye veya işleme erişimini sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-169">Authorization is the granting of access to application resources to a principle or process that is identified based on a previously successful authentication.</span></span> <span data-ttu-id="cd55c-170">Genel bir uygulama olarak, yeterli hakları yalnızca istemci uygulamaları tarafından gerekli kılınan işlemleri gerçekleştirmek için veri hizmetinin kullanıcılarına vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-170">As a general practice, you should only grant sufficient rights to users of the data service to perform the operations required by client applications.</span></span>  
  
### <a name="restrict-access-to-data-service-resources"></a><span data-ttu-id="cd55c-171">Veri Hizmeti Kaynaklarına Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="cd55c-171">Restrict Access to Data Service Resources</span></span>  

 <span data-ttu-id="cd55c-172">Varsayılan olarak, WCF Veri Hizmetleri veri hizmeti kaynaklarına (varlık kümesi ve hizmet işlemleri) veri hizmetine erişebilen tüm kullanıcılara genel okuma ve yazma erişimi sağlamanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-172">By default, WCF Data Services enables you to grant common read and write access against data service resources (entity set and service operations) to any user that is able to access the data service.</span></span> <span data-ttu-id="cd55c-173">Okuma ve yazma erişimini tanımlayan kurallar, veri hizmeti tarafından kullanılan ve hizmet işlemlerine sunulan her varlık kümesi için ayrı ayrı tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-173">Rules that define read and write access can be defined separately for each entity set exposed by the data service, as well as to any service operations.</span></span> <span data-ttu-id="cd55c-174">Hem okuma hem de yazma erişimini yalnızca istemci uygulaması tarafından gerekli kılınan kaynaklarla sınırlamanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-174">We recommend limiting both read and write access to only the resources required by the client application.</span></span> <span data-ttu-id="cd55c-175">Daha fazla bilgi için bkz. [En düşük kaynak erişim gereksinimleri](configuring-the-data-service-wcf-data-services.md#accessRequirements).</span><span class="sxs-lookup"><span data-stu-id="cd55c-175">For more information, see [Minimum Resource Access Requirements](configuring-the-data-service-wcf-data-services.md#accessRequirements).</span></span>  
  
### <a name="implement-role-based-interceptors"></a><span data-ttu-id="cd55c-176">Rol Tabanlı Kesiciler Uygulama</span><span class="sxs-lookup"><span data-stu-id="cd55c-176">Implement Role-Based Interceptors</span></span>  

 <span data-ttu-id="cd55c-177">Kesiciler, istekleri veri hizmeti tarafından kullanılmadan önce veri hizmeti kaynaklarına karşı kesmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-177">Interceptors enable you to intercept requests against data service resources before they are acted on by the data service.</span></span> <span data-ttu-id="cd55c-178">Daha fazla bilgi için bkz. [yakalayıcılar](interceptors-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="cd55c-178">For more information, see [Interceptors](interceptors-wcf-data-services.md).</span></span> <span data-ttu-id="cd55c-179">Kesiciler, isteği yapan kimliği doğrulanmış kullanıcıya göre yetkilendirme kararları vermenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-179">Interceptors enable you to make authorization decisions based the authenticated user that is making the request.</span></span> <span data-ttu-id="cd55c-180">Kimliği doğrulanmış bir kullanıcı kimliğine göre veri hizmeti kaynaklarına erişimin nasıl kısıtlanacağını gösteren bir örnek için bkz. [nasıl yapılır: veri hizmeti Iletilerini kesme](how-to-intercept-data-service-messages-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="cd55c-180">For an example of how to restrict access to data service resources based on an authenticated user identity, see [How to: Intercept Data Service Messages](how-to-intercept-data-service-messages-wcf-data-services.md).</span></span>  
  
### <a name="restrict-access-to-the-persisted-data-store-and-local-resources"></a><span data-ttu-id="cd55c-181">Kalıcı Veri Deposu ve Yerel Kaynaklara Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="cd55c-181">Restrict Access to the Persisted Data Store and Local Resources</span></span>  

 <span data-ttu-id="cd55c-182">Kalıcı depoya erişmek için kullanılan hesaplara, yalnızca veritabanı veya dosya sisteminde veri hizmetinin gereksinimlerini desteklemek için yeterli haklar verilmelidir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-182">The accounts that are used to access the persisted store should be granted only enough rights in a database or the file system to support the requirements of the data service.</span></span> <span data-ttu-id="cd55c-183">Bu, anonim kimlik doğrulama kullanıldığında barındırma uygulamasını çalıştırmak için kullanılan hesaptır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-183">When anonymous authentication is used, this is the account used to run the hosting application.</span></span> <span data-ttu-id="cd55c-184">Daha fazla bilgi için bkz. [nasıl yapılır: IIS 'de çalışan BIR WCF veri hizmeti geliştirme](how-to-develop-a-wcf-data-service-running-on-iis.md).</span><span class="sxs-lookup"><span data-stu-id="cd55c-184">For more information, see [How to: Develop a WCF Data Service Running on IIS](how-to-develop-a-wcf-data-service-running-on-iis.md).</span></span> <span data-ttu-id="cd55c-185">Kimliğe bürünme kullanıldığında, kimliği doğrulanmış kullanıcıların genellikle Windows grubunun parçası olarak bu kaynaklara erişmesi sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-185">When impersonation is used, authenticated users must be granted access to these resources, usually as part of a Windows group.</span></span>  
  
## <a name="other-security-considerations"></a><span data-ttu-id="cd55c-186">Güvenlik Hakkında Diğer Önemli Noktalar</span><span class="sxs-lookup"><span data-stu-id="cd55c-186">Other Security Considerations</span></span>  
  
### <a name="secure-the-data-in-the-payload"></a><span data-ttu-id="cd55c-187">Yükte Verileri Güvenli Hale Getirme</span><span class="sxs-lookup"><span data-stu-id="cd55c-187">Secure the Data in the Payload</span></span>  

<span data-ttu-id="cd55c-188">OData, HTTP protokolünü temel alır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-188">OData is based on the HTTP protocol.</span></span> <span data-ttu-id="cd55c-189">HTTP iletisinde, üstbilgi veri hizmeti tarafından uygulanan kimlik doğrulamaya bağlı olarak değerli kullanıcı kimlik bilgileri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-189">In an HTTP message, the header may contain valuable user credentials, depending on the authentication implemented by the data service.</span></span> <span data-ttu-id="cd55c-190">İleti gövdesi, korunması gereken değerli müşteri verileri de içerebilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-190">The message body may also contain valuable customer data that must be protected.</span></span> <span data-ttu-id="cd55c-191">Her iki durumda da, bu bilgileri çevrimiçi olarak korumak için SSL'yi kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-191">In both of these cases, we recommend that you use SSL to protect this information over the wire.</span></span>  
  
### <a name="ignored-message-headers-and-cookies"></a><span data-ttu-id="cd55c-192">Yoksayılan İleti Üstbilgileri ve Tanımlama Bilgileri</span><span class="sxs-lookup"><span data-stu-id="cd55c-192">Ignored Message Headers and Cookies</span></span>  

 <span data-ttu-id="cd55c-193">İçerik türleri ve kaynak konumları bildirenlerin dışındaki HTTP isteği üstbilgileri yoksayılır ve veri hizmeti tarafından hiçbir zaman ayarlanmaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-193">HTTP request headers, other than those that declare content types and resource locations, are ignored and are never set by the data service.</span></span>  
  
 <span data-ttu-id="cd55c-194">Tanımlama bilgileri, ASP.NET Forms kimlik doğrulaması gibi bir kimlik doğrulama düzeninin bir parçası olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-194">Cookies can be used as part of an authentication scheme, such as with ASP.NET Forms Authentication.</span></span> <span data-ttu-id="cd55c-195">Ancak, gelen istek üzerinde ayarlanan HTTP tanımlama bilgileri WCF veri Hizmetleri tarafından yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-195">However, any HTTP cookies set on an incoming request are ignored by WCF DataServices.</span></span> <span data-ttu-id="cd55c-196">Veri hizmetinin ana bilgisayarı tanımlama bilgisini işleyebilir, ancak WCF Veri Hizmetleri çalışma zamanı tanımlama bilgilerini hiçbir şekilde analiz edebilir veya döndürmez.</span><span class="sxs-lookup"><span data-stu-id="cd55c-196">The host of a data service may process the cookie, but the WCF Data Services runtime never analyzes or returns cookies.</span></span> <span data-ttu-id="cd55c-197">WCF Veri Hizmetleri istemci kitaplığı, yanıtta gönderilen tanımlama bilgilerini de işlemez.</span><span class="sxs-lookup"><span data-stu-id="cd55c-197">The WCF Data Services client library also does not process cookies sent in the response.</span></span>  
  
### <a name="custom-hosting-requirements"></a><span data-ttu-id="cd55c-198">Özel Barındırma Gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="cd55c-198">Custom Hosting Requirements</span></span>  

 <span data-ttu-id="cd55c-199">Varsayılan olarak, WCF Veri Hizmetleri IIS 'de barındırılan bir ASP.NET uygulaması olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="cd55c-199">By default, WCF Data Services is created as an ASP.NET application hosted in IIS.</span></span> <span data-ttu-id="cd55c-200">Bu, veri hizmetinin bu platformun güvenli davranışlarını kullanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-200">This enables the data service to leverage the secure behaviors of this platform.</span></span> <span data-ttu-id="cd55c-201">Özel bir ana bilgisayar tarafından barındırılan WCF Veri Hizmetleri tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-201">You can define WCF Data Services that are hosted by a custom host.</span></span> <span data-ttu-id="cd55c-202">Daha fazla bilgi için bkz. [veri hizmetini barındırma](hosting-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="cd55c-202">For more information, see [Hosting the Data Service](hosting-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="cd55c-203">Veri hizmetini barındıran bileşenler ve platform, veri hizmetine yapılan saldırıları önlemek için aşağıdaki güvenlik davranışlarını sağlamalıdır:</span><span class="sxs-lookup"><span data-stu-id="cd55c-203">The components and platform hosting a data service must ensure the following security behaviors to prevent attacks on the data service:</span></span>  
  
- <span data-ttu-id="cd55c-204">Olası tüm işlemler için veri hizmeti isteğinde kabul edilen URI'nin uzunluğunu sınırlama.</span><span class="sxs-lookup"><span data-stu-id="cd55c-204">Limit the length of the URI accepted in a data service request for all possible operations.</span></span>  
  
- <span data-ttu-id="cd55c-205">Hem gelen hem de giden HTTP iletilerinin boyutunu sınırlama.</span><span class="sxs-lookup"><span data-stu-id="cd55c-205">Limit the size of both incoming and outgoing HTTP messages.</span></span>  
  
- <span data-ttu-id="cd55c-206">Herhangi bir zamanda bekleyen isteklerin toplam sayısını sınırlama.</span><span class="sxs-lookup"><span data-stu-id="cd55c-206">Limit the total number of outstanding requests at any given time.</span></span>  
  
- <span data-ttu-id="cd55c-207">HTTP üstbilgilerinin ve değerlerinin boyutunu sınırlayın ve üst bilgi verisine WCF Veri Hizmetleri erişim sağlayın.</span><span class="sxs-lookup"><span data-stu-id="cd55c-207">Limit the size of HTTP headers and their values, and provide WCF Data Services access to header data.</span></span>  
  
- <span data-ttu-id="cd55c-208">TCP SYN ve ileti yeniden yürütme saldırıları gibi bilinen saldırıları algılama ve önleme.</span><span class="sxs-lookup"><span data-stu-id="cd55c-208">Detect and counter known attacks, such as TCP SYN and message replay attacks.</span></span>  
  
### <a name="values-are-not-further-encoded"></a><span data-ttu-id="cd55c-209">Değerler Daha Fazla Kodlanmaz</span><span class="sxs-lookup"><span data-stu-id="cd55c-209">Values Are Not Further Encoded</span></span>  

 <span data-ttu-id="cd55c-210">Veri hizmetine gönderilen özellik değerleri WCF Veri Hizmetleri çalışma zamanı tarafından daha fazla kodlanmaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-210">Property values sent to the data service are not further encoded by the WCF Data Services runtime.</span></span> <span data-ttu-id="cd55c-211">Örneğin, bir varlığın dize özelliği biçimlendirilmiş HTML içeriği içerdiğinde, etiketler veri hizmeti tarafından kodlanmış HTML değildir.</span><span class="sxs-lookup"><span data-stu-id="cd55c-211">For example, when a string property of an entity contains formatted HTML content, the tags are not HTML encoded by the data service.</span></span> <span data-ttu-id="cd55c-212">Veri hizmeti yanıttaki özellik değerlerini de kodlamaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-212">The data service also does not further encode property values in the response.</span></span> <span data-ttu-id="cd55c-213">İstemci Kitaplığı da ek kodlama gerçekleştirmez.</span><span class="sxs-lookup"><span data-stu-id="cd55c-213">The client library also does not perform any additional encoding.</span></span>  
  
### <a name="considerations-for-client-applications"></a><span data-ttu-id="cd55c-214">İstemci Uygulamaları için Önemli Noktalar</span><span class="sxs-lookup"><span data-stu-id="cd55c-214">Considerations for Client Applications</span></span>  

 <span data-ttu-id="cd55c-215">OData hizmetlerine erişmek için WCF Veri Hizmetleri istemcisini kullanan uygulamalar için aşağıdaki güvenlik konuları geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="cd55c-215">The following security considerations apply to applications that use the WCF Data Services client to access OData services:</span></span>  
  
- <span data-ttu-id="cd55c-216">İstemci kitaplığı, veri hizmetine erişmek için kullanılan protokollerin uygun düzeyde güvenlik sağladığını varsayar.</span><span class="sxs-lookup"><span data-stu-id="cd55c-216">The client library assumes that the protocols used to access the data service provide an appropriate level of security.</span></span>  
  
- <span data-ttu-id="cd55c-217">İstemci kitaplığı, platform tarafından sağlanan temel taşıma yığınlarının zaman aşımları ve ayrıştırma seçenekleri için tüm varsayılan değerleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-217">The client library uses all the default values for timeouts and parsing options of the underlying platform-provided transport stacks.</span></span>  
  
- <span data-ttu-id="cd55c-218">İstemci kitaplığı, uygulama yapılandırma dosyalarından ayar okumaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-218">The client library does not read any settings from application configuration files.</span></span>  
  
- <span data-ttu-id="cd55c-219">İstemci kitaplığı, etki alanları arasında erişim mekanizması uygulamaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-219">The client library does not implement any cross domain access mechanisms.</span></span> <span data-ttu-id="cd55c-220">Bunun yerine, temel HTTP yığını tarafından sağlanan mekanizmalardan yararlanır.</span><span class="sxs-lookup"><span data-stu-id="cd55c-220">Instead, it relies on the mechanisms provided by the underlying HTTP stack.</span></span>  
  
- <span data-ttu-id="cd55c-221">İstemci kitaplığının kullanıcı arabirimi öğesi yoktur ve hiçbir zaman aldığı veya gönderdiği verileri görüntülemeye veya oluşturmaya çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-221">The client library has no user interface elements, and it never tries to display or render the data that it receives or sends.</span></span>  
  
- <span data-ttu-id="cd55c-222">İstemci uygulamalarının her zaman kullanıcı girişini ve güvenilmeyen hizmetlerden kabul edilen verileri doğrulamasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-222">We recommend that client applications always validate user input as well as data accepted from untrusted services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cd55c-223">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="cd55c-223">See also</span></span>

- [<span data-ttu-id="cd55c-224">WCF Veri Hizmetlerini Tanımlama</span><span class="sxs-lookup"><span data-stu-id="cd55c-224">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
- [<span data-ttu-id="cd55c-225">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="cd55c-225">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
