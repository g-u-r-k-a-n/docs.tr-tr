---
title: WorkflowInvoker ve WorkflowApplication Kullanma
ms.date: 03/30/2017
ms.assetid: cd0e583c-a3f9-4fa2-b247-c7b3368c48a7
ms.openlocfilehash: 5d09fc3c902b1993b32edf3e9f92393433281636
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79182697"
---
# <a name="using-workflowinvoker-and-workflowapplication"></a><span data-ttu-id="86783-102">WorkflowInvoker ve WorkflowApplication Kullanma</span><span class="sxs-lookup"><span data-stu-id="86783-102">Using WorkflowInvoker and WorkflowApplication</span></span>
<span data-ttu-id="86783-103">Windows İş Akışı Temeli (WF), iş akışlarını barındırmak için çeşitli yöntemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="86783-103">Windows Workflow Foundation (WF) provides several methods of hosting workflows.</span></span> <span data-ttu-id="86783-104"><xref:System.Activities.WorkflowInvoker>bir yöntem çağrısı gibi bir iş akışı çağırmak için basit bir yol sağlar ve yalnızca kalıcılık kullanmayan iş akışları için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="86783-104"><xref:System.Activities.WorkflowInvoker> provides a simple way for invoking a workflow as if it were a method call and can be used only for workflows that do not use persistence.</span></span> <span data-ttu-id="86783-105"><xref:System.Activities.WorkflowApplication>yaşam döngüsü olaylarının bildirimini, yürütme denetimini, yer imi yeniden başlatılmasını ve kalıcılığı içeren iş akışlarını yürütmek için daha zengin bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="86783-105"><xref:System.Activities.WorkflowApplication> provides a richer model for executing workflows that includes notification of lifecycle events, execution control, bookmark resumption, and persistence.</span></span> <span data-ttu-id="86783-106"><xref:System.ServiceModel.Activities.WorkflowServiceHost>ileti etkinlikleri için destek sağlar ve öncelikle iş akışı hizmetleri ile kullanılır.</span><span class="sxs-lookup"><span data-stu-id="86783-106"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides support for messaging activities and is primarily used with workflow services.</span></span> <span data-ttu-id="86783-107">Bu konu ile <xref:System.Activities.WorkflowInvoker> iş akışı barındırma <xref:System.Activities.WorkflowApplication>ve tanıttı.</span><span class="sxs-lookup"><span data-stu-id="86783-107">This topic introduces you to workflow hosting with <xref:System.Activities.WorkflowInvoker> and <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="86783-108">İş akışlarını barındırma hakkında <xref:System.ServiceModel.Activities.WorkflowServiceHost>daha fazla bilgi için bkz: [İş Akışı Hizmetleri](../wcf/feature-details/workflow-services.md) ve Barındırma İş Akışı Hizmetlerine Genel [Bakış.](../wcf/feature-details/hosting-workflow-services-overview.md)</span><span class="sxs-lookup"><span data-stu-id="86783-108">For more information about hosting workflows with <xref:System.ServiceModel.Activities.WorkflowServiceHost>, see [Workflow Services](../wcf/feature-details/workflow-services.md) and [Hosting Workflow Services Overview](../wcf/feature-details/hosting-workflow-services-overview.md).</span></span>  
  
## <a name="using-workflowinvoker"></a><span data-ttu-id="86783-109">İş Akışını KullanmaInvoker</span><span class="sxs-lookup"><span data-stu-id="86783-109">Using WorkflowInvoker</span></span>  
 <span data-ttu-id="86783-110"><xref:System.Activities.WorkflowInvoker>bir yöntem çağrısı gibi bir iş akışı yürütmek için bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="86783-110"><xref:System.Activities.WorkflowInvoker> provides a model for executing a workflow as if it were a method call.</span></span> <span data-ttu-id="86783-111">Kullanarak <xref:System.Activities.WorkflowInvoker>bir iş akışı çağırmak <xref:System.Activities.WorkflowInvoker.Invoke%2A> için, yöntemi arayın ve çağırmak için iş akışının iş akışı tanımında geçirin.</span><span class="sxs-lookup"><span data-stu-id="86783-111">To invoke a workflow using <xref:System.Activities.WorkflowInvoker>, call the <xref:System.Activities.WorkflowInvoker.Invoke%2A> method and pass in the workflow definition of the workflow to invoke.</span></span> <span data-ttu-id="86783-112">Bu örnekte, <xref:System.Activities.Statements.WriteLine> bir etkinlik <xref:System.Activities.WorkflowInvoker>kullanılarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="86783-112">In this example, a <xref:System.Activities.Statements.WriteLine> activity is invoked using <xref:System.Activities.WorkflowInvoker>.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#1](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#1)]  
  
 <span data-ttu-id="86783-113">Bir iş akışı kullanılarak <xref:System.Activities.WorkflowInvoker>çağrıldığınızda, iş akışı arama iş <xref:System.Activities.WorkflowInvoker.Invoke%2A> parçacığı üzerinde yürütür ve iş akışı tamamlanana kadar yöntem bloklar, herhangi bir boşta zaman da dahil olmak üzere.</span><span class="sxs-lookup"><span data-stu-id="86783-113">When a workflow is invoked using <xref:System.Activities.WorkflowInvoker>, the workflow executes on the calling thread and the <xref:System.Activities.WorkflowInvoker.Invoke%2A> method blocks until the workflow is complete, including any idle time.</span></span> <span data-ttu-id="86783-114">İş akışının tamamlanması gereken bir zaman aralığını yapılandırmak <xref:System.Activities.WorkflowInvoker.Invoke%2A> <xref:System.TimeSpan> için, parametre alan aşırı yüklerden birini kullanın.</span><span class="sxs-lookup"><span data-stu-id="86783-114">To configure a time-out interval in which the workflow must complete, use one of the <xref:System.Activities.WorkflowInvoker.Invoke%2A> overloads that takes a <xref:System.TimeSpan> parameter.</span></span> <span data-ttu-id="86783-115">Bu örnekte, iki farklı zaman aralığıyla bir iş akışı iki kez çağrılır.</span><span class="sxs-lookup"><span data-stu-id="86783-115">In this example, a workflow is invoked twice with two different time-out intervals.</span></span> <span data-ttu-id="86783-116">İlk iş akışı tamamlar, ancak ikinci değil.</span><span class="sxs-lookup"><span data-stu-id="86783-116">The first workflow complets, but the second does not.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#50](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#50)]  
  
> [!NOTE]
> <span data-ttu-id="86783-117">Yalnızca <xref:System.TimeoutException> zaman aşımı aralığı atılırsa ve iş akışı yürütme sırasında boşta kalırsa atılır.</span><span class="sxs-lookup"><span data-stu-id="86783-117">The <xref:System.TimeoutException> is only thrown if the time-out interval elapses and the workflow becomes idle during execution.</span></span> <span data-ttu-id="86783-118">İş akışı boşta kalmazsa, tamamlanması belirtilen zaman aşımı aralığından daha uzun süren bir iş akışı başarıyla tamamlar.</span><span class="sxs-lookup"><span data-stu-id="86783-118">A workflow that takes longer than the specified time-out interval to complete completes successfully if the workflow does not become idle.</span></span>  
  
 <span data-ttu-id="86783-119"><xref:System.Activities.WorkflowInvoker>çağırma yönteminin eşzamanlı sürümlerini de sağlar.</span><span class="sxs-lookup"><span data-stu-id="86783-119"><xref:System.Activities.WorkflowInvoker> also provides asynchronous versions of the invoke method.</span></span> <span data-ttu-id="86783-120">Daha fazla bilgi için <xref:System.Activities.WorkflowInvoker.InvokeAsync%2A> ve <xref:System.Activities.WorkflowInvoker.BeginInvoke%2A> bölümlerine bakın.</span><span class="sxs-lookup"><span data-stu-id="86783-120">For more information, see <xref:System.Activities.WorkflowInvoker.InvokeAsync%2A> and <xref:System.Activities.WorkflowInvoker.BeginInvoke%2A>.</span></span>  
  
### <a name="setting-input-arguments-of-a-workflow"></a><span data-ttu-id="86783-121">İş Akışının Giriş Bağımsız Değişkenlerini Ayarlama</span><span class="sxs-lookup"><span data-stu-id="86783-121">Setting Input Arguments of a Workflow</span></span>  
 <span data-ttu-id="86783-122">Veriler, iş akışının giriş bağımsız değişkenlerine yapılan bu haritanın bağımsız değişken adına anahtarlanmış giriş parametreleri sözlüğü kullanılarak iş akışına aktarılabilir.</span><span class="sxs-lookup"><span data-stu-id="86783-122">Data can be passed into a workflow using a dictionary of input parameters, keyed by argument name, that map to the input arguments of the workflow.</span></span> <span data-ttu-id="86783-123">Bu örnekte, <xref:System.Activities.Statements.WriteLine> bir çağrılır ve <xref:System.Activities.Statements.WriteLine.Text%2A> bağımsız değişkeninin değeri giriş parametreleri sözlüğü kullanılarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="86783-123">In this example, a <xref:System.Activities.Statements.WriteLine> is invoked and the value for its <xref:System.Activities.Statements.WriteLine.Text%2A> argument is specified using the dictionary of input parameters.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#3](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#3)]  
  
### <a name="retrieving-output-arguments-of-a-workflow"></a><span data-ttu-id="86783-124">İş Akışının Çıktı Bağımsız Değişkenlerini Alma</span><span class="sxs-lookup"><span data-stu-id="86783-124">Retrieving Output Arguments of a Workflow</span></span>  
 <span data-ttu-id="86783-125">İş akışının çıkış parametreleri, çağrıdan ''a <xref:System.Activities.WorkflowInvoker.Invoke%2A>döndürülen çıktılar sözlüğü kullanılarak elde edilebilir.</span><span class="sxs-lookup"><span data-stu-id="86783-125">The output parameters of a workflow can be obtained using the outputs dictionary that is returned from the call to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span> <span data-ttu-id="86783-126">Aşağıdaki örnek, iki giriş bağımsız değişkeni `Divide` ve iki çıktı bağımsız değişkeni olan tek bir etkinlikten oluşan bir iş akışı çağırır.</span><span class="sxs-lookup"><span data-stu-id="86783-126">The following example invokes a workflow consisting of a single `Divide` activity that has two input arguments and two output arguments.</span></span> <span data-ttu-id="86783-127">İş akışı çağrıldığızaman, `arguments` bağımsız değişken adı ile anahtarlanmış her giriş bağımsız değişkeni için değerleri içeren sözlük geçirilir.</span><span class="sxs-lookup"><span data-stu-id="86783-127">When the workflow is invoked, the `arguments` dictionary is passed which contains the values for each input argument, keyed by argument name.</span></span> <span data-ttu-id="86783-128">Çağrı `Invoke` döndürdüğünde, her çıktı bağımsız `outputs` değişkeni sözlükte döndürülür ve bağımsız değişken adı ile de anahtarlanır.</span><span class="sxs-lookup"><span data-stu-id="86783-128">When the call to `Invoke` returns, each output argument is returned in the `outputs` dictionary, also keyed by argument name.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#120](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#120)]  
  
 [!code-csharp[CFX_WorkflowInvokerExample#20](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#20)]  
  
 <span data-ttu-id="86783-129">İş <xref:System.Activities.ActivityWithResult>akışı , örneğin, `CodeActivity<TResult>` veya `Activity<TResult>`, gibi türetilmiştir ve iyi tanımlanmış <xref:System.Activities.Activity%601.Result%2A> çıktı bağımsız değişkenine ek `Invoke` olarak çıktı bağımsız değişkenleri varsa, ek bağımsız değişkenleri almak için genel olmayan bir aşırı yük kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="86783-129">If the workflow derives from <xref:System.Activities.ActivityWithResult>, such as `CodeActivity<TResult>` or `Activity<TResult>`, and there are output arguments in addition to the well-defined <xref:System.Activities.Activity%601.Result%2A> output argument, a non-generic overload of `Invoke` must be used in order to retrieve the additional arguments.</span></span> <span data-ttu-id="86783-130">Bunu yapmak için, içine `Invoke` geçirilen iş akışı <xref:System.Activities.Activity>tanımı türünde olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="86783-130">To do this, the workflow definition passed into `Invoke` must be of type <xref:System.Activities.Activity>.</span></span> <span data-ttu-id="86783-131">Bu örnekte `Divide` `CodeActivity<int>`etkinlik, tek bir iade <xref:System.Activities.Activity> değeri yerine bağımsız değişkenler `Invoke` sözlüğü döndüren genel olmayan bir aşırı yük ten türetilmiştir, ancak genel olmayan bir aşırı yük olarak bildirilir.</span><span class="sxs-lookup"><span data-stu-id="86783-131">In this example the `Divide` activity derives from `CodeActivity<int>`, but is declared as <xref:System.Activities.Activity> so that a non-generic overload of `Invoke` is used which returns a dictionary of arguments instead of a single return value.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#121](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#121)]  
  
 [!code-csharp[CFX_WorkflowInvokerExample#21](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#21)]  
  
## <a name="using-workflowapplication"></a><span data-ttu-id="86783-132">İş Akışı Uygulamasını Kullanma</span><span class="sxs-lookup"><span data-stu-id="86783-132">Using WorkflowApplication</span></span>  
 <span data-ttu-id="86783-133"><xref:System.Activities.WorkflowApplication>iş akışı örneği yönetimi için zengin bir özellik kümesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="86783-133"><xref:System.Activities.WorkflowApplication> provides a rich set of features for workflow instance management.</span></span> <span data-ttu-id="86783-134"><xref:System.Activities.WorkflowApplication>çalışma zamanını kapsülleyen ve <xref:System.Activities.Hosting.WorkflowInstance>iş akışı örnekleri oluşturma ve yükleme, duraklatma ve sürdürme, sonlandırma ve yaşam döngüsü olaylarının bildirimi için yöntemler sağlayan gerçek , iş parçacığı güvenli proxy olarak hareket eder.</span><span class="sxs-lookup"><span data-stu-id="86783-134"><xref:System.Activities.WorkflowApplication> acts as a thread safe proxy to the actual  <xref:System.Activities.Hosting.WorkflowInstance>, which encapsulates the runtime, and provides methods for creating and loading workflow instances, pausing and resuming, terminating, and notification of lifecycle events.</span></span> <span data-ttu-id="86783-135">Bir iş akışını <xref:System.Activities.WorkflowApplication> çalıştırmak için, istediğiniz yaşam döngüsü olaylarına abone <xref:System.Activities.WorkflowApplication>olun, iş akışını başlatın ve sonra tamamlanmasını bekleyin.</span><span class="sxs-lookup"><span data-stu-id="86783-135">To run a workflow using <xref:System.Activities.WorkflowApplication> you create the <xref:System.Activities.WorkflowApplication>, subscribe to any desired lifecycle events, start the workflow, and then wait for it to finish.</span></span> <span data-ttu-id="86783-136">Bu örnekte, bir etkinlikten oluşan <xref:System.Activities.Statements.WriteLine> bir iş <xref:System.Activities.WorkflowApplication> akışı tanımı oluşturulur ve belirtilen iş akışı tanımı kullanılarak bir oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="86783-136">In this example, a workflow definition that consists of a <xref:System.Activities.Statements.WriteLine> activity is created and a <xref:System.Activities.WorkflowApplication> is created using the specified workflow definition.</span></span> <span data-ttu-id="86783-137"><xref:System.Activities.WorkflowApplication.Completed%2A>iş akışı tamamlandığında ana bilgisayar bildirilir, iş akışı <xref:System.Activities.WorkflowApplication.Run%2A>bir çağrı ile başlatılır ve sonra ana bilgisayar iş akışının tamamlanmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="86783-137"><xref:System.Activities.WorkflowApplication.Completed%2A> is handled so the host is notified when the workflow completes, the workflow is started with a call to <xref:System.Activities.WorkflowApplication.Run%2A>, and then the host waits for the workflow to complete.</span></span> <span data-ttu-id="86783-138">İş akışı tamamlandığında, <xref:System.Threading.AutoResetEvent> ayarlanır ve ana bilgisayar uygulaması aşağıdaki örnekte gösterildiği gibi yürütmeye devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="86783-138">When the workflow completes, the <xref:System.Threading.AutoResetEvent> is set and the host application can resume execution, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#31](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#31)]  
  
### <a name="workflowapplication-lifecycle-events"></a><span data-ttu-id="86783-139">İş AkışıUygulama Yaşam Döngüsü Etkinlikleri</span><span class="sxs-lookup"><span data-stu-id="86783-139">WorkflowApplication Lifecycle Events</span></span>  
 <span data-ttu-id="86783-140">Buna ek <xref:System.Activities.WorkflowApplication.Completed%2A>olarak, bir iş akışı boşaltıldığında ana<xref:System.Activities.WorkflowApplication.Unloaded%2A>bilgisayar yazarları bildirilebilir ( ), iptal (<xref:System.Activities.WorkflowApplication.Aborted%2A>), boşta olur (<xref:System.Activities.WorkflowApplication.Idle%2A> ve <xref:System.Activities.WorkflowApplication.PersistableIdle%2A>), veya işlenmemiş bir özel durum oluşur (<xref:System.Activities.WorkflowApplication.OnUnhandledException%2A>).</span><span class="sxs-lookup"><span data-stu-id="86783-140">In addition to <xref:System.Activities.WorkflowApplication.Completed%2A>, host authors can be notified when a workflow is unloaded (<xref:System.Activities.WorkflowApplication.Unloaded%2A>), aborted (<xref:System.Activities.WorkflowApplication.Aborted%2A>), becomes idle (<xref:System.Activities.WorkflowApplication.Idle%2A> and <xref:System.Activities.WorkflowApplication.PersistableIdle%2A>), or an unhandled exception occurs (<xref:System.Activities.WorkflowApplication.OnUnhandledException%2A>).</span></span> <span data-ttu-id="86783-141">İş akışı uygulama geliştiricileri, aşağıdaki örnekte gösterildiği gibi bu bildirimleri işleyebilir ve uygun eylemi gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="86783-141">Workflow application developers can handle these notifications and take appropriate action, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#32](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#32)]  
  
### <a name="setting-input-arguments-of-a-workflow"></a><span data-ttu-id="86783-142">İş Akışının Giriş Bağımsız Değişkenlerini Ayarlama</span><span class="sxs-lookup"><span data-stu-id="86783-142">Setting Input Arguments of a Workflow</span></span>  
 <span data-ttu-id="86783-143">Veriler, parametre sözlüğü kullanılarak başlatıldıkça, veri kullanılırken <xref:System.Activities.WorkflowInvoker>geçirilen veriye benzer şekilde iş akışına aktarılabilir.</span><span class="sxs-lookup"><span data-stu-id="86783-143">Data can be passed into a workflow as it is started using a dictionary of parameters, similar to the way data is passed in when using <xref:System.Activities.WorkflowInvoker>.</span></span> <span data-ttu-id="86783-144">Sözlükteki her öğe, belirtilen iş akışının giriş bağımsız değişkenini eşler.</span><span class="sxs-lookup"><span data-stu-id="86783-144">Each item in the dictionary maps to an input argument of the specified workflow.</span></span> <span data-ttu-id="86783-145">Bu örnekte, bir etkinlikten <xref:System.Activities.Statements.WriteLine> oluşan bir iş <xref:System.Activities.Statements.WriteLine.Text%2A> akışı çağrılır ve bağımsız değişkeni giriş parametreleri sözlüğü kullanılarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="86783-145">In this example, a workflow that consists of a <xref:System.Activities.Statements.WriteLine> activity is invoked and its <xref:System.Activities.Statements.WriteLine.Text%2A> argument is specified using the dictionary of input parameters.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#30](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#30)]  
  
### <a name="retrieving-output-arguments-of-a-workflow"></a><span data-ttu-id="86783-146">İş Akışının Çıktı Bağımsız Değişkenlerini Alma</span><span class="sxs-lookup"><span data-stu-id="86783-146">Retrieving Output Arguments of a Workflow</span></span>  
 <span data-ttu-id="86783-147">Bir iş akışı tamamlandığında, sözlük erişerek <xref:System.Activities.WorkflowApplication.Completed%2A> <xref:System.Activities.WorkflowApplicationCompletedEventArgs.Outputs%2A?displayProperty=nameWithType> işleyicisi herhangi bir çıktı bağımsız değişkenleri alınabilir.</span><span class="sxs-lookup"><span data-stu-id="86783-147">When a workflow completes, any output arguments can be retrieved in the <xref:System.Activities.WorkflowApplication.Completed%2A> handler by accessing the <xref:System.Activities.WorkflowApplicationCompletedEventArgs.Outputs%2A?displayProperty=nameWithType> dictionary.</span></span> <span data-ttu-id="86783-148">Aşağıdaki örnekte kullanarak bir <xref:System.Activities.WorkflowApplication>iş akışı barındırıyor.</span><span class="sxs-lookup"><span data-stu-id="86783-148">The following example hosts a workflow using <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="86783-149">Bir <xref:System.Activities.WorkflowApplication> örnek, tek `DiceRoll` bir etkinlikten oluşan bir iş akışı tanımı kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="86783-149">A <xref:System.Activities.WorkflowApplication> instance is constructed using a workflow definition consisting of a single `DiceRoll` activity.</span></span> <span data-ttu-id="86783-150">Etkinlik, `DiceRoll` zar rulo işleminin sonuçlarını temsil eden iki çıktı bağımsız değişkeni vardır.</span><span class="sxs-lookup"><span data-stu-id="86783-150">The `DiceRoll` activity has two output arguments that represent the results of the dice roll operation.</span></span> <span data-ttu-id="86783-151">İş akışı tamamlandığında, çıktılar <xref:System.Activities.WorkflowApplication.Completed%2A> işleyicide alınır.</span><span class="sxs-lookup"><span data-stu-id="86783-151">When the workflow completes, the outputs are retrieved in the <xref:System.Activities.WorkflowApplication.Completed%2A> handler.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#130](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#130)]  
  
 [!code-csharp[CFX_WorkflowApplicationExample#21](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#21)]  
  
> [!NOTE]
> <span data-ttu-id="86783-152"><xref:System.Activities.WorkflowApplication>ve <xref:System.Activities.WorkflowInvoker> giriş bağımsız değişkenleri sözlüğü alın `out` ve bağımsız değişkenler sözlüğü döndürün.</span><span class="sxs-lookup"><span data-stu-id="86783-152"><xref:System.Activities.WorkflowApplication> and <xref:System.Activities.WorkflowInvoker> take a dictionary of input arguments and return a dictionary of `out` arguments.</span></span> <span data-ttu-id="86783-153">Bu sözlük parametreleri, özellikleri ve `IDictionary<string, object>`döndürme değerleri türündedir.</span><span class="sxs-lookup"><span data-stu-id="86783-153">These dictionary parameters, properties, and return values are of type `IDictionary<string, object>`.</span></span> <span data-ttu-id="86783-154">Geçirilen sözlük sınıfının gerçek örneği uygulayan herhangi bir sınıf `IDictionary<string, object>`olabilir.</span><span class="sxs-lookup"><span data-stu-id="86783-154">The actual instance of the dictionary class that is passed in can be any class that implements `IDictionary<string, object>`.</span></span> <span data-ttu-id="86783-155">Bu örneklerde `Dictionary<string, object>` kullanılır.</span><span class="sxs-lookup"><span data-stu-id="86783-155">In these examples, `Dictionary<string, object>` is used.</span></span> <span data-ttu-id="86783-156">Sözlükler hakkında daha fazla <xref:System.Collections.Generic.IDictionary%602> bilgi <xref:System.Collections.Generic.Dictionary%602>için bkz.</span><span class="sxs-lookup"><span data-stu-id="86783-156">For more information about dictionaries, see <xref:System.Collections.Generic.IDictionary%602> and <xref:System.Collections.Generic.Dictionary%602>.</span></span>  
  
### <a name="passing-data-into-a-running-workflow-using-bookmarks"></a><span data-ttu-id="86783-157">Yer Imlerini Kullanarak Verileri Çalışan İş Akışına Aktarma</span><span class="sxs-lookup"><span data-stu-id="86783-157">Passing Data into a Running Workflow Using Bookmarks</span></span>  
 <span data-ttu-id="86783-158">Yer imleri, bir etkinliğin pasif olarak devam etmeyi bekleyebileceği ve verileri çalışan bir iş akışı örneğine aktarmak için bir mekanizma olduğu mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="86783-158">Bookmarks are the mechanism by which an activity can passively wait to be resumed and are a mechanism for passing data into a running workflow instance.</span></span> <span data-ttu-id="86783-159">Bir etkinlik veri bekliyorsa, aşağıdaki <xref:System.Activities.Bookmark> örnekte gösterildiği gibi, bir <xref:System.Activities.Bookmark> geri arama yöntemi oluşturabilir ve devam edildiğinde çağrılacak bir geri arama yöntemi ni kaydedebilir.</span><span class="sxs-lookup"><span data-stu-id="86783-159">If an activity is waiting for data, it can create a <xref:System.Activities.Bookmark> and register a callback method to be called when the <xref:System.Activities.Bookmark> is resumed, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#15](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#15)]  
  
 <span data-ttu-id="86783-160">Yürütüldüğünde, `ReadLine` etkinlik bir <xref:System.Activities.Bookmark>, geri arama kaydeder ve sonra <xref:System.Activities.Bookmark> devam etmesini bekler.</span><span class="sxs-lookup"><span data-stu-id="86783-160">When executed, the `ReadLine` activity creates a <xref:System.Activities.Bookmark>, registers a callback, and then waits for the <xref:System.Activities.Bookmark> to be resumed.</span></span> <span data-ttu-id="86783-161">Devam ettiğinde, `ReadLine` etkinlik <xref:System.Activities.Bookmark> <xref:System.Activities.Activity%601.Result%2A> bağımsız değişkeniyle geçirilen verileri atar.</span><span class="sxs-lookup"><span data-stu-id="86783-161">When it is resumed, the `ReadLine` activity assigns the data that was passed with the <xref:System.Activities.Bookmark> to its <xref:System.Activities.Activity%601.Result%2A> argument.</span></span> <span data-ttu-id="86783-162">Bu örnekte, kullanıcının `ReadLine` adını toplamak ve konsol penceresine görüntülemek için etkinliği kullanan bir iş akışı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="86783-162">In this example, a workflow is created that uses the `ReadLine` activity to gather the user’s name and display it to the console window.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#22](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#22)]  
  
 <span data-ttu-id="86783-163">`ReadLine` Etkinlik yürütüldüğünde, bir <xref:System.Activities.Bookmark> ad `UserName` ve ardından yer işaretinin devam etmesini bekler.</span><span class="sxs-lookup"><span data-stu-id="86783-163">When the `ReadLine` activity is executed, it creates a <xref:System.Activities.Bookmark> named `UserName` and then waits for the bookmark to be resumed.</span></span> <span data-ttu-id="86783-164">Ana bilgisayar istenen verileri toplar ve <xref:System.Activities.Bookmark>sonra .</span><span class="sxs-lookup"><span data-stu-id="86783-164">The host collects the desired data and then resumes the <xref:System.Activities.Bookmark>.</span></span> <span data-ttu-id="86783-165">İş akışı devam eder, adı görüntüler ve tamamlar.</span><span class="sxs-lookup"><span data-stu-id="86783-165">The workflow resumes, displays the name, and then completes.</span></span>  
  
 <span data-ttu-id="86783-166">Ana bilgisayar uygulaması, etkin yer imleri olup olmadığını belirlemek için iş akışını inceleyebilir.</span><span class="sxs-lookup"><span data-stu-id="86783-166">The host application can inspect the workflow to determine if there are any active bookmarks.</span></span> <span data-ttu-id="86783-167">Bunu, <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> bir <xref:System.Activities.WorkflowApplication> örneğin yöntemini arayarak veya <xref:System.Activities.WorkflowApplicationIdleEventArgs> <xref:System.Activities.WorkflowApplication.Idle%2A> işleyiciyi inceleyerek yapabilir.</span><span class="sxs-lookup"><span data-stu-id="86783-167">It can do this by calling the <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> method of a <xref:System.Activities.WorkflowApplication> instance, or by inspecting the <xref:System.Activities.WorkflowApplicationIdleEventArgs> in the <xref:System.Activities.WorkflowApplication.Idle%2A> handler.</span></span>  
  
 <span data-ttu-id="86783-168">Aşağıdaki kod örneği, yer imi devam etmeden önce etkin yer imlerinin numaralandırılmış olması dışında önceki örnek gibidir.</span><span class="sxs-lookup"><span data-stu-id="86783-168">The following code example is like the previous example except that the active bookmarks are enumerated before the bookmark is resumed.</span></span> <span data-ttu-id="86783-169">İş akışı başlatılır ve <xref:System.Activities.Bookmark> oluşturulduktan ve iş akışı <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> boşta kaldıktan sonra çağrılır.</span><span class="sxs-lookup"><span data-stu-id="86783-169">The workflow is started, and once the <xref:System.Activities.Bookmark> is created and the workflow goes idle, <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> is called.</span></span> <span data-ttu-id="86783-170">İş akışı tamamlandığında, aşağıdaki çıktı konsola görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="86783-170">When the workflow is completed, the following output is displayed to the console.</span></span>  
  
 <span data-ttu-id="86783-171">**Adınız ne?**</span><span class="sxs-lookup"><span data-stu-id="86783-171">**What is your name?**</span></span>  
<span data-ttu-id="86783-172">**Yer İşareti Adı: Kullanıcı Adı - OwnerDisplayName: ReadLine**
**Steve**
**Hello, Steve**</span><span class="sxs-lookup"><span data-stu-id="86783-172">**BookmarkName: UserName - OwnerDisplayName: ReadLine**
**Steve**
**Hello, Steve**</span></span>

[!code-csharp[CFX_WorkflowApplicationExample#14](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#14)]  
  
 <span data-ttu-id="86783-173">Aşağıdaki kod örneği, <xref:System.Activities.WorkflowApplicationIdleEventArgs> bir <xref:System.Activities.WorkflowApplication> örneğin <xref:System.Activities.WorkflowApplication.Idle%2A> işleyicisi içine geçirilen inceler.</span><span class="sxs-lookup"><span data-stu-id="86783-173">The following code example inspects the <xref:System.Activities.WorkflowApplicationIdleEventArgs> passed into the <xref:System.Activities.WorkflowApplication.Idle%2A> handler of a <xref:System.Activities.WorkflowApplication> instance.</span></span> <span data-ttu-id="86783-174">Bu örnekte boşta kalan <xref:System.Activities.Bookmark> iş akışının `EnterGuess`adı `ReadInt`, adlı bir faaliyete ait olan bir iş akışı vardır.</span><span class="sxs-lookup"><span data-stu-id="86783-174">In this example the workflow going idle has one <xref:System.Activities.Bookmark> with a name of `EnterGuess`, owned by an activity named `ReadInt`.</span></span> <span data-ttu-id="86783-175">Bu kod örneği, Başlangıç [Öğreticisinin](getting-started-tutorial.md)bir parçası olan [İş Akışını Çalıştırma: Nasıl Çalıştırılır'](how-to-run-a-workflow.md)a dayanır.</span><span class="sxs-lookup"><span data-stu-id="86783-175">This code example is based off of [How to: Run a Workflow](how-to-run-a-workflow.md), which is part of the [Getting Started Tutorial](getting-started-tutorial.md).</span></span> <span data-ttu-id="86783-176">Bu <xref:System.Activities.WorkflowApplication.Idle%2A> adımdaki işleyici bu örnekteki kodu içerecek şekilde değiştirilirse, aşağıdaki çıktı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="86783-176">If the <xref:System.Activities.WorkflowApplication.Idle%2A> handler in that step is modified to contain the code from this example, the following output is displayed.</span></span>  
  
 <span data-ttu-id="86783-177">**Yer ImiAdı: EnterGuess - OwnerDisplayName: ReadInt**</span><span class="sxs-lookup"><span data-stu-id="86783-177">**BookmarkName: EnterGuess - OwnerDisplayName: ReadInt**</span></span>

 [!code-csharp[CFX_WorkflowApplicationExample#2](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#2)]  
  
## <a name="summary"></a><span data-ttu-id="86783-178">Özet</span><span class="sxs-lookup"><span data-stu-id="86783-178">Summary</span></span>  
 <span data-ttu-id="86783-179"><xref:System.Activities.WorkflowInvoker>iş akışlarını çağırmak için hafif bir yol sağlar ve iş akışının başlangıcında veri aktarmak ve tamamlanmış bir iş akışından veri ayıklamak için <xref:System.Activities.WorkflowApplication> yöntemler sağlamasına rağmen, kullanılabilen daha karmaşık senaryolar sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="86783-179"><xref:System.Activities.WorkflowInvoker> provides a lightweight way to invoke workflows, and although it provides methods for passing data in at the start of a workflow and extracting data from a completed workflow, it does not provide for more complex scenarios which is where <xref:System.Activities.WorkflowApplication> can be used.</span></span>
