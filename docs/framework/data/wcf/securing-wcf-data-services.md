---
title: WCF Veri Hizmetlerinin Güvenliğini Sağlama
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- securing application [WCF Data Services]
- WCF Data Services, security
ms.assetid: 99fc2baa-a040-4549-bc4d-f683d60298af
ms.openlocfilehash: e09007e786772e838a9aaa76eb8ef7a3fe2b7cca
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79174660"
---
# <a name="securing-wcf-data-services"></a><span data-ttu-id="d25c7-102">WCF Veri Hizmetlerinin Güvenliğini Sağlama</span><span class="sxs-lookup"><span data-stu-id="d25c7-102">Securing WCF Data Services</span></span>
<span data-ttu-id="d25c7-103">Bu konu, WCF Veri Hizmetleri ve Açık Veri Protokolü 'nü (OData) destekleyen hizmetlere erişen uygulamalar geliştirmeye, dağıtmaya ve çalıştırmaya özgü güvenlik hususlarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-103">This topic describes security considerations that are specific to developing, deploying, and running WCF Data Services and applications that access services that support the Open Data Protocol (OData).</span></span> <span data-ttu-id="d25c7-104">Güvenli .NET Framework uygulamaları oluşturmak için önerileri de izlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-104">You should also follow recommendations for creating secure .NET Framework applications.</span></span>  
  
<span data-ttu-id="d25c7-105">WCF Veri Hizmetleri tabanlı bir OData hizmetinin nasıl güvence altına alınamayacağını planlarken, hem kimlik doğrulamayı, hem bir asıl adın kimliğini bulma ve doğrulama işlemini hem de yetkilendirmeyi, kimlik doğrulaması yapılan bir müdürün kimlik doğrulaması olup olmadığını belirleme işlemini ele almalısınız. istenen kaynaklara erişmesine izin verilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-105">When planning how to secure a WCF Data Services-based OData service, you must address both authentication, the process of discovering and verifying the identity of a principal, and authorization, the process of determining whether an authenticated principal is allowed to access the requested resources.</span></span> <span data-ttu-id="d25c7-106">İletiyi SSL kullanarak şifrelenip şifrelenmeyeceğinizi de göz önünde bulundurmalısınız.</span><span class="sxs-lookup"><span data-stu-id="d25c7-106">You should also consider whether to encrypt the message by using SSL.</span></span>  
  
## <a name="authenticating-client-requests"></a><span data-ttu-id="d25c7-107">İstemci İsteklerinde Kimlik Doğrulama</span><span class="sxs-lookup"><span data-stu-id="d25c7-107">Authenticating Client Requests</span></span>  
<span data-ttu-id="d25c7-108">WCF Veri Hizmetleri kendi kimlik doğrulamasını uygulamaz, ancak veri hizmeti ana bilgisayarının kimlik doğrulama hükümlerine dayanır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-108">WCF Data Services does not implement any kind of authentication of its own, but rather relies on the authentication provisions of the data service host.</span></span> <span data-ttu-id="d25c7-109">Bu, hizmetin aldığı herhangi bir isteğin ağ ana bilgisayarı tarafından zaten doğrulanmış olduğunu ve ana bilgisayar, WCF Veri Hizmetleri tarafından sağlanan arabirimler aracılığıyla istek ilkesini doğru şekilde tanımladığını varsayar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-109">This means that the service assumes that any request that it receives has already been authenticated by the network host and that the host has correctly identified the principle for the request appropriately via the interfaces provided by WCF Data Services.</span></span> <span data-ttu-id="d25c7-110">Bu kimlik doğrulama seçenekleri ve yaklaşımları çok parçalı [OData ve Kimlik Doğrulama serisinde](https://devblogs.microsoft.com/odata/?s=%22OData+and+authentication%22)ayrıntılı olarak açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-110">These authentication options and approaches are detailed in the multipart [OData and Authentication series](https://devblogs.microsoft.com/odata/?s=%22OData+and+authentication%22).</span></span>  
  
### <a name="authentication-options-for-a-wcf-data-service"></a><span data-ttu-id="d25c7-111">WCF Veri Hizmeti için Kimlik Doğrulama Seçenekleri</span><span class="sxs-lookup"><span data-stu-id="d25c7-111">Authentication Options for a WCF Data Service</span></span>  
 <span data-ttu-id="d25c7-112">Aşağıdaki tabloda, WCF Veri Hizmeti için isteklerin kimliğini doğrulamanıza yardımcı olacak kimlik doğrulama mekanizmalarından bazıları listelenmektedir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-112">The following table lists some of the authentication mechanisms that are available to help you authenticate requests to a WCF Data Service.</span></span>  
  
|<span data-ttu-id="d25c7-113">Kimlik Doğrulama Seçenekleri</span><span class="sxs-lookup"><span data-stu-id="d25c7-113">Authentication Options</span></span>|<span data-ttu-id="d25c7-114">Açıklama</span><span class="sxs-lookup"><span data-stu-id="d25c7-114">Description</span></span>|  
|----------------------------|-----------------|  
|<span data-ttu-id="d25c7-115">Anonim kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="d25c7-115">Anonymous authentication</span></span>|<span data-ttu-id="d25c7-116">HTTP anonim kimlik doğrulama etkinleştirildiğinde, herhangi bir ilke veri hizmetine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-116">When HTTP anonymous authentication is enabled, any principle is able to connect to the data service.</span></span> <span data-ttu-id="d25c7-117">Anonim erişim için kimlik bilgileri gerekmez.</span><span class="sxs-lookup"><span data-stu-id="d25c7-117">Credentials are not required for anonymous access.</span></span> <span data-ttu-id="d25c7-118">Bu seçeneği, yalnızca herkesin veri hizmetine erişmesini istediğinizde kullanın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-118">Use this option only when you want to allow anyone to access the data service.</span></span>|  
|<span data-ttu-id="d25c7-119">Temel ve özet kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="d25c7-119">Basic and digest authentication</span></span>|<span data-ttu-id="d25c7-120">Kimlik doğrulama için bir kullanıcı adı ve paroladan oluşan kimlik bilgileri gereklidir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-120">Credentials consisting of a user name and password are required for authentication.</span></span> <span data-ttu-id="d25c7-121">Windows olmayan istemcilerin kimlik doğrulamasını destekler.</span><span class="sxs-lookup"><span data-stu-id="d25c7-121">Supports authentication of non-Windows clients.</span></span> <span data-ttu-id="d25c7-122">**Güvenlik Notu:**  Temel kimlik doğrulama kimlik bilgileri (kullanıcı adı ve parola) açık olarak gönderilir ve ele geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-122">**Security Note:**  Basic authentication credentials (user name and password) are sent in the clear and can be intercepted.</span></span> <span data-ttu-id="d25c7-123">Özet kimlik doğrulama, sağlanan kimlik bilgilerini temel alan bir karma değer gönderir; bu nedenle temel kimlik doğrulamaya göre daha güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-123">Digest authentication sends a hash based-on the supplied credentials, which makes it more secure than basic authentication.</span></span> <span data-ttu-id="d25c7-124">Her ikisi de ortadaki adam saldırılarına maruz kalabilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-124">Both are susceptible to man-in-the-middle attacks.</span></span> <span data-ttu-id="d25c7-125">Bu kimlik doğrulama yöntemlerini kullanırken, Güvenli Yuva Katmanı (SSL) kullanarak istemci ile veri hizmeti arasındaki iletişimi şifrelemeyi göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-125">When using these authentication methods, you should consider encrypting communication between client and the data service by using the Secure Sockets Layer (SSL).</span></span> <br /><br /> <span data-ttu-id="d25c7-126">Microsoft Internet Information Services (IIS), ASP.NET bir uygulamada HTTP istekleri için hem temel hem de özet kimlik doğrulama uygulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-126">Microsoft Internet Information Services (IIS) provides an implementation of both basic and digest authentication for HTTP requests in an ASP.NET application.</span></span> <span data-ttu-id="d25c7-127">Bu Windows Kimlik Doğrulama Sağlayıcısı uygulaması, Windows kullanıcısının kimlik doğrulaması üzerinde sorunsuz bir şekilde anlaşmaya varmak için veri hizmetine isteğin HTTP üstbilgisindeki kimlik bilgilerini sağlayan bir .NET Framework istemci uygulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-127">This Windows Authentication Provider implementation enables a .NET Framework client application to supply credentials in the HTTP header of the request to the data service to seamlessly negotiate authentication of a Windows user.</span></span> <span data-ttu-id="d25c7-128">Daha fazla bilgi için [Bkz. Özet Kimlik Doğrulama Teknik Başvurusu.](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc782794(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="d25c7-128">For more information, see [Digest Authentication Technical Reference](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc782794(v=ws.10)).</span></span><br /><br /> <span data-ttu-id="d25c7-129">Veri hizmetinizin Windows kimlik bilgilerini değil, bazı özel kimlik doğrulama hizmetini temel kimlik doğrulamayı kullanmasını istediğinizde, kimlik doğrulaması için özel bir ADP.NET HTTP Modülü uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-129">When you want to have your data service use basic authentication based on some custom authentication service and not Windows credentials, you must implement a custom ADP.NET HTTP Module for authentication.</span></span><br /><br /> <span data-ttu-id="d25c7-130">WCF Veri Hizmetleri ile özel bir temel kimlik doğrulama şemasının nasıl kullanılacağına bir örnek için, Blog yazısı [OData ve Kimlik Doğrulama - Bölüm 6 – Özel Temel Kimlik Doğrulama'ya](https://devblogs.microsoft.com/odata/odata-and-authentication-part-6-custom-basic-authentication/)bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-130">For an example of how to use a custom basic authentication scheme with WCF Data Services, see the blog post [OData and Authentication – Part 6 – Custom Basic Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-6-custom-basic-authentication/).</span></span>|  
|<span data-ttu-id="d25c7-131">Windows kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="d25c7-131">Windows authentication</span></span>|<span data-ttu-id="d25c7-132">Windows tabanlı kimlik bilgileri, NTLM veya Kerberos kullanılarak değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-132">Windows-based credentials are exchanged by using NTLM or Kerberos.</span></span> <span data-ttu-id="d25c7-133">Bu mekanizma, basit veya özet kimlik doğrulamaya göre daha güvenlidir, ancak istemcinin Windows tabanlı bir uygulama olmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-133">This mechanism is more secure than basic or digest authentication, but it requires that the client be a Windows-based application.</span></span> <span data-ttu-id="d25c7-134">IIS, bir ASP.NET uygulamasında HTTP istekleri için Windows kimlik doğrulamasını da sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-134">IIS also provides an implementation of Windows authentication for HTTP requests in an ASP.NET application.</span></span> <span data-ttu-id="d25c7-135">Daha fazla bilgi için ASP.NET [Formlar Kimlik Doğrulama Genel Bakış'a](https://docs.microsoft.com/previous-versions/aspnet/7t6b43z4(v=vs.100))bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-135">For more information, see [ASP.NET Forms Authentication Overview](https://docs.microsoft.com/previous-versions/aspnet/7t6b43z4(v=vs.100)).</span></span><br /><br /> <span data-ttu-id="d25c7-136">WCF Veri Hizmetleri ile Windows kimlik doğrulamasının nasıl kullanılacağına bir örnek için, Blog gönderisi [OData ve Authentication – Bölüm 2 – Windows Kimlik Doğrulama'ya](https://devblogs.microsoft.com/odata/odata-and-authentication-part-2-windows-authentication/)bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-136">For an example of how to use Windows authentication with WCF Data Services, see the blog post [OData and Authentication – Part 2 – Windows Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-2-windows-authentication/).</span></span>|  
|<span data-ttu-id="d25c7-137">ASP.NET kimlik doğrulaması oluşturur</span><span class="sxs-lookup"><span data-stu-id="d25c7-137">ASP.NET forms authentication</span></span>|<span data-ttu-id="d25c7-138">Formkimlik doğrulaması, kendi kodunuzu kullanarak kullanıcıların kimliğini doğrulamanızı sağlar ve ardından çerezde veya sayfa URL'sinde kimlik doğrulama belirteci nizi korumanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-138">Forms authentication lets you authenticate users by using your own code and then maintain an authentication token in a cookie or in the page URL.</span></span> <span data-ttu-id="d25c7-139">Oluşturduğunuz bir oturum açma formunu kullanarak kullanıcılarınızın kullanıcı adını ve parolasını doğrularsanız.</span><span class="sxs-lookup"><span data-stu-id="d25c7-139">You authenticate the user name and password of your users using a login form that you create.</span></span> <span data-ttu-id="d25c7-140">Kimliği doğrulanmamış istekler, kullanıcının kimlik bilgileri sağladığı ve formu gönderdiği bir oturum açma sayfasına yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-140">Unauthenticated requests are redirected to a login page, where the user provides credentials and submits the form.</span></span> <span data-ttu-id="d25c7-141">Uygulama isteğin kimliğini doğrularsa, sistem sonraki istekler için kimliği yeniden oluşturabilecek bir anahtar içeren bir anahtar verir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-141">If the application authenticates the request, the system issues a ticket that contains a key for reestablishing the identity for subsequent requests.</span></span> <span data-ttu-id="d25c7-142">Daha fazla bilgi için [Formkimlik Doğrulama Sağlayıcısı'na](https://docs.microsoft.com/previous-versions/aspnet/9wff0kyh(v=vs.100))bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-142">For more information, see [Forms Authentication Provider](https://docs.microsoft.com/previous-versions/aspnet/9wff0kyh(v=vs.100)).</span></span> <span data-ttu-id="d25c7-143">**Güvenlik Notu:**  Varsayılan olarak, formkimlik doğrulama biletini içeren çerez, ASP.NET bir Web uygulamasında form kimlik doğrulaması kullandığınızda güvenli hale gelmez.</span><span class="sxs-lookup"><span data-stu-id="d25c7-143">**Security Note:**  By default, the cookie that contains the forms authentication ticket is not secured when you use forms authentication in a ASP.NET Web application.</span></span> <span data-ttu-id="d25c7-144">Hem kimlik doğrulama anahtarını hem de ilk oturum açma kimlik bilgilerini korumak için SSL kullanılmasını gerekli tutmayı dikkate almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-144">You should consider requiring SSL to protect both the authentication ticket and the initial login credentials.</span></span> <br /><br /> <span data-ttu-id="d25c7-145">WCF Veri Hizmetleri ile form kimlik doğrulamasının nasıl kullanılacağına bir örnek için, Blog yazısı [OData ve Authentication – Bölüm 7 – Formlar Kimlik Doğrulaması](https://devblogs.microsoft.com/odata/odata-and-authentication-part-7-forms-authentication/)bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-145">For an example of how to use forms authentication with WCF Data Services, see the blog post [OData and Authentication – Part 7 – Forms Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-7-forms-authentication/).</span></span>|  
|<span data-ttu-id="d25c7-146">Beyana dayalı kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="d25c7-146">Claims-based authentication</span></span>|<span data-ttu-id="d25c7-147">Talep tabanlı kimlik doğrulamada, veri hizmeti kullanıcının kimliğini doğrulamak için güvenilir bir "üçüncü taraf" kimlik sağlayıcısı hizmetine dayanır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-147">In claims-based authentication, the data service relies on a trusted "third-party" identity provider service to authenticate the user.</span></span> <span data-ttu-id="d25c7-148">Kimlik sağlayıcısı, veri hizmeti kaynaklarına erişmek isteyen kullanıcının kimliğini olumlu bir şekilde doğrular ve istenen kaynaklara erişim izni sağlayan bir belirteç verir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-148">The identity provider positively authenticates the user that is requesting access to data service resources and issues a token that grants access to the requested resources.</span></span> <span data-ttu-id="d25c7-149">Bu belirteç, daha sonra veri hizmetine sunulur. Veri hizmeti, erişim belirtecini veren kimlik hizmetiyle kurulan güven ilişkisine göre kullanıcıya erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-149">This token is then presented to the data service, which then grants access to the user based on the trust relationship with the identity service that issued the access token.</span></span><br /><br /> <span data-ttu-id="d25c7-150">Beyana dayalı kimlik doğrulama sağlayıcısı kullanmanın avantajı, güven etki alanları arasında çeşitli türden istemcilerin kimliğini doğrulamak için kullanılabilmeleridir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-150">The benefit of using a claims-based authentication provider is that they can be used to authenticate various types of clients across trust domains.</span></span> <span data-ttu-id="d25c7-151">Veri hizmeti, böyle bir üçüncü taraf sağlayıcı kullanarak kullanıcıları koruma ve kimliklerini doğrulama gereksinimlerinden kurtulabilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-151">By employing such a third-party provider, a data service can offload the requirements of maintaining and authenticating users.</span></span> <span data-ttu-id="d25c7-152">OAuth 2.0, hizmet olarak şirket dışı kimlik doğrulama için Microsoft Azure AppFabric Erişim Denetimi tarafından desteklenen beyana dayalı bir kimlik doğrulama protokolüdür.</span><span class="sxs-lookup"><span data-stu-id="d25c7-152">OAuth 2.0 is a claims-based authentication protocol that is supported by Windows Azure AppFabric Access Control for federated authorization as a service.</span></span> <span data-ttu-id="d25c7-153">Bu protokol REST tabanlı hizmetleri destekler.</span><span class="sxs-lookup"><span data-stu-id="d25c7-153">This protocol supports REST-based services.</span></span> <span data-ttu-id="d25c7-154">WCF Veri Hizmetleri ile OAuth 2.0'ın nasıl kullanılacağına bir örnek için, OData ve Authentication adlı blog gönderisine bakın [– Bölüm 8 – OAuth WRAP](https://devblogs.microsoft.com/odata/odata-and-authentication-part-8-oauth-wrap/).</span><span class="sxs-lookup"><span data-stu-id="d25c7-154">For an example of how to use OAuth 2.0 with WCF Data Services, see the blog post [OData and Authentication – Part 8 – OAuth WRAP](https://devblogs.microsoft.com/odata/odata-and-authentication-part-8-oauth-wrap/).</span></span>|  
  
<a name="clientAuthentication"></a>
### <a name="authentication-in-the-client-library"></a><span data-ttu-id="d25c7-155">İstemci Kitaplığında kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="d25c7-155">Authentication in the Client Library</span></span>  
 <span data-ttu-id="d25c7-156">Varsayılan olarak, WCF Veri Hizmetleri istemci kitaplığı, Bir OData hizmetine istekte bulunurken kimlik bilgileri sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-156">By default, the WCF Data Services client library does not supply credentials when making a request to an OData service.</span></span> <span data-ttu-id="d25c7-157">Bir kullanıcının kimliğini doğrulamak için veri hizmeti tarafından oturum açma kimlik bilgileri <xref:System.Net.NetworkCredential> gerektiğinde, bu <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> kimlik <xref:System.Data.Services.Client.DataServiceContext>bilgileri aşağıdaki örnekte olduğu gibi, aşağıdaki örnekte olduğu gibi, erişilen bir özellikte sağlanabilir:</span><span class="sxs-lookup"><span data-stu-id="d25c7-157">When login credentials are required by the data service to authenticate a user, these credentials can be supplied in a <xref:System.Net.NetworkCredential> accessed from the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>, as in the following example:</span></span>  
  
```csharp  
// Set the client authentication credentials.  
context.Credentials =  
    new NetworkCredential(userName, password, domain);  
```  
  
```vb  
' Set the client authentication credentials.  
context.Credentials = _  
    New NetworkCredential(userName, password, domain)  
```  
  
 <span data-ttu-id="d25c7-158">Daha fazla bilgi için [bkz: Veri Hizmeti İsteği için İstemci Kimlik Bilgilerini Belirtin.](specify-client-creds-for-a-data-service-request-wcf.md)</span><span class="sxs-lookup"><span data-stu-id="d25c7-158">For more information, see [How to: Specify Client Credentials for a Data Service Request](specify-client-creds-for-a-data-service-request-wcf.md).</span></span>  
  
 <span data-ttu-id="d25c7-159">Veri hizmeti, talep tabanlı bir belirteç <xref:System.Net.NetworkCredential> veya çerez gibi bir nesne kullanılarak belirtilemeyen oturum açma kimlik bilgilerini gerektiriyorsa, başlangıçları genellikle `Authorization` ve `Cookie` üstbilgiler olmak üzere, HTTP isteğine el ile ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-159">When the data service requires login credentials that cannot be specified by using a <xref:System.Net.NetworkCredential> object, such as a claims-based token or cookie, you must manually set headers in the HTTP request, usually the `Authorization` and `Cookie` headers.</span></span> <span data-ttu-id="d25c7-160">Kimlik doğrulama senaryosu bu tür hakkında daha fazla bilgi için, blog yazısı OData ve Kimlik Doğrulama - [Bölüm 3 - ClientSide Hooks](https://devblogs.microsoft.com/odata/odata-and-authentication-part-3-clientside-hooks/)bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-160">For more information about this kind of authentication scenario, see the blog post [ OData and Authentication – Part 3 – ClientSide Hooks](https://devblogs.microsoft.com/odata/odata-and-authentication-part-3-clientside-hooks/).</span></span> <span data-ttu-id="d25c7-161">HTTP üstbilgilerinin istek iletisinde nasıl ayarlanabildiğini öğrenmek için [bkz.](how-to-set-headers-in-the-client-request-wcf-data-services.md)</span><span class="sxs-lookup"><span data-stu-id="d25c7-161">For an example of how to set HTTP headers in a request message, see [How to: Set Headers in the Client Request](how-to-set-headers-in-the-client-request-wcf-data-services.md).</span></span>  
  
## <a name="impersonation"></a><span data-ttu-id="d25c7-162">Kimliğe bürünme</span><span class="sxs-lookup"><span data-stu-id="d25c7-162">Impersonation</span></span>  
 <span data-ttu-id="d25c7-163">Genellikle veri hizmeti, veri hizmetini barındıran çalışan işleminin kimlik bilgilerini kullanarak sunucudaki veya veritabanındaki dosyalar gibi gerekli kaynaklara erişir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-163">Generally, the data service accesses required resources, such as files on the server or a database, by using the credentials of the worker process that is hosting the data service.</span></span> <span data-ttu-id="d25c7-164">Kimliğe bürünme kullanırken, ASP.NET uygulamaları isteği yapan kullanıcının Windows kimliği (kullanıcı hesabı) ile yürütebilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-164">When using impersonation, ASP.NET applications can execute with the Windows identity (user account) of the user making the request.</span></span> <span data-ttu-id="d25c7-165">Kimliğe bürünme, genel olarak kullanıcının kimliğini doğrulamak için IIS'den yararlanan uygulamalarda kullanılır ve gerekli kaynaklara erişmek için bu ilkenin kimlik bilgileri kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-165">Impersonation is commonly used in applications that rely on IIS to authenticate the user, and the credentials of this principle are used to access the required resources.</span></span> <span data-ttu-id="d25c7-166">Daha fazla bilgi için [ASP.NET Kimliğe Bürünme'ye](https://docs.microsoft.com/previous-versions/aspnet/xh507fc5(v=vs.100))bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-166">For more information, see [ASP.NET Impersonation](https://docs.microsoft.com/previous-versions/aspnet/xh507fc5(v=vs.100)).</span></span>  
  
## <a name="configuring-data-service-authorization"></a><span data-ttu-id="d25c7-167">Veri Hizmeti Yetkilendirmesini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="d25c7-167">Configuring Data Service Authorization</span></span>  
 <span data-ttu-id="d25c7-168">Yetkilendirme, uygulama kaynaklarının daha önce başarılı olan bir kimlik doğrulama temel alınarak belirlenen bir ilkeye veya işleme erişimini sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-168">Authorization is the granting of access to application resources to a principle or process that is identified based on a previously successful authentication.</span></span> <span data-ttu-id="d25c7-169">Genel bir uygulama olarak, yeterli hakları yalnızca istemci uygulamaları tarafından gerekli kılınan işlemleri gerçekleştirmek için veri hizmetinin kullanıcılarına vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-169">As a general practice, you should only grant sufficient rights to users of the data service to perform the operations required by client applications.</span></span>  
  
### <a name="restrict-access-to-data-service-resources"></a><span data-ttu-id="d25c7-170">Veri Hizmeti Kaynaklarına Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="d25c7-170">Restrict Access to Data Service Resources</span></span>  
 <span data-ttu-id="d25c7-171">Varsayılan olarak, WCF Veri Hizmetleri, veri hizmeti hizmetine erişebilen herhangi bir kullanıcıya veri hizmeti kaynaklarına (varlık kümesi ve hizmet işlemleri) karşı ortak okuma ve yazma erişimi sağlamanıza olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-171">By default, WCF Data Services enables you to grant common read and write access against data service resources (entity set and service operations) to any user that is able to access the data service.</span></span> <span data-ttu-id="d25c7-172">Okuma ve yazma erişimini tanımlayan kurallar, veri hizmeti tarafından kullanılan ve hizmet işlemlerine sunulan her varlık kümesi için ayrı ayrı tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-172">Rules that define read and write access can be defined separately for each entity set exposed by the data service, as well as to any service operations.</span></span> <span data-ttu-id="d25c7-173">Hem okuma hem de yazma erişimini yalnızca istemci uygulaması tarafından gerekli kılınan kaynaklarla sınırlamanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-173">We recommend limiting both read and write access to only the resources required by the client application.</span></span> <span data-ttu-id="d25c7-174">Daha fazla bilgi [için, Minimum Kaynak Erişim Gereksinimleri'ne](configuring-the-data-service-wcf-data-services.md#accessRequirements)bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-174">For more information, see [Minimum Resource Access Requirements](configuring-the-data-service-wcf-data-services.md#accessRequirements).</span></span>  
  
### <a name="implement-role-based-interceptors"></a><span data-ttu-id="d25c7-175">Rol Tabanlı Kesiciler Uygulama</span><span class="sxs-lookup"><span data-stu-id="d25c7-175">Implement Role-Based Interceptors</span></span>  
 <span data-ttu-id="d25c7-176">Kesiciler, istekleri veri hizmeti tarafından kullanılmadan önce veri hizmeti kaynaklarına karşı kesmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-176">Interceptors enable you to intercept requests against data service resources before they are acted on by the data service.</span></span> <span data-ttu-id="d25c7-177">Daha fazla bilgi için [Interceptors](interceptors-wcf-data-services.md)'a bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-177">For more information, see [Interceptors](interceptors-wcf-data-services.md).</span></span> <span data-ttu-id="d25c7-178">Kesiciler, isteği yapan kimliği doğrulanmış kullanıcıya göre yetkilendirme kararları vermenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-178">Interceptors enable you to make authorization decisions based the authenticated user that is making the request.</span></span> <span data-ttu-id="d25c7-179">Kimlik doğrulaması kullanıcı kimliğine dayalı olarak veri hizmeti kaynaklarına erişimi nasıl kısıtlarsanız, [bkz.](how-to-intercept-data-service-messages-wcf-data-services.md)</span><span class="sxs-lookup"><span data-stu-id="d25c7-179">For an example of how to restrict access to data service resources based on an authenticated user identity, see [How to: Intercept Data Service Messages](how-to-intercept-data-service-messages-wcf-data-services.md).</span></span>  
  
### <a name="restrict-access-to-the-persisted-data-store-and-local-resources"></a><span data-ttu-id="d25c7-180">Kalıcı Veri Deposu ve Yerel Kaynaklara Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="d25c7-180">Restrict Access to the Persisted Data Store and Local Resources</span></span>  
 <span data-ttu-id="d25c7-181">Kalıcı depoya erişmek için kullanılan hesaplara, yalnızca veritabanı veya dosya sisteminde veri hizmetinin gereksinimlerini desteklemek için yeterli haklar verilmelidir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-181">The accounts that are used to access the persisted store should be granted only enough rights in a database or the file system to support the requirements of the data service.</span></span> <span data-ttu-id="d25c7-182">Bu, anonim kimlik doğrulama kullanıldığında barındırma uygulamasını çalıştırmak için kullanılan hesaptır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-182">When anonymous authentication is used, this is the account used to run the hosting application.</span></span> <span data-ttu-id="d25c7-183">Daha fazla bilgi için [bkz: IIS'de çalışan bir WCF Veri Hizmeti geliştirin.](how-to-develop-a-wcf-data-service-running-on-iis.md)</span><span class="sxs-lookup"><span data-stu-id="d25c7-183">For more information, see [How to: Develop a WCF Data Service Running on IIS](how-to-develop-a-wcf-data-service-running-on-iis.md).</span></span> <span data-ttu-id="d25c7-184">Kimliğe bürünme kullanıldığında, kimliği doğrulanmış kullanıcıların genellikle Windows grubunun parçası olarak bu kaynaklara erişmesi sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-184">When impersonation is used, authenticated users must be granted access to these resources, usually as part of a Windows group.</span></span>  
  
## <a name="other-security-considerations"></a><span data-ttu-id="d25c7-185">Güvenlik Hakkında Diğer Önemli Noktalar</span><span class="sxs-lookup"><span data-stu-id="d25c7-185">Other Security Considerations</span></span>  
  
### <a name="secure-the-data-in-the-payload"></a><span data-ttu-id="d25c7-186">Yükte Verileri Güvenli Hale Getirme</span><span class="sxs-lookup"><span data-stu-id="d25c7-186">Secure the Data in the Payload</span></span>  
<span data-ttu-id="d25c7-187">OData, HTTP protokolüne dayanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-187">OData is based on the HTTP protocol.</span></span> <span data-ttu-id="d25c7-188">HTTP iletisinde, üstbilgi veri hizmeti tarafından uygulanan kimlik doğrulamaya bağlı olarak değerli kullanıcı kimlik bilgileri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-188">In an HTTP message, the header may contain valuable user credentials, depending on the authentication implemented by the data service.</span></span> <span data-ttu-id="d25c7-189">İleti gövdesi, korunması gereken değerli müşteri verileri de içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-189">The message body may also contain valuable customer data that must be protected.</span></span> <span data-ttu-id="d25c7-190">Her iki durumda da, bu bilgileri çevrimiçi olarak korumak için SSL'yi kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-190">In both of these cases, we recommend that you use SSL to protect this information over the wire.</span></span>  
  
### <a name="ignored-message-headers-and-cookies"></a><span data-ttu-id="d25c7-191">Yoksayılan İleti Üstbilgileri ve Tanımlama Bilgileri</span><span class="sxs-lookup"><span data-stu-id="d25c7-191">Ignored Message Headers and Cookies</span></span>  
 <span data-ttu-id="d25c7-192">İçerik türleri ve kaynak konumları bildirenlerin dışındaki HTTP isteği üstbilgileri yoksayılır ve veri hizmeti tarafından hiçbir zaman ayarlanmaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-192">HTTP request headers, other than those that declare content types and resource locations, are ignored and are never set by the data service.</span></span>  
  
 <span data-ttu-id="d25c7-193">Tanımlama bilgileri, ASP.NET Formkimlik Doğrulama gibi bir kimlik doğrulama düzeninin parçası olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-193">Cookies can be used as part of an authentication scheme, such as with ASP.NET Forms Authentication.</span></span> <span data-ttu-id="d25c7-194">Ancak, gelen istek üzerine ayarlanan tüm HTTP çerezleri WCF DataServices tarafından yoksayılır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-194">However, any HTTP cookies set on an incoming request are ignored by WCF DataServices.</span></span> <span data-ttu-id="d25c7-195">Bir veri hizmetinin ana bilgisayarı çerezi işleyebilir, ancak WCF Veri Hizmetleri çalışma zamanı çerezleri hiçbir zaman analiz edemez veya döndürmez.</span><span class="sxs-lookup"><span data-stu-id="d25c7-195">The host of a data service may process the cookie, but the WCF Data Services runtime never analyzes or returns cookies.</span></span> <span data-ttu-id="d25c7-196">WCF Veri Hizmetleri istemci kitaplığı da yanıt olarak gönderilen çerezleri işlemez.</span><span class="sxs-lookup"><span data-stu-id="d25c7-196">The WCF Data Services client library also does not process cookies sent in the response.</span></span>  
  
### <a name="custom-hosting-requirements"></a><span data-ttu-id="d25c7-197">Özel Barındırma Gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="d25c7-197">Custom Hosting Requirements</span></span>  
 <span data-ttu-id="d25c7-198">Varsayılan olarak, WCF Veri Hizmetleri IIS'de barındırılan bir ASP.NET uygulaması olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="d25c7-198">By default, WCF Data Services is created as an ASP.NET application hosted in IIS.</span></span> <span data-ttu-id="d25c7-199">Bu, veri hizmetinin bu platformun güvenli davranışlarını kullanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-199">This enables the data service to leverage the secure behaviors of this platform.</span></span> <span data-ttu-id="d25c7-200">Özel bir ana bilgisayar tarafından barındırılan WCF Veri Hizmetleri tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-200">You can define WCF Data Services that are hosted by a custom host.</span></span> <span data-ttu-id="d25c7-201">Daha fazla bilgi için Veri [Hizmetini Barındırma'ya](hosting-the-data-service-wcf-data-services.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-201">For more information, see [Hosting the Data Service](hosting-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="d25c7-202">Veri hizmetini barındıran bileşenler ve platform, veri hizmetine yapılan saldırıları önlemek için aşağıdaki güvenlik davranışlarını sağlamalıdır:</span><span class="sxs-lookup"><span data-stu-id="d25c7-202">The components and platform hosting a data service must ensure the following security behaviors to prevent attacks on the data service:</span></span>  
  
- <span data-ttu-id="d25c7-203">Olası tüm işlemler için veri hizmeti isteğinde kabul edilen URI'nin uzunluğunu sınırlama.</span><span class="sxs-lookup"><span data-stu-id="d25c7-203">Limit the length of the URI accepted in a data service request for all possible operations.</span></span>  
  
- <span data-ttu-id="d25c7-204">Hem gelen hem de giden HTTP iletilerinin boyutunu sınırlama.</span><span class="sxs-lookup"><span data-stu-id="d25c7-204">Limit the size of both incoming and outgoing HTTP messages.</span></span>  
  
- <span data-ttu-id="d25c7-205">Herhangi bir zamanda bekleyen isteklerin toplam sayısını sınırlama.</span><span class="sxs-lookup"><span data-stu-id="d25c7-205">Limit the total number of outstanding requests at any given time.</span></span>  
  
- <span data-ttu-id="d25c7-206">HTTP üstbilgilerinin boyutunu ve değerlerini sınırlandırın ve WCF Veri Hizmetleri'nin üstbilgi verilerine erişimini sağlayın.</span><span class="sxs-lookup"><span data-stu-id="d25c7-206">Limit the size of HTTP headers and their values, and provide WCF Data Services access to header data.</span></span>  
  
- <span data-ttu-id="d25c7-207">TCP SYN ve ileti yeniden yürütme saldırıları gibi bilinen saldırıları algılama ve önleme.</span><span class="sxs-lookup"><span data-stu-id="d25c7-207">Detect and counter known attacks, such as TCP SYN and message replay attacks.</span></span>  
  
### <a name="values-are-not-further-encoded"></a><span data-ttu-id="d25c7-208">Değerler Daha Fazla Kodlanmaz</span><span class="sxs-lookup"><span data-stu-id="d25c7-208">Values Are Not Further Encoded</span></span>  
 <span data-ttu-id="d25c7-209">Veri hizmetine gönderilen özellik değerleri, WCF Veri Hizmetleri çalışma zamanı tarafından başka bir şekilde kodlanmaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-209">Property values sent to the data service are not further encoded by the WCF Data Services runtime.</span></span> <span data-ttu-id="d25c7-210">Örneğin, bir varlığın dize özelliği biçimlendirilmiş HTML içeriği içerdiğinde, etiketler veri hizmeti tarafından kodlanmış HTML değildir.</span><span class="sxs-lookup"><span data-stu-id="d25c7-210">For example, when a string property of an entity contains formatted HTML content, the tags are not HTML encoded by the data service.</span></span> <span data-ttu-id="d25c7-211">Veri hizmeti yanıttaki özellik değerlerini de kodlamaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-211">The data service also does not further encode property values in the response.</span></span> <span data-ttu-id="d25c7-212">İstemci Kitaplığı da ek kodlama gerçekleştirmez.</span><span class="sxs-lookup"><span data-stu-id="d25c7-212">The client library also does not perform any additional encoding.</span></span>  
  
### <a name="considerations-for-client-applications"></a><span data-ttu-id="d25c7-213">İstemci Uygulamaları için Önemli Noktalar</span><span class="sxs-lookup"><span data-stu-id="d25c7-213">Considerations for Client Applications</span></span>  
 <span data-ttu-id="d25c7-214">OData hizmetlerine erişmek için WCF Veri Hizmetleri istemcisini kullanan uygulamalar için aşağıdaki güvenlik hususları geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="d25c7-214">The following security considerations apply to applications that use the WCF Data Services client to access OData services:</span></span>  
  
- <span data-ttu-id="d25c7-215">İstemci kitaplığı, veri hizmetine erişmek için kullanılan protokollerin uygun düzeyde güvenlik sağladığını varsayar.</span><span class="sxs-lookup"><span data-stu-id="d25c7-215">The client library assumes that the protocols used to access the data service provide an appropriate level of security.</span></span>  
  
- <span data-ttu-id="d25c7-216">İstemci kitaplığı, platform tarafından sağlanan temel taşıma yığınlarının zaman aşımları ve ayrıştırma seçenekleri için tüm varsayılan değerleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-216">The client library uses all the default values for timeouts and parsing options of the underlying platform-provided transport stacks.</span></span>  
  
- <span data-ttu-id="d25c7-217">İstemci kitaplığı, uygulama yapılandırma dosyalarından ayar okumaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-217">The client library does not read any settings from application configuration files.</span></span>  
  
- <span data-ttu-id="d25c7-218">İstemci kitaplığı, etki alanları arasında erişim mekanizması uygulamaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-218">The client library does not implement any cross domain access mechanisms.</span></span> <span data-ttu-id="d25c7-219">Bunun yerine, temel HTTP yığını tarafından sağlanan mekanizmalardan yararlanır.</span><span class="sxs-lookup"><span data-stu-id="d25c7-219">Instead, it relies on the mechanisms provided by the underlying HTTP stack.</span></span>  
  
- <span data-ttu-id="d25c7-220">İstemci kitaplığının kullanıcı arabirimi öğesi yoktur ve hiçbir zaman aldığı veya gönderdiği verileri görüntülemeye veya oluşturmaya çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-220">The client library has no user interface elements, and it never tries to display or render the data that it receives or sends.</span></span>  
  
- <span data-ttu-id="d25c7-221">İstemci uygulamalarının her zaman kullanıcı girişini ve güvenilmeyen hizmetlerden kabul edilen verileri doğrulamasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-221">We recommend that client applications always validate user input as well as data accepted from untrusted services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d25c7-222">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="d25c7-222">See also</span></span>

- [<span data-ttu-id="d25c7-223">WCF Veri Hizmetlerini Tanımlama</span><span class="sxs-lookup"><span data-stu-id="d25c7-223">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
- [<span data-ttu-id="d25c7-224">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="d25c7-224">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
