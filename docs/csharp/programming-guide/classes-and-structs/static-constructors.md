---
title: Statik oluşturucular-C# Programlama Kılavuzu
description: C# ' de statik bir Oluşturucu statik verileri başlatır veya yalnızca bir kez yapılan bir eylem gerçekleştirir. İlk örnek oluşturulmadan veya statik üyelere başvurulmadan önce çalışır.
ms.date: 03/30/2021
helpviewer_keywords:
- static constructors [C#]
- constructors [C#], static
ms.openlocfilehash: f7ab97c3723c04b9d442daabb85f8d16967eb0e4
ms.sourcegitcommit: b5d2290673e1c91260c9205202dd8b95fbab1a0b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/01/2021
ms.locfileid: "106123008"
---
# <a name="static-constructors-c-programming-guide"></a><span data-ttu-id="35fc0-104">Statik Oluşturucular (C# Programlama Kılavuzu)</span><span class="sxs-lookup"><span data-stu-id="35fc0-104">Static Constructors (C# Programming Guide)</span></span>

<span data-ttu-id="35fc0-105">Statik bir Oluşturucu herhangi bir [statik](../../language-reference/keywords/static.md) veriyi başlatmak veya yalnızca bir kez gerçekleştirilmesi gereken belirli bir eylemi gerçekleştirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-105">A static constructor is used to initialize any [static](../../language-reference/keywords/static.md) data, or to perform a particular action that needs to be performed only once.</span></span> <span data-ttu-id="35fc0-106">İlk örnek oluşturulmadan veya herhangi bir statik üyeye başvurulmadan önce bu otomatik olarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-106">It is called automatically before the first instance is created or any static members are referenced.</span></span>  
  
 [!code-csharp[SimpleClass#1](snippets/static-constructors/Program.cs#1)]

## <a name="remarks"></a><span data-ttu-id="35fc0-107">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="35fc0-107">Remarks</span></span>

<span data-ttu-id="35fc0-108">Statik oluşturucular aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="35fc0-108">Static constructors have the following properties:</span></span>  
  
- <span data-ttu-id="35fc0-109">Statik Oluşturucu erişim değiştiricileri almaz veya parametrelere sahip değildir.</span><span class="sxs-lookup"><span data-stu-id="35fc0-109">A static constructor doesn't take access modifiers or have parameters.</span></span>  

- <span data-ttu-id="35fc0-110">Bir sınıf veya yapı birimi yalnızca bir statik oluşturucuya sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="35fc0-110">A class or struct can only have one static constructor.</span></span>

- <span data-ttu-id="35fc0-111">Statik oluşturucular devralınamaz veya aşırı yüklenemez.</span><span class="sxs-lookup"><span data-stu-id="35fc0-111">Static constructors cannot be inherited or overloaded.</span></span>

- <span data-ttu-id="35fc0-112">Statik bir Oluşturucu doğrudan çağrılamaz ve yalnızca ortak dil çalışma zamanı (CLR) tarafından çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="35fc0-112">A static constructor cannot be called directly and is only meant to be called by the common language runtime (CLR).</span></span> <span data-ttu-id="35fc0-113">Otomatik olarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-113">It is invoked automatically.</span></span>

- <span data-ttu-id="35fc0-114">Programda statik Oluşturucu yürütüldüğünde kullanıcının denetimi yoktur.</span><span class="sxs-lookup"><span data-stu-id="35fc0-114">The user has no control on when the static constructor is executed in the program.</span></span>
  
- <span data-ttu-id="35fc0-115">Statik Oluşturucu otomatik olarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-115">A static constructor is called automatically.</span></span> <span data-ttu-id="35fc0-116">İlk örnek oluşturulmadan veya herhangi bir statik üyeye başvurulmadan önce [sınıfı](../../language-reference/keywords/class.md) başlatır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-116">It initializes the [class](../../language-reference/keywords/class.md) before the first instance is created or any static members are referenced.</span></span> <span data-ttu-id="35fc0-117">Statik Oluşturucu bir örnek oluşturucudan önce çalışır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-117">A static constructor runs before an instance constructor.</span></span> <span data-ttu-id="35fc0-118">Bir olaya atanan statik bir yöntem veya temsilci atandığında, bir türün statik Oluşturucusu çağrılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-118">A type's static constructor is called when a static method assigned to an event or a delegate is invoked and not when it is assigned.</span></span> <span data-ttu-id="35fc0-119">Statik alan değişkeni başlatıcıları statik oluşturucunun sınıfında mevcutsa, bunlar sınıf bildiriminde göründükleri metin sırasına göre yürütülür.</span><span class="sxs-lookup"><span data-stu-id="35fc0-119">If static field variable initializers are present in the class of the static constructor, they're executed in the textual order in which they appear in the class declaration.</span></span> <span data-ttu-id="35fc0-120">Başlatıcılar, statik oluşturucunun yürütülmesinden hemen önce çalışır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-120">The initializers run immediately prior to the execution of the static constructor.</span></span>

- <span data-ttu-id="35fc0-121">Statik alanları başlatmak için statik bir Oluşturucu sağlamazsanız, tüm statik alanlar varsayılan değer olan [C# türlerinin varsayılan değerlerinde](../../language-reference/builtin-types/default-values.md)listelendiği şekilde başlatılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-121">If you don't provide a static constructor to initialize static fields, all static fields are initialized to their default value as listed in [Default values of C# types](../../language-reference/builtin-types/default-values.md).</span></span>
  
- <span data-ttu-id="35fc0-122">Statik bir Oluşturucu bir özel durum oluşturursa, çalışma zamanı onu ikinci bir kez çağırmaz ve uygulama etki alanının ömrü boyunca tür başlatılmamış olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-122">If a static constructor throws an exception, the runtime doesn't invoke it a second time, and the type will remain uninitialized for the lifetime of the application domain.</span></span> <span data-ttu-id="35fc0-123">En yaygın olarak, <xref:System.TypeInitializationException> statik bir Oluşturucu bir tür örneklememediğinde veya statik oluşturucu içinde oluşan işlenmeyen bir özel durum için bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="35fc0-123">Most commonly, a <xref:System.TypeInitializationException> exception is thrown when a static constructor is unable to instantiate a type or for an unhandled exception occurring within a static constructor.</span></span> <span data-ttu-id="35fc0-124">Kaynak kodunda açıkça tanımlanmayan statik oluşturucular için, sorun giderme ara dil (IL) kodunu denetlemesini gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="35fc0-124">For static constructors that aren't explicitly defined in source code, troubleshooting may require inspection of the intermediate language (IL) code.</span></span>

- <span data-ttu-id="35fc0-125">Statik bir oluşturucunun varlığı <xref:System.Reflection.TypeAttributes.BeforeFieldInit> tür özniteliğinin eklenmesini engeller.</span><span class="sxs-lookup"><span data-stu-id="35fc0-125">The presence of a static constructor prevents the addition of the <xref:System.Reflection.TypeAttributes.BeforeFieldInit> type attribute.</span></span> <span data-ttu-id="35fc0-126">Bu, çalışma zamanının iyileştirmesini sınırlandırır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-126">This limits runtime optimization.</span></span>

- <span data-ttu-id="35fc0-127">Olarak belirtilen bir alan `static readonly` , bildiriminin bir parçası olarak veya bir statik oluşturucuda atanabilir.</span><span class="sxs-lookup"><span data-stu-id="35fc0-127">A field declared as `static readonly` may only be assigned as part of its declaration or in a static constructor.</span></span> <span data-ttu-id="35fc0-128">Açık bir statik Oluşturucu gerekli olmadığında, daha iyi çalışma zamanı iyileştirmesi için bir statik Oluşturucu yerine bildiriminde statik alanları başlatın.</span><span class="sxs-lookup"><span data-stu-id="35fc0-128">When an explicit static constructor isn't required, initialize static fields at declaration rather than through a static constructor for better runtime optimization.</span></span>

- <span data-ttu-id="35fc0-129">Çalışma zamanı, bir statik Oluşturucuyu tek bir uygulama etki alanında birden çok kez çağırır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-129">The runtime calls a static constructor no more than once in a single application domain.</span></span> <span data-ttu-id="35fc0-130">Bu çağrı, sınıfın belirli türüne göre kilitli bir bölgede yapılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-130">That call is made in a locked region based on the specific type of the class.</span></span> <span data-ttu-id="35fc0-131">Statik oluşturucunun gövdesinde ek kilitleme mekanizması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="35fc0-131">No additional locking mechanisms are needed in the body of a static constructor.</span></span> <span data-ttu-id="35fc0-132">Kilitlenmeleri riskinden kaçınmak için statik oluşturucularda ve başlatıcılarda geçerli iş parçacığını engellemez.</span><span class="sxs-lookup"><span data-stu-id="35fc0-132">To avoid the risk of deadlocks, don't block the current thread in static constructors and initializers.</span></span> <span data-ttu-id="35fc0-133">Örneğin, görevler, iş parçacıkları, bekleme tanıtıcıları veya olaylar üzerinde beklememeyin, kilitleri alamaz ve paralel döngüler ve paralel LINQ sorguları gibi paralel işlemleri engellemeyi kullanmayın `Parallel.Invoke` .</span><span class="sxs-lookup"><span data-stu-id="35fc0-133">For example, don't wait on tasks, threads, wait handles or events, don't acquire locks, and don't execute blocking parallel operations such as parallel loops, `Parallel.Invoke` and Parallel LINQ queries.</span></span>

> [!Note]
> <span data-ttu-id="35fc0-134">Doğrudan erişilemeyen halde, açık bir statik oluşturucunun varlığı, başlatma özel durumlarının giderilmesi için yardımcı olmak üzere açıklanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-134">Though not directly accessible, the presence of an explicit static constructor should be documented to assist with troubleshooting initialization exceptions.</span></span>

### <a name="usage"></a><span data-ttu-id="35fc0-135">Kullanım</span><span class="sxs-lookup"><span data-stu-id="35fc0-135">Usage</span></span>

- <span data-ttu-id="35fc0-136">Statik oluşturucuların tipik kullanımı, sınıfın bir günlük dosyası kullanıldığı ve oluşturucunun bu dosyaya giriş yazmak için kullanıldığı durumlarda kullanılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-136">A typical use of static constructors is when the class is using a log file and the constructor is used to write entries to this file.</span></span>  
- <span data-ttu-id="35fc0-137">Statik oluşturucular, Oluşturucu yöntemi çağırabilmesini, yönetilmeyen kod için sarmalayıcı sınıflar oluştururken de kullanışlıdır `LoadLibrary` .</span><span class="sxs-lookup"><span data-stu-id="35fc0-137">Static constructors are also useful when creating wrapper classes for unmanaged code, when the constructor can call the `LoadLibrary` method.</span></span>  

- <span data-ttu-id="35fc0-138">Statik oluşturucular, tür parametresi kısıtlamaları aracılığıyla derleme zamanında denetlenemeyen tür parametresinde çalışma zamanı denetimlerini zorlamak için de kullanışlı bir yerdir.</span><span class="sxs-lookup"><span data-stu-id="35fc0-138">Static constructors are also a convenient place to enforce run-time checks on the type parameter that cannot be checked at compile time via type-parameter constraints.</span></span>

## <a name="example"></a><span data-ttu-id="35fc0-139">Örnek</span><span class="sxs-lookup"><span data-stu-id="35fc0-139">Example</span></span>

 <span data-ttu-id="35fc0-140">Bu örnekte, sınıfının `Bus` statik bir Oluşturucusu vardır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-140">In this example, class `Bus` has a static constructor.</span></span> <span data-ttu-id="35fc0-141">İlk örneği `Bus` oluşturulduğunda ( `bus1` ), sınıfı başlatmak için statik oluşturucu çağrılır.</span><span class="sxs-lookup"><span data-stu-id="35fc0-141">When the first instance of `Bus` is created (`bus1`), the static constructor is invoked to initialize the class.</span></span> <span data-ttu-id="35fc0-142">Örnek çıktı, statik oluşturucunun, iki örneği `Bus` oluşturulsa ve örnek Oluşturucu çalışmadan önce çalışmasına rağmen yalnızca bir kez çalıştığını doğrular.</span><span class="sxs-lookup"><span data-stu-id="35fc0-142">The sample output verifies that the static constructor runs only one time, even though two instances of `Bus` are created, and that it runs before the instance constructor runs.</span></span>  
  
 [!code-csharp[BusSample#2](snippets/static-constructors/Program.cs#2)]

## <a name="c-language-specification"></a><span data-ttu-id="35fc0-143">C# dili belirtimi</span><span class="sxs-lookup"><span data-stu-id="35fc0-143">C# language specification</span></span>

<span data-ttu-id="35fc0-144">Daha fazla bilgi için [C# dil belirtiminin](~/_csharplang/spec/introduction.md) [statik oluşturucular](~/_csharplang/spec/classes.md#static-constructors) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="35fc0-144">For more information, see the [Static constructors](~/_csharplang/spec/classes.md#static-constructors) section of the [C# language specification](~/_csharplang/spec/introduction.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="35fc0-145">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="35fc0-145">See also</span></span>

- [<span data-ttu-id="35fc0-146">C# Programlama Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="35fc0-146">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="35fc0-147">Sınıflar ve Yapılar</span><span class="sxs-lookup"><span data-stu-id="35fc0-147">Classes and Structs</span></span>](./index.md)
- [<span data-ttu-id="35fc0-148">Oluşturucular</span><span class="sxs-lookup"><span data-stu-id="35fc0-148">Constructors</span></span>](./constructors.md)
- [<span data-ttu-id="35fc0-149">Statik Sınıflar ve Statik Sınıf Üyeleri</span><span class="sxs-lookup"><span data-stu-id="35fc0-149">Static Classes and Static Class Members</span></span>](./static-classes-and-static-class-members.md)
- [<span data-ttu-id="35fc0-150">Sonlandırıcılar</span><span class="sxs-lookup"><span data-stu-id="35fc0-150">Finalizers</span></span>](./destructors.md)
- [<span data-ttu-id="35fc0-151">Oluşturucu tasarım yönergeleri</span><span class="sxs-lookup"><span data-stu-id="35fc0-151">Constructor Design Guidelines</span></span>](../../../standard/design-guidelines/constructor.md#type-constructor-guidelines)
- [<span data-ttu-id="35fc0-152">Güvenlik Uyarısı-CA2121: statik oluşturucular özel olmalıdır</span><span class="sxs-lookup"><span data-stu-id="35fc0-152">Security Warning - CA2121: Static constructors should be private</span></span>](/visualstudio/code-quality/ca2121-static-constructors-should-be-private)
