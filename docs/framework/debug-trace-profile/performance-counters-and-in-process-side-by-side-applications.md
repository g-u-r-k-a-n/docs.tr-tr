---
title: Performans Sayaçları ve Devam Eden Yan Yana Uygulamalar
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- performance counters
- performance counters,and in-process side-by-side applications
- performance,.NET Framework applications
- performance monitoring,counters
ms.assetid: 6888f9be-c65b-4b03-a07b-df7ebdee2436
ms.openlocfilehash: a50b0f92837c3a962fa21d5c1342492d7fa397dd
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73121577"
---
# <a name="performance-counters-and-in-process-side-by-side-applications"></a><span data-ttu-id="0aae0-102">Performans Sayaçları ve Devam Eden Yan Yana Uygulamalar</span><span class="sxs-lookup"><span data-stu-id="0aae0-102">Performance Counters and In-Process Side-By-Side Applications</span></span>
<span data-ttu-id="0aae0-103">Performans Izleyicisi 'ni (Perfmon. exe) kullanarak, performans sayaçlarını çalışma zamanına göre ayırmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="0aae0-103">Using the Performance Monitor (Perfmon.exe), it is possible to differentiate the performance counters on a per-runtime basis.</span></span> <span data-ttu-id="0aae0-104">Bu konuda, bu işlevi etkinleştirmek için gereken kayıt defteri değişikliği açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-104">This topic describes the registry change needed to enable this functionality.</span></span>  
  
## <a name="the-default-behavior"></a><span data-ttu-id="0aae0-105">Varsayılan davranış</span><span class="sxs-lookup"><span data-stu-id="0aae0-105">The Default Behavior</span></span>  
 <span data-ttu-id="0aae0-106">Varsayılan olarak performans Izleyicisi, performans sayaçlarını uygulama başına temelinde görüntüler.</span><span class="sxs-lookup"><span data-stu-id="0aae0-106">By default, the Performance Monitor displays performance counters on a per-application basis.</span></span> <span data-ttu-id="0aae0-107">Bununla birlikte, bunun sorunlu olduğu iki senaryo vardır:</span><span class="sxs-lookup"><span data-stu-id="0aae0-107">However, there are two scenarios in which this is problematic:</span></span>  
  
- <span data-ttu-id="0aae0-108">Aynı ada sahip iki uygulamayı izlerken.</span><span class="sxs-lookup"><span data-stu-id="0aae0-108">When you monitor two applications that have the same name.</span></span> <span data-ttu-id="0aae0-109">Örneğin, her iki uygulama da MyApp. exe olarak adlandırılmışsa, birisi **MyApp** olarak ve diğeri ise **örnek** sütununda **MyApp # 1** olarak görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-109">For example, if both applications are named myapp.exe, one will be displayed as **myapp** and the other as **myapp#1** in the **Instance** column.</span></span> <span data-ttu-id="0aae0-110">Bu durumda, bir performans sayacını belirli bir uygulamayla eşleştirmek zordur.</span><span class="sxs-lookup"><span data-stu-id="0aae0-110">In this case, it is difficult to match a performance counter to a particular application.</span></span> <span data-ttu-id="0aae0-111">**MyApp # 1** için toplanan verilerin ilk MyApp. exe ' ye veya ikinci MyApp. exe ' ye başvuruda bulunup olmaması net değildir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-111">It is not clear whether the data collected for **myapp#1** refers to the first myapp.exe or the second myapp.exe.</span></span>  
  
- <span data-ttu-id="0aae0-112">Bir uygulama ortak dil çalışma zamanının birden çok örneğini kullandığında.</span><span class="sxs-lookup"><span data-stu-id="0aae0-112">When an application uses multiple instances of the common language runtime.</span></span> <span data-ttu-id="0aae0-113">.NET Framework 4, işlem içi yan yana barındırma senaryolarını destekler; diğer bir deyişle, tek bir işlem veya uygulama ortak dil çalışma zamanının birden çok örneğini yükleyebilir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-113">The .NET Framework 4 supports in-process side-by-side hosting scenarios; that is, a single process or application can load multiple instances of the common language runtime.</span></span> <span data-ttu-id="0aae0-114">MyApp. exe adlı tek bir uygulama iki çalışma zamanı örneği yüklerse varsayılan olarak **MyApp** ve **MyApp # 1**olarak **örnek** sütununda atanır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-114">If a single application named myapp.exe loads two runtime instances, by default, they will be designated in the **Instance** column as **myapp** and **myapp#1**.</span></span> <span data-ttu-id="0aae0-115">Bu durumda, **MyApp** ve **MyApp # 1** ' in aynı ada sahip iki uygulamayı ya da iki çalışma alanıyla aynı uygulamayı ifade etmeksizin net değildir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-115">In this case, it is not clear whether **myapp** and **myapp#1** refer to two applications with the same name, or to the same application with two runtimes.</span></span> <span data-ttu-id="0aae0-116">Aynı ada sahip birden çok uygulama birden fazla çalışma zamanı yüklese, belirsizlik daha da büyüktür.</span><span class="sxs-lookup"><span data-stu-id="0aae0-116">If multiple applications with the same name load multiple runtimes, the ambiguity is even greater.</span></span>  
  
 <span data-ttu-id="0aae0-117">Bu belirsizliği ortadan kaldırmak için bir kayıt defteri anahtarı ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0aae0-117">You can set a registry key to eliminate this ambiguity.</span></span> <span data-ttu-id="0aae0-118">.NET Framework 4 kullanılarak geliştirilen uygulamalar için, bu kayıt defteri değişikliği bir işlem tanımlayıcısı ve ardından bir çalışma zamanı örneği tanımlayıcısı, **örnek** sütunundaki uygulama adına eklenir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-118">For applications developed using the .NET Framework 4, this registry change adds a process identifier followed by a runtime instance identifier to the application name in the **Instance** column.</span></span> <span data-ttu-id="0aae0-119">*Uygulama veya* *uygulama*#1 yerine *uygulama _`p`* *İşlemKimliği*\_**örnek** sütununda `r`*runtimeId* olarak tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-119">Instead of *application* or *application*#1, the application is now identified as *application*_`p`*processID*\_`r`*runtimeID* in the **Instance** column.</span></span> <span data-ttu-id="0aae0-120">Bir uygulama, ortak dil çalışma zamanının önceki bir sürümü kullanılarak geliştirilmişse, bu örnek *uygulama\_* olarak temsil edilir`p`*işlem kimliği* .NET Framework 4 ' ün yüklenmesini sağladı.</span><span class="sxs-lookup"><span data-stu-id="0aae0-120">If an application was developed using a previous version of the common language runtime, that instance is represented as *application\_*`p`*processID* provided that the .NET Framework 4 is installed.</span></span>  
  
## <a name="performance-counters-for-in-process-side-by-side-applications"></a><span data-ttu-id="0aae0-121">Işlem Içi yan yana uygulamalar için performans sayaçları</span><span class="sxs-lookup"><span data-stu-id="0aae0-121">Performance Counters for In-Process Side-by-Side Applications</span></span>  
 <span data-ttu-id="0aae0-122">Tek bir uygulamada barındırılan birden çok ortak dil çalışma zamanı sürümü için performans sayaçlarını işlemek üzere, aşağıdaki tabloda gösterildiği gibi tek bir kayıt defteri anahtarı ayarını değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-122">To handle performance counters for multiple common language runtime versions that are hosted in a single application, you must change a single registry key setting, as shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="0aae0-123">Anahtar adı</span><span class="sxs-lookup"><span data-stu-id="0aae0-123">Key name</span></span>|<span data-ttu-id="0aae0-124">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\\. NETFramework\Performance</span><span class="sxs-lookup"><span data-stu-id="0aae0-124">HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\\.NETFramework\Performance</span></span>|  
|<span data-ttu-id="0aae0-125">Değer adı</span><span class="sxs-lookup"><span data-stu-id="0aae0-125">Value name</span></span>|<span data-ttu-id="0aae0-126">ProcessNameFormat</span><span class="sxs-lookup"><span data-stu-id="0aae0-126">ProcessNameFormat</span></span>|  
|<span data-ttu-id="0aae0-127">Değer türü</span><span class="sxs-lookup"><span data-stu-id="0aae0-127">Value type</span></span>|<span data-ttu-id="0aae0-128">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="0aae0-128">REG_DWORD</span></span>|  
|<span data-ttu-id="0aae0-129">Değer</span><span class="sxs-lookup"><span data-stu-id="0aae0-129">Value</span></span>|<span data-ttu-id="0aae0-130">1 (0x00000001)</span><span class="sxs-lookup"><span data-stu-id="0aae0-130">1 (0x00000001)</span></span>|  
  
 <span data-ttu-id="0aae0-131">`ProcessNameFormat` için 0 değeri, varsayılan davranışın etkin olduğunu gösterir; diğer bir deyişle, Perfmon. exe, performans sayaçlarını uygulama başına temelinde görüntüler.</span><span class="sxs-lookup"><span data-stu-id="0aae0-131">A value of 0 for `ProcessNameFormat` indicates that the default behavior is enabled; that is, Perfmon.exe displays performance counters on a per-application basis.</span></span> <span data-ttu-id="0aae0-132">Bu değeri 1 olarak belirlediğinizde, Perfmon. exe, bir uygulamanın birden çok sürümünü belirsizlaştırır ve çalışma zamanı başına performans sayaçlarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="0aae0-132">When you set this value to 1, Perfmon.exe disambiguates multiple versions of an application and provides performance counters on a per-runtime basis.</span></span> <span data-ttu-id="0aae0-133">`ProcessNameFormat` kayıt defteri anahtarı ayarı için başka bir değer desteklenmez ve gelecekte kullanılmak üzere ayrılmıştır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-133">Any other value for the `ProcessNameFormat` registry key setting is unsupported and reserved for future use.</span></span>  
  
 <span data-ttu-id="0aae0-134">`ProcessNameFormat` kayıt defteri anahtarı ayarını güncelleştirdikten sonra, yeni örnek adlandırma özelliğinin düzgün çalışması için perfmon. exe ' yi veya herhangi bir performans sayacı tüketicilerini yeniden başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-134">After you update the `ProcessNameFormat` registry key setting, you must restart Perfmon.exe or any other consumers of performance counters so that the new instance naming feature works correctly.</span></span>  
  
 <span data-ttu-id="0aae0-135">Aşağıdaki örnek, `ProcessNameFormat` değerinin programlı olarak nasıl değiştirileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-135">The following example shows how to change the `ProcessNameFormat` value programmatically.</span></span>  
  
 [!code-csharp[Conceptual.PerfCounters.InProSxS#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.perfcounters.inprosxs/cs/regsetting1.cs#1)]
 [!code-vb[Conceptual.PerfCounters.InProSxS#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.perfcounters.inprosxs/vb/regsetting1.vb#1)]  
  
 <span data-ttu-id="0aae0-136">Bu kayıt defteri değişikliğini yaptığınızda Perfmon. exe, *uygulama*_`p`*Işlemkimliği*\_`r`*runtimeId*olarak .NET Framework 4 ' ü hedefleyen uygulamaların adlarını görüntüler; burada *uygulamanın* adı uygulama, *İşlemKimliği* uygulamanın işlem tanımlayıcısıdır ve *runtimeId* ortak bir dil çalışma zamanı tanımlayıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-136">When you make this registry change, Perfmon.exe displays the names of applications that target the .NET Framework 4 as *application*_`p`*processID*\_`r`*runtimeID*, where *application* is the name of the application, *processID* is the application's process identifier, and *runtimeID* is a common language runtime identifier.</span></span> <span data-ttu-id="0aae0-137">Örneğin, MyApp. exe adlı bir uygulama ortak dil çalışma zamanının iki örneğini yüklerse, Perfmon. exe bir örneği myapp_p1416_r10 ve ikincisi myapp_p3160_r10 olarak tanımlayabilir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-137">For example, if an application named myapp.exe loads two instances of the common language runtime, Perfmon.exe may identify one instance as myapp_p1416_r10 and the second as myapp_p3160_r10.</span></span> <span data-ttu-id="0aae0-138">Çalışma zamanı tanımlayıcısı yalnızca bir işlemdeki çalışma zamanlarını belirsizlaştırır; çalışma zamanı hakkında başka herhangi bir bilgi sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="0aae0-138">The runtime identifier only disambiguates the runtimes within a process; it does not provide any other information about the runtime.</span></span> <span data-ttu-id="0aae0-139">(Örneğin, çalışma zamanı KIMLIĞI, çalışma zamanının sürümü veya SKU 'SU ile ilişkili değildir.)</span><span class="sxs-lookup"><span data-stu-id="0aae0-139">(For example, the runtime ID has no relation to the version or the SKU of the runtime.)</span></span>  
  
 <span data-ttu-id="0aae0-140">.NET Framework 4 yüklüyse, kayıt defteri değişikliği, .NET Framework önceki sürümleri kullanılarak geliştirilen uygulamaları da etkiler.</span><span class="sxs-lookup"><span data-stu-id="0aae0-140">If the .NET Framework 4 is installed, the registry change also affects applications that were developed using earlier versions of the .NET Framework.</span></span> <span data-ttu-id="0aae0-141">Bunlar, *application_* `p`*Procesı*olarak Perfmon. exe ' de görünür; burada *uygulama* uygulama adı ve *İşlemKimliği* işlem tanımlayıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-141">These appear in Perfmon.exe as *application_*`p`*processID*, where *application* is the application name and *processID* is the process identifier.</span></span> <span data-ttu-id="0aae0-142">Örneğin, MyApp. exe adlı iki uygulamanın performans sayaçları izleniyorsa, biri myapp_p23900 ve diğeri myapp_p24908 olarak görünebilir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-142">For example, if the performance counters of two applications named myapp.exe are monitored, one might appear as myapp_p23900 and the other as myapp_p24908.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0aae0-143">İşlem tanımlayıcısı, çalışma zamanının önceki sürümlerini kullanan aynı ada sahip iki uygulamanın çözümlenme belirsizliğin ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="0aae0-143">The process identifier eliminates the ambiguity of resolving two applications with the same name that use earlier versions of the runtime.</span></span> <span data-ttu-id="0aae0-144">Ortak dil çalışma zamanının önceki sürümleri yan yana senaryoları desteklemediğinden, önceki sürümler için bir çalışma zamanı tanımlayıcısı gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-144">A runtime identifier is not required for previous versions, because previous versions of the common language runtime do not support side-by-side scenarios.</span></span>  
  
 <span data-ttu-id="0aae0-145">.NET Framework 4 yoksa veya kaldırılmışsa, kayıt defteri anahtarının ayarlanması etkisizdir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-145">If the .NET Framework 4 is not present or was uninstalled, setting the registry key has no effect.</span></span> <span data-ttu-id="0aae0-146">Bu, aynı ada sahip iki uygulamanın, *uygulama* ve *1. uygulama* (örneğin, **MyApp** ve **MyApp # 1**olarak) olarak Perfmon. exe ' de görünmeye devam edemeyeceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="0aae0-146">This means that two applications with the same name will continue to appear in Perfmon.exe as *application* and *application#1* (for example, as **myapp** and **myapp#1**).</span></span>
