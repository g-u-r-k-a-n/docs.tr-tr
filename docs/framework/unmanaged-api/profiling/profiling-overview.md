---
title: Profil Oluşturmaya Genel Bakış
ms.date: 03/30/2017
helpviewer_keywords:
- managed code, profiling API support
- unmanaged code, combining with managed code in profiling
- notification threads [.NET Framework profiling]
- unmanaged code, profiling
- profiling API [.NET Framework], and COM
- profiling API [.NET Framework], unmanaged code profiling
- profilers, writing
- profiling API [.NET Framework], call stacks
- code profilers, writing
- profiling API [.NET Framework], security considerations
- profiling API [.NET Framework], managed code support
- common language runtime, profiling
- profiling API [.NET Framework], notification threads
- call stacks [.NET Framework profiling]
- profiling API [.NET Framework], stack depth
- common language runtime, writing a profiler
- profiling API [.NET Framework], information retrieval interfaces
- shadow stacks [.NET Framework profiling]
- COM, using in the profiling API
- stack snapshots [.NET Framework profiling]
- profiling API [.NET Framework], supported features
- profiling API [.NET Framework], overview
- security, profiling API considerations
- stack depth [.NET Framework profiling]
ms.assetid: 864c2344-71dc-46f9-96b2-ed59fb6427a8
ms.openlocfilehash: aa8bff374e9698d4b7e032428ec1bdc66901e05d
ms.sourcegitcommit: b11efd71c3d5ce3d9449c8d4345481b9f21392c6
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/29/2020
ms.locfileid: "76860922"
---
# <a name="profiling-overview"></a><span data-ttu-id="fd67a-102">Profil Oluşturmaya Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="fd67a-102">Profiling Overview</span></span>

<span data-ttu-id="fd67a-103">Profil Oluşturucu, başka bir uygulamanın yürütülmesini izleyen bir araçtır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-103">A profiler is a tool that monitors the execution of another application.</span></span> <span data-ttu-id="fd67a-104">Ortak dil çalışma zamanı (CLR) profil oluşturucu, profil oluşturma API 'sini kullanarak, CLR 'ye ileti alan ve iletileri gönderen işlevlerden oluşan bir dinamik bağlantı kitaplığıdır (DLL).</span><span class="sxs-lookup"><span data-stu-id="fd67a-104">A common language runtime (CLR) profiler is a dynamic link library (DLL) that consists of functions that receive messages from, and send messages to, the CLR by using the profiling API.</span></span> <span data-ttu-id="fd67a-105">Profil oluşturucu DLL, çalışma zamanında CLR tarafından yüklenir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-105">The profiler DLL is loaded by the CLR at run time.</span></span>

<span data-ttu-id="fd67a-106">Geleneksel profil oluşturma araçları, uygulamanın yürütülmesini ölçmeye odaklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-106">Traditional profiling tools focus on measuring the execution of the application.</span></span> <span data-ttu-id="fd67a-107">Yani, her işlevde harcanan süreyi veya zaman içinde uygulamanın bellek kullanımını ölçirler.</span><span class="sxs-lookup"><span data-stu-id="fd67a-107">That is, they measure the time that is spent in each function or the memory usage of the application over time.</span></span> <span data-ttu-id="fd67a-108">Profil oluşturma API 'SI, kod kapsamı yardımcı programları ve hatta gelişmiş hata ayıklama yardımları gibi daha geniş bir tanılama araçları sınıfını hedefler.</span><span class="sxs-lookup"><span data-stu-id="fd67a-108">The profiling API targets a broader class of diagnostic tools such as code-coverage utilities and even advanced debugging aids.</span></span> <span data-ttu-id="fd67a-109">Bu kullanımlar doğası gereği tüm tanılardır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-109">These uses are all diagnostic in nature.</span></span> <span data-ttu-id="fd67a-110">Profil oluşturma API 'SI yalnızca ölçülere sahip olmakla kalmaz, ayrıca bir uygulamanın yürütülmesini de izler.</span><span class="sxs-lookup"><span data-stu-id="fd67a-110">The profiling API not only measures but also monitors the execution of an application.</span></span> <span data-ttu-id="fd67a-111">Bu nedenle, profil oluşturma API 'SI asla uygulamanın kendisi tarafından kullanılmamalıdır ve uygulamanın yürütülmesi profil oluşturucunun, (veya tarafından etkilenmemelidir) bağlı olmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-111">For this reason, the profiling API should never be used by the application itself, and the application’s execution should not depend on (or be affected by) the profiler.</span></span>

<span data-ttu-id="fd67a-112">CLR uygulamasının profilini oluşturmak, profil oluşturma genel olarak derlenmiş makine kodundan daha fazla destek gerektirir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-112">Profiling a CLR application requires more support than profiling conventionally compiled machine code.</span></span> <span data-ttu-id="fd67a-113">Bunun nedeni, CLR 'nin uygulama etki alanları, çöp toplama, yönetilen özel durum işleme, tam zamanında (JıT) kod derlemesi (Microsoft ara dili veya MSIL, kod yerel makine koduna dönüştürme) ve benzer şekilde kavram sağlaması özelliklerinde.</span><span class="sxs-lookup"><span data-stu-id="fd67a-113">This is because the CLR introduces concepts such as application domains, garbage collection, managed exception handling, just-in-time (JIT) compilation of code (converting Microsoft intermediate language, or MSIL, code into native machine code), and similar features.</span></span> <span data-ttu-id="fd67a-114">Geleneksel profil oluşturma mekanizmaları, bu özelliklerle ilgili yararlı bilgileri tanımlayamıyor veya sağlamıyor.</span><span class="sxs-lookup"><span data-stu-id="fd67a-114">Conventional profiling mechanisms cannot identify or provide useful information about these features.</span></span> <span data-ttu-id="fd67a-115">Profil oluşturma API 'SI bu eksik bilgileri, CLR ve profili oluşturulmuş uygulamanın performansı üzerinde en az etkiyle verimli bir şekilde sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-115">The profiling API provides this missing information efficiently, with minimal effect on the performance of the CLR and the profiled application.</span></span>

<span data-ttu-id="fd67a-116">Çalışma zamanında JıT derlemesi, profil oluşturma için iyi fırsatlar sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-116">JIT compilation at run time provides good opportunities for profiling.</span></span> <span data-ttu-id="fd67a-117">Profil oluşturma API 'SI, bir profil oluşturucunun JıT derlenmesinden önce bir yordam için bellek içi MSIL kod akışını değiştirmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-117">The profiling API enables a profiler to change the in-memory MSIL code stream for a routine before it is JIT-compiled.</span></span> <span data-ttu-id="fd67a-118">Bu şekilde, Profil Oluşturucu daha derin araştırma gerektiren belirli yordamlara dinamik olarak izleme kodu ekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-118">In this manner, the profiler can dynamically add instrumentation code to particular routines that need deeper investigation.</span></span> <span data-ttu-id="fd67a-119">Bu yaklaşım geleneksel senaryolarda mümkün olsa da, profil oluşturma API 'SI kullanılarak CLR için uygulanması çok daha kolaydır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-119">Although this approach is possible in conventional scenarios, it is much easier to implement for the CLR by using the profiling API.</span></span>

## <a name="the-profiling-api"></a><span data-ttu-id="fd67a-120">Profil oluşturma API 'SI</span><span class="sxs-lookup"><span data-stu-id="fd67a-120">The Profiling API</span></span>

<span data-ttu-id="fd67a-121">Genellikle, profil oluşturma API 'SI, yönetilen bir uygulamanın yürütülmesini izleyen bir program olan *kod profil oluşturucu*yazmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-121">Typically, the profiling API is used to write a *code profiler*, which is a program that monitors the execution of a managed application.</span></span>

<span data-ttu-id="fd67a-122">Profil oluşturma API 'si, profili oluşturulan uygulamayla aynı işleme yüklenen bir profil oluşturucu DLL tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-122">The profiling API is used by a profiler DLL, which is loaded into the same process as the application that is being profiled.</span></span> <span data-ttu-id="fd67a-123">Profil oluşturucu DLL, .NET Framework sürüm 1,0 ve 1,1 ' de bir[geri çağırma arabirimi (](icorprofilercallback-interface.md) [ICorProfilerCallback2](icorprofilercallback2-interface.md) sürüm 2,0 ve üzeri) uygular.</span><span class="sxs-lookup"><span data-stu-id="fd67a-123">The profiler DLL implements a callback interface ([ICorProfilerCallback](icorprofilercallback-interface.md) in the .NET Framework version 1.0 and 1.1, [ICorProfilerCallback2](icorprofilercallback2-interface.md) in version 2.0 and later).</span></span> <span data-ttu-id="fd67a-124">CLR, profili oluşturulan işlemdeki olayların profil oluşturucuyu bilgilendirmek için bu arabirimdeki yöntemleri çağırır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-124">The CLR calls the methods in that interface to notify the profiler of events in the profiled process.</span></span> <span data-ttu-id="fd67a-125">Profil Oluşturucu, profili oluşturulmuş uygulamanın durumu hakkında bilgi almak için [ICorProfilerInfo](icorprofilerinfo-interface.md) ve [ICorProfilerInfo2](icorprofilerinfo2-interface.md) arabirimlerindeki yöntemleri kullanarak çalışma zamanına geri çağırabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-125">The profiler can call back into the runtime by using the methods in the [ICorProfilerInfo](icorprofilerinfo-interface.md) and [ICorProfilerInfo2](icorprofilerinfo2-interface.md) interfaces to obtain information about the state of the profiled application.</span></span>

> [!NOTE]
> <span data-ttu-id="fd67a-126">Profil Oluşturucu çözümünün yalnızca veri toplama bölümü, profili oluşturulmuş uygulamayla aynı işlemde çalışmalıdır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-126">Only the data-gathering part of the profiler solution should be running in the same process as the profiled application.</span></span> <span data-ttu-id="fd67a-127">Tüm Kullanıcı arabirimi ve veri analizi ayrı bir işlemde gerçekleştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-127">All user interface and data analysis should be performed in a separate process.</span></span>

<span data-ttu-id="fd67a-128">Aşağıdaki çizimde profil oluşturucu DLL 'nin profili oluşturulan uygulamayla ve CLR ile nasıl etkileşimde bulunduğu gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-128">The following illustration shows how the profiler DLL interacts with the application that is being profiled and the CLR.</span></span>

![Profil oluşturma mimarisini gösteren ekran görüntüsü.](./media/profiling-overview/profiling-architecture.png)

### <a name="the-notification-interfaces"></a><span data-ttu-id="fd67a-130">Bildirim arabirimleri</span><span class="sxs-lookup"><span data-stu-id="fd67a-130">The Notification Interfaces</span></span>

<span data-ttu-id="fd67a-131">[ICorProfilerCallback](icorprofilercallback-interface.md) ve [ICorProfilerCallback2](icorprofilercallback2-interface.md) , bildirim arabirimleri olarak düşünülebilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-131">[ICorProfilerCallback](icorprofilercallback-interface.md) and [ICorProfilerCallback2](icorprofilercallback2-interface.md) can be considered notification interfaces.</span></span> <span data-ttu-id="fd67a-132">Bu arabirimler [ClassLoadStarted](icorprofilercallback-classloadstarted-method.md), [ClassLoadFinished](icorprofilercallback-classloadfinished-method.md)ve [JITCompilationStarted](icorprofilercallback-jitcompilationstarted-method.md)gibi yöntemlerden oluşur.</span><span class="sxs-lookup"><span data-stu-id="fd67a-132">These interfaces consist of methods such as [ClassLoadStarted](icorprofilercallback-classloadstarted-method.md), [ClassLoadFinished](icorprofilercallback-classloadfinished-method.md), and [JITCompilationStarted](icorprofilercallback-jitcompilationstarted-method.md).</span></span> <span data-ttu-id="fd67a-133">CLR bir sınıfı yüklediğinde veya kaldırdığında, bir işlevi derlediğinde ve bu durumda, profil oluşturucunun `ICorProfilerCallback` veya `ICorProfilerCallback2` arabiriminde karşılık gelen yöntemi çağırır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-133">Each time the CLR loads or unloads a class, compiles a function, and so on, it calls the corresponding method in the profiler's `ICorProfilerCallback` or `ICorProfilerCallback2` interface.</span></span>

<span data-ttu-id="fd67a-134">Örneğin, bir profil oluşturucu iki bildirim işlevi aracılığıyla kod performansını ölçebilir: [FunctionEnter2](functionenter2-function.md) ve [FunctionLeave2](functionleave2-function.md).</span><span class="sxs-lookup"><span data-stu-id="fd67a-134">For example, a profiler could measure code performance through two notification functions: [FunctionEnter2](functionenter2-function.md) and [FunctionLeave2](functionleave2-function.md).</span></span> <span data-ttu-id="fd67a-135">Her bildirime yalnızca zaman damgası oluşturur, sonuçları birikir ve uygulamanın yürütülmesi sırasında en fazla CPU veya duvar saati zamanını hangi işlevlerin tükettiğini belirten bir liste verir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-135">It just time-stamps each notification, accumulates results, and outputs a list that indicates which functions consumed the most CPU or wall-clock time during the execution of the application.</span></span>

### <a name="the-information-retrieval-interfaces"></a><span data-ttu-id="fd67a-136">Bilgi alma arabirimleri</span><span class="sxs-lookup"><span data-stu-id="fd67a-136">The Information Retrieval Interfaces</span></span>

<span data-ttu-id="fd67a-137">Profil oluşturma ile ilgili diğer ana arabirimler [ICorProfilerInfo](icorprofilerinfo-interface.md) ve [ICorProfilerInfo2](icorprofilerinfo2-interface.md).</span><span class="sxs-lookup"><span data-stu-id="fd67a-137">The other main interfaces involved in profiling are [ICorProfilerInfo](icorprofilerinfo-interface.md) and [ICorProfilerInfo2](icorprofilerinfo2-interface.md).</span></span> <span data-ttu-id="fd67a-138">Profil Oluşturucu, analizine yardımcı olmak üzere daha fazla bilgi edinmek için bu arabirimleri gerektiği şekilde çağırır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-138">The profiler calls these interfaces as required to obtain more information to help its analysis.</span></span> <span data-ttu-id="fd67a-139">Örneğin, CLR [FunctionEnter2](functionenter2-function.md) işlevini her çağırdığında, bir işlev tanımlayıcısı sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-139">For example, whenever the CLR calls the [FunctionEnter2](functionenter2-function.md) function, it supplies a function identifier.</span></span> <span data-ttu-id="fd67a-140">Profil Oluşturucu, işlevin üst sınıfını, adını ve benzerlerini saptamak için [ICorProfilerInfo2:: GetFunctionInfo2](icorprofilerinfo2-getfunctioninfo2-method.md) metodunu çağırarak, bu işlev hakkında daha fazla bilgi alabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-140">The profiler can get more information about that function by calling the [ICorProfilerInfo2::GetFunctionInfo2](icorprofilerinfo2-getfunctioninfo2-method.md) method to discover the function's parent class, its name, and so on.</span></span>

## <a name="supported-features"></a><span data-ttu-id="fd67a-141">Desteklenen Özellikler</span><span class="sxs-lookup"><span data-stu-id="fd67a-141">Supported Features</span></span>

<span data-ttu-id="fd67a-142">Profil oluşturma API 'SI, ortak dil çalışma zamanında oluşan çeşitli olaylar ve eylemler hakkında bilgi sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-142">The profiling API provides information about a variety of events and actions that occur in the common language runtime.</span></span> <span data-ttu-id="fd67a-143">Bu bilgileri, işlemlerin iç işleyişini izlemek ve .NET Framework uygulamanızın performansını analiz etmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fd67a-143">You can use this information to monitor the inner workings of processes and to analyze the performance of your .NET Framework application.</span></span>

<span data-ttu-id="fd67a-144">Profil oluşturma API 'SI, CLR 'de oluşan aşağıdaki eylemler ve olaylar hakkında bilgi alır:</span><span class="sxs-lookup"><span data-stu-id="fd67a-144">The profiling API retrieves information about the following actions and events that occur in the CLR:</span></span>

- <span data-ttu-id="fd67a-145">CLR başlatma ve başlatma olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-145">CLR startup and shutdown events.</span></span>

- <span data-ttu-id="fd67a-146">Uygulama etki alanı oluşturma ve kapanıyor olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-146">Application domain creation and shutdown events.</span></span>

- <span data-ttu-id="fd67a-147">Derleme yükleme ve kaldırma olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-147">Assembly loading and unloading events.</span></span>

- <span data-ttu-id="fd67a-148">Modül yükleme ve kaldırma olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-148">Module loading and unloading events.</span></span>

- <span data-ttu-id="fd67a-149">COM vtable oluşturma ve yok etme olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-149">COM vtable creation and destruction events.</span></span>

- <span data-ttu-id="fd67a-150">Tam zamanında (JıT) derleme ve kod temelli olaylar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-150">Just-in-time (JIT) compilation and code-pitching events.</span></span>

- <span data-ttu-id="fd67a-151">Sınıf yükleme ve kaldırma olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-151">Class loading and unloading events.</span></span>

- <span data-ttu-id="fd67a-152">İş parçacığı oluşturma ve yok etme olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-152">Thread creation and destruction events.</span></span>

- <span data-ttu-id="fd67a-153">İşlev girdisi ve çıkış olayları.</span><span class="sxs-lookup"><span data-stu-id="fd67a-153">Function entry and exit events.</span></span>

- <span data-ttu-id="fd67a-154">Özel durumlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-154">Exceptions.</span></span>

- <span data-ttu-id="fd67a-155">Yönetilen ve yönetilmeyen kod yürütme arasındaki geçişler.</span><span class="sxs-lookup"><span data-stu-id="fd67a-155">Transitions between managed and unmanaged code execution.</span></span>

- <span data-ttu-id="fd67a-156">Farklı çalışma zamanı bağlamları arasındaki geçişler.</span><span class="sxs-lookup"><span data-stu-id="fd67a-156">Transitions between different runtime contexts.</span></span>

- <span data-ttu-id="fd67a-157">Çalışma zamanı getirilmesi hakkında bilgi.</span><span class="sxs-lookup"><span data-stu-id="fd67a-157">Information about runtime suspensions.</span></span>

- <span data-ttu-id="fd67a-158">Çalışma zamanı bellek yığını ve çöp toplama etkinliği hakkında bilgi.</span><span class="sxs-lookup"><span data-stu-id="fd67a-158">Information about the runtime memory heap and garbage collection activity.</span></span>

<span data-ttu-id="fd67a-159">Profil oluşturma API 'SI (yönetilen olmayan) COM uyumlu dillerden çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-159">The profiling API can be called from any (non-managed) COM-compatible language.</span></span>

<span data-ttu-id="fd67a-160">API, CPU ve bellek tüketimine göre etkilidir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-160">The API is efficient with regard to CPU and memory consumption.</span></span> <span data-ttu-id="fd67a-161">Profil oluşturma, profili oluşturulmuş uygulamada yanıltıcı sonuçlara neden olacak kadar önemli değişiklikler içermez.</span><span class="sxs-lookup"><span data-stu-id="fd67a-161">Profiling does not involve changes to the profiled application that are significant enough to cause misleading results.</span></span>

<span data-ttu-id="fd67a-162">Profil oluşturma API 'SI hem örnekleme hem de örnekleme olmayan profil oluşturucular için faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-162">The profiling API is useful to both sampling and non-sampling profilers.</span></span> <span data-ttu-id="fd67a-163">Bir *örnekleme profil oluşturucu* , profili düzenli saat işaretleri, yani 5 milisaniyelik olarak inceler.</span><span class="sxs-lookup"><span data-stu-id="fd67a-163">A *sampling profiler* inspects the profile at regular clock ticks, say, at 5 milliseconds apart.</span></span> <span data-ttu-id="fd67a-164">*Örneklemesi olmayan bir profil oluşturucu* , olaya neden olan iş parçacığı ile eşzamanlı olarak bir olay hakkında bilgilendirilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-164">A *non-sampling profiler* is informed of an event synchronously with the thread that causes the event.</span></span>

### <a name="unsupported-functionality"></a><span data-ttu-id="fd67a-165">Desteklenmeyen İşlev</span><span class="sxs-lookup"><span data-stu-id="fd67a-165">Unsupported Functionality</span></span>

<span data-ttu-id="fd67a-166">Profil oluşturma API 'SI aşağıdaki işlevleri desteklemez:</span><span class="sxs-lookup"><span data-stu-id="fd67a-166">The profiling API does not support the following functionality:</span></span>

- <span data-ttu-id="fd67a-167">Geleneksel Win32 yöntemleri kullanılarak profili oluşturulmuş olması gereken yönetilmeyen kod.</span><span class="sxs-lookup"><span data-stu-id="fd67a-167">Unmanaged code, which must be profiled using conventional Win32 methods.</span></span> <span data-ttu-id="fd67a-168">Ancak, CLR Profiler yönetilen ve yönetilmeyen kod arasındaki sınırları belirleyecek geçiş olaylarını içerir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-168">However, the CLR profiler includes transition events to determine the boundaries between managed and unmanaged code.</span></span>

- <span data-ttu-id="fd67a-169">En boy odaklı programlama gibi amaçlar için kendi kodlarını değiştiren uygulamaları kendi kendine değiştirme.</span><span class="sxs-lookup"><span data-stu-id="fd67a-169">Self-modifying applications that modify their own code for purposes such as aspect-oriented programming.</span></span>

- <span data-ttu-id="fd67a-170">Sınır denetlemesi, profil oluşturma API 'SI bu bilgileri sağlamadığı için.</span><span class="sxs-lookup"><span data-stu-id="fd67a-170">Bounds checking, because the profiling API does not provide this information.</span></span> <span data-ttu-id="fd67a-171">CLR, tüm yönetilen kodların sınır denetlemesi için iç destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-171">The CLR provides intrinsic support for bounds checking of all managed code.</span></span>

- <span data-ttu-id="fd67a-172">Aşağıdaki nedenlerden dolayı desteklenmeyen uzak profil oluşturma:</span><span class="sxs-lookup"><span data-stu-id="fd67a-172">Remote profiling, which is not supported for the following reasons:</span></span>

  - <span data-ttu-id="fd67a-173">Uzaktan profil oluşturma, yürütme süresini uzatır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-173">Remote profiling extends execution time.</span></span> <span data-ttu-id="fd67a-174">Profil oluşturma arabirimlerini kullanırken, profil oluşturma sonuçlarının etkilenmemesi etkilenmemesi için yürütme süresini en aza indirmiş olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-174">When you use the profiling interfaces, you must minimize execution time so that profiling results will not be unduly affected.</span></span> <span data-ttu-id="fd67a-175">Bu özellikle, yürütme performansı izlendiğinde geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-175">This is especially true when execution performance is being monitored.</span></span> <span data-ttu-id="fd67a-176">Ancak, profil oluşturma arabirimleri bellek kullanımını izlemek veya yığın çerçeveleri, nesneleri vb. hakkında çalışma zamanı bilgileri elde etmek için kullanıldığında uzak profil oluşturma bir sınırlama değildir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-176">However, remote profiling is not a limitation when the profiling interfaces are used to monitor memory usage or to obtain run-time information about stack frames, objects, and so on.</span></span>

  - <span data-ttu-id="fd67a-177">CLR kodu profil oluşturucu, profili oluşturulan uygulamanın çalıştığı yerel bilgisayardaki çalışma zamanına sahip bir veya daha fazla geri çağırma arabirimi kaydetmelidir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-177">The CLR code profiler must register one or more callback interfaces with the runtime on the local computer on which the profiled application is running.</span></span> <span data-ttu-id="fd67a-178">Bu, uzak kod profil Oluşturucu oluşturma özelliğini kısıtlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-178">This limits the ability to create a remote code profiler.</span></span>

- <span data-ttu-id="fd67a-179">Yüksek kullanılabilirlik gereksinimlerine sahip üretim ortamlarında profil oluşturma.</span><span class="sxs-lookup"><span data-stu-id="fd67a-179">Profiling in production environments with high-availability requirements.</span></span> <span data-ttu-id="fd67a-180">Profil oluşturma API 'SI, geliştirme zamanı tanılamayı destekleyecek şekilde oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="fd67a-180">The profiling API was created to support development-time diagnostics.</span></span> <span data-ttu-id="fd67a-181">Üretim ortamlarını desteklemek için gereken kapsamlı testi henüz yapılmamıştır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-181">It has not undergone the rigorous testing required to support production environments.</span></span>

## <a name="notification-threads"></a><span data-ttu-id="fd67a-182">Bildirim Iş parçacıkları</span><span class="sxs-lookup"><span data-stu-id="fd67a-182">Notification Threads</span></span>

<span data-ttu-id="fd67a-183">Çoğu durumda, bir olayı oluşturan iş parçacığı de bildirimleri yürütür.</span><span class="sxs-lookup"><span data-stu-id="fd67a-183">In most cases, the thread that generates an event also executes notifications.</span></span> <span data-ttu-id="fd67a-184">Bu tür bildirimlerin (örneğin, [FunctionEnter](functionenter-function.md) ve [FunctionLeave](functionleave-function.md)) açık `ThreadID`sağlaması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="fd67a-184">Such notifications (for example, [FunctionEnter](functionenter-function.md) and [FunctionLeave](functionleave-function.md)) do not need to supply the explicit `ThreadID`.</span></span> <span data-ttu-id="fd67a-185">Ayrıca, profil oluşturucu, etkilenen iş parçacığının `ThreadID` bağlı olarak genel depolamada analiz bloklarını dizinlemek yerine çözümleme bloklarını depolamak ve güncelleştirmek için iş parçacığı yerel depolama 'yı kullanmaya karar verebilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-185">Also, the profiler might decide to use thread-local storage to store and update its analysis blocks instead of indexing the analysis blocks in global storage, based on the `ThreadID` of the affected thread.</span></span>

<span data-ttu-id="fd67a-186">Bu geri çağırmaların serileştirilmediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="fd67a-186">Note that these callbacks are not serialized.</span></span> <span data-ttu-id="fd67a-187">Kullanıcılar, iş parçacığı açısından güvenli veri yapıları oluşturarak ve birden çok iş parçacığından paralel erişimi engellemek için gerektiğinde profil oluşturucu kodunu kilitleyerek kendi kodlarını korumalıdır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-187">Users must protect their code by creating thread-safe data structures and by locking the profiler code where necessary to prevent parallel access from multiple threads.</span></span> <span data-ttu-id="fd67a-188">Bu nedenle, bazı durumlarda olağan dışı bir geri çağırma sırası alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fd67a-188">Therefore, in certain cases you can receive an unusual sequence of callbacks.</span></span> <span data-ttu-id="fd67a-189">Örneğin, yönetilen bir uygulamanın özdeş kodu yürüten iki iş parçacığını sağladığını varsayalım.</span><span class="sxs-lookup"><span data-stu-id="fd67a-189">For example, assume that a managed application is spawning two threads that are executing identical code.</span></span> <span data-ttu-id="fd67a-190">Bu durumda, bir iş parçacığından bazı işlevleri için [ICorProfilerCallback:: JITCompilationStarted](icorprofilercallback-jitcompilationstarted-method.md) olayını ve [ICorProfilerCallback:: JITCompilationFinished](icorprofilercallback-jitcompilationfinished-method.md) geri aramasını almadan önce diğer iş parçacığından bir `FunctionEnter` geri aramasını almak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="fd67a-190">In this case, it is possible to receive a [ICorProfilerCallback::JITCompilationStarted](icorprofilercallback-jitcompilationstarted-method.md) event for some function from one thread and a `FunctionEnter` callback from the other thread before receiving the [ICorProfilerCallback::JITCompilationFinished](icorprofilercallback-jitcompilationfinished-method.md) callback.</span></span> <span data-ttu-id="fd67a-191">Bu durumda, Kullanıcı henüz derlenmiş tam zamanında (JıT) olmayan bir işlev için `FunctionEnter` geri araması alacaktır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-191">In this case, the user will receive a `FunctionEnter` callback for a function that may not have been fully just-in-time (JIT) compiled yet.</span></span>

## <a name="security"></a><span data-ttu-id="fd67a-192">Güvenlik</span><span class="sxs-lookup"><span data-stu-id="fd67a-192">Security</span></span>

<span data-ttu-id="fd67a-193">Profil oluşturucu DLL, ortak dil çalışma zamanı yürütme altyapısının bir parçası olarak çalışan yönetilmeyen bir DLL 'dir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-193">A profiler DLL is an unmanaged DLL that runs as part of the common language runtime execution engine.</span></span> <span data-ttu-id="fd67a-194">Sonuç olarak, profil oluşturucu DLL 'deki kod, yönetilen kod erişim güvenliği kısıtlamalarına tabi değildir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-194">As a result, the code in the profiler DLL is not subject to the restrictions of managed code access security.</span></span> <span data-ttu-id="fd67a-195">Profil oluşturucu DLL 'deki tek sınırlamalar, profili oluşturulmuş uygulamayı çalıştıran kullanıcının işletim sistemi tarafından uygulanan olanlardır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-195">The only limitations on the profiler DLL are those imposed by the operating system on the user who is running the profiled application.</span></span>

<span data-ttu-id="fd67a-196">Profil Oluşturucu yazarları güvenlikle ilgili sorunlardan kaçınmak için uygun önlemleri almalıdır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-196">Profiler authors should take appropriate precautions to avoid security-related issues.</span></span> <span data-ttu-id="fd67a-197">Örneğin, yükleme sırasında, kötü niyetli bir kullanıcının değiştirememesi için bir erişim denetim listesine (ACL) bir profil oluşturucu DLL 'SI eklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-197">For example, during installation, a profiler DLL should be added to an access control list (ACL) so that a malicious user cannot modify it.</span></span>

## <a name="combining-managed-and-unmanaged-code-in-a-code-profiler"></a><span data-ttu-id="fd67a-198">Yönetilen ve yönetilmeyen kodu bir kod Profilcisi ile birleştirme</span><span class="sxs-lookup"><span data-stu-id="fd67a-198">Combining Managed and Unmanaged Code in a Code Profiler</span></span>

<span data-ttu-id="fd67a-199">Yanlış yazılmış bir profil oluşturucu kendi kendine döngüsel başvurulara neden olabilir ve bu da öngörülemeyen davranışa yol açabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-199">An incorrectly written profiler can cause circular references to itself, resulting in unpredictable behavior.</span></span>

<span data-ttu-id="fd67a-200">CLR profil oluşturma API 'SI gözden geçirmesi, COM birlikte çalışma veya dolaylı çağrılar aracılığıyla birbirlerine çağrı yapan yönetilen ve yönetilmeyen bileşenleri içeren bir profil oluşturucu yazabileceğiniz izlenime yol açabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-200">A review of the CLR profiling API may create the impression that you can write a profiler that contains managed and unmanaged components that call each other through COM interop or indirect calls.</span></span>

<span data-ttu-id="fd67a-201">Bu bir tasarım perspektifinden mümkün olsa da, profil oluşturma API 'SI yönetilen bileşenleri desteklemez.</span><span class="sxs-lookup"><span data-stu-id="fd67a-201">Although this is possible from a design perspective, the profiling API does not support managed components.</span></span> <span data-ttu-id="fd67a-202">CLR profiler tamamen yönetilmeyen olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-202">A CLR profiler must be completely unmanaged.</span></span> <span data-ttu-id="fd67a-203">Yönetilen ve yönetilmeyen kodu bir CLR Profiler 'da birleştirme girişimleri, erişim ihlallerine, program hatasına veya kilitlenmelere neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-203">Attempts to combine managed and unmanaged code in a CLR profiler may cause access violations, program failure, or deadlocks.</span></span> <span data-ttu-id="fd67a-204">Profil oluşturucunun yönetilen bileşenleri, olayları yönetilmeyen bileşenlerine geri tetikleyecektir. Bu, daha sonra yönetilen bileşenleri yeniden çağırıp döngüsel başvurular oluşmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="fd67a-204">The managed components of the profiler will fire events back to their unmanaged components, which would subsequently call the managed components again, resulting in circular references.</span></span>

<span data-ttu-id="fd67a-205">Bir CLR Profiler 'ın yönetilen kodu güvenli bir şekilde çağırabildiği tek konum bir yöntemin Microsoft ara dili (MSIL) gövdesinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="fd67a-205">The only location where a CLR profiler can call managed code safely is in the Microsoft intermediate language (MSIL) body of a method.</span></span> <span data-ttu-id="fd67a-206">MSIL gövdesini değiştirmek için önerilen yöntem, [ICorProfilerCallback4](icorprofilercallback4-interface.md) arabirimindeki JIT yeniden derleme yöntemlerini kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-206">The recommended practice for modifying the MSIL body is to use the  JIT recompilation methods in the [ICorProfilerCallback4](icorprofilercallback4-interface.md) interface.</span></span>

<span data-ttu-id="fd67a-207">Ayrıca, MSIL 'yi değiştirmek için eski izleme yöntemlerini kullanmak da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="fd67a-207">It is also possible to use the older instrumentation methods to modify MSIL.</span></span> <span data-ttu-id="fd67a-208">Bir işlevin tam zamanında (JıT) derlenmesi tamamlanmadan önce, profil oluşturucu bir yöntemin MSIL gövdesine yönetilen çağrılar ekleyebilir ve ardından bunu JıT-derle (bkz. [ICorProfilerInfo:: GetILFunctionBody](icorprofilerinfo-getilfunctionbody-method.md) yöntemi).</span><span class="sxs-lookup"><span data-stu-id="fd67a-208">Before the just-in-time (JIT) compilation of a function is completed, the profiler can insert managed calls in the MSIL body of a method and then JIT-compile it (see the [ICorProfilerInfo::GetILFunctionBody](icorprofilerinfo-getilfunctionbody-method.md) method).</span></span> <span data-ttu-id="fd67a-209">Bu teknik, yönetilen kodun seçmeli araçları için veya JıT hakkında istatistik ve performans verileri toplamak için başarılı bir şekilde kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-209">This technique can successfully be used for selective instrumentation of managed code, or to gather statistics and performance data about the JIT.</span></span>

<span data-ttu-id="fd67a-210">Alternatif olarak, bir kod Profilleyicisi, yönetilmeyen koda çağıran her yönetilen işlevin MSIL gövdesine yerel kancalar ekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-210">Alternatively, a code profiler can insert native hooks in the MSIL body of every managed function that calls into unmanaged code.</span></span> <span data-ttu-id="fd67a-211">Bu teknik, izleme ve kapsam için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-211">This technique can be used for instrumentation and coverage.</span></span> <span data-ttu-id="fd67a-212">Örneğin, bir kod Profilcisi, bloğun yürütüldüğünü sağlamak için her MSIL bloğundan sonra izleme kancaları ekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-212">For example, a code profiler could insert instrumentation hooks after every MSIL block to ensure that the block has been executed.</span></span> <span data-ttu-id="fd67a-213">Bir yöntemin MSIL gövdesinin değiştirilmesi çok önemli bir işlemdir ve dikkate alınması gereken birçok etken vardır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-213">The modification of the MSIL body of a method is a very delicate operation, and there are many factors that should be taken into consideration.</span></span>

## <a name="profiling-unmanaged-code"></a><span data-ttu-id="fd67a-214">Yönetilmeyen kod profili oluşturma</span><span class="sxs-lookup"><span data-stu-id="fd67a-214">Profiling Unmanaged Code</span></span>

<span data-ttu-id="fd67a-215">Ortak dil çalışma zamanı (CLR) profil oluşturma API 'SI, yönetilmeyen kod profili oluşturma için en düşük desteği sağlar</span><span class="sxs-lookup"><span data-stu-id="fd67a-215">The common language runtime (CLR) profiling API provides minimal support for profiling unmanaged code.</span></span> <span data-ttu-id="fd67a-216">Aşağıdaki işlevsellik verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="fd67a-216">The following functionality is provided:</span></span>

- <span data-ttu-id="fd67a-217">Yığın zincirlerinin numaralandırılması.</span><span class="sxs-lookup"><span data-stu-id="fd67a-217">Enumeration of stack chains.</span></span> <span data-ttu-id="fd67a-218">Bu özellik, yönetilen kod ve yönetilmeyen kod arasındaki sınırı belirlemede kod Profilcisi sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-218">This feature enables a code profiler to determine the boundary between managed code and unmanaged code.</span></span>

- <span data-ttu-id="fd67a-219">Yığın zincirinin yönetilen koda mı yoksa yerel koda mı karşılık geldiğini belirleme.</span><span class="sxs-lookup"><span data-stu-id="fd67a-219">Determination whether a stack chain corresponds to managed code or native code.</span></span>

<span data-ttu-id="fd67a-220">1,0 ve 1,1 .NET Framework sürümlerinde, bu yöntemler CLR hata ayıklama API 'sinin işlem içi alt kümesi aracılığıyla kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-220">In the .NET Framework versions 1.0 and 1.1, these methods are available through the in-process subset of the CLR debugging API.</span></span> <span data-ttu-id="fd67a-221">CorDebug. IDL dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-221">They are defined in the CorDebug.idl file.</span></span>

<span data-ttu-id="fd67a-222">.NET Framework 2,0 ve sonrasında, bu işlevsellik için [ICorProfilerInfo2::D oStackSnapshot](icorprofilerinfo2-dostacksnapshot-method.md) yöntemini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fd67a-222">In the .NET Framework 2.0 and later, you can use the [ICorProfilerInfo2::DoStackSnapshot](icorprofilerinfo2-dostacksnapshot-method.md) method for this functionality.</span></span>

## <a name="using-com"></a><span data-ttu-id="fd67a-223">COM kullanarak</span><span class="sxs-lookup"><span data-stu-id="fd67a-223">Using COM</span></span>

<span data-ttu-id="fd67a-224">Profil oluşturma arabirimleri COM arabirimleri olarak tanımlansa da, ortak dil çalışma zamanı (CLR) bu arabirimleri kullanmak için gerçekte COM 'u başlatılmaz.</span><span class="sxs-lookup"><span data-stu-id="fd67a-224">Although the profiling interfaces are defined as COM interfaces, the common language runtime (CLR) does not actually initialize COM to use these interfaces.</span></span> <span data-ttu-id="fd67a-225">Bunun nedeni, yönetilen uygulama, istenen iş parçacığı modelini belirtmek için bir şansına sahip olmadan önce [CoInitialize](/windows/desktop/api/objbase/nf-objbase-coinitialize) işlevini kullanarak iş parçacığı modelini ayarlamayı kullanmaktan kaçınmaktır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-225">The reason is to avoid having to set the threading model by using the [CoInitialize](/windows/desktop/api/objbase/nf-objbase-coinitialize) function before the managed application has had a chance to specify its desired threading model.</span></span> <span data-ttu-id="fd67a-226">Benzer şekilde, profil oluşturucunun kendisi de `CoInitialize`çağırmamalıdır, çünkü profili oluşturulan uygulamayla uyumsuz bir iş parçacığı modeli seçip uygulamanın başarısız olmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-226">Similarly, the profiler itself should not call `CoInitialize`, because it may pick a threading model that is incompatible with the application being profiled and may cause the application to fail.</span></span>

## <a name="call-stacks"></a><span data-ttu-id="fd67a-227">Çağrı yığınları</span><span class="sxs-lookup"><span data-stu-id="fd67a-227">Call Stacks</span></span>

<span data-ttu-id="fd67a-228">Profil oluşturma API 'SI, çağrı yığınlarının alınması için iki yol sunar: çağrı yığınlarının seyrek toplanmaya olanak tanıyan bir yığın anlık görüntüsü yöntemi ve her anında çağrı yığınını izleyen bir gölge yığın yöntemi.</span><span class="sxs-lookup"><span data-stu-id="fd67a-228">The profiling API provides two ways to obtain call stacks: a stack snapshot method, which enables sparse gathering of call stacks, and a shadow stack method, which tracks the call stack at every instant.</span></span>

### <a name="stack-snapshot"></a><span data-ttu-id="fd67a-229">Yığın anlık görüntüsü</span><span class="sxs-lookup"><span data-stu-id="fd67a-229">Stack Snapshot</span></span>

<span data-ttu-id="fd67a-230">Yığın anlık görüntüsü, zaman içinde anlık bir iş parçacığı yığınının bir izlemesinde.</span><span class="sxs-lookup"><span data-stu-id="fd67a-230">A stack snapshot is a trace of the stack of a thread at an instant in time.</span></span> <span data-ttu-id="fd67a-231">Profil oluşturma API 'SI yığında yönetilen işlevlerin izlenmesini destekler, ancak yönetilmeyen işlevlerin izlenmesini profil oluşturucunun kendi yığın Denetçisi ' ne bırakır.</span><span class="sxs-lookup"><span data-stu-id="fd67a-231">The profiling API supports the tracing of managed functions on the stack, but it leaves the tracing of unmanaged functions to the profiler's own stack walker.</span></span>

<span data-ttu-id="fd67a-232">Profil oluşturucunun yönetilen yığınları izlenecek şekilde programlamanın nasıl yapılacağı hakkında daha fazla bilgi için, bu belge kümesindeki [ICorProfilerInfo2::D oStackSnapshot](icorprofilerinfo2-dostacksnapshot-method.md) yöntemine ve [profiler Stack .NET Framework 2,0: temelleri ve ötesinde](https://docs.microsoft.com/previous-versions/dotnet/articles/bb264782(v=msdn.10))inceleyin.</span><span class="sxs-lookup"><span data-stu-id="fd67a-232">For more information about how to program the profiler to walk managed stacks, see the [ICorProfilerInfo2::DoStackSnapshot](icorprofilerinfo2-dostacksnapshot-method.md) method in this documentation set, and [Profiler Stack Walking in the .NET Framework 2.0: Basics and Beyond](https://docs.microsoft.com/previous-versions/dotnet/articles/bb264782(v=msdn.10)).</span></span>

### <a name="shadow-stack"></a><span data-ttu-id="fd67a-233">Gölge yığını</span><span class="sxs-lookup"><span data-stu-id="fd67a-233">Shadow Stack</span></span>

<span data-ttu-id="fd67a-234">Snapshot yönteminin çok sık kullanılması, hızlı bir şekilde performans sorunu oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-234">Using the snapshot method too frequently can quickly create a performance issue.</span></span> <span data-ttu-id="fd67a-235">Yığın izlemelerini sık sık almak istiyorsanız, profil oluşturucunun bunun yerine [FunctionEnter2](functionenter2-function.md), [FunctionLeave2](functionleave2-function.md), [FunctionTailcall2](functiontailcall2-function.md)ve [ICorProfilerCallback2](icorprofilercallback2-interface.md) özel durum geri çağırmaları kullanarak bir gölge yığını oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-235">If you want to take stack traces frequently, your profiler should instead build a shadow stack by using the [FunctionEnter2](functionenter2-function.md), [FunctionLeave2](functionleave2-function.md), [FunctionTailcall2](functiontailcall2-function.md), and [ICorProfilerCallback2](icorprofilercallback2-interface.md) exception callbacks.</span></span> <span data-ttu-id="fd67a-236">Gölge yığını her zaman geçerli olur ve yığın anlık görüntüsü gerektiğinde hızlı bir şekilde depolamaya kopyalanabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-236">The shadow stack is always current and can quickly be copied to storage whenever a stack snapshot is needed.</span></span>

<span data-ttu-id="fd67a-237">Bir gölge yığın, işlev bağımsız değişkenlerini, dönüş değerlerini ve genel örneklemeler hakkında bilgileri alabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-237">A shadow stack may obtain function arguments, return values, and information about generic instantiations.</span></span> <span data-ttu-id="fd67a-238">Bu bilgiler yalnızca gölge yığın aracılığıyla kullanılabilir ve denetim bir işleve geldiğinde elde edilebilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-238">This information is available only through the shadow stack and may be obtained when control is handed to a function.</span></span> <span data-ttu-id="fd67a-239">Ancak, bu bilgiler işlevin çalıştırılması sırasında daha sonra kullanılamayabilir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-239">However, this information may not be available later during the run of the function.</span></span>

## <a name="callbacks-and-stack-depth"></a><span data-ttu-id="fd67a-240">Geri çağrılar ve yığın derinliği</span><span class="sxs-lookup"><span data-stu-id="fd67a-240">Callbacks and Stack Depth</span></span>

<span data-ttu-id="fd67a-241">Profiler geri çağırmaları çok yığın kısıtlı koşullarda verilebilir ve bir profil oluşturucu geri aramasında yığın taşması anında işlem çıkışı oluşmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="fd67a-241">Profiler callbacks may be issued in very stack-constrained circumstances, and a stack overflow in a profiler callback will lead to an immediate process exit.</span></span> <span data-ttu-id="fd67a-242">Bir profil oluşturucunun geri çağırmaları yanıtlamak için olabildiğince az yığın olarak kullanılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-242">A profiler should make sure to use as little stack as possible in response to callbacks.</span></span> <span data-ttu-id="fd67a-243">Profil oluşturucunun yığın taşmasına karşı dayanıklı işlemlere karşı kullanılması amaçlanıyorsa, profil oluşturucunun kendisi de yığın taşmasını tetiklememelidir.</span><span class="sxs-lookup"><span data-stu-id="fd67a-243">If the profiler is intended for use against processes that are robust against stack overflow, the profiler itself should also avoid triggering stack overflow.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fd67a-244">İlgili Konular</span><span class="sxs-lookup"><span data-stu-id="fd67a-244">Related Topics</span></span>

|<span data-ttu-id="fd67a-245">Başlık</span><span class="sxs-lookup"><span data-stu-id="fd67a-245">Title</span></span>|<span data-ttu-id="fd67a-246">Açıklama</span><span class="sxs-lookup"><span data-stu-id="fd67a-246">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="fd67a-247">Profil Oluşturma Ortamını Ayarlama</span><span class="sxs-lookup"><span data-stu-id="fd67a-247">Setting Up a Profiling Environment</span></span>](setting-up-a-profiling-environment.md)|<span data-ttu-id="fd67a-248">Profil oluşturucuyu başlatma, olay bildirimlerini ayarlama ve bir Windows hizmeti profili oluşturma hakkında bilgiler sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-248">Explains how to initialize a profiler, set event notifications, and profile a Windows Service.</span></span>|
|[<span data-ttu-id="fd67a-249">Profil Oluşturma Arabirimleri</span><span class="sxs-lookup"><span data-stu-id="fd67a-249">Profiling Interfaces</span></span>](profiling-interfaces.md)|<span data-ttu-id="fd67a-250">Profil oluşturma API 'sinin kullandığı yönetilmeyen arabirimleri açıklar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-250">Describes the unmanaged interfaces that the profiling API uses.</span></span>|
|[<span data-ttu-id="fd67a-251">Profil Oluşturma Genel Statik İşlevleri</span><span class="sxs-lookup"><span data-stu-id="fd67a-251">Profiling Global Static Functions</span></span>](profiling-global-static-functions.md)|<span data-ttu-id="fd67a-252">Profil oluşturma API 'sinin kullandığı yönetilmeyen genel statik işlevleri açıklar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-252">Describes the unmanaged global static functions that the profiling API uses.</span></span>|
|[<span data-ttu-id="fd67a-253">Profil Oluşturma Sabit Listeleri</span><span class="sxs-lookup"><span data-stu-id="fd67a-253">Profiling Enumerations</span></span>](profiling-enumerations.md)|<span data-ttu-id="fd67a-254">Profil oluşturma API 'sinin kullandığı yönetilmeyen numaralandırmaları açıklar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-254">Describes the unmanaged enumerations that the profiling API uses.</span></span>|
|[<span data-ttu-id="fd67a-255">Profil Oluşturma Yapıları</span><span class="sxs-lookup"><span data-stu-id="fd67a-255">Profiling Structures</span></span>](profiling-structures.md)|<span data-ttu-id="fd67a-256">Profil oluşturma API 'sinin kullandığı yönetilmeyen yapıları açıklar.</span><span class="sxs-lookup"><span data-stu-id="fd67a-256">Describes the unmanaged structures that the profiling API uses.</span></span>|
