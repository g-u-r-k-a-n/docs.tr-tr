---
title: Temsilcileri kullanma-C# Programlama Kılavuzu
ms.date: 07/20/2015
helpviewer_keywords:
- delegates [C#], how to use
ms.assetid: 99a2fc27-a32e-4a34-921c-e65497520eec
ms.openlocfilehash: 9a81ee5ccdc2697ca435d40be27568b651977f96
ms.sourcegitcommit: a241301495a84cc8c64fe972330d16edd619868b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/01/2020
ms.locfileid: "84241597"
---
# <a name="using-delegates-c-programming-guide"></a><span data-ttu-id="84ef0-102">Temsilcileri Kullanma (C# Programlama Kılavuzu)</span><span class="sxs-lookup"><span data-stu-id="84ef0-102">Using Delegates (C# Programming Guide)</span></span>

<span data-ttu-id="84ef0-103">[Temsilci](../../language-reference/builtin-types/reference-types.md) , bir yöntemi güvenli bir şekilde kapsülleyen, C ve C++ içindeki bir işlev işaretçisine benzer bir türdür.</span><span class="sxs-lookup"><span data-stu-id="84ef0-103">A [delegate](../../language-reference/builtin-types/reference-types.md) is a type that safely encapsulates a method, similar to a function pointer in C and C++.</span></span> <span data-ttu-id="84ef0-104">C işlev işaretçilerinden farklı olarak, temsilciler nesne odaklı, tür kullanımı güvenli ve güvenli.</span><span class="sxs-lookup"><span data-stu-id="84ef0-104">Unlike C function pointers, delegates are object-oriented, type safe, and secure.</span></span> <span data-ttu-id="84ef0-105">Temsilcinin türü, temsilcinin adı tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-105">The type of a delegate is defined by the name of the delegate.</span></span> <span data-ttu-id="84ef0-106">Aşağıdaki örnek, `Del` bağımsız değişken olarak bir [dize](../../language-reference/builtin-types/reference-types.md) alan ve [void](../../language-reference/builtin-types/void.md)döndüren bir yöntemi kapsülleyen adlı bir temsilci bildirir:</span><span class="sxs-lookup"><span data-stu-id="84ef0-106">The following example declares a delegate named `Del` that can encapsulate a method that takes a [string](../../language-reference/builtin-types/reference-types.md) as an argument and returns [void](../../language-reference/builtin-types/void.md):</span></span>

[!code-csharp[csProgGuideDelegates#21](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#21)]

<span data-ttu-id="84ef0-107">Temsilci nesnesi normalde, temsilcinin kaydıralacağı yöntemin adı veya [anonim bir işlevle](../statements-expressions-operators/anonymous-functions.md)oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="84ef0-107">A delegate object is normally constructed by providing the name of the method the delegate will wrap, or with an [anonymous function](../statements-expressions-operators/anonymous-functions.md).</span></span> <span data-ttu-id="84ef0-108">Bir temsilci örneği oluşturulduktan sonra temsilciye yapılan bir yöntem çağrısı, bu yönteme verilen temsilci tarafından geçirilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-108">Once a delegate is instantiated, a method call made to the delegate will be passed by the delegate to that method.</span></span> <span data-ttu-id="84ef0-109">Çağıran tarafından temsilciye geçirilen parametreler yöntemine geçirilir ve yöntem, varsa dönüş değeri, temsilci tarafından çağırana döndürülür.</span><span class="sxs-lookup"><span data-stu-id="84ef0-109">The parameters passed to the delegate by the caller are passed to the method, and the return value, if any, from the method is returned to the caller by the delegate.</span></span> <span data-ttu-id="84ef0-110">Bu, temsilciyi çağırmak olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-110">This is known as invoking the delegate.</span></span> <span data-ttu-id="84ef0-111">Örneklenen bir temsilci, Sarmalanan yöntemin kendisi gibi çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-111">An instantiated delegate can be invoked as if it were the wrapped method itself.</span></span> <span data-ttu-id="84ef0-112">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="84ef0-112">For example:</span></span>

[!code-csharp[csProgGuideDelegates#22](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#22)]  

[!code-csharp[csProgGuideDelegates#23](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#23)]

<span data-ttu-id="84ef0-113">Temsilci türleri <xref:System.Delegate> .net 'teki sınıfından türetilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-113">Delegate types are derived from the <xref:System.Delegate> class in .NET.</span></span> <span data-ttu-id="84ef0-114">Temsilci türleri [mühürlenmiş](../../language-reference/keywords/sealed.md)—, öğesinden türetilemez ve ' den özel sınıflar türetmek mümkün değildir <xref:System.Delegate> .</span><span class="sxs-lookup"><span data-stu-id="84ef0-114">Delegate types are [sealed](../../language-reference/keywords/sealed.md)—they cannot be derived from— and it is not possible to derive custom classes from <xref:System.Delegate>.</span></span> <span data-ttu-id="84ef0-115">Örneklenmiş temsilci bir nesne olduğundan, parametre olarak geçirilebilir veya bir özelliğe atanabilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-115">Because the instantiated delegate is an object, it can be passed as a parameter, or assigned to a property.</span></span> <span data-ttu-id="84ef0-116">Bu, bir yöntemin bir temsilciyi bir parametre olarak kabul etmesine izin verir ve daha sonra temsilciyi daha sonra çağırabilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-116">This allows a method to accept a delegate as a parameter, and call the delegate at some later time.</span></span> <span data-ttu-id="84ef0-117">Bu, zaman uyumsuz geri arama olarak bilinir ve uzun bir işlem tamamlandığında bir çağrıyı bildirmeye yönelik yaygın bir yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-117">This is known as an asynchronous callback, and is a common method of notifying a caller when a long process has completed.</span></span> <span data-ttu-id="84ef0-118">Bu şekilde bir temsilci kullanıldığında, temsilciyi kullanan koda, kullanılmakta olan yöntemin uygulanması hakkında herhangi bir bilgi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="84ef0-118">When a delegate is used in this fashion, the code using the delegate does not need any knowledge of the implementation of the method being used.</span></span> <span data-ttu-id="84ef0-119">İşlevselliği, kapsülleme arabirimlerine benzer.</span><span class="sxs-lookup"><span data-stu-id="84ef0-119">The functionality is similar to the encapsulation interfaces provide.</span></span>

<span data-ttu-id="84ef0-120">Geri aramaların diğer yaygın kullanımları özel bir karşılaştırma yöntemi tanımlayarak bu temsilciyi bir sıralama yöntemine geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-120">Another common use of callbacks is defining a custom comparison method and passing that delegate to a sort method.</span></span> <span data-ttu-id="84ef0-121">Çağıran kodun sıralama algoritmasının bir parçası haline gelmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-121">It allows the caller's code to become part of the sort algorithm.</span></span> <span data-ttu-id="84ef0-122">Aşağıdaki örnek yöntem `Del` türü bir parametre olarak kullanır:</span><span class="sxs-lookup"><span data-stu-id="84ef0-122">The following example method uses the `Del` type as a parameter:</span></span>

[!code-csharp[csProgGuideDelegates#24](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#24)]

<span data-ttu-id="84ef0-123">Daha sonra, yukarıda oluşturulan temsilciyi Bu metoda geçirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="84ef0-123">You can then pass the delegate created above to that method:</span></span>

[!code-csharp[csProgGuideDelegates#25](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#25)]

<span data-ttu-id="84ef0-124">ve konsola aşağıdaki çıktıyı alın:</span><span class="sxs-lookup"><span data-stu-id="84ef0-124">and receive the following output to the console:</span></span>

```console
The number is: 3
```

<span data-ttu-id="84ef0-125">Temsilciyi bir soyutlama olarak kullanmanın, `MethodWithCallback` Konsolu doğrudan çağırması gerekmez; bir konsol göz önünde bulundurularak tasarlanmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-125">Using the delegate as an abstraction, `MethodWithCallback` does not need to call the console directly—it does not have to be designed with a console in mind.</span></span> <span data-ttu-id="84ef0-126">`MethodWithCallback`Yalnızca bir dizeyi hazırlayın ve dizeyi başka bir yönteme geçirin.</span><span class="sxs-lookup"><span data-stu-id="84ef0-126">What `MethodWithCallback` does is simply prepare a string and pass the string to another method.</span></span> <span data-ttu-id="84ef0-127">Bu, temsilci bir yöntemin herhangi bir sayıda parametreyi kullanabilmesi nedeniyle özellikle güçlüdür.</span><span class="sxs-lookup"><span data-stu-id="84ef0-127">This is especially powerful since a delegated method can use any number of parameters.</span></span>

<span data-ttu-id="84ef0-128">Bir temsilci bir örnek yöntemini kaydırmak üzere oluşturulduğunda, temsilci hem örneğe hem de yöntemine başvurur.</span><span class="sxs-lookup"><span data-stu-id="84ef0-128">When a delegate is constructed to wrap an instance method, the delegate references both the instance and the method.</span></span> <span data-ttu-id="84ef0-129">Bir temsilcinin, sarmaladığı yöntemden farklı olarak örnek türü bilgisi yoktur, bu nedenle bir temsilci, bu nesnede temsilci imzasıyla eşleşen bir yöntem olduğu sürece herhangi bir nesne türüne başvurabilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-129">A delegate has no knowledge of the instance type aside from the method it wraps, so a delegate can refer to any type of object as long as there is a method on that object that matches the delegate signature.</span></span> <span data-ttu-id="84ef0-130">Statik bir yöntemi kaydırmak için bir temsilci oluşturulduğunda, yalnızca yöntemine başvurur.</span><span class="sxs-lookup"><span data-stu-id="84ef0-130">When a delegate is constructed to wrap a static method, it only references the method.</span></span> <span data-ttu-id="84ef0-131">Aşağıdaki bildirimleri dikkate alın:</span><span class="sxs-lookup"><span data-stu-id="84ef0-131">Consider the following declarations:</span></span>

[!code-csharp[csProgGuideDelegates#26](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#26)]

<span data-ttu-id="84ef0-132">`DelegateMethod`Daha önce gösterilen statik ile birlikte, artık bir örnek tarafından sarmalanabilir üç yöntem sunuyoruz `Del` .</span><span class="sxs-lookup"><span data-stu-id="84ef0-132">Along with the static `DelegateMethod` shown previously, we now have three methods that can be wrapped by a `Del` instance.</span></span>

<span data-ttu-id="84ef0-133">Bir temsilci, çağrıldığında birden fazla yöntem çağırabilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-133">A delegate can call more than one method when invoked.</span></span> <span data-ttu-id="84ef0-134">Bu, çok noktaya yayın olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-134">This is referred to as multicasting.</span></span> <span data-ttu-id="84ef0-135">Temsilcinin Yöntemler listesine ek bir yöntem eklemek için — çağırma listesi — ekleme veya ekleme atama işleçlerini (' + ' veya ' + = ') kullanarak yalnızca iki temsilci eklenmesini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-135">To add an extra method to the delegate's list of methods—the invocation list—simply requires adding two delegates using the addition or addition assignment operators ('+' or '+=').</span></span> <span data-ttu-id="84ef0-136">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="84ef0-136">For example:</span></span>

[!code-csharp[csProgGuideDelegates#27](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#27)]

<span data-ttu-id="84ef0-137">Bu noktada,, `allMethodsDelegate` ve, çağırma listesinde üç yöntem bulunur —, `Method1` `Method2` ve `DelegateMethod` .</span><span class="sxs-lookup"><span data-stu-id="84ef0-137">At this point `allMethodsDelegate` contains three methods in its invocation list—`Method1`, `Method2`, and `DelegateMethod`.</span></span> <span data-ttu-id="84ef0-138">Özgün üç temsilci,, `d1` `d2` ve, `d3` değişmeden kalır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-138">The original three delegates, `d1`, `d2`, and `d3`, remain unchanged.</span></span> <span data-ttu-id="84ef0-139">`allMethodsDelegate`Çağrıldığında, üç yöntemin tümü sırasıyla çağrılır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-139">When `allMethodsDelegate` is invoked, all three methods are called in order.</span></span> <span data-ttu-id="84ef0-140">Temsilci başvuru parametreleri kullanıyorsa, başvuru her üç yöntemin her birine sırayla geçirilir ve bir yönteme göre yapılan değişiklikler sonraki yönteme göre görünür.</span><span class="sxs-lookup"><span data-stu-id="84ef0-140">If the delegate uses reference parameters, the reference is passed sequentially to each of the three methods in turn, and any changes by one method are visible to the next method.</span></span> <span data-ttu-id="84ef0-141">Metotlardan herhangi biri, yöntemi içinde yakalanmayan bir özel durum oluşturduğunda, bu özel durum temsilci çağıranına geçirilir ve çağrı listesinde sonraki Yöntemler çağrılmaz.</span><span class="sxs-lookup"><span data-stu-id="84ef0-141">When any of the methods throws an exception that is not caught within the method, that exception is passed to the caller of the delegate and no subsequent methods in the invocation list are called.</span></span> <span data-ttu-id="84ef0-142">Temsilcinin dönüş değeri ve/veya out parametreleri varsa, çağrılan son yöntemin dönüş değerini ve parametrelerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="84ef0-142">If the delegate has a return value and/or out parameters, it returns the return value and parameters of the last method invoked.</span></span> <span data-ttu-id="84ef0-143">Çağırma listesinden bir yöntemi kaldırmak için [çıkarma veya çıkarma atama işleçlerini](../../language-reference/operators/subtraction-operator.md) ( `-` veya `-=` ) kullanın.</span><span class="sxs-lookup"><span data-stu-id="84ef0-143">To remove a method from the invocation list, use the [subtraction or subtraction assignment operators](../../language-reference/operators/subtraction-operator.md) (`-` or `-=`).</span></span> <span data-ttu-id="84ef0-144">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="84ef0-144">For example:</span></span>

[!code-csharp[csProgGuideDelegates#28](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#28)]

<span data-ttu-id="84ef0-145">Temsilci türleri öğesinden türetildiğinden `System.Delegate` , bu sınıf tarafından tanımlanan Yöntemler ve Özellikler temsilci üzerinde çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-145">Because delegate types are derived from `System.Delegate`, the methods and properties defined by that class can be called on the delegate.</span></span> <span data-ttu-id="84ef0-146">Örneğin, bir temsilcinin çağrı listesindeki Yöntem sayısını bulmak için şunu yazabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="84ef0-146">For example, to find the number of methods in a delegate's invocation list, you may write:</span></span>

[!code-csharp[csProgGuideDelegates#29](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#29)]

<span data-ttu-id="84ef0-147">Çağırma listesinde birden fazla metodu olan temsilciler <xref:System.MulticastDelegate> , bir alt sınıfı olan öğesinden türetilir `System.Delegate` .</span><span class="sxs-lookup"><span data-stu-id="84ef0-147">Delegates with more than one method in their invocation list derive from <xref:System.MulticastDelegate>, which is a subclass of `System.Delegate`.</span></span> <span data-ttu-id="84ef0-148">Yukarıdaki kod, her iki sınıf de desteklediği için her iki durumda da çalışmaktadır `GetInvocationList` .</span><span class="sxs-lookup"><span data-stu-id="84ef0-148">The above code works in either case because both classes support `GetInvocationList`.</span></span>

<span data-ttu-id="84ef0-149">Çok noktaya yayın temsilcileri, yoğun şekilde olay İşlemede kullanılır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-149">Multicast delegates are used extensively in event handling.</span></span> <span data-ttu-id="84ef0-150">Olay kaynak nesneleri olay bildirimlerini, bu olayı almak için kaydedilen alıcı nesnelerine gönderir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-150">Event source objects send event notifications to recipient objects that have registered to receive that event.</span></span> <span data-ttu-id="84ef0-151">Bir olaya kaydolmak için alıcı, olayı işlemek için tasarlanan bir yöntem oluşturur, ardından bu yöntem için bir temsilci oluşturur ve temsilciyi olay kaynağına geçirir.</span><span class="sxs-lookup"><span data-stu-id="84ef0-151">To register for an event, the recipient creates a method designed to handle the event, then creates a delegate for that method and passes the delegate to the event source.</span></span> <span data-ttu-id="84ef0-152">Kaynak, olay gerçekleştiğinde temsilciyi çağırır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-152">The source calls the delegate when the event occurs.</span></span> <span data-ttu-id="84ef0-153">Temsilci daha sonra olay verilerini teslim eden, alıcı üzerinde olay işleme yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-153">The delegate then calls the event handling method on the recipient, delivering the event data.</span></span> <span data-ttu-id="84ef0-154">Belirli bir olayın temsilci türü olay kaynağı tarafından tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="84ef0-154">The delegate type for a given event is defined by the event source.</span></span> <span data-ttu-id="84ef0-155">Daha fazla bilgi için bkz. [Olaylar](../events/index.md).</span><span class="sxs-lookup"><span data-stu-id="84ef0-155">For more, see [Events](../events/index.md).</span></span>

<span data-ttu-id="84ef0-156">Derleme zamanında atanan iki farklı türün temsilcilerin karşılaştırılması, derleme hatasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="84ef0-156">Comparing delegates of two different types assigned at compile-time will result in a compilation error.</span></span> <span data-ttu-id="84ef0-157">Temsilci örnekleri türü statik olarak varsa `System.Delegate` , karşılaştırmaya izin verilir, ancak çalışma zamanında false döndürür.</span><span class="sxs-lookup"><span data-stu-id="84ef0-157">If the delegate instances are statically of the type `System.Delegate`, then the comparison is allowed, but will return false at run time.</span></span> <span data-ttu-id="84ef0-158">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="84ef0-158">For example:</span></span>

[!code-csharp[csProgGuideDelegates#30](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideDelegates/CS/Delegates.cs#30)]

## <a name="see-also"></a><span data-ttu-id="84ef0-159">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="84ef0-159">See also</span></span>

- [<span data-ttu-id="84ef0-160">C# Programlama Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="84ef0-160">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="84ef0-161">Temsilciler</span><span class="sxs-lookup"><span data-stu-id="84ef0-161">Delegates</span></span>](./index.md)
- [<span data-ttu-id="84ef0-162">Temsilcilerde Varyans Kullanma</span><span class="sxs-lookup"><span data-stu-id="84ef0-162">Using Variance in Delegates</span></span>](../concepts/covariance-contravariance/using-variance-in-delegates.md)
- [<span data-ttu-id="84ef0-163">Temsilcilerde Varyans</span><span class="sxs-lookup"><span data-stu-id="84ef0-163">Variance in Delegates</span></span>](../concepts/covariance-contravariance/variance-in-delegates.md)
- [<span data-ttu-id="84ef0-164">İşlev ve Eylem Genel Temsilcileri için Varyans Kullanma</span><span class="sxs-lookup"><span data-stu-id="84ef0-164">Using Variance for Func and Action Generic Delegates</span></span>](../concepts/covariance-contravariance/using-variance-for-func-and-action-generic-delegates.md)
- [<span data-ttu-id="84ef0-165">Ekinlikler</span><span class="sxs-lookup"><span data-stu-id="84ef0-165">Events</span></span>](../events/index.md)
