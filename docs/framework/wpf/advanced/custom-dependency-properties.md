---
title: Özel Bağımlılık Özellikleri
description: Windows Presentation Foundation özellik uygulama adımlarını ve özelliğin performansını, kullanılabilirliğini veya çok yönlülüğünü geliştirme seçeneklerini öğrenin.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- implementing [WPF], wrappers
- registering properties [WPF]
- properties [WPF], metadata
- metadata [WPF], for properties
- custom dependency properties [WPF]
- properties [WPF], registering
- wrappers [WPF], implementing
- dependency properties [WPF], custom
ms.assetid: e6bfcfac-b10d-4f58-9f77-a864c2a2938f
ms.openlocfilehash: b082340afb8b1a814fc5923126aa58183d43bc01
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/24/2020
ms.locfileid: "87168147"
---
# <a name="custom-dependency-properties"></a><span data-ttu-id="b3a80-103">Özel Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-103">Custom Dependency Properties</span></span>

<span data-ttu-id="b3a80-104">Bu konuda [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] , uygulama geliştiricilerinin ve bileşen yazarlarının özel bağımlılık özelliği oluşturmak isteyebileceğiniz nedenler açıklanmakta ve özelliğin performansı, kullanılabilirliği veya çok yönlülüğü iyileştirebilecek bazı uygulama seçenekleri de açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-104">This topic describes the reasons that [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application developers and component authors might want to create custom dependency property, and describes the implementation steps as well as some implementation options that can improve performance, usability, or versatility of the property.</span></span>

<a name="prerequisites"></a>

## <a name="prerequisites"></a><span data-ttu-id="b3a80-105">Ön koşullar</span><span class="sxs-lookup"><span data-stu-id="b3a80-105">Prerequisites</span></span>

<span data-ttu-id="b3a80-106">Bu konuda, sınıflarda mevcut bağımlılık özelliklerinin bir tüketicisinin perspektifinden bağımlılık özelliklerini anladığınızı [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ve [bağımlılık özelliklerine genel bakış](dependency-properties-overview.md) konusunu okuduğunuzu varsaymış olursunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-106">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](dependency-properties-overview.md) topic.</span></span> <span data-ttu-id="b3a80-107">Bu konudaki örnekleri izlemek için, [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] uygulamaların nasıl yazılacağını de anlamanız ve bilmeniz gerekir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b3a80-107">In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>

<a name="whatis"></a>

## <a name="what-is-a-dependency-property"></a><span data-ttu-id="b3a80-108">Bağımlılık özelliği nedir?</span><span class="sxs-lookup"><span data-stu-id="b3a80-108">What Is a Dependency Property?</span></span>

<span data-ttu-id="b3a80-109">Aynı şekilde, bir bağımlılık özelliği olarak uygulayarak stil, veri bağlama, devralma, animasyonlar ve varsayılan değerleri desteklemek için ortak dil çalışma zamanı (CLR) özelliğinin ne olduğunu seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-109">You can enable what would otherwise be a common language runtime (CLR) property to support styling, data binding, inheritance, animations, and default values by implementing it as a dependency property.</span></span> <span data-ttu-id="b3a80-110">Bağımlılık özellikleri, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.DependencyProperty.Register%2A> yöntemi çağırarak (veya <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> ) ve bir tanımlayıcı alan tarafından desteklenen özellik sistemiyle kaydedilen özelliklerdir <xref:System.Windows.DependencyProperty> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-110">Dependency properties are properties that are registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system by calling the <xref:System.Windows.DependencyProperty.Register%2A> method (or <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A>), and that are backed by a <xref:System.Windows.DependencyProperty> identifier field.</span></span> <span data-ttu-id="b3a80-111">Bağımlılık özellikleri yalnızca türler tarafından kullanılabilir <xref:System.Windows.DependencyObject> , ancak <xref:System.Windows.DependencyObject> sınıf hiyerarşisinde oldukça yüksek olduğundan [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , ' de bulunan sınıfların çoğu [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bağımlılık özelliklerini destekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-111">Dependency properties can be used only by <xref:System.Windows.DependencyObject> types, but <xref:System.Windows.DependencyObject> is quite high in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] class hierarchy, so the majority of classes available in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can support dependency properties.</span></span> <span data-ttu-id="b3a80-112">Bağımlılık özellikleri ve bu SDK 'da bunları açıklamak için kullanılan bazı terminoloji ve kurallar hakkında daha fazla bilgi için bkz. [bağımlılık özelliklerine genel bakış](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-112">For more information about dependency properties and some of the terminology and conventions used for describing them in this SDK, see [Dependency Properties Overview](dependency-properties-overview.md).</span></span>

<a name="example_dp"></a>

## <a name="examples-of-dependency-properties"></a><span data-ttu-id="b3a80-113">Bağımlılık özellikleri örnekleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-113">Examples of Dependency Properties</span></span>

<span data-ttu-id="b3a80-114">Sınıflarda uygulanan bağımlılık özelliklerinin örnekleri, özelliği, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Controls.Control.Background%2A> <xref:System.Windows.FrameworkElement.Width%2A> özelliği ve <xref:System.Windows.Controls.TextBox.Text%2A> özelliği de birçok başka özellik arasında bulunur.</span><span class="sxs-lookup"><span data-stu-id="b3a80-114">Examples of dependency properties that are implemented on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes include the <xref:System.Windows.Controls.Control.Background%2A> property, the <xref:System.Windows.FrameworkElement.Width%2A> property, and the <xref:System.Windows.Controls.TextBox.Text%2A> property, among many others.</span></span> <span data-ttu-id="b3a80-115">Bir sınıf tarafından sunulan her bağımlılık özelliği, aynı sınıfta sunulan karşılık gelen ortak statik bir alana sahiptir <xref:System.Windows.DependencyProperty> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-115">Each dependency property exposed by a class has a corresponding public static field of type <xref:System.Windows.DependencyProperty> exposed on that same class.</span></span> <span data-ttu-id="b3a80-116">Bu, Dependency özelliğine yönelik tanıtıcıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-116">This is the identifier for the dependency property.</span></span> <span data-ttu-id="b3a80-117">Tanımlayıcı, bir kural kullanılarak adlandırılır: dize eklenmiş olan Dependency özelliğinin adı `Property` .</span><span class="sxs-lookup"><span data-stu-id="b3a80-117">The identifier is named using a convention: the name of the dependency property with the string `Property` appended to it.</span></span> <span data-ttu-id="b3a80-118">Örneğin, <xref:System.Windows.DependencyProperty> özelliği için karşılık gelen tanımlayıcı alanı <xref:System.Windows.Controls.Control.Background%2A> <xref:System.Windows.Controls.Control.BackgroundProperty> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-118">For example, the corresponding <xref:System.Windows.DependencyProperty> identifier field for the <xref:System.Windows.Controls.Control.Background%2A> property is <xref:System.Windows.Controls.Control.BackgroundProperty>.</span></span> <span data-ttu-id="b3a80-119">Tanımlayıcı, kayıt sırasında bağımlılık özelliği hakkında bilgi depolar ve tanımlayıcı daha sonra, çağırma gibi bağımlılık özelliğini içeren diğer işlemler için kullanılır <xref:System.Windows.DependencyObject.SetValue%2A> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-119">The identifier stores the information about the dependency property as it was registered, and the identifier is then used later for other operations involving the dependency property, such as calling <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>

<span data-ttu-id="b3a80-120">[Bağımlılık özelliklerine genel bakış](dependency-properties-overview.md)bölümünde belirtildiği gibi, içindeki tüm bağımlılık özellikleri [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (en fazla ekli özellikler hariç), "sarmalayıcı" UYGULAMASıYLA aynı zamanda clr özellikleridir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-120">As mentioned in the [Dependency Properties Overview](dependency-properties-overview.md), all dependency properties in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (except most attached properties) are also CLR properties because of the "wrapper" implementation.</span></span> <span data-ttu-id="b3a80-121">Bu nedenle, koddan, diğer CLR özelliklerini kullandığınız şekilde sarmalayıcıları tanımlayan CLR erişimcileri çağırarak bağımlılık özelliklerini alabilir veya ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-121">Therefore, from code, you can get or set dependency properties by calling CLR accessors that define the wrappers in the same manner that you would use other CLR properties.</span></span> <span data-ttu-id="b3a80-122">Bağımlılık özelliklerinin bir tüketicisi olarak, <xref:System.Windows.DependencyObject> <xref:System.Windows.DependencyObject.GetValue%2A> <xref:System.Windows.DependencyObject.SetValue%2A> temel alınan özellik sistemine bağlantı noktası olan yöntemleri ve genellikle kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="b3a80-122">As a consumer of established dependency properties, you do not typically use the <xref:System.Windows.DependencyObject> methods <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A>, which are the connection point to the underlying property system.</span></span> <span data-ttu-id="b3a80-123">Bunun yerine, CLR özelliklerinin mevcut uygulaması, <xref:System.Windows.DependencyObject.GetValue%2A> <xref:System.Windows.DependencyObject.SetValue%2A> `get` `set` tanımlayıcı alanını uygun şekilde kullanarak, özelliğin ve sarmalayıcı uygulamalarının içinde zaten çağırılır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-123">Rather, the existing implementation of the CLR properties will have already called <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> within the `get` and `set` wrapper implementations of the property, using the identifier field appropriately.</span></span> <span data-ttu-id="b3a80-124">Kendi kendinize özel bir bağımlılık özelliği uygularken, sarmalayıcı benzer bir şekilde tanımlayacaksınız.</span><span class="sxs-lookup"><span data-stu-id="b3a80-124">If you are implementing a custom dependency property yourself, then you will be defining the wrapper in a similar way.</span></span>

<a name="backing_with_dp"></a>

## <a name="when-should-you-implement-a-dependency-property"></a><span data-ttu-id="b3a80-125">Bağımlılık özelliğini ne zaman uygulamanız gerekir?</span><span class="sxs-lookup"><span data-stu-id="b3a80-125">When Should You Implement a Dependency Property?</span></span>

<span data-ttu-id="b3a80-126">Bir sınıf üzerinde bir özellik uyguladığınızda, sınıfınızın ' den türettiği sürece <xref:System.Windows.DependencyObject> , özelliğini bir tanımlayıcı ile geri yükleyebilirsiniz <xref:System.Windows.DependencyProperty> ve bu sayede bir bağımlılık özelliği yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-126">When you implement a property on a class, so long as your class derives from <xref:System.Windows.DependencyObject>, you have the option to back your property with a <xref:System.Windows.DependencyProperty> identifier and thus to make it a dependency property.</span></span> <span data-ttu-id="b3a80-127">Özelliğin bağımlılık özelliği olması her zaman gerekli veya uygun değildir ve senaryo gereksinimlerinize göre değişir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-127">Having your property be a dependency property is not always necessary or appropriate, and will depend on your scenario needs.</span></span> <span data-ttu-id="b3a80-128">Bazen, özelliği özel bir alanla yedeklemenin tipik tekniği yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-128">Sometimes, the typical technique of backing your property with a private field is adequate.</span></span> <span data-ttu-id="b3a80-129">Ancak, özelliği aşağıdaki özelliklerde bir veya daha fazlasını desteklemek istediğinizde, bir bağımlılık özelliği olarak özelliğini uygulamalısınız [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="b3a80-129">However, you should implement your property as a dependency property whenever you want your property to support one or more of the following [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] capabilities:</span></span>

- <span data-ttu-id="b3a80-130">Özelliğin bir stilde ayarlanabilir olmasını istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-130">You want your property to be settable in a style.</span></span> <span data-ttu-id="b3a80-131">Daha fazla bilgi için bkz. [Stil oluşturma ve şablon](../../../desktop-wpf/fundamentals/styles-templates-overview.md)oluşturma.</span><span class="sxs-lookup"><span data-stu-id="b3a80-131">For more information, see [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span>

- <span data-ttu-id="b3a80-132">Özelliğin veri bağlamayı desteklemesini istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-132">You want your property to support data binding.</span></span> <span data-ttu-id="b3a80-133">Veri bağlama bağımlılığı özellikleri hakkında daha fazla bilgi için bkz. [Iki denetimin özelliklerini bağlama](../data/how-to-bind-the-properties-of-two-controls.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-133">For more information about data binding dependency properties, see [Bind the Properties of Two Controls](../data/how-to-bind-the-properties-of-two-controls.md).</span></span>

- <span data-ttu-id="b3a80-134">Özelliğin dinamik bir kaynak başvurusuyla ayarlanabilir olmasını istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-134">You want your property to be settable with a dynamic resource reference.</span></span> <span data-ttu-id="b3a80-135">Daha fazla bilgi için bkz. [xaml kaynakları](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-135">For more information, see [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span>

- <span data-ttu-id="b3a80-136">Bir özellik değerini, öğe ağacındaki bir üst öğeden otomatik olarak devralmayı istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-136">You want to inherit a property value automatically from a parent element in the element tree.</span></span> <span data-ttu-id="b3a80-137">Bu durumda, <xref:System.Windows.DependencyProperty.RegisterAttached%2A> clr erişimi için bir özellik sarmalayıcısı da oluştursanız bile yöntemiyle kaydolun.</span><span class="sxs-lookup"><span data-stu-id="b3a80-137">In this case, register with the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method, even if you also create a property wrapper for CLR access.</span></span> <span data-ttu-id="b3a80-138">Daha fazla bilgi için bkz. [özellik değeri devralma](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-138">For more information, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

- <span data-ttu-id="b3a80-139">Özelliğin Animatable olmasını istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-139">You want your property to be animatable.</span></span> <span data-ttu-id="b3a80-140">Daha fazla bilgi için bkz. [animasyon genel bakış](../graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-140">For more information, see [Animation Overview](../graphics-multimedia/animation-overview.md).</span></span>

- <span data-ttu-id="b3a80-141">Özellik sisteminin, özelliğin önceki değeri, özellik sistemi, ortam, veya Kullanıcı tarafından gerçekleştirilen eylemler tarafından ne zaman değiştirildiğini ya da stilleri okuyarak ve kullanarak rapor kullanmasını istersiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-141">You want the property system to report when the previous value of the property has been changed by actions taken by the property system, the environment, or the user, or by reading and using styles.</span></span> <span data-ttu-id="b3a80-142">Özelliği, özellik meta verilerini kullanarak özellik sisteminin, özellik değerinin tanımlı olduğunu belirlediği her seferinde çağrılacak bir geri çağırma yöntemi belirtebilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-142">By using property metadata, your property can specify a callback method that will be invoked each time the property system determines that your property value was definitively changed.</span></span> <span data-ttu-id="b3a80-143">İlgili bir kavram Özellik değeri zorlamasının olması.</span><span class="sxs-lookup"><span data-stu-id="b3a80-143">A related concept is property value coercion.</span></span> <span data-ttu-id="b3a80-144">Daha fazla bilgi için bkz. [bağımlılık özelliği geri çağırmaları ve doğrulama](dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-144">For more information, see [Dependency Property Callbacks and Validation](dependency-property-callbacks-and-validation.md).</span></span>

- <span data-ttu-id="b3a80-145">Bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] özellik değerinin değiştirilmesinin, düzen sisteminin bir öğenin görsellerini yeniden oluşturmak için gerekli olup olmayacağını bildirmek gibi süreçler tarafından da kullanılan oluşturulan meta veri kurallarını kullanmak istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-145">You want to use established metadata conventions that are also used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] processes, such as reporting whether changing a property value should require the layout system to recompose the visuals for an element.</span></span> <span data-ttu-id="b3a80-146">Ya da türetilmiş sınıfların varsayılan değer gibi meta veri tabanlı özellikleri değiştirebilmeleri için meta veri geçersiz kılmalarını kullanmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-146">Or you want to be able to use metadata overrides so that derived classes can change metadata-based characteristics such as the default value.</span></span>

- <span data-ttu-id="b3a80-147">Özel bir denetimin özelliklerinin **Özellikler** penceresi düzenlemesi gibi VISUAL Studio WPF tasarımcı desteğini almasını istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-147">You want properties of a custom control to receive Visual Studio WPF Designer support, such as **Properties** window editing.</span></span> <span data-ttu-id="b3a80-148">Daha fazla bilgi için bkz. [Denetim yazma genel bakış](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-148">For more information, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>

<span data-ttu-id="b3a80-149">Bu senaryoları incelediğinizde, tamamen yeni bir özellik uygulamak yerine var olan bir bağımlılık özelliğinin meta verilerini geçersiz kılarak senaryonuzu elde etmeyi de göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-149">When you examine these scenarios, you should also consider whether you can achieve your scenario by overriding the metadata of an existing dependency property, rather than implementing a completely new property.</span></span> <span data-ttu-id="b3a80-150">Meta veri geçersiz kılmanın pratik olup olmadığı, senaryonuza ve bu senaryonun mevcut [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bağımlılık özellikleri ve sınıflarında uygulamaya ne kadar yakından benzediğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-150">Whether a metadata override is practical depends on your scenario and how closely that scenario resembles the implementation in existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dependency properties and classes.</span></span> <span data-ttu-id="b3a80-151">Mevcut özelliklerde meta verileri geçersiz kılma hakkında daha fazla bilgi için bkz. [bağımlılık özelliği meta verileri](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-151">For more information about overriding metadata on existing properties, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

<a name="checklist"></a>

## <a name="checklist-for-defining-a-dependency-property"></a><span data-ttu-id="b3a80-152">Bağımlılık özelliği tanımlama denetim listesi</span><span class="sxs-lookup"><span data-stu-id="b3a80-152">Checklist for Defining a Dependency Property</span></span>

<span data-ttu-id="b3a80-153">Bağımlılık özelliği tanımlamak dört farklı kavramdan oluşur.</span><span class="sxs-lookup"><span data-stu-id="b3a80-153">Defining a dependency property consists of four distinct concepts.</span></span> <span data-ttu-id="b3a80-154">Bu kavramların bazıları uygulamada tek bir kod satırı olarak birleştirildiğinden, bu kavramlar kesin yordamsal adımlar değildir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-154">These concepts are not necessarily strict procedural steps, because some of these end up being combined as single lines of code in the implementation:</span></span>

- <span data-ttu-id="b3a80-155">Seçim Bağımlılık özelliği için özellik meta verileri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="b3a80-155">(Optional) Create property metadata for the dependency property.</span></span>

- <span data-ttu-id="b3a80-156">Özellik adını özellik sistemine kaydedin, bir sahip türü ve özellik değerinin türünü belirtin.</span><span class="sxs-lookup"><span data-stu-id="b3a80-156">Register the property name with the property system, specifying an owner type and the type of the property value.</span></span> <span data-ttu-id="b3a80-157">Ayrıca, kullanılıyorsa özellik meta verilerini de belirtin.</span><span class="sxs-lookup"><span data-stu-id="b3a80-157">Also specify the property metadata, if used.</span></span>

- <span data-ttu-id="b3a80-158">Bir <xref:System.Windows.DependencyProperty> tanımlayıcıyı `public` `static` `readonly` sahip türünde bir alan olarak tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="b3a80-158">Define a <xref:System.Windows.DependencyProperty> identifier as a `public` `static` `readonly` field on the owner type.</span></span>

- <span data-ttu-id="b3a80-159">Adı Dependency özelliğinin adıyla eşleşen bir CLR "sarmalayıcı" özelliği tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="b3a80-159">Define a CLR "wrapper" property whose name matches the name of the dependency property.</span></span> <span data-ttu-id="b3a80-160">CLR "sarmalayıcı" özelliğinin `get` ve `set` erişimcilerini yedekleyen bağımlılık özelliğiyle bağlantı kurmak için uygulayın.</span><span class="sxs-lookup"><span data-stu-id="b3a80-160">Implement the CLR "wrapper" property's `get` and `set` accessors to connect with the dependency property that backs it.</span></span>

<a name="registering"></a>

### <a name="registering-the-property-with-the-property-system"></a><span data-ttu-id="b3a80-161">Özelliği özellik sistemiyle kaydetme</span><span class="sxs-lookup"><span data-stu-id="b3a80-161">Registering the Property with the Property System</span></span>

<span data-ttu-id="b3a80-162">Özelliğin bir bağımlılık özelliği olması için, bu özelliği özellik sisteminin tuttuğu bir tabloya kaydetmeniz ve daha sonra özellik sistemi işlemleri için niteleyici olarak kullanılan benzersiz bir tanımlayıcı sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-162">In order for your property to be a dependency property, you must register that property into a table maintained by the property system, and give it a unique identifier that is used as the qualifier for later property system operations.</span></span> <span data-ttu-id="b3a80-163">Bu işlemler iç işlemler veya özellik sistemi API 'Leri çağıran kendi kodunuz olabilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-163">These operations might be internal operations, or your own code calling property system APIs.</span></span> <span data-ttu-id="b3a80-164">Özelliği kaydetmek için, <xref:System.Windows.DependencyProperty.Register%2A> yöntemini sınıfınızın gövdesinde (ancak herhangi bir üye tanımının dışında) çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-164">To register the property, you call the <xref:System.Windows.DependencyProperty.Register%2A> method within the body of your class (inside the class, but outside of any member definitions).</span></span> <span data-ttu-id="b3a80-165">Tanımlayıcı alanı <xref:System.Windows.DependencyProperty.Register%2A> , dönüş değeri olarak yöntem çağrısı tarafından da sağlanır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-165">The identifier field is also provided by the <xref:System.Windows.DependencyProperty.Register%2A> method call, as the return value.</span></span> <span data-ttu-id="b3a80-166"><xref:System.Windows.DependencyProperty.Register%2A>Çağrının diğer üye tanımlarının dışında yapılmasının nedeni, `public` `static` `readonly` sınıfınızın bir parçası olarak türünde bir alan atamak ve oluşturmak için bu dönüş değerini kullanmanız nedenidir <xref:System.Windows.DependencyProperty> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-166">The reason that the <xref:System.Windows.DependencyProperty.Register%2A> call is done outside of other member definitions is because you use this return value to assign and create a `public` `static` `readonly` field of type <xref:System.Windows.DependencyProperty> as part of your class.</span></span> <span data-ttu-id="b3a80-167">Bu alan, bağımlılık özelliği için tanımlayıcı olur.</span><span class="sxs-lookup"><span data-stu-id="b3a80-167">This field becomes the identifier for your dependency property.</span></span>

[!code-csharp[WPFAquariumSln#RegisterAG](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#registerag)]
[!code-vb[WPFAquariumSln#RegisterAG](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#registerag)]

<a name="nameconventions"></a>

### <a name="dependency-property-name-conventions"></a><span data-ttu-id="b3a80-168">Bağımlılık özelliği adı kuralları</span><span class="sxs-lookup"><span data-stu-id="b3a80-168">Dependency Property Name Conventions</span></span>

<span data-ttu-id="b3a80-169">Tüm ancak olağanüstü koşullarda izlemeniz gereken bağımlılık özellikleriyle ilgili adlandırma kuralları vardır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-169">There are established naming conventions regarding dependency properties that you must follow in all but exceptional circumstances.</span></span>

<span data-ttu-id="b3a80-170">Bağımlılık özelliğinin kendisi, bu örnekte olduğu gibi temel bir ada sahip olur, örneğin ilk parametresi olarak verilir <xref:System.Windows.DependencyProperty.Register%2A> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-170">The dependency property itself will have a basic name, "AquariumGraphic" as in this example, which is given as the first parameter of <xref:System.Windows.DependencyProperty.Register%2A>.</span></span> <span data-ttu-id="b3a80-171">Bu ad, her kayıt türü içinde benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-171">That name must be unique within each registering type.</span></span> <span data-ttu-id="b3a80-172">Temel türler aracılığıyla devralınan bağımlılık özellikleri, kayıt türünün zaten parçası olarak kabul edilir; devralınan özelliklerin adları yeniden kaydedilemez.</span><span class="sxs-lookup"><span data-stu-id="b3a80-172">Dependency properties inherited through base types are considered to be already part of the registering type; names of inherited properties cannot be registered again.</span></span> <span data-ttu-id="b3a80-173">Ancak, bağımlılık özelliği devralınmasa bile, bir bağımlılık özelliğinin sahibi olarak bir sınıfı eklemek için bir teknik vardır. Ayrıntılar için bkz. [bağımlılık özelliği meta verileri](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-173">However, there is a technique for adding a class as owner of a dependency property even when that dependency property is not inherited; for details, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

<span data-ttu-id="b3a80-174">Tanımlayıcı alanını oluşturduğunuzda, bu alanı, kaydettiğiniz özelliğin adıyla, artı sonekine göre adlandırın `Property` .</span><span class="sxs-lookup"><span data-stu-id="b3a80-174">When you create the identifier field, name this field by the name of the property as you registered it, plus the suffix `Property`.</span></span> <span data-ttu-id="b3a80-175">Bu alan, bağımlılık özelliği için olan tanımlayıcdır ve daha sonra, <xref:System.Windows.DependencyObject.SetValue%2A> <xref:System.Windows.DependencyObject.GetValue%2A> kendi kodunuz tarafından, izin verilen herhangi bir harici kod erişimi, özellik sistemi ve potansiyel olarak işlemcilere göre herhangi bir kod erişimi için, daha sonra sarmalayıcılarda yapacağınız çağrı ve çağrılar için bir giriş olarak kullanılır [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b3a80-175">This field is your identifier for the dependency property, and it will be used later as an input for the <xref:System.Windows.DependencyObject.SetValue%2A> and <xref:System.Windows.DependencyObject.GetValue%2A> calls you will make in the wrappers, by any other code access to the property by your own code, by any external code access you allow, by the property system, and potentially by [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processors.</span></span>

> [!NOTE]
> <span data-ttu-id="b3a80-176">Sınıf gövdesinde Dependency özelliğinin tanımlanması tipik bir uygulama, ancak sınıf statik oluşturucusunda bir bağımlılık özelliği tanımlanması da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="b3a80-176">Defining the dependency property in the class body is the typical implementation, but it is also possible to define a dependency property in the class static constructor.</span></span> <span data-ttu-id="b3a80-177">Bağımlılık özelliğini başlatmak için birden fazla kod satırına ihtiyacınız varsa bu yaklaşım anlamlı hale gelebilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-177">This approach might make sense if you need more than one line of code to initialize the dependency property.</span></span>

<a name="wrapper1"></a>

### <a name="implementing-the-wrapper"></a><span data-ttu-id="b3a80-178">"Sarmalayıcı" uygulama</span><span class="sxs-lookup"><span data-stu-id="b3a80-178">Implementing the "Wrapper"</span></span>

<span data-ttu-id="b3a80-179">Sarmalayıcı uygulamanız <xref:System.Windows.DependencyObject.GetValue%2A> `get` uygulamada ve <xref:System.Windows.DependencyObject.SetValue%2A> `set` uygulamada çağrılmalıdır (özgün kayıt çağrısı ve alan burada açıklık için de gösteriliyor).</span><span class="sxs-lookup"><span data-stu-id="b3a80-179">Your wrapper implementation should call <xref:System.Windows.DependencyObject.GetValue%2A> in the `get` implementation, and <xref:System.Windows.DependencyObject.SetValue%2A> in the `set` implementation (the original registration call and field are shown here too for clarity).</span></span>

<span data-ttu-id="b3a80-180">Tüm ancak olağanüstü durumlarda, sarmalayıcı uygulamalarınızın <xref:System.Windows.DependencyObject.GetValue%2A> sırasıyla yalnızca ve eylemleri gerçekleştirmesi gerekir <xref:System.Windows.DependencyObject.SetValue%2A> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-180">In all but exceptional circumstances, your wrapper implementations should perform only the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> actions, respectively.</span></span> <span data-ttu-id="b3a80-181">Bunun nedeni [XAML yükleme ve bağımlılık özellikleri](xaml-loading-and-dependency-properties.md)konu başlığında ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-181">The reason for this is discussed in the topic [XAML Loading and Dependency Properties](xaml-loading-and-dependency-properties.md).</span></span>

<span data-ttu-id="b3a80-182">Sınıflarda sağlanmış olan tüm mevcut genel bağımlılık özellikleri [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Bu basit sarmalayıcı uygulama modelini kullanır; bağımlılık özelliklerinin büyük bir bölümünü özellik sisteminin bir davranışı temel alır ya da özellik meta verileri aracılığıyla zorlama ya da özellik değişikliği geri çağırmaları gibi diğer kavramlar aracılığıyla uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-182">All existing public dependency properties that are provided on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes use this simple wrapper implementation model; most of the complexity of how dependency properties work is either inherently a behavior of the property system, or is implemented through other concepts such as coercion or property change callbacks through property metadata.</span></span>

[!code-csharp[WPFAquariumSln#AGWithWrapper](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#agwithwrapper)]
[!code-vb[WPFAquariumSln#AGWithWrapper](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#agwithwrapper)]

<span data-ttu-id="b3a80-183">Yine kurala göre sarmalayıcı özelliğinin adı, seçilen ad ile aynı olmalıdır ve özelliği kaydedilen çağrının ilk parametresi olarak verilir <xref:System.Windows.DependencyProperty.Register%2A> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-183">Again, by convention, the name of the wrapper property must be the same as the name chosen and given as first parameter of the <xref:System.Windows.DependencyProperty.Register%2A> call that registered the property.</span></span> <span data-ttu-id="b3a80-184">Özelliği kuralı izlemeiyorsa, bu tüm olası kullanımları devre dışı bırakmayabilir, ancak çeşitli önemli sorunlarıyla karşılaşırsınız:</span><span class="sxs-lookup"><span data-stu-id="b3a80-184">If your property does not follow the convention, this does not necessarily disable all possible uses, but you will encounter several notable issues:</span></span>

- <span data-ttu-id="b3a80-185">Stillerin ve şablonların belirli yönleri çalışmayacak.</span><span class="sxs-lookup"><span data-stu-id="b3a80-185">Certain aspects of styles and templates will not work.</span></span>

- <span data-ttu-id="b3a80-186">Çoğu araç ve tasarımcı, uygun bir şekilde serileştirmek için adlandırma kurallarına uymalıdır [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] ya da özellik başına bir düzeyde Tasarımcı ortamı yardımını sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-186">Most tools and designers must rely on the naming conventions to properly serialize [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], or to provide designer environment assistance at a per-property level.</span></span>

- <span data-ttu-id="b3a80-187">Yükleyicinin geçerli uygulanması, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sarmalayıcıları tamamen atlar ve öznitelik değerlerini işlerken adlandırma kuralını kullanır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-187">The current implementation of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader bypasses the wrappers entirely, and relies on the naming convention when processing attribute values.</span></span> <span data-ttu-id="b3a80-188">Daha fazla bilgi için bkz. [XAML yükleme ve bağımlılık özellikleri](xaml-loading-and-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-188">For more information, see [XAML Loading and Dependency Properties](xaml-loading-and-dependency-properties.md).</span></span>

<a name="metadata"></a>

### <a name="property-metadata-for-a-new-dependency-property"></a><span data-ttu-id="b3a80-189">Yeni bir bağımlılık özelliği için özellik meta verileri</span><span class="sxs-lookup"><span data-stu-id="b3a80-189">Property Metadata for a New Dependency Property</span></span>

<span data-ttu-id="b3a80-190">Bir bağımlılık özelliği kaydettiğinizde, özellik sistemi ile kayıt, özellik özelliklerini depolayan bir meta veri nesnesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b3a80-190">When you register a dependency property, the registration through the property system creates a metadata object that stores property characteristics.</span></span> <span data-ttu-id="b3a80-191">Bu özelliklerin birçoğu, özelliği basit imzalarıyla kayıtlıysa ayarlanmış olan varsayılanlardır <xref:System.Windows.DependencyProperty.Register%2A> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-191">Many of these characteristics have defaults that are set if the property is registered with the simple signatures of <xref:System.Windows.DependencyProperty.Register%2A>.</span></span> <span data-ttu-id="b3a80-192">Diğer imzaları <xref:System.Windows.DependencyProperty.Register%2A> , özelliği kaydettiğinizde istediğiniz meta verileri belirtmenize izin verir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-192">Other signatures of <xref:System.Windows.DependencyProperty.Register%2A> allow you to specify the metadata that you want as you register the property.</span></span> <span data-ttu-id="b3a80-193">Bağımlılık özellikleri için verilen en yaygın meta veriler, özelliği kullanan yeni örneklere uygulanan varsayılan bir değer vermektir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-193">The most common metadata given for dependency properties is to give them a default value that is applied on new instances that use the property.</span></span>

<span data-ttu-id="b3a80-194">Türetilmiş bir sınıfında bulunan bir bağımlılık özelliği oluşturuyorsanız <xref:System.Windows.FrameworkElement> , <xref:System.Windows.FrameworkPropertyMetadata> temel sınıf yerine daha özelleştirilmiş meta veri sınıfını kullanabilirsiniz <xref:System.Windows.PropertyMetadata> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-194">If you are creating a dependency property that exists on a derived class of <xref:System.Windows.FrameworkElement>, you can use the more specialized metadata class <xref:System.Windows.FrameworkPropertyMetadata> rather than the base <xref:System.Windows.PropertyMetadata> class.</span></span> <span data-ttu-id="b3a80-195">Sınıf için Oluşturucu, <xref:System.Windows.FrameworkPropertyMetadata> bileşimde çeşitli meta veri özellikleri belirtebileceğiniz birkaç imzaya sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-195">The constructor for the <xref:System.Windows.FrameworkPropertyMetadata> class has several signatures where you can specify various metadata characteristics in combination.</span></span> <span data-ttu-id="b3a80-196">Yalnızca varsayılan değeri belirtmek istiyorsanız, türünde tek bir parametre alan imzayı kullanın <xref:System.Object> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-196">If you want to specify the default value only, use the signature that takes a single parameter of type <xref:System.Object>.</span></span> <span data-ttu-id="b3a80-197">Bu nesne parametresini, özelliği için türe özgü bir varsayılan değer olarak geçirin (belirtilen varsayılan değer, çağrıda parametre olarak belirttiğiniz tür olmalıdır `propertyType` <xref:System.Windows.DependencyProperty.Register%2A> ).</span><span class="sxs-lookup"><span data-stu-id="b3a80-197">Pass that object parameter as a type-specific default value for your property (the default value provided must be the type you provided as the `propertyType` parameter in the <xref:System.Windows.DependencyProperty.Register%2A> call).</span></span>

<span data-ttu-id="b3a80-198">İçin <xref:System.Windows.FrameworkPropertyMetadata> , özelliği için meta veri seçenek bayraklarını de belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-198">For <xref:System.Windows.FrameworkPropertyMetadata>, you can also specify metadata option flags for your property.</span></span> <span data-ttu-id="b3a80-199">Bu bayraklar, kayıt sonrasında özellik meta verilerinde ayrık özelliklere dönüştürülür ve belirli koşulları, düzen altyapısı gibi diğer işlemlere iletmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-199">These flags are converted into discrete properties on the property metadata after registration and are used to communicate certain conditionals to other processes such as the layout engine.</span></span>

#### <a name="setting-appropriate-metadata-flags"></a><span data-ttu-id="b3a80-200">Uygun meta veri bayraklarını ayarlama</span><span class="sxs-lookup"><span data-stu-id="b3a80-200">Setting Appropriate Metadata Flags</span></span>

- <span data-ttu-id="b3a80-201">Özelliği (veya değerindeki değişiklikler) [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] ' i etkiliyorsa ve özellikle de düzen sisteminin bir sayfada kendi öğelerini nasıl boyutlandırmalı ya da işlemesi gerektiğini etkiliyorsa, aşağıdaki bayraklardan birini veya birkaçını ayarlayın: <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure> , <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange> , <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-201">If your property (or changes in its value) affects the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and in particular affects how the layout system should size or render your element in a page, set one or more of the following flags: <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender>.</span></span>

  - <span data-ttu-id="b3a80-202"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure>Bu özellikte yapılan bir değişikliğin, [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] kapsayan nesnenin üst öğe içinde daha fazla veya daha az alan gerektirebileceği, işleme için değişiklik gerektirdiğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-202"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure> indicates that a change to this property requires a change to [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] rendering where the containing object might require more or less space within the parent.</span></span> <span data-ttu-id="b3a80-203">Örneğin, bir "width" özelliği bu bayrak kümesine sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-203">For example, a "Width" property should have this flag set.</span></span>

  - <span data-ttu-id="b3a80-204"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange>Bu özellikte yapılan bir değişikliğin [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] , genellikle özel alanda değişiklik gerektirmeyen, ancak alanın içindeki konumlandırmayı değiştiği anlamına gelen işleme değişikliğini gerektirdiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-204"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange> indicates that a change to this property requires a change to [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] rendering that typically does not require a change in the dedicated space, but does indicate that the positioning within the space has changed.</span></span> <span data-ttu-id="b3a80-205">Örneğin, bir "hizalama" özelliği bu bayrak kümesine sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-205">For example, an "Alignment" property should have this flag set.</span></span>

  - <span data-ttu-id="b3a80-206"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender>Düzen ve ölçüyü etkilemeyen, ancak başka bir işleme gerektirmeyecek başka bir değişikliğin oluştuğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-206"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender> indicates that some other change has occurred that will not affect layout and measure, but does require another render.</span></span> <span data-ttu-id="b3a80-207">Örneğin, "Arkaplan" gibi var olan bir öğenin rengini değiştiren bir özellik olabilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-207">An example would be a property that changes a color of an existing element, such as "Background".</span></span>

  - <span data-ttu-id="b3a80-208">Bu bayraklar genellikle, özellik sistemi veya Düzen geri çağırmaları için kendi geçersiz kılma uygulamalarınız için meta verilerde bir protokol olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-208">These flags are often used as a protocol in metadata for your own override implementations of property system or layout callbacks.</span></span> <span data-ttu-id="b3a80-209">Örneğin, örneğin <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> <xref:System.Windows.UIElement.InvalidateArrange%2A> herhangi bir özelliği bir değer değişikliğini bildirirse ve <xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A> meta verilerinde olduğu gibi, çağıran bir geri çağırma işlemi olabilir `true` .</span><span class="sxs-lookup"><span data-stu-id="b3a80-209">For instance, you might have an <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> callback that will call <xref:System.Windows.UIElement.InvalidateArrange%2A> if any property of the instance reports a value change and has <xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A> as `true` in its metadata.</span></span>

- <span data-ttu-id="b3a80-210">Bazı özellikler, yukarıda bahsedilen gerekli boyuttaki değişikliklere göre yukarıdaki ve sonraki yollarla, kapsayan üst öğenin işleme özelliklerini etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-210">Some properties may affect the rendering characteristics of the containing parent element, in ways above and beyond the changes in required size mentioned above.</span></span> <span data-ttu-id="b3a80-211"><xref:System.Windows.Documents.Paragraph.MinOrphanLines%2A>Akış belge modelinde kullanılan özelliktir. Bu özellik, bu özellikte yapılan değişikliklerin paragrafı içeren akış belgesinin genel işlemesini değiştirebildiği bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-211">An example is the <xref:System.Windows.Documents.Paragraph.MinOrphanLines%2A> property used in the flow document model, where changes to that property can change the overall rendering of the flow document that contains the paragraph.</span></span> <span data-ttu-id="b3a80-212"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentArrange> <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentMeasure> Kendi özelliklerindeki benzer durumları belirlemek için veya kullanın.</span><span class="sxs-lookup"><span data-stu-id="b3a80-212">Use <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentArrange> or <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentMeasure> to identify similar cases in your own properties.</span></span>

- <span data-ttu-id="b3a80-213">Varsayılan olarak, bağımlılık özellikleri veri bağlamayı destekler.</span><span class="sxs-lookup"><span data-stu-id="b3a80-213">By default, dependency properties support data binding.</span></span> <span data-ttu-id="b3a80-214">Veri bağlama için gerçekçi bir senaryo olmadığı durumlarda veya büyük bir nesne için veri bağlamanın performansının bir sorun olarak tanındığından dolayı veri bağlamayı kasıtlı olarak devre dışı bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-214">You can deliberately disable data binding, for cases where there is no realistic scenario for data binding, or where performance in data binding for a large object is recognized as a problem.</span></span>

- <span data-ttu-id="b3a80-215">Varsayılan olarak, bağımlılık özellikleri için veri bağlama varsayılan olarak <xref:System.Windows.Data.Binding.Mode%2A> olur <xref:System.Windows.Data.BindingMode.OneWay> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-215">By default, data binding <xref:System.Windows.Data.Binding.Mode%2A> for dependency properties defaults to <xref:System.Windows.Data.BindingMode.OneWay>.</span></span> <span data-ttu-id="b3a80-216">Bağlamayı her zaman <xref:System.Windows.Data.BindingMode.TwoWay> bağlama örneği başına olacak şekilde değiştirebilirsiniz; Ayrıntılar için bkz. [bağlamanın yönünü belirtme](../data/how-to-specify-the-direction-of-the-binding.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-216">You can always change the binding to be <xref:System.Windows.Data.BindingMode.TwoWay> per binding instance; for details, see [Specify the Direction of the Binding](../data/how-to-specify-the-direction-of-the-binding.md).</span></span> <span data-ttu-id="b3a80-217">Ancak bağımlılık özelliği yazarı olarak, özelliğin <xref:System.Windows.Data.BindingMode.TwoWay> bağlama modunu varsayılan olarak kullanmasına olanak seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-217">But as the dependency property author, you can choose to make the property use <xref:System.Windows.Data.BindingMode.TwoWay> binding mode by default.</span></span> <span data-ttu-id="b3a80-218">Mevcut bir bağımlılık özelliğine bir örnek <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A?displayProperty=nameWithType> ; Bu özellik için senaryo, <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> <xref:System.Windows.Controls.MenuItem> varsayılan tema stiliyle etkileşim kurma mantığının ve birleştirme özelliğinin bir örneğidir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-218">An example of an existing dependency property is <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A?displayProperty=nameWithType>; the scenario for this property is that the <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> setting logic and the compositing of <xref:System.Windows.Controls.MenuItem> interact with the default theme style.</span></span> <span data-ttu-id="b3a80-219"><xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A>Özellik mantığı, diğer durum özelliklerine ve yöntem çağrılarına uygun olarak özelliğin durumunu korumak için yerel olarak veri bağlamayı kullanır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-219">The <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> property logic uses data binding natively to maintain the state of the property in accordance to other state properties and method calls.</span></span> <span data-ttu-id="b3a80-220">Varsayılan olarak bağlanan başka bir örnek özelliği <xref:System.Windows.Data.BindingMode.TwoWay> <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-220">Another example property that binds <xref:System.Windows.Data.BindingMode.TwoWay> by default is <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="b3a80-221">Ayrıca, bayrağı ayarlayarak özel bir bağımlılık özelliğinde özellik devralmayı etkinleştirebilirsiniz <xref:System.Windows.FrameworkPropertyMetadataOptions.Inherits> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-221">You can also enable property inheritance in a custom dependency property by setting the <xref:System.Windows.FrameworkPropertyMetadataOptions.Inherits> flag.</span></span> <span data-ttu-id="b3a80-222">Özellik devralma, üst öğeler ve alt öğelerin ortak bir özelliği olan bir senaryo için yararlıdır ve alt öğelerin, bu belirli özellik değerinin üst öğe ile aynı değere ayarlanmış olması için mantıklı olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="b3a80-222">Property inheritance is useful for a scenario where parent elements and child elements have a property in common, and it makes sense for the child elements to have that particular property value set to the same value as the parent set it.</span></span> <span data-ttu-id="b3a80-223"><xref:System.Windows.FrameworkElement.DataContext%2A>Veri sunumu için önemli ana ayrıntı senaryosunu etkinleştirmek üzere bağlama işlemleri için kullanılan, örnek bir devredilebilir özelliği.</span><span class="sxs-lookup"><span data-stu-id="b3a80-223">An example inheritable property is <xref:System.Windows.FrameworkElement.DataContext%2A>, which is used for binding operations to enable the important master-detail scenario for data presentation.</span></span> <span data-ttu-id="b3a80-224">Devralınabilir yapıldığında <xref:System.Windows.FrameworkElement.DataContext%2A> , tüm alt öğeler bu veri bağlamını de devralır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-224">By making <xref:System.Windows.FrameworkElement.DataContext%2A> inheritable, any child elements inherit that data context also.</span></span> <span data-ttu-id="b3a80-225">Özellik değeri devralımı nedeniyle, sayfada veya uygulama kökünde bir veri bağlamı belirtebilir ve tüm olası alt öğelerde bağlamalar için bunu belirtmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="b3a80-225">Because of property value inheritance, you can specify a data context at the page or application root, and do not need to respecify it for bindings in all possible child elements.</span></span> <span data-ttu-id="b3a80-226"><xref:System.Windows.FrameworkElement.DataContext%2A>, devralmanın varsayılan değeri geçersiz kıldığını göstermek için de iyi bir örnektir; ancak her zaman belirli bir alt öğede yerel olarak ayarlanabilir; Ayrıntılar için bkz. [hiyerarşik verilerle ana ayrıntı modelini kullanma](../data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-226"><xref:System.Windows.FrameworkElement.DataContext%2A> is also a good example to illustrate that inheritance overrides the default value, but it can always be set locally on any particular child element; for details, see [Use the Master-Detail Pattern with Hierarchical Data](../data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span></span> <span data-ttu-id="b3a80-227">Özellik değeri devralımı olası bir performans maliyetine sahiptir ve bu nedenle, gelişigüzel kullanılmalıdır; Ayrıntılar için bkz. [özellik değeri devralma](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-227">Property value inheritance does have a possible performance cost, and thus should be used sparingly; for details, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

- <span data-ttu-id="b3a80-228"><xref:System.Windows.FrameworkPropertyMetadataOptions.Journal>Bağımlılık özelliğinin, gezinme günlüğe kaydetme hizmetleri tarafından algılanıp algılanmadığını veya kullanılacağını belirtmek için bayrağı ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="b3a80-228">Set the <xref:System.Windows.FrameworkPropertyMetadataOptions.Journal> flag to indicate if your dependency property should be detected or used by navigation journaling services.</span></span> <span data-ttu-id="b3a80-229">Özellik bir örnektir <xref:System.Windows.Controls.Primitives.Selector.SelectedIndex%2A> ; günlük geçmişi gezinirken seçim denetiminde seçilen herhangi bir öğe kalıcı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-229">An example is the <xref:System.Windows.Controls.Primitives.Selector.SelectedIndex%2A> property; any item selected in a selection control should be persisted when the journaling history is navigated.</span></span>

<a name="RODP"></a>

## <a name="read-only-dependency-properties"></a><span data-ttu-id="b3a80-230">Salt Okunur Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-230">Read-Only Dependency Properties</span></span>

<span data-ttu-id="b3a80-231">Salt okunurdur bir bağımlılık özelliği tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-231">You can define a dependency property that is read-only.</span></span> <span data-ttu-id="b3a80-232">Bununla birlikte, özelliği özellik sistemine kaydetme ve tanımlayıcıyı kullanıma sunma yordamı gibi, özelliğini salt okunurdur olarak nasıl tanımlayacağınızı belirleyen senaryolar biraz farklıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-232">However, the scenarios for why you might define your property as read-only are somewhat different, as is the procedure for registering them with the property system and exposing the identifier.</span></span> <span data-ttu-id="b3a80-233">Daha fazla bilgi için bkz. [salt okuma bağımlılığı özellikleri](read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-233">For more information, see [Read-Only Dependency Properties](read-only-dependency-properties.md).</span></span>

<a name="CTDP"></a>

## <a name="collection-type-dependency-properties"></a><span data-ttu-id="b3a80-234">Koleksiyon Türü Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-234">Collection-Type Dependency Properties</span></span>

<span data-ttu-id="b3a80-235">Koleksiyon türü bağımlılık özelliklerine göz önünde bulundurmanız gereken bazı ek uygulama sorunları vardır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-235">Collection-type dependency properties have some additional implementation issues to consider.</span></span> <span data-ttu-id="b3a80-236">Ayrıntılar için bkz. [koleksiyon türü bağımlılık özellikleri](collection-type-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-236">For details, see [Collection-Type Dependency Properties](collection-type-dependency-properties.md).</span></span>

<a name="SecurityC"></a>

## <a name="dependency-property-security-considerations"></a><span data-ttu-id="b3a80-237">Bağımlılık özelliği güvenlik konuları</span><span class="sxs-lookup"><span data-stu-id="b3a80-237">Dependency Property Security Considerations</span></span>

<span data-ttu-id="b3a80-238">Bağımlılık özellikleri genel özellikler olarak bildirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-238">Dependency properties should be declared as public properties.</span></span> <span data-ttu-id="b3a80-239">Bağımlılık özelliği tanımlayıcı alanları ortak statik alanlar olarak bildirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-239">Dependency property identifier fields should be declared as public static fields.</span></span> <span data-ttu-id="b3a80-240">Diğer erişim düzeylerini (örneğin, korumalı) bildirmeye çalışırsanız bile, bağımlılık özelliğine her zaman özellik sistemi API 'Leri ile birlikte tanımlayıcı üzerinden erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-240">Even if you attempt to declare other access levels (such as protected), a dependency property can always be accessed through the identifier in combination with the property system APIs.</span></span> <span data-ttu-id="b3a80-241">Korumalı bir tanımlayıcı alanı, özellik sisteminin bir parçası olan meta veri raporlama veya değer belirleme API 'Leri nedeniyle erişilebilir durumda olabilir <xref:System.Windows.LocalValueEnumerator> .</span><span class="sxs-lookup"><span data-stu-id="b3a80-241">Even a protected identifier field is potentially accessible because of metadata reporting or value determination APIs that are part of the property system, such as <xref:System.Windows.LocalValueEnumerator>.</span></span> <span data-ttu-id="b3a80-242">Daha fazla bilgi için bkz. [bağımlılık özelliği güvenliği](dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-242">For more information, see [Dependency Property Security](dependency-property-security.md).</span></span>

<a name="DPCtor"></a>

## <a name="dependency-properties-and-class-constructors"></a><span data-ttu-id="b3a80-243">Bağımlılık özellikleri ve sınıf oluşturucuları</span><span class="sxs-lookup"><span data-stu-id="b3a80-243">Dependency Properties and Class Constructors</span></span>

<span data-ttu-id="b3a80-244">Yönetilen kod programlamada genel bir ilke vardır (genellikle FxCop gibi kod çözümleme araçları tarafından zorlanır), sınıf oluşturucuların sanal yöntemleri çağırmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-244">There is a general principle in managed code programming (often enforced by code analysis tools such as FxCop) that class constructors should not call virtual methods.</span></span> <span data-ttu-id="b3a80-245">Bunun nedeni, oluşturucuların türetilmiş bir sınıf oluşturucusunun temel başlatması olarak çağrılabilmesi ve sanal yönteminin Oluşturucu aracılığıyla girilmesi, oluşturulmakta olan nesne örneğinin tamamlanmamış bir başlatma durumunda meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="b3a80-245">This is because constructors can be called as base initialization of a derived class constructor, and entering the virtual method through the constructor might occur at an incomplete initialization state of the object instance being constructed.</span></span> <span data-ttu-id="b3a80-246">' Dan türetilmiş herhangi bir sınıftan türettiğinizde <xref:System.Windows.DependencyObject> , özellik sisteminin kendisinin sanal yöntemleri dahili olarak çağırdığı ve açığa çıkardığı farkında olmalısınız.</span><span class="sxs-lookup"><span data-stu-id="b3a80-246">When you derive from any class that already derives from <xref:System.Windows.DependencyObject>, you should be aware that the property system itself calls and exposes virtual methods internally.</span></span> <span data-ttu-id="b3a80-247">Bu sanal yöntemler, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] özellik sistem hizmetlerinin bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="b3a80-247">These virtual methods are part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system services.</span></span> <span data-ttu-id="b3a80-248">Yöntemlerin geçersiz kılınması, türetilmiş sınıfların değer belirlenmesine katılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="b3a80-248">Overriding the methods enables derived classes to participate in value determination.</span></span> <span data-ttu-id="b3a80-249">Çalışma zamanı başlatma ile ilgili olası sorunları önlemek için, belirli bir Oluşturucu modelini izlemeden, sınıfların oluşturucuları içinde bağımlılık özelliği değerlerini ayarlamamalısınız.</span><span class="sxs-lookup"><span data-stu-id="b3a80-249">To avoid potential issues with runtime initialization, you should not set dependency property values within constructors of classes, unless you follow a very specific constructor pattern.</span></span> <span data-ttu-id="b3a80-250">Ayrıntılar için bkz. [DependencyObjects Için güvenli Oluşturucu desenleri](safe-constructor-patterns-for-dependencyobjects.md).</span><span class="sxs-lookup"><span data-stu-id="b3a80-250">For details, see [Safe Constructor Patterns for DependencyObjects](safe-constructor-patterns-for-dependencyobjects.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="b3a80-251">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="b3a80-251">See also</span></span>

- [<span data-ttu-id="b3a80-252">Bağımlılık Özelliklerine Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="b3a80-252">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
- [<span data-ttu-id="b3a80-253">Bağımlılık Özelliği Meta Verisi</span><span class="sxs-lookup"><span data-stu-id="b3a80-253">Dependency Property Metadata</span></span>](dependency-property-metadata.md)
- [<span data-ttu-id="b3a80-254">Denetim Yazımına Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="b3a80-254">Control Authoring Overview</span></span>](../controls/control-authoring-overview.md)
- [<span data-ttu-id="b3a80-255">Koleksiyon Türü Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-255">Collection-Type Dependency Properties</span></span>](collection-type-dependency-properties.md)
- [<span data-ttu-id="b3a80-256">Bağımlılık Özelliği Güvenliği</span><span class="sxs-lookup"><span data-stu-id="b3a80-256">Dependency Property Security</span></span>](dependency-property-security.md)
- [<span data-ttu-id="b3a80-257">XAML Yükleme ve Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-257">XAML Loading and Dependency Properties</span></span>](xaml-loading-and-dependency-properties.md)
- [<span data-ttu-id="b3a80-258">DependencyObjects için Güvenli Oluşturucu Desenleri</span><span class="sxs-lookup"><span data-stu-id="b3a80-258">Safe Constructor Patterns for DependencyObjects</span></span>](safe-constructor-patterns-for-dependencyobjects.md)
