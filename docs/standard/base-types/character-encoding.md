---
title: .NET içinde Karakter Kodlaması
description: .NET'te karakter kodlama ve kod çözme hakkında bilgi edinin.
ms.date: 12/22/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- encoding, understanding
- encoding, choosing
- encoding, fallback strategy
ms.assetid: bf6d9823-4c2d-48af-b280-919c5af66ae9
ms.openlocfilehash: 3cd461d8c56c3f31bf3ffe04acf239ecd32fe328
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "75711447"
---
# <a name="character-encoding-in-net"></a><span data-ttu-id="d6691-103">.NET içinde Karakter Kodlaması</span><span class="sxs-lookup"><span data-stu-id="d6691-103">Character Encoding in .NET</span></span>

<span data-ttu-id="d6691-104">Karakterler, birçok farklı şekilde temsil edilebilen soyut varlıklardır.</span><span class="sxs-lookup"><span data-stu-id="d6691-104">Characters are abstract entities that can be represented in many different ways.</span></span> <span data-ttu-id="d6691-105">Bir karakter kodlaması, desteklenen bir karakter kümesindeki her karakteri, o karakteri temsil eden değerle eşleştiren bir sistemdir.</span><span class="sxs-lookup"><span data-stu-id="d6691-105">A character encoding is a system that pairs each character in a supported character set with some value that represents that character.</span></span> <span data-ttu-id="d6691-106">Örneğin; Morse kodu, Roma alfabesindeki her karakteri telgraf hattı üzerinden iletilmeye uygun olan bir nokta ve çizgi deseniyle eşleştiren bir karakter kodlamasıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-106">For example, Morse code is a character encoding that pairs each character in the Roman alphabet with a pattern of dots and dashes that are suitable for transmission over telegraph lines.</span></span> <span data-ttu-id="d6691-107">Bilgisayarlar için bir karakter kodlaması, desteklenen bir karakter kümesindeki her karakteri, o karakteri temsil eden sayısal bir değerle eşleştirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-107">A character encoding for computers pairs each character in a supported character set with a numeric value that represents that character.</span></span> <span data-ttu-id="d6691-108">Bir karakter kodlaması iki farklı bileşene sahiptir:</span><span class="sxs-lookup"><span data-stu-id="d6691-108">A character encoding has two distinct components:</span></span>

- <span data-ttu-id="d6691-109">Bir karakter dizisini sayısal değerler dizisine (baytlara) çeviren bir kodlayıcı.</span><span class="sxs-lookup"><span data-stu-id="d6691-109">An encoder, which translates a sequence of characters into a sequence of numeric values (bytes).</span></span>

- <span data-ttu-id="d6691-110">Bir bayt dizisini karakter dizisine çeviren bir kod çözücü.</span><span class="sxs-lookup"><span data-stu-id="d6691-110">A decoder, which translates a sequence of bytes into a sequence of characters.</span></span>

<span data-ttu-id="d6691-111">Karakter kodlama, bir kodlayıcının ve kod çözücünün çalışma kurallarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="d6691-111">Character encoding describes the rules by which an encoder and a decoder operate.</span></span> <span data-ttu-id="d6691-112">Örneğin <xref:System.Text.UTF8Encoding> sınıfı, tek bir Unicode karakterini temsil etmek için bir ile dört arasında bayt kullanan 8 bitlik Unicode Dönüştürme Biçimi (UTF-8) için kodlama ve kod çözme kurallarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="d6691-112">For example, the <xref:System.Text.UTF8Encoding> class describes the rules for encoding to, and decoding from, 8-bit Unicode Transformation Format (UTF-8), which uses one to four bytes to represent a single Unicode character.</span></span> <span data-ttu-id="d6691-113">Kodlama ve kod çözme aynı zamanda doğrulamayı da içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-113">Encoding and decoding can also include validation.</span></span> <span data-ttu-id="d6691-114">Örneğin <xref:System.Text.UnicodeEncoding> sınıfı, geçerli yedek çiftleri olduklarından emin olmak için tüm yedekleri denetler.</span><span class="sxs-lookup"><span data-stu-id="d6691-114">For example, the <xref:System.Text.UnicodeEncoding> class checks all surrogates  to make sure they constitute valid surrogate pairs.</span></span> <span data-ttu-id="d6691-115">(Vekil çifti, U+D800 ile U+DBFF arasında değişen kod noktası olan bir karakterden ve ardından U+DC00 ile U+DFFF arasında değişen bir kod noktası olan bir karakterden oluşur.)  Geri dönüş stratejisi, kodlayıcının geçersiz karakterleri nasıl işleyeceğini veya kod çözücüün geçersiz baytları nasıl işleyeceğini belirler.</span><span class="sxs-lookup"><span data-stu-id="d6691-115">(A surrogate pair consists of a character with a code point that ranges from U+D800 to U+DBFF followed by a character with a code point that ranges from U+DC00 to U+DFFF.)  A fallback strategy determines how an encoder handles invalid characters or how a decoder handles invalid bytes.</span></span>

> [!WARNING]
> <span data-ttu-id="d6691-116">.NET kodlama sınıfları karakter verilerini depolamak ve dönüştürmek için bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-116">.NET encoding classes provide a way to store and convert character data.</span></span> <span data-ttu-id="d6691-117">İkili verileri dize biçiminde depolamak için kullanılmamaları gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-117">They should not be used to store binary data in string form.</span></span> <span data-ttu-id="d6691-118">Kullanılan kodlamaya bağlı olarak, kodlama sınıflarıyla ikili veriyi dize biçimine dönüştürmek beklenmedik davranışa sebep olabilir ve doğru olmayan ya da bozuk veriler üretebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-118">Depending on the encoding used, converting binary data to string format with the encoding classes can introduce unexpected behavior and produce inaccurate or corrupted data.</span></span> <span data-ttu-id="d6691-119">İkili verileri bir dize biçimine dönüştürmek için, <xref:System.Convert.ToBase64String%2A?displayProperty=nameWithType> yöntemini kullanın.</span><span class="sxs-lookup"><span data-stu-id="d6691-119">To convert binary data to a string form, use the <xref:System.Convert.ToBase64String%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="d6691-120">.NET, karakterleri ve dizeleri temsil etmek için <xref:System.Text.UnicodeEncoding> UTF-16 kodlamasını (sınıf tarafından temsil edilir) kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-120">.NET uses the UTF-16 encoding (represented by the <xref:System.Text.UnicodeEncoding> class) to represent characters and strings.</span></span> <span data-ttu-id="d6691-121">Ortak dil çalışma zamanını hedef alan uygulamalar, ortak dil çalışma zamanı tarafından desteklenen Unicode karakter temsillerini başka kodlama düzenleriyle eşlemek için kodlayıcıları kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-121">Applications that target the common language runtime use encoders to map Unicode character representations supported by the common language runtime to other encoding schemes.</span></span> <span data-ttu-id="d6691-122">Unicode olmayan kodlamalar daki karakterleri Unicode karakterleriyle eşlemek için kod çözücüler kullanırlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-122">They use decoders to map characters from non-Unicode encodings to Unicode.</span></span>

<span data-ttu-id="d6691-123">Bu konu aşağıdaki bölümlerden oluşur:</span><span class="sxs-lookup"><span data-stu-id="d6691-123">This topic consists of the following sections:</span></span>

- [<span data-ttu-id="d6691-124">.NET'teki kodlamalar</span><span class="sxs-lookup"><span data-stu-id="d6691-124">Encodings in .NET</span></span>](../../../docs/standard/base-types/character-encoding.md#Encodings)

- [<span data-ttu-id="d6691-125">Bir Kodlama Sınıfı Seçme</span><span class="sxs-lookup"><span data-stu-id="d6691-125">Selecting an Encoding Class</span></span>](../../../docs/standard/base-types/character-encoding.md#Selecting)

- [<span data-ttu-id="d6691-126">Using an Encoding Object</span><span class="sxs-lookup"><span data-stu-id="d6691-126">Using an Encoding Object</span></span>](../../../docs/standard/base-types/character-encoding.md#Using)

- [<span data-ttu-id="d6691-127">Choosing a Fallback Strategy</span><span class="sxs-lookup"><span data-stu-id="d6691-127">Choosing a Fallback Strategy</span></span>](../../../docs/standard/base-types/character-encoding.md#FallbackStrategy)

- [<span data-ttu-id="d6691-128">Implementing a Custom Fallback Strategy</span><span class="sxs-lookup"><span data-stu-id="d6691-128">Implementing a Custom Fallback Strategy</span></span>](../../../docs/standard/base-types/character-encoding.md#Custom)

<a name="Encodings"></a>

## <a name="encodings-in-net"></a><span data-ttu-id="d6691-129">.NET'teki kodlamalar</span><span class="sxs-lookup"><span data-stu-id="d6691-129">Encodings in .NET</span></span>

<span data-ttu-id="d6691-130">.NET'teki tüm karakter kodlama <xref:System.Text.Encoding?displayProperty=nameWithType> sınıfları, tüm karakter kodlamalarında ortak olan işlevselliği tanımlayan soyut bir sınıf olan sınıftan devralır.</span><span class="sxs-lookup"><span data-stu-id="d6691-130">All character encoding classes in .NET inherit from the <xref:System.Text.Encoding?displayProperty=nameWithType> class, which is an abstract class that defines the functionality common to all character encodings.</span></span> <span data-ttu-id="d6691-131">.NET'te uygulanan tek tek kodlama nesnelerine erişmek için aşağıdakileri yapın:</span><span class="sxs-lookup"><span data-stu-id="d6691-131">To access the individual encoding objects implemented in .NET, do the following:</span></span>

- <span data-ttu-id="d6691-132">.NET'te (ASCII, UTF-7, UTF-8, UTF-16 ve UTF-32) bulunan standart karakter kodlamalarını temsil eden nesneleri döndüren <xref:System.Text.Encoding> sınıfın statik özelliklerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="d6691-132">Use the static properties of the <xref:System.Text.Encoding> class, which return objects that represent the standard character encodings available in .NET (ASCII, UTF-7, UTF-8, UTF-16, and UTF-32).</span></span> <span data-ttu-id="d6691-133">Örneğin, <xref:System.Text.Encoding.Unicode%2A?displayProperty=nameWithType> özelliği bir <xref:System.Text.UnicodeEncoding> nesnesini döndürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-133">For example, the <xref:System.Text.Encoding.Unicode%2A?displayProperty=nameWithType> property returns a <xref:System.Text.UnicodeEncoding> object.</span></span> <span data-ttu-id="d6691-134">Her bir nesne, kodlayamadığı dizeleri ve kodunu çözemediği baytları işlemek için değiştirme geri dönüşünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-134">Each object uses replacement fallback to handle strings that it cannot encode and bytes that it cannot decode.</span></span> <span data-ttu-id="d6691-135">(Daha fazla bilgi için [Yedek Geri Dönüş](../../../docs/standard/base-types/character-encoding.md#Replacement) bölümüne bakın.)</span><span class="sxs-lookup"><span data-stu-id="d6691-135">(For more information, see the [Replacement Fallback](../../../docs/standard/base-types/character-encoding.md#Replacement) section.)</span></span>

- <span data-ttu-id="d6691-136">Kodlamanın sınıf oluşturucusunu çağırın.</span><span class="sxs-lookup"><span data-stu-id="d6691-136">Call the encoding's class constructor.</span></span> <span data-ttu-id="d6691-137">ASCII, UTF-7, UTF-8, UTF-16 ve UTF-32 kodlamalarına ait nesneler bu şekilde örneklenebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-137">Objects for the ASCII, UTF-7, UTF-8, UTF-16, and UTF-32 encodings can be instantiated in this way.</span></span> <span data-ttu-id="d6691-138">Varsayılan olarak her nesne, kodlayamadığı dizeleri ve kodunu çözemediği baytları işlemek için değiştirme geri dönüşünü kullanır, ancak bunun yerine bir özel durumun oluşturulmasını da belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-138">By default, each object uses replacement fallback to handle strings that it cannot encode and bytes that it cannot decode, but you can specify that an exception should be thrown instead.</span></span> <span data-ttu-id="d6691-139">(Daha fazla bilgi [için, Yedek Geri Dönüş](../../../docs/standard/base-types/character-encoding.md#Replacement) ve [Özel Durum Geri Dönüş](../../../docs/standard/base-types/character-encoding.md#Exception) bölümlerine bakın.)</span><span class="sxs-lookup"><span data-stu-id="d6691-139">(For more information, see the [Replacement Fallback](../../../docs/standard/base-types/character-encoding.md#Replacement) and [Exception Fallback](../../../docs/standard/base-types/character-encoding.md#Exception) sections.)</span></span>

- <span data-ttu-id="d6691-140"><xref:System.Text.Encoding.%23ctor%28System.Int32%29?displayProperty=nameWithType> oluşturucusunu çağırın ve kodlamayı temsil eden bir tamsayı geçirin.</span><span class="sxs-lookup"><span data-stu-id="d6691-140">Call the <xref:System.Text.Encoding.%23ctor%28System.Int32%29?displayProperty=nameWithType> constructor and pass it an integer that represents the encoding.</span></span> <span data-ttu-id="d6691-141">Kodlanamayan dizeleri ve kodu çözülemeyen baytları işlemek için, standart kodlama nesneleri değiştirme geri dönüşünü kullanır ve kod sayfası ile çift bayt karakter kümesi (DBCS) kodlama nesneleri, en uygun geri dönüşü kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-141">Standard encoding objects use replacement fallback, and code page and double-byte character set (DBCS) encoding objects use best-fit fallback to handle strings that they cannot encode and bytes that they cannot decode.</span></span> <span data-ttu-id="d6691-142">(Daha fazla bilgi için, [En Uygun Geri Dönüş](../../../docs/standard/base-types/character-encoding.md#BestFit) bölümüne bakın.)</span><span class="sxs-lookup"><span data-stu-id="d6691-142">(For more information, see the [Best-Fit Fallback](../../../docs/standard/base-types/character-encoding.md#BestFit) section.)</span></span>

- <span data-ttu-id="d6691-143">.NET'te <xref:System.Text.Encoding.GetEncoding%2A?displayProperty=nameWithType> bulunan herhangi bir standart, kod sayfası veya DBCS kodlamasını döndüren yöntemi arayın.</span><span class="sxs-lookup"><span data-stu-id="d6691-143">Call the <xref:System.Text.Encoding.GetEncoding%2A?displayProperty=nameWithType> method, which returns any standard, code page, or DBCS encoding available in .NET.</span></span> <span data-ttu-id="d6691-144">Aşırı yüklemeler, hem kodlayıcı hem de kod çözücü için bir geri dönüş nesnesi belirtmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-144">Overloads let you specify a fallback object for both the encoder and the decoder.</span></span>

> [!NOTE]
> <span data-ttu-id="d6691-145">Unicode Standardı, desteklenen tüm betiklerde her karaktere bir kod noktası (bir sayı) ve bir ad atar.</span><span class="sxs-lookup"><span data-stu-id="d6691-145">The Unicode Standard assigns a code point (a number) and a name to each character in every supported script.</span></span> <span data-ttu-id="d6691-146">Örneğin "A" karakteri, U+0041 kod noktası ile ve "LATIN BÜYÜK HARF A" adıyla temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-146">For example, the character "A" is represented by the code point U+0041 and the name "LATIN CAPITAL LETTER A".</span></span> <span data-ttu-id="d6691-147">Unicode Dönüştürme Biçimi (UTF) kodlamaları, bu kod noktasını bir veya daha fazla bayt dizisi olarak kodlamanın yollarını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-147">The Unicode Transformation Format (UTF) encodings define ways to encode that code point into a sequence of one or more bytes.</span></span> <span data-ttu-id="d6691-148">Bir Unicode kodlama düzeni, herhangi bir karakter kümesindeki karakterlerin tek bir kodlama içinde temsil edilmesini sağladığından, dünya çapında kullanılmaya hazır uygulama geliştirmeyi basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-148">A Unicode encoding scheme simplifies world-ready application development because it allows characters from any character set to be represented in a single encoding.</span></span> <span data-ttu-id="d6691-149">Uygulama geliştiricilerin artık belirli bir dil veya yazı sistemi için karakter oluşturmakta kullanılan kodlama düzenini takip etmesine gerek yoktur ve veriler bozulmadan sistemler arasında uluslararası olarak paylaşılabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-149">Application developers no longer have to keep track of the encoding scheme that was used to produce characters for a specific language or writing system, and data can be shared among systems internationally without being corrupted.</span></span>
>
> <span data-ttu-id="d6691-150">.NET, Unicode standardıtarafından tanımlanan üç kodlamayı destekler: UTF-8, UTF-16 ve UTF-32.</span><span class="sxs-lookup"><span data-stu-id="d6691-150">.NET supports three encodings defined by the Unicode standard: UTF-8, UTF-16, and UTF-32.</span></span> <span data-ttu-id="d6691-151">Daha fazla bilgi için [Unicode ana sayfasındaki Unicode](https://www.unicode.org/)Standardı'na bakın.</span><span class="sxs-lookup"><span data-stu-id="d6691-151">For more information, see The Unicode Standard at the [Unicode home page](https://www.unicode.org/).</span></span>

<span data-ttu-id="d6691-152"><xref:System.Text.Encoding.GetEncodings%2A?displayProperty=nameWithType> Yöntemi arayarak .NET'te bulunan tüm kodlamalar hakkında bilgi alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-152">You can retrieve information about all the encodings available in .NET by calling the <xref:System.Text.Encoding.GetEncodings%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6691-153">.NET, aşağıdaki tabloda listelenen karakter kodlama sistemlerini destekler.</span><span class="sxs-lookup"><span data-stu-id="d6691-153">.NET supports the character encoding systems listed in the following table.</span></span>

|<span data-ttu-id="d6691-154">Encoding</span><span class="sxs-lookup"><span data-stu-id="d6691-154">Encoding</span></span>|<span data-ttu-id="d6691-155">Sınıf</span><span class="sxs-lookup"><span data-stu-id="d6691-155">Class</span></span>|<span data-ttu-id="d6691-156">Açıklama</span><span class="sxs-lookup"><span data-stu-id="d6691-156">Description</span></span>|<span data-ttu-id="d6691-157">Avantajlar/dezavantajlar</span><span class="sxs-lookup"><span data-stu-id="d6691-157">Advantages/disadvantages</span></span>|
|--------------|-----------|-----------------|-------------------------------|
|<span data-ttu-id="d6691-158">ASCII</span><span class="sxs-lookup"><span data-stu-id="d6691-158">ASCII</span></span>|<xref:System.Text.ASCIIEncoding>|<span data-ttu-id="d6691-159">Bir baytın alt yedi bitini kullanarak sınırlı bir karakter aralığını kodlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-159">Encodes a limited range of characters by using the lower seven bits of a byte.</span></span>|<span data-ttu-id="d6691-160">Bu kodlama yalnızca U+0000 ile U+007F arasındaki karakter değerlerini desteklediğinden, çoğu zaman uluslararası uygulamalar için yeterli değildir.</span><span class="sxs-lookup"><span data-stu-id="d6691-160">Because this encoding only supports character values from U+0000 through U+007F, in most cases it is inadequate for internationalized applications.</span></span>|
|<span data-ttu-id="d6691-161">UTF-7</span><span class="sxs-lookup"><span data-stu-id="d6691-161">UTF-7</span></span>|<xref:System.Text.UTF7Encoding>|<span data-ttu-id="d6691-162">Karakterleri 7-bitlik ASCII karakter dizileri olarak temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-162">Represents characters as sequences of 7-bit ASCII characters.</span></span> <span data-ttu-id="d6691-163">ASCII olmayan Unicode karakterleri, ASCII karakterlerinin bir kaçış dizisi ile temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-163">Non-ASCII Unicode characters are represented by an escape sequence of ASCII characters.</span></span>|<span data-ttu-id="d6691-164">UTF-7, e-posta ve haber grubu protokolleri gibi protokolleri destekler.</span><span class="sxs-lookup"><span data-stu-id="d6691-164">UTF-7 supports protocols such as email and newsgroup protocols.</span></span> <span data-ttu-id="d6691-165">Ancak, UTF-7 özellikle güvenli veya sağlam değildir.</span><span class="sxs-lookup"><span data-stu-id="d6691-165">However, UTF-7 is not particularly secure or robust.</span></span> <span data-ttu-id="d6691-166">Bazı durumlarda bir biti değiştirmek, bütün bir UTF-7 dizesinin yorumunu tamamen değiştirebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-166">In some cases, changing one bit can radically alter the interpretation of an entire UTF-7 string.</span></span> <span data-ttu-id="d6691-167">Diğer durumlarda, farklı UTF-7 dizeleri aynı metni kodlayabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-167">In other cases, different UTF-7 strings can encode the same text.</span></span> <span data-ttu-id="d6691-168">ASCII olmayan karakterleri içeren diziler için UTF-7, UTF-8'den daha fazla alan gerektirir ve kodlama/kod çözme daha yavaştır.</span><span class="sxs-lookup"><span data-stu-id="d6691-168">For sequences that include non-ASCII characters, UTF-7 requires more space than UTF-8, and encoding/decoding is slower.</span></span> <span data-ttu-id="d6691-169">Sonuç olarak, mümkünse UTF-7 yerine UTF-8 kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-169">Consequently, you should use UTF-8 instead of UTF-7 if possible.</span></span>|
|<span data-ttu-id="d6691-170">UTF-8</span><span class="sxs-lookup"><span data-stu-id="d6691-170">UTF-8</span></span>|<xref:System.Text.UTF8Encoding>|<span data-ttu-id="d6691-171">Her Unicode kod noktasını bir ile dört bayt arası bir dizi olarak temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-171">Represents each Unicode code point as a sequence of one to four bytes.</span></span>|<span data-ttu-id="d6691-172">UTF-8, 8 bitlik veri boyutlarını destekler ve mevcut çoğu işletim sistemi ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="d6691-172">UTF-8 supports 8-bit data sizes and works well with many existing operating systems.</span></span> <span data-ttu-id="d6691-173">ASCII aralığındaki karakterler için, UTF-8 ASCII kodlaması ile aynıdır ve daha geniş bir karakter kümesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-173">For the ASCII range of characters, UTF-8 is identical to ASCII encoding and allows a broader set of characters.</span></span> <span data-ttu-id="d6691-174">Ancak, Çince-Japonca-Korece (CJK) betikleri için UTF-8, her karakter için üç bayt gerektirir ve UTF-16'dan daha büyük veri boyutlarına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-174">However, for Chinese-Japanese-Korean (CJK) scripts, UTF-8 can require three bytes for each character, and can potentially cause larger data sizes than UTF-16.</span></span> <span data-ttu-id="d6691-175">Bazen HTML etiketleri gibi ASCII verilerinin miktarının, CJK aralığındaki artan boyutu haklı çıkarabilir, buna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="d6691-175">Note that sometimes the amount of ASCII data, such as HTML tags, justifies the increased size for the CJK range.</span></span>|
|<span data-ttu-id="d6691-176">UTF-16</span><span class="sxs-lookup"><span data-stu-id="d6691-176">UTF-16</span></span>|<xref:System.Text.UnicodeEncoding>|<span data-ttu-id="d6691-177">Her Unicode kod noktasını bir veya iki 16 bitlik tamsayı dizisi olarak temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-177">Represents each Unicode code point as a sequence of one or two 16-bit integers.</span></span> <span data-ttu-id="d6691-178">En yaygın Unicode karakterleri yalnızca bir UTF-16 kod noktası gerektirir, ancak Unicode ek karakterleri (U+10000 ve daha üstü) iki UTF-16 yedek kod noktası gerektirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-178">Most common Unicode characters require only one UTF-16 code point, although Unicode supplementary characters (U+10000 and greater) require two UTF-16 surrogate code points.</span></span> <span data-ttu-id="d6691-179">Küçük endian ve büyük endian bayt sıralarının her ikisi de desteklenir.</span><span class="sxs-lookup"><span data-stu-id="d6691-179">Both little-endian and big-endian byte orders are supported.</span></span>|<span data-ttu-id="d6691-180">UTF-16 kodlaması ortak dil çalışma zamanı tarafından <xref:System.Char> ve <xref:System.String> değerlerini ve Windows işletim sistemi tarafından `WCHAR` değerlerini temsil etmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-180">UTF-16 encoding is used by the common language runtime to represent <xref:System.Char> and <xref:System.String> values, and it is used by the Windows operating system to represent `WCHAR` values.</span></span>|
|<span data-ttu-id="d6691-181">UTF-32</span><span class="sxs-lookup"><span data-stu-id="d6691-181">UTF-32</span></span>|<xref:System.Text.UTF32Encoding>|<span data-ttu-id="d6691-182">Her Unicode kod noktasını bir 32-bit tamsayı olarak temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-182">Represents each Unicode code point as a 32-bit integer.</span></span> <span data-ttu-id="d6691-183">Küçük endian ve büyük endian bayt sıralarının her ikisi de desteklenir.</span><span class="sxs-lookup"><span data-stu-id="d6691-183">Both little-endian and big-endian byte orders are supported.</span></span>|<span data-ttu-id="d6691-184">UTF-32 kodlama, uygulamalar kodlama alanının çok önemli olduğu işletim sistemlerinde UTF-16 kodlama davranışının yedek kod noktası davranışından kaçınmak istediğinde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-184">UTF-32 encoding is used when applications want to avoid the surrogate code point behavior of UTF-16 encoding on operating systems for which encoded space is too important.</span></span> <span data-ttu-id="d6691-185">Görüntü üzerinde işlenen tek simgeler hala birden fazla UTF-32 karakteriyle kodlanabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-185">Single glyphs rendered on a display can still be encoded with more than one UTF-32 character.</span></span>|
|<span data-ttu-id="d6691-186">ANSI/ISO kodlamaları</span><span class="sxs-lookup"><span data-stu-id="d6691-186">ANSI/ISO encodings</span></span>||<span data-ttu-id="d6691-187">Çeşitli kod sayfaları için destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-187">Provides support for a variety of code pages.</span></span> <span data-ttu-id="d6691-188">Windows işletim sistemlerinde, kod sayfaları belirli bir dili veya dil grubunu desteklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-188">On Windows operating systems, code pages are used to support a specific language or group of languages.</span></span> <span data-ttu-id="d6691-189">.NET tarafından desteklenen kod sayfalarını listeleyen bir <xref:System.Text.Encoding> tablo için sınıfa bakın.</span><span class="sxs-lookup"><span data-stu-id="d6691-189">For a table that lists the code pages supported by .NET, see the <xref:System.Text.Encoding> class.</span></span> <span data-ttu-id="d6691-190"><xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> yöntemini çağırarak belirli bir kod sayfası için bir kodlama nesnesi alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-190">You can retrieve an encoding object for a particular code page by calling the <xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> method.</span></span>|<span data-ttu-id="d6691-191">Bir kod sayfası 256 kod noktası içerir ve sıfır tabanlıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-191">A code page contains 256 code points and is zero-based.</span></span> <span data-ttu-id="d6691-192">Çoğu kod sayfasında, 0 ile 127 arasındaki kod noktaları ASCII karakter kümesini temsil eder, ve 128 ile 255 arasındaki kod noktaları kod sayfaları arasında önemli ölçüde değişir.</span><span class="sxs-lookup"><span data-stu-id="d6691-192">In most code pages, code points 0 through 127 represent the ASCII character set, and code points 128 through 255 differ significantly between code pages.</span></span> <span data-ttu-id="d6691-193">Örneğin kod sayfası 1252; İngilizce, Almanca ve Fransızca dahil olmak üzere Latin yazma sistemleri için karakterler sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-193">For example, code page 1252 provides the characters for Latin writing systems, including English, German, and French.</span></span> <span data-ttu-id="d6691-194">Kod sayfası 1252'deki son 128 kod noktası vurgu karakterlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="d6691-194">The last 128 code points in code page 1252 contain the accent characters.</span></span> <span data-ttu-id="d6691-195">Kod sayfası 1253, Yunanca yazma sisteminde gerekli olan karakter kodlarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-195">Code page 1253 provides character codes that are required in the Greek writing system.</span></span> <span data-ttu-id="d6691-196">Kod sayfası 1253'deki son 128 kod noktası Yunanca karakterleri içerir.</span><span class="sxs-lookup"><span data-stu-id="d6691-196">The last 128 code points in code page 1253 contain the Greek characters.</span></span> <span data-ttu-id="d6691-197">Sonuç olarak, ANSI kod sayfalarını temel alan bir uygulama, başvurulan kod sayfasını gösteren bir tanımlayıcı eklemediği sürece aynı metin akışında Yunanca ve Almanca karakterleri depolayamaz.</span><span class="sxs-lookup"><span data-stu-id="d6691-197">As a result, an application that relies on ANSI code pages cannot store Greek and German in the same text stream unless it includes an identifier that indicates the referenced code page.</span></span>|
|<span data-ttu-id="d6691-198">Çift bayt karakter kümesi (DBCS) kodlamaları</span><span class="sxs-lookup"><span data-stu-id="d6691-198">Double-byte character set (DBCS) encodings</span></span>||<span data-ttu-id="d6691-199">256 karakterden daha fazla karakter içeren Çince, Japonca ve Korece gibi dilleri destekler.</span><span class="sxs-lookup"><span data-stu-id="d6691-199">Supports languages, such as Chinese, Japanese, and Korean, that contain more than 256 characters.</span></span> <span data-ttu-id="d6691-200">DBCS içinde, bir kod noktası çifti (bir çift bayt), her bir karakteri temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-200">In a DBCS, a pair of code points (a double byte) represents each character.</span></span> <span data-ttu-id="d6691-201"><xref:System.Text.Encoding.IsSingleByte%2A?displayProperty=nameWithType> özelliği, DBCS kodlamaları için `false`'i döndürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-201">The <xref:System.Text.Encoding.IsSingleByte%2A?displayProperty=nameWithType> property returns `false` for DBCS encodings.</span></span> <span data-ttu-id="d6691-202"><xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> yöntemini çağırarak belirli bir DBCS için bir kodlama nesnesi alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-202">You can retrieve an encoding object for a particular DBCS by calling the <xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> method.</span></span>|<span data-ttu-id="d6691-203">DBCS içinde, bir kod noktası çifti (bir çift bayt), her bir karakteri temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-203">In a DBCS, a pair of code points (a double byte) represents each character.</span></span> <span data-ttu-id="d6691-204">Bir uygulama DBCS verilerini işlediğinde, bir DBCS karakterinin (öndeki bayt) ilk baytı, hemen ardından gelen sondaki bayt ile birlikte işlenir.</span><span class="sxs-lookup"><span data-stu-id="d6691-204">When an application handles DBCS data, the first byte of a DBCS character (the lead byte) is processed in combination with the trail byte that immediately follows it.</span></span> <span data-ttu-id="d6691-205">Tek bir çift bayt kod noktası çifti kod sayfasına bağlı olarak farklı karakterleri temsil edebileceğinden, bu düzen yine de Japonca ve Çince gibi iki dilin aynı veri akışında bulunmasına izin vermez.</span><span class="sxs-lookup"><span data-stu-id="d6691-205">Because a single pair of double-byte code points can represent different characters depending on the code page, this scheme still does not allow for the combination of two languages, such as Japanese and Chinese, in the same data stream.</span></span>|

<span data-ttu-id="d6691-206">Bu kodlamalar, hem Unicode karakterleriyle hem de eski uygulamalarda yaygın olarak kullanılan kodlamalarla birlikte çalışmanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-206">These encodings enable you to work with Unicode characters as well as with encodings that are most commonly used in legacy applications.</span></span> <span data-ttu-id="d6691-207">Ek olarak, <xref:System.Text.Encoding> sınıfından türetilen bir sınıf tanımlayarak ve üyelerini geçersiz kılarak özel bir kodlama oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-207">In addition, you can create a custom encoding by defining a class that derives from <xref:System.Text.Encoding> and overriding its members.</span></span>

### <a name="platform-notes-net-core"></a><span data-ttu-id="d6691-208">Platform Notları: .NET Core</span><span class="sxs-lookup"><span data-stu-id="d6691-208">Platform Notes: .NET Core</span></span>

<span data-ttu-id="d6691-209">Varsayılan olarak, .NET Core kod sayfası 28591 ve UTF-8 ve UTF-16 gibi Unicode kodlamaları dışında herhangi bir kod sayfası kodlaması sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="d6691-209">By default, .NET Core does not make available any code page encodings other than code page 28591 and the Unicode encodings, such as UTF-8 and UTF-16.</span></span> <span data-ttu-id="d6691-210">Ancak, .NET'i hedefleyen standart Windows uygulamalarında bulunan kod sayfası kodlamalarını uygulamanıza ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-210">However, you can add the code page encodings found in standard Windows apps that target .NET to your app.</span></span> <span data-ttu-id="d6691-211">Tam bilgi için <xref:System.Text.CodePagesEncodingProvider> konuya bakın.</span><span class="sxs-lookup"><span data-stu-id="d6691-211">For complete information, see the <xref:System.Text.CodePagesEncodingProvider> topic.</span></span>

<a name="Selecting"></a>

## <a name="selecting-an-encoding-class"></a><span data-ttu-id="d6691-212">Bir Kodlama Sınıfı Seçme</span><span class="sxs-lookup"><span data-stu-id="d6691-212">Selecting an Encoding Class</span></span>

<span data-ttu-id="d6691-213">Eğer uygulamanız tarafından kullanılacak kodlamayı seçme olanağınız varsa, bir Unicode kodlamasını, tercihen <xref:System.Text.UTF8Encoding> veya <xref:System.Text.UnicodeEncoding>'i kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-213">If you have the opportunity to choose the encoding to be used by your application, you should use a Unicode encoding, preferably either <xref:System.Text.UTF8Encoding> or <xref:System.Text.UnicodeEncoding>.</span></span> <span data-ttu-id="d6691-214">(.NET de üçüncü bir Unicode <xref:System.Text.UTF32Encoding>kodlama destekler,.)</span><span class="sxs-lookup"><span data-stu-id="d6691-214">(.NET also supports a third Unicode encoding, <xref:System.Text.UTF32Encoding>.)</span></span>

<span data-ttu-id="d6691-215">Eğer bir ASCII kodlaması (<xref:System.Text.ASCIIEncoding>) kullanmayı planlıyorsanız, bunun yerine <xref:System.Text.UTF8Encoding>'i seçin.</span><span class="sxs-lookup"><span data-stu-id="d6691-215">If you are planning to use an ASCII encoding (<xref:System.Text.ASCIIEncoding>), choose <xref:System.Text.UTF8Encoding> instead.</span></span> <span data-ttu-id="d6691-216">Bu iki kodlama ASCII karakter kümesi için aynıdır, ancak <xref:System.Text.UTF8Encoding> aşağıdaki avantajlara sahiptir:</span><span class="sxs-lookup"><span data-stu-id="d6691-216">The two encodings are identical for the ASCII character set, but <xref:System.Text.UTF8Encoding> has the following advantages:</span></span>

- <span data-ttu-id="d6691-217"><xref:System.Text.ASCIIEncoding>, yalnızca U+0000 ve U+007F arasındaki Unicode karakterlerini desteklerken, bu bütün Unicode karakterlerini temsil edebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-217">It can represent every Unicode character, whereas <xref:System.Text.ASCIIEncoding> supports only the Unicode character values between U+0000 and U+007F.</span></span>

- <span data-ttu-id="d6691-218">Hata algılama ve daha iyi güvenlik sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-218">It provides error detection and better security.</span></span>

- <span data-ttu-id="d6691-219">Mümkün olduğunca hızlı olacak şekilde ayarlanmıştır ve diğer kodlamalardan daha hızlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-219">It has been tuned to be as fast as possible and should be faster than any other encoding.</span></span> <span data-ttu-id="d6691-220">Tamamen ASCII olan içerik için bile, <xref:System.Text.UTF8Encoding> ile yapılan işlemler <xref:System.Text.ASCIIEncoding> ile yapılan işlemlerden daha hızlıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-220">Even for content that is entirely ASCII, operations performed with <xref:System.Text.UTF8Encoding> are faster than operations performed with <xref:System.Text.ASCIIEncoding>.</span></span>

<span data-ttu-id="d6691-221"><xref:System.Text.ASCIIEncoding> kodlamasını yalnızca eski uygulamalar için kullanmayı düşünmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-221">You should consider using <xref:System.Text.ASCIIEncoding> only for legacy applications.</span></span> <span data-ttu-id="d6691-222">Ancak, eski uygulamalar için bile, <xref:System.Text.UTF8Encoding> aşağıdaki nedenlerden dolayı (varsayılan ayarların olduğunu düşünerek) daha iyi bir seçimdir:</span><span class="sxs-lookup"><span data-stu-id="d6691-222">However, even for legacy applications, <xref:System.Text.UTF8Encoding> might be a better choice for the following reasons (assuming default settings):</span></span>

- <span data-ttu-id="d6691-223">Eğer uygulamanız tamamen ASCII olmayan içeriğe sahipse ve bunu <xref:System.Text.ASCIIEncoding> ile kodlarsa ASCII olmayan her bir karakter, bir soru işareti (?) olarak kodlanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-223">If your application has content that is not strictly ASCII and encodes it with <xref:System.Text.ASCIIEncoding>, each non-ASCII character encodes as a question mark (?).</span></span> <span data-ttu-id="d6691-224">Eğer sonra uygulama bu verinin kodunu çözerse, bilgi kaybolur.</span><span class="sxs-lookup"><span data-stu-id="d6691-224">If the application then decodes this data, the information is lost.</span></span>

- <span data-ttu-id="d6691-225">Eğer uygulamanız tamamen ASCII olmayan içeriğe sahipse ve bunu <xref:System.Text.UTF8Encoding> ile kodlarsa, ASCII olarak yorumlandığında sonuç anlamsız görünebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-225">If your application has content that is not strictly ASCII and encodes it with <xref:System.Text.UTF8Encoding>, the result seems unintelligible if interpreted as ASCII.</span></span> <span data-ttu-id="d6691-226">Ancak ardından uygulama, bu verinin kodunu çözmek için bir UTF-8 kod çözücü kullanırsa veriler, gidiş dönüşü başarıyla tamamlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-226">However, if the application then uses a UTF-8 decoder to decode this data, the data performs a round trip successfully.</span></span>

<span data-ttu-id="d6691-227">Bir web uygulamasında, bir web isteğine karşılık olarak istemciye gönderilen karakterler istemcide kullanılan kodlamayı yansıtmalıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-227">In a web application, characters sent to the client in response to a web request should reflect the encoding used on the client.</span></span> <span data-ttu-id="d6691-228">Çoğu durumda, metni kullanıcının beklediği kodlamayla görüntülemek için <xref:System.Web.HttpResponse.ContentEncoding%2A?displayProperty=nameWithType> özelliğini <xref:System.Web.HttpRequest.ContentEncoding%2A?displayProperty=nameWithType> özelliği tarafından döndürülen değere ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-228">In most cases, you should set the <xref:System.Web.HttpResponse.ContentEncoding%2A?displayProperty=nameWithType> property to the value returned by the <xref:System.Web.HttpRequest.ContentEncoding%2A?displayProperty=nameWithType> property to display text in the encoding that the user expects.</span></span>

<a name="Using"></a>

## <a name="using-an-encoding-object"></a><span data-ttu-id="d6691-229">Using an Encoding Object</span><span class="sxs-lookup"><span data-stu-id="d6691-229">Using an Encoding Object</span></span>

<span data-ttu-id="d6691-230">Bir kodlayıcı, bir karakter dizesini (genellikle Unicode karakterleri) sayısal (bayt) eşdeğerine dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-230">An encoder converts a string of characters (most commonly, Unicode characters) to its numeric (byte) equivalent.</span></span> <span data-ttu-id="d6691-231">Örneğin, Unicode karakterlerini dönüştürmek için bir ASCII kodlayıcısı kullanabilirsiniz ve bu sayede bunların konsolda görüntülenmelerini sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-231">For example, you might use an ASCII encoder to convert Unicode characters to ASCII so that they can be displayed at the console.</span></span> <span data-ttu-id="d6691-232">Dönüşümü gerçekleştirmek için, <xref:System.Text.Encoding.GetBytes%2A?displayProperty=nameWithType> yöntemini çağırın.</span><span class="sxs-lookup"><span data-stu-id="d6691-232">To perform the conversion, you call the <xref:System.Text.Encoding.GetBytes%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6691-233">Eğer kodlanmış karakterlerin depolanması için kaç bayt gerektiğini kodlamayı gerçekleştirmeden önce belirlemek istiyorsanız, <xref:System.Text.Encoding.GetByteCount%2A> yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-233">If you want to determine how many bytes are needed to store the encoded characters before performing the encoding, you can call the <xref:System.Text.Encoding.GetByteCount%2A> method.</span></span>

<span data-ttu-id="d6691-234">Aşağıdaki örnek, dizeleri iki ayrı işlemde kodlamak için tek bir bayt dizisini kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-234">The following example uses a single byte array to encode strings in two separate operations.</span></span> <span data-ttu-id="d6691-235">Bayt dizisinde, sonraki ASCII kodlamalı bayt kümesinin başlangıç konumunu belirten bir dizin tutar.</span><span class="sxs-lookup"><span data-stu-id="d6691-235">It maintains an index that indicates the starting position in the byte array for the next set of ASCII-encoded bytes.</span></span> <span data-ttu-id="d6691-236">Bayt dizisinin kodlanmış dizeyi tutabilecek kadar büyük olduğundan emin olmak için <xref:System.Text.ASCIIEncoding.GetByteCount%28System.String%29?displayProperty=nameWithType> yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="d6691-236">It calls the <xref:System.Text.ASCIIEncoding.GetByteCount%28System.String%29?displayProperty=nameWithType> method to ensure that the byte array is large enough to accommodate the encoded string.</span></span> <span data-ttu-id="d6691-237">Ardından dizedeki karakterleri kodlamak için <xref:System.Text.ASCIIEncoding.GetBytes%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.Byte%5B%5D%2CSystem.Int32%29?displayProperty=nameWithType> yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="d6691-237">It then calls the <xref:System.Text.ASCIIEncoding.GetBytes%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.Byte%5B%5D%2CSystem.Int32%29?displayProperty=nameWithType> method to encode the characters in the string.</span></span>

[!code-csharp[Conceptual.Encoding#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/getbytes1.cs#8)]
[!code-vb[Conceptual.Encoding#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/getbytes1.vb#8)]

<span data-ttu-id="d6691-238">Bir kod çözücü, belirli bir karakter kodlamasını yansıtan bayt dizisini, bir karakter dizisi veya dize olarak karakter kümesine dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-238">A decoder converts a byte array that reflects a particular character encoding into a set of characters, either in a character array or in a string.</span></span> <span data-ttu-id="d6691-239">Bir bayt dizisinin karakter dizisi olarak kodunu çözmek için <xref:System.Text.Encoding.GetChars%2A?displayProperty=nameWithType> yöntemini çağırın.</span><span class="sxs-lookup"><span data-stu-id="d6691-239">To decode a byte array into a character array, you call the <xref:System.Text.Encoding.GetChars%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6691-240">Bir bayt dizisinin dize olarak kodunu çözmek için <xref:System.Text.Encoding.GetString%2A> yöntemini çağırın.</span><span class="sxs-lookup"><span data-stu-id="d6691-240">To decode a byte array into a string, you call the <xref:System.Text.Encoding.GetString%2A> method.</span></span> <span data-ttu-id="d6691-241">Eğer kodu çözülmüş baytların depolanması için kaç karakter gerektiğini kodlamayı gerçekleştirmeden önce belirlemek istiyorsanız, <xref:System.Text.Encoding.GetCharCount%2A> yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-241">If you want to determine how many characters are needed to store the decoded bytes before performing the decoding, you can call the <xref:System.Text.Encoding.GetCharCount%2A> method.</span></span>

<span data-ttu-id="d6691-242">Aşağıdaki örnek üç dizeyi kodlar ve ardından tek bir karakter dizisi olarak kodunu çözer.</span><span class="sxs-lookup"><span data-stu-id="d6691-242">The following example encodes three strings and then decodes them into a single array of characters.</span></span> <span data-ttu-id="d6691-243">Karakter dizisinde sonraki kodu çözülmüş karakter kümesinin başlangıç konumunu belirten bir dizin tutar.</span><span class="sxs-lookup"><span data-stu-id="d6691-243">It maintains an index that indicates the starting position in the character array for the next set of decoded characters.</span></span> <span data-ttu-id="d6691-244">Karakter dizisinin kodu çözülmüş tüm karakterleri tutacak kadar büyük olduğundan emin olmak için <xref:System.Text.ASCIIEncoding.GetCharCount%2A> yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="d6691-244">It calls the <xref:System.Text.ASCIIEncoding.GetCharCount%2A> method to ensure that the character array is large enough to accommodate all the decoded characters.</span></span> <span data-ttu-id="d6691-245">Ardından bayt dizisinin kodunu çözmek için <xref:System.Text.ASCIIEncoding.GetChars%28System.Byte%5B%5D%2CSystem.Int32%2CSystem.Int32%2CSystem.Char%5B%5D%2CSystem.Int32%29?displayProperty=nameWithType> yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="d6691-245">It then calls the <xref:System.Text.ASCIIEncoding.GetChars%28System.Byte%5B%5D%2CSystem.Int32%2CSystem.Int32%2CSystem.Char%5B%5D%2CSystem.Int32%29?displayProperty=nameWithType> method to decode the byte array.</span></span>

[!code-csharp[Conceptual.Encoding#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/getchars1.cs#9)]
[!code-vb[Conceptual.Encoding#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/getchars1.vb#9)]

<span data-ttu-id="d6691-246"><xref:System.Text.Encoding> sınıfından türetilen bir sınıfın kodlama ve kod çözme yöntemleri, tam bir veri kümesi ile çalışacak şekilde tasarlanmıştır; yani, kodlanacak veya kodu çözülecek tüm veriler tek bir yöntem çağrısında sağlanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-246">The encoding and decoding methods of a class derived from <xref:System.Text.Encoding> are designed to work on a complete set of data; that is, all the data to be encoded or decoded is supplied in a single method call.</span></span> <span data-ttu-id="d6691-247">Ancak, bazı durumlarda veriler bir akışta bulunabilir ve kodlanacak ya da kodu çözülecek veriler yalnızca ayrı okuma işlemleri ile kullanılabilir olabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-247">However, in some cases, data is available in a stream, and the data to be encoded or decoded may be available only from separate read operations.</span></span> <span data-ttu-id="d6691-248">Bu, kodlama veya kod çözme işleminin önceki çağrıda kaydedilen durumunu hatırlamasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-248">This requires the encoding or decoding operation to remember any saved state from its previous invocation.</span></span> <span data-ttu-id="d6691-249"><xref:System.Text.Encoder> ve <xref:System.Text.Decoder> sınıflarından türetilen sınıfların yöntemleri, birden çok yöntem çağrısına yayılan kodlama ve kod çözme işlemlerini işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-249">Methods of classes derived from <xref:System.Text.Encoder> and <xref:System.Text.Decoder> are able to handle encoding and decoding operations that span multiple method calls.</span></span>

<span data-ttu-id="d6691-250">Belirli bir kodlamaya ait bir <xref:System.Text.Encoder> nesnesi, o kodlamanın <xref:System.Text.Encoding.GetEncoder%2A?displayProperty=nameWithType> özelliğinden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-250">An <xref:System.Text.Encoder> object for a particular encoding is available from that encoding's <xref:System.Text.Encoding.GetEncoder%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d6691-251">Belirli bir kodlamaya ait bir <xref:System.Text.Decoder> nesnesi, o kodlamanın <xref:System.Text.Encoding.GetDecoder%2A?displayProperty=nameWithType> özelliğinden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-251">A <xref:System.Text.Decoder> object for a particular encoding is available from that encoding's <xref:System.Text.Encoding.GetDecoder%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d6691-252">Kod çözme işlemleri için, <xref:System.Text.Decoder> sınıfından türetilen sınıfların bir <xref:System.Text.Decoder.GetChars%2A?displayProperty=nameWithType> yöntemi içerdiğine, ancak <xref:System.Text.Encoding.GetString%2A?displayProperty=nameWithType> yöntemine karşılık gelen bir yöntemleri olmadığına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="d6691-252">For decoding operations, note that classes derived from <xref:System.Text.Decoder> include a <xref:System.Text.Decoder.GetChars%2A?displayProperty=nameWithType> method, but they do not have a method that corresponds to <xref:System.Text.Encoding.GetString%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="d6691-253">Aşağıdaki örnek, bir Unicode bayt dizisinin kodunu çözmek için <xref:System.Text.Encoding.GetChars%2A?displayProperty=nameWithType> ve <xref:System.Text.Decoder.GetChars%2A?displayProperty=nameWithType> yöntemlerinin kullanılması arasındaki farkı gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-253">The following example illustrates the difference between using the <xref:System.Text.Encoding.GetChars%2A?displayProperty=nameWithType> and <xref:System.Text.Decoder.GetChars%2A?displayProperty=nameWithType> methods for decoding a Unicode byte array.</span></span> <span data-ttu-id="d6691-254">Bu örnek, bazı Unicode karakterleri içeren bir dizeyi dosya içine kodlar ve ardından iki kod çözme yöntemini kullanarak tek seferde on bayt olacak şekilde kodlarını çözer.</span><span class="sxs-lookup"><span data-stu-id="d6691-254">The example encodes a string that contains some Unicode characters to a file, and then uses the two decoding methods to decode them ten bytes at a time.</span></span> <span data-ttu-id="d6691-255">Onuncu ve on birinci baytlarda bir yedek çifti olduğu için kodu, ayrı yöntem çağrılarında çözülür.</span><span class="sxs-lookup"><span data-stu-id="d6691-255">Because a surrogate pair occurs in the tenth and eleventh bytes, it is decoded in separate method calls.</span></span> <span data-ttu-id="d6691-256">Çıktının gösterdiği gibi <xref:System.Text.Encoding.GetChars%2A?displayProperty=nameWithType> yöntemi, baytların kodunu doğru şekilde çözemez ve bunun yerine onları U+FFFD (DEĞİŞTİRME KARAKTERİ) ile değiştirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-256">As the output shows, the <xref:System.Text.Encoding.GetChars%2A?displayProperty=nameWithType> method is not able to correctly decode the bytes and instead replaces them with U+FFFD (REPLACEMENT CHARACTER).</span></span> <span data-ttu-id="d6691-257">Diğer taraftan <xref:System.Text.Decoder.GetChars%2A?displayProperty=nameWithType> yöntemi, bayt dizisinin kodunu başarıyla çözerek özgün dizeye ulaşır.</span><span class="sxs-lookup"><span data-stu-id="d6691-257">On the other hand, the <xref:System.Text.Decoder.GetChars%2A?displayProperty=nameWithType> method is able to successfully decode the byte array to get the original string.</span></span>

[!code-csharp[Conceptual.Encoding#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/stream1.cs#10)]
[!code-vb[Conceptual.Encoding#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/stream1.vb#10)]

<a name="FallbackStrategy"></a>

## <a name="choosing-a-fallback-strategy"></a><span data-ttu-id="d6691-258">Choosing a Fallback Strategy</span><span class="sxs-lookup"><span data-stu-id="d6691-258">Choosing a Fallback Strategy</span></span>

<span data-ttu-id="d6691-259">Bir yöntem, bir karakter için kodlamayı veya kod çözmeyi denediğinde ancak hiçbir eşleme bulunmadığında, başarısız olan eşlemenin nasıl işleneceğini belirleyen bir geri dönüş stratejisi uygulanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-259">When a method tries to encode or decode a character but no mapping exists, it must implement a fallback strategy that determines how the failed mapping should be handled.</span></span> <span data-ttu-id="d6691-260">Üç çeşit geri dönüş stratejisi bulunur:</span><span class="sxs-lookup"><span data-stu-id="d6691-260">There are three types of fallback strategies:</span></span>

- <span data-ttu-id="d6691-261">En uygun geri dönüş</span><span class="sxs-lookup"><span data-stu-id="d6691-261">Best-fit fallback</span></span>

- <span data-ttu-id="d6691-262">Değiştirme geri dönüşü</span><span class="sxs-lookup"><span data-stu-id="d6691-262">Replacement fallback</span></span>

- <span data-ttu-id="d6691-263">Özel durum geri dönüşü</span><span class="sxs-lookup"><span data-stu-id="d6691-263">Exception fallback</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d6691-264">Kodlama işlemlerindeki en yaygın sorunlar, bir Unicode karakteri belirli bir kod sayfası kodlamasıyla eşlenemediğinde ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="d6691-264">The most common problems in encoding operations occur when a Unicode character cannot be mapped to a particular code page encoding.</span></span> <span data-ttu-id="d6691-265">Kod çözme işlemlerindeki en yaygın sorunlar, geçersiz bayt dizileri geçerli Unicode karakterlerine çevrilemediğinde ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="d6691-265">The most common problems in decoding operations occur when invalid byte sequences cannot be translated into valid Unicode characters.</span></span> <span data-ttu-id="d6691-266">Bu nedenlerden dolayı, belirli bir kodlama nesnesinin hangi geri dönüş stratejisini kullandığını bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-266">For these reasons, you should know which fallback strategy a particular encoding object uses.</span></span> <span data-ttu-id="d6691-267">Mümkün olduğunda, bir kodlama nesnesinin kullandığı geri dönüş stratejisini nesnenin örneğini oluştururken belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-267">Whenever possible, you should specify the fallback strategy used by an encoding object when you instantiate the object.</span></span>

<a name="BestFit"></a>

### <a name="best-fit-fallback"></a><span data-ttu-id="d6691-268">En Uygun Geri Dönüş</span><span class="sxs-lookup"><span data-stu-id="d6691-268">Best-Fit Fallback</span></span>

<span data-ttu-id="d6691-269">Bir karakter hedef kodlamada tam bir eşleşmeye sahip olmadığında, kodlayıcı bu karakteri benzer bir karakterle eşlemeyi deneyebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-269">When a character does not have an exact match in the target encoding, the encoder can try to map it to a similar character.</span></span> <span data-ttu-id="d6691-270">(En uygun geri dönüş genellikle bir kod çözme sorunu değil, bir kodlama sorunudur.</span><span class="sxs-lookup"><span data-stu-id="d6691-270">(Best-fit fallback is mostly an encoding rather than a decoding issue.</span></span> <span data-ttu-id="d6691-271">Unicode'a başarıyla eşlenen karakter içeren çok az kod sayfası vardır.) En uygun geri dönüş, kod sayfası ve <xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> <xref:System.Text.Encoding.GetEncoding%28System.String%29?displayProperty=nameWithType> aşırı yüklemeler tarafından alınan çift bayt karakter kümesi kodlamaları için varsayılan dır.</span><span class="sxs-lookup"><span data-stu-id="d6691-271">There are very few code pages that contain characters that cannot be successfully mapped to Unicode.) Best-fit fallback is the default for code page and double-byte character set encodings that are retrieved by the <xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> and <xref:System.Text.Encoding.GetEncoding%28System.String%29?displayProperty=nameWithType> overloads.</span></span>

> [!NOTE]
> <span data-ttu-id="d6691-272">Teorik olarak, .NET 'de sağlanan Unicode <xref:System.Text.UnicodeEncoding>kodlama <xref:System.Text.UTF32Encoding>sınıfları (,<xref:System.Text.UTF8Encoding>ve ) her karakter kümesindeki her karakteri destekler, böylece en uygun geri dönüş sorunlarını ortadan kaldırmak için kullanılabilirler.</span><span class="sxs-lookup"><span data-stu-id="d6691-272">In theory, the Unicode encoding classes provided in .NET (<xref:System.Text.UTF8Encoding>, <xref:System.Text.UnicodeEncoding>, and <xref:System.Text.UTF32Encoding>) support every character in every character set, so they can be used to eliminate best-fit fallback issues.</span></span>

<span data-ttu-id="d6691-273">En uygun stratejiler farklı kod sayfaları için değişir.</span><span class="sxs-lookup"><span data-stu-id="d6691-273">Best-fit strategies vary for different code pages.</span></span> <span data-ttu-id="d6691-274">Örneğin, bazı kod sayfalarında tam genişlikteki Latin karakterler, daha yaygın olan yarım genişlikteki Latin karakterlerle eşlenir.</span><span class="sxs-lookup"><span data-stu-id="d6691-274">For example, for some code pages, full-width Latin characters map to the more common half-width Latin characters.</span></span> <span data-ttu-id="d6691-275">Diğer kod sayfaları için bu eşleme yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="d6691-275">For other code pages, this mapping is not made.</span></span> <span data-ttu-id="d6691-276">Agresif bir en uygun stratejide bile, bazı kodlamalardaki bazı karakterler için mümkün olan hiçbir uygun karakter yoktur.</span><span class="sxs-lookup"><span data-stu-id="d6691-276">Even under an aggressive best-fit strategy, there is no imaginable fit for some characters in some encodings.</span></span> <span data-ttu-id="d6691-277">Örneğin, bir Çince ideogramın kod sayfası 1252 için hiçbir mantıklı eşlemesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="d6691-277">For example, a Chinese ideograph has no reasonable mapping to code page 1252.</span></span> <span data-ttu-id="d6691-278">Bu durumda, bir değiştirme dizesi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-278">In this case, a replacement string is used.</span></span> <span data-ttu-id="d6691-279">Varsayılan olarak bu dize, yalnızca tek bir SORU İŞARETİ (U+003F) karakteridir.</span><span class="sxs-lookup"><span data-stu-id="d6691-279">By default, this string is just a single QUESTION MARK (U+003F).</span></span>

> [!NOTE]
> <span data-ttu-id="d6691-280">En uygun stratejiler ayrıntılı olarak belgelenmez.</span><span class="sxs-lookup"><span data-stu-id="d6691-280">Best-fit strategies are not documented in detail.</span></span> <span data-ttu-id="d6691-281">Ancak, [Unicode Konsorsiyumu'nun](https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WindowsBestFit/) web sitesinde birkaç kod sayfası belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="d6691-281">However, several code pages are documented at the [Unicode Consortium's](https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WindowsBestFit/) website.</span></span> <span data-ttu-id="d6691-282">Haritalama dosyalarının nasıl yorumlanacağına dair bir açıklama için lütfen bu klasördeki **readme.txt** dosyasını gözden geçirin.</span><span class="sxs-lookup"><span data-stu-id="d6691-282">Please review the **readme.txt** file in that folder for a description of how to interpret the mapping files.</span></span>

<span data-ttu-id="d6691-283">Aşağıdaki örnek, kod sayfası 1252'yi (Batı Avrupa dilleri için Windows kod sayfası) kullanarak en uygun eşlemeyi ve bunun dezavantajlarını gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-283">The following example uses code page 1252 (the Windows code page for Western European languages) to illustrate best-fit mapping and its drawbacks.</span></span> <span data-ttu-id="d6691-284">Kod sayfası 1252 için bir kodlama nesnesi almak üzere <xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> yöntemi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-284">The <xref:System.Text.Encoding.GetEncoding%28System.Int32%29?displayProperty=nameWithType> method is used to retrieve an encoding object for code page 1252.</span></span> <span data-ttu-id="d6691-285">Varsayılan olarak, desteklemediği Unicode karakterleri için bir en uygun eşleme kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-285">By default, it uses a best-fit mapping for Unicode characters that it does not support.</span></span> <span data-ttu-id="d6691-286">Örnek; boşluklarla ayrılan, ASCII olmayan üç karakteri içeren bir dizeyi örnekler - DAİRELİ LATIN BÜYÜK HARF S (U+24C8), ÜST SİMGE BEŞ (U+2075) ve SONSUZLUK (U+221E).</span><span class="sxs-lookup"><span data-stu-id="d6691-286">The example instantiates a string that contains three non-ASCII characters - CIRCLED LATIN CAPITAL LETTER S (U+24C8), SUPERSCRIPT FIVE (U+2075), and INFINITY (U+221E) - separated by spaces.</span></span> <span data-ttu-id="d6691-287">Örneğin çıktısının gösterdiği üzere, dize kodlandığında boşluk olmayan üç orijinal karakter, SORU İŞARETİ (U+003F), BEŞ BASAMAĞI (U+0035) ve SEKİZ BASAMAĞI (U+0038) ile değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-287">As the output from the example shows, when the string is encoded, the three original non-space characters are replaced by QUESTION MARK (U+003F), DIGIT FIVE (U+0035), and DIGIT EIGHT (U+0038).</span></span> <span data-ttu-id="d6691-288">Özellikle SEKİZ BASAMAĞI, desteklenmeyen SONSUZLUK karakteri için kötü bir değiştirmedir ve SORU İŞARETİ, orijinal karakter için kullanılabilir bir eşleme bulunmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-288">DIGIT EIGHT is a particularly poor replacement for the unsupported INFINITY character, and QUESTION MARK indicates that no mapping was available for the original character.</span></span>

[!code-csharp[Conceptual.Encoding#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/bestfit1.cs#1)]
[!code-vb[Conceptual.Encoding#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/bestfit1.vb#1)]

<span data-ttu-id="d6691-289">En uygun eşleme, Unicode verilerini kod sayfası verisine kodlayan bir <xref:System.Text.Encoding> nesnesi için varsayılan davranıştır ve bu davranışı kullanan eski uygulamalar vardır.</span><span class="sxs-lookup"><span data-stu-id="d6691-289">Best-fit mapping is the default behavior for an <xref:System.Text.Encoding> object that encodes Unicode data into code page data, and there are legacy applications that rely on this behavior.</span></span> <span data-ttu-id="d6691-290">Ancak, güvenlik gerekçesiyle çoğu yeni uygulamanın, en uygun davranışından kaçınması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-290">However, most new applications should avoid best-fit behavior for security reasons.</span></span> <span data-ttu-id="d6691-291">Örneğin, uygulamalar bir etki alanı adını en uygun kodlama ile koymamalıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-291">For example, applications should not put a domain name through a best-fit encoding.</span></span>

> [!NOTE]
> <span data-ttu-id="d6691-292">Bir kodlama için aynı zamanda özel bir en uygun geri dönüş eşlemesi uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-292">You can also implement a custom best-fit fallback mapping for an encoding.</span></span> <span data-ttu-id="d6691-293">Daha fazla bilgi için [Özel Geri Dönüş Stratejisi Uygulama](../../../docs/standard/base-types/character-encoding.md#Custom) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="d6691-293">For more information, see the [Implementing a Custom Fallback Strategy](../../../docs/standard/base-types/character-encoding.md#Custom) section.</span></span>

<span data-ttu-id="d6691-294">Eğer en uygun geri dönüş bir kodlama nesnesi için varsayılansa, <xref:System.Text.Encoding> veya <xref:System.Text.Encoding.GetEncoding%28System.Int32%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> aşırı yüklemesini çağırarak bir <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> nenesi aldığınızda başka bir geri dönüş stratejisi seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-294">If best-fit fallback is the default for an encoding object, you can choose another fallback strategy when you retrieve an <xref:System.Text.Encoding> object by calling the <xref:System.Text.Encoding.GetEncoding%28System.Int32%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> or <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> overload.</span></span> <span data-ttu-id="d6691-295">Aşağıdaki bölüm, kod sayfası 1252 ile eşleşemeyen her karakteri yıldız işareti (\*) ile değiştiren bir örnek içerir.</span><span class="sxs-lookup"><span data-stu-id="d6691-295">The following section includes an example that replaces each character that cannot be mapped to code page 1252 with an asterisk (\*).</span></span>

[!code-csharp[Conceptual.Encoding#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/bestfit1a.cs#3)]
[!code-vb[Conceptual.Encoding#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/bestfit1a.vb#3)]

<a name="Replacement"></a>

### <a name="replacement-fallback"></a><span data-ttu-id="d6691-296">Değiştirme Geri Dönüşü</span><span class="sxs-lookup"><span data-stu-id="d6691-296">Replacement Fallback</span></span>

<span data-ttu-id="d6691-297">Bir karakterin hedef düzende tam eşleşmesi olmadığında ancak eşlenebileceği hiçbir uygun karakter bulunmadığında, uygulama bir değişim karakteri veya dizesi belirtebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-297">When a character does not have an exact match in the target scheme, but there is no appropriate character that it can be mapped to, the application can specify a replacement character or string.</span></span> <span data-ttu-id="d6691-298">Bu, kodunu çözemediği herhangi bir iki baytlık diziyi DEĞİŞİM_KARAKTERİ (U+FFFD) ile değiştiren Unicode kod çözücünün varsayılan davranışıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-298">This is the default behavior for the Unicode decoder, which replaces any two-byte sequence that it cannot decode with REPLACEMENT_CHARACTER (U+FFFD).</span></span> <span data-ttu-id="d6691-299">Bu ayrıca, kodlayamadığı veya kodunu çözemediği her karakteri bir soru işareti ile değiştiren <xref:System.Text.ASCIIEncoding> sınıfının da varsayılan davranışıdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-299">It is also the default behavior of the <xref:System.Text.ASCIIEncoding> class, which replaces each character that it cannot encode or decode with a question mark.</span></span> <span data-ttu-id="d6691-300">Aşağıdaki örnek, önceki örnekteki Unicode dizesi için karakter değiştirmeyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-300">The following example illustrates character replacement for the Unicode string from the previous example.</span></span> <span data-ttu-id="d6691-301">Çıktının gösterdiği üzere bir ASCII bayt değeri olarak kodu çözülemeyen her karakter,bir soru işareti için ASCII kodu olan 0x3F ile değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-301">As the output shows, each character that cannot be decoded into an ASCII byte value is replaced by 0x3F, which is the ASCII code for a question mark.</span></span>

[!code-csharp[Conceptual.Encoding#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/replacementascii.cs#2)]
[!code-vb[Conceptual.Encoding#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/replacementascii.vb#2)]

<span data-ttu-id="d6691-302">.NET, <xref:System.Text.EncoderReplacementFallback> bir <xref:System.Text.DecoderReplacementFallback> karakter bir kodlama veya kod çözme işleminde tam olarak eşleşmezse, değiştirme dizesini yerine koyan ve sınıfları içerir.</span><span class="sxs-lookup"><span data-stu-id="d6691-302">.NET includes the <xref:System.Text.EncoderReplacementFallback> and <xref:System.Text.DecoderReplacementFallback> classes, which substitute a replacement string if a character does not map exactly in an encoding or decoding operation.</span></span> <span data-ttu-id="d6691-303">Varsayılan olarak bu değiştirme dizesi bir soru işaretidir, ancak farklı dize seçmek için bir sınıf oluşturucusu aşırı yüklemesini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-303">By default, this replacement string is a question mark, but you can call a class constructor overload to choose a different string.</span></span> <span data-ttu-id="d6691-304">Genellikle, değiştirme karakteri tek bir karakterdir, ancak bu, bir gereksinim değildir.</span><span class="sxs-lookup"><span data-stu-id="d6691-304">Typically, the replacement string is a single character, although this is not a requirement.</span></span> <span data-ttu-id="d6691-305">Aşağıdaki örnek, değişim dizesi olarak yıldız işareti (\*) kullanan bir <xref:System.Text.EncoderReplacementFallback> nesnesinin örneğini oluşturarak kod sayfası 1252'nin davranışını değiştirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-305">The following example changes the behavior of the code page 1252 encoder by instantiating an <xref:System.Text.EncoderReplacementFallback> object that uses an asterisk (\*) as a replacement string.</span></span>

[!code-csharp[Conceptual.Encoding#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/bestfit1a.cs#3)]
[!code-vb[Conceptual.Encoding#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/bestfit1a.vb#3)]

> [!NOTE]
> <span data-ttu-id="d6691-306">Bir kodlama için ayrıca bir değiştirme sınıfı da uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-306">You can also implement a replacement class for an encoding.</span></span> <span data-ttu-id="d6691-307">Daha fazla bilgi için [Özel Geri Dönüş Stratejisi Uygulama](../../../docs/standard/base-types/character-encoding.md#Custom) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="d6691-307">For more information, see the [Implementing a Custom Fallback Strategy](../../../docs/standard/base-types/character-encoding.md#Custom) section.</span></span>

<span data-ttu-id="d6691-308">SORU İŞARETİ (U+003F) karakterine ek olarak, özellikle Unicode karakterlerine başarıyla çevrilemeyen bayt dizilerinin kodunu çözerken Unicode DEĞİŞTİRME KARAKTERİ (U+FFFD) de bir değiştirme dizesi olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-308">In addition to QUESTION MARK (U+003F), the Unicode REPLACEMENT CHARACTER (U+FFFD) is commonly used as a replacement string, particularly when decoding byte sequences that cannot be successfully translated into Unicode characters.</span></span> <span data-ttu-id="d6691-309">Ancak, istediğiniz değiştirme dizesini seçebilirsiniz ve bu dize birden çok karakteri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-309">However, you are free to choose any replacement string, and it can contain multiple characters.</span></span>

<a name="Exception"></a>

### <a name="exception-fallback"></a><span data-ttu-id="d6691-310">Özel Durum Geri Dönüşü</span><span class="sxs-lookup"><span data-stu-id="d6691-310">Exception Fallback</span></span>

<span data-ttu-id="d6691-311">Bir en uygun geri dönüş veya değiştirme dizesi sağlamak yerine bir kodlayıcı, bir karakter kümesini kodlayamadığında <xref:System.Text.EncoderFallbackException>'i oluşturabilir; ve bir kod çözücü, bir bayt dizisinin kodunu çözemediğinde bir <xref:System.Text.DecoderFallbackException>'i oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-311">Instead of providing a best-fit fallback or a replacement string, an encoder can throw an <xref:System.Text.EncoderFallbackException> if it is unable to encode a set of characters, and a decoder can throw a <xref:System.Text.DecoderFallbackException> if it is unable to decode a byte array.</span></span> <span data-ttu-id="d6691-312">Kodlama ve kod çözme işlemlerinde bir özel durum oluşturmak için, <xref:System.Text.EncoderExceptionFallback> yöntemine sırasıyla bir <xref:System.Text.DecoderExceptionFallback> ve bir <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> nesnesi sağlayın.</span><span class="sxs-lookup"><span data-stu-id="d6691-312">To throw an exception in encoding and decoding operations, you supply an <xref:System.Text.EncoderExceptionFallback> object and a <xref:System.Text.DecoderExceptionFallback> object, respectively, to the <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6691-313">Aşağıdaki örnek, <xref:System.Text.ASCIIEncoding> sınıfıyla özel durum geri dönüşünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-313">The following example illustrates exception fallback with the <xref:System.Text.ASCIIEncoding> class.</span></span>

[!code-csharp[Conceptual.Encoding#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/exceptionascii.cs#4)]
[!code-vb[Conceptual.Encoding#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/exceptionascii.vb#4)]

> [!NOTE]
> <span data-ttu-id="d6691-314">Ayrıca bir kodlama işlemi için özel bir özel durum işleyicisi uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d6691-314">You can also implement a custom exception handler for an encoding operation.</span></span> <span data-ttu-id="d6691-315">Daha fazla bilgi için [Özel Geri Dönüş Stratejisi Uygulama](../../../docs/standard/base-types/character-encoding.md#Custom) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="d6691-315">For more information, see the [Implementing a Custom Fallback Strategy](../../../docs/standard/base-types/character-encoding.md#Custom) section.</span></span>

<span data-ttu-id="d6691-316"><xref:System.Text.EncoderFallbackException> ve <xref:System.Text.DecoderFallbackException> nesneleri, özel durumu oluşturan durum hakkında aşağıdaki bilgileri sağlar:</span><span class="sxs-lookup"><span data-stu-id="d6691-316">The <xref:System.Text.EncoderFallbackException> and <xref:System.Text.DecoderFallbackException> objects provide the following information about the condition that caused the exception:</span></span>

- <span data-ttu-id="d6691-317"><xref:System.Text.EncoderFallbackException> nesnesi, kodlanamayan karakterin veya karakterlerin bilinmeyen bir temsilci çifti mi (bu durumda yöntem <xref:System.Text.EncoderFallbackException.IsUnknownSurrogate%2A>'i döndürür) yoksa bilinmeyen tek bir karakter mi (bu durumda yöntem `true`'i döndürür) olduğunu belirten bir `false` yöntemini içerir.</span><span class="sxs-lookup"><span data-stu-id="d6691-317">The <xref:System.Text.EncoderFallbackException> object includes an <xref:System.Text.EncoderFallbackException.IsUnknownSurrogate%2A> method, which indicates whether the character or characters that cannot be encoded represent an unknown surrogate pair (in which case, the method returns `true`) or an unknown single character (in which case, the method returns `false`).</span></span> <span data-ttu-id="d6691-318">Yedek çiftindeki karakterler <xref:System.Text.EncoderFallbackException.CharUnknownHigh%2A?displayProperty=nameWithType> ve <xref:System.Text.EncoderFallbackException.CharUnknownLow%2A?displayProperty=nameWithType> özelliklerinde mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="d6691-318">The characters in the surrogate pair are available from the <xref:System.Text.EncoderFallbackException.CharUnknownHigh%2A?displayProperty=nameWithType> and <xref:System.Text.EncoderFallbackException.CharUnknownLow%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="d6691-319">Bilinmeyen tek karakter, <xref:System.Text.EncoderFallbackException.CharUnknown%2A?displayProperty=nameWithType> özelliğinde mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="d6691-319">The unknown single character is available from the <xref:System.Text.EncoderFallbackException.CharUnknown%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d6691-320"><xref:System.Text.EncoderFallbackException.Index%2A?displayProperty=nameWithType> özelliği, kodlanamayan ilk karakterin dizede bulunduğu konumu gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-320">The <xref:System.Text.EncoderFallbackException.Index%2A?displayProperty=nameWithType> property indicates the position in the string at which the first character that could not be encoded was found.</span></span>

- <span data-ttu-id="d6691-321"><xref:System.Text.DecoderFallbackException> nesnesi, kodu çözülemeyen bir bayt dizisini döndüren bir <xref:System.Text.DecoderFallbackException.BytesUnknown%2A> özelliğini içerir.</span><span class="sxs-lookup"><span data-stu-id="d6691-321">The <xref:System.Text.DecoderFallbackException> object includes a <xref:System.Text.DecoderFallbackException.BytesUnknown%2A> property that returns an array of bytes that cannot be decoded.</span></span> <span data-ttu-id="d6691-322"><xref:System.Text.DecoderFallbackException.Index%2A?displayProperty=nameWithType> özelliği, bilinmeyen baytların başlangıç konumunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-322">The <xref:System.Text.DecoderFallbackException.Index%2A?displayProperty=nameWithType> property indicates the starting position of the unknown bytes.</span></span>

<span data-ttu-id="d6691-323"><xref:System.Text.EncoderFallbackException> ve <xref:System.Text.DecoderFallbackException> nesneleri özel durum hakkında yeterli tanılama bilgisi sağlasa da, kodlama veya kod çözme arabelleğine erişim sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="d6691-323">Although the <xref:System.Text.EncoderFallbackException> and <xref:System.Text.DecoderFallbackException> objects provide adequate diagnostic information about the exception, they do not provide access to the encoding or decoding buffer.</span></span> <span data-ttu-id="d6691-324">Bu nedenle bu nesneler, geçersiz verinin kodlama veya kod çözme yönteminde değiştirilmesine veya düzeltilmesine izin vermez.</span><span class="sxs-lookup"><span data-stu-id="d6691-324">Therefore, they do not allow invalid data to be replaced or corrected within the encoding or decoding method.</span></span>

<a name="Custom"></a>

## <a name="implementing-a-custom-fallback-strategy"></a><span data-ttu-id="d6691-325">Implementing a Custom Fallback Strategy</span><span class="sxs-lookup"><span data-stu-id="d6691-325">Implementing a Custom Fallback Strategy</span></span>

<span data-ttu-id="d6691-326">.NET, kod sayfaları tarafından dahili olarak uygulanan en uygun eşlemenin yanı sıra, geri dönüş stratejisi uygulamak için aşağıdaki sınıfları içerir:</span><span class="sxs-lookup"><span data-stu-id="d6691-326">In addition to the best-fit mapping that is implemented internally by code pages, .NET includes the following classes for implementing a fallback strategy:</span></span>

- <span data-ttu-id="d6691-327">Kodlama işlemlerinde karakterleri değiştirmek için <xref:System.Text.EncoderReplacementFallback> ve <xref:System.Text.EncoderReplacementFallbackBuffer> kullanın.</span><span class="sxs-lookup"><span data-stu-id="d6691-327">Use <xref:System.Text.EncoderReplacementFallback> and <xref:System.Text.EncoderReplacementFallbackBuffer> to replace characters in encoding operations.</span></span>

- <span data-ttu-id="d6691-328">Kod çözme işlemlerinde karakterleri değiştirmek için <xref:System.Text.DecoderReplacementFallback> ve <xref:System.Text.DecoderReplacementFallbackBuffer> kullanın.</span><span class="sxs-lookup"><span data-stu-id="d6691-328">Use <xref:System.Text.DecoderReplacementFallback> and <xref:System.Text.DecoderReplacementFallbackBuffer> to replace characters in decoding operations.</span></span>

- <span data-ttu-id="d6691-329">Bir karakter kodlanamadığında bir <xref:System.Text.EncoderExceptionFallback> oluşturmak için <xref:System.Text.EncoderExceptionFallbackBuffer> ve <xref:System.Text.EncoderFallbackException> kullanın.</span><span class="sxs-lookup"><span data-stu-id="d6691-329">Use <xref:System.Text.EncoderExceptionFallback> and <xref:System.Text.EncoderExceptionFallbackBuffer> to throw an <xref:System.Text.EncoderFallbackException> when a character cannot be encoded.</span></span>

- <span data-ttu-id="d6691-330">Bir karakterin kodu çözülemediğinde bir <xref:System.Text.DecoderExceptionFallback> oluşturmak için <xref:System.Text.DecoderExceptionFallbackBuffer> ve <xref:System.Text.DecoderFallbackException> kullanın.</span><span class="sxs-lookup"><span data-stu-id="d6691-330">Use <xref:System.Text.DecoderExceptionFallback> and <xref:System.Text.DecoderExceptionFallbackBuffer> to throw a <xref:System.Text.DecoderFallbackException> when a character cannot be decoded.</span></span>

<span data-ttu-id="d6691-331">Ek olarak, aşağıdaki adımları izleyerek en iyi geri dönüş, değiştirme geri dönüşü veya özel durum geri dönüşü kullanan özel bir çözüm uygulayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="d6691-331">In addition, you can implement a custom solution that uses best-fit fallback, replacement fallback, or exception fallback, by following these steps:</span></span>

1. <span data-ttu-id="d6691-332">Kodlama işlemleri için <xref:System.Text.EncoderFallback> sınıfından, kod çözme işlemleri için <xref:System.Text.DecoderFallback> sınıfından bir sınıf türetin.</span><span class="sxs-lookup"><span data-stu-id="d6691-332">Derive a class from <xref:System.Text.EncoderFallback> for encoding operations, and from <xref:System.Text.DecoderFallback> for decoding operations.</span></span>

2. <span data-ttu-id="d6691-333">Kodlama işlemleri için <xref:System.Text.EncoderFallbackBuffer> sınıfından, kod çözme işlemleri için <xref:System.Text.DecoderFallbackBuffer> sınıfından bir sınıf türetin.</span><span class="sxs-lookup"><span data-stu-id="d6691-333">Derive a class from <xref:System.Text.EncoderFallbackBuffer> for encoding operations, and from <xref:System.Text.DecoderFallbackBuffer> for decoding operations.</span></span>

3. <span data-ttu-id="d6691-334">Özel durum geri dönüşü için, eğer önceden tanımlı <xref:System.Text.EncoderFallbackException> ve <xref:System.Text.DecoderFallbackException> sınıfları gereksinimlerinizi karşılamıyorsa, <xref:System.Exception> veya <xref:System.ArgumentException> gibi bir özel durum nesnesinden bir sınıf türetin.</span><span class="sxs-lookup"><span data-stu-id="d6691-334">For exception fallback, if the predefined <xref:System.Text.EncoderFallbackException> and <xref:System.Text.DecoderFallbackException> classes do not meet your needs, derive a class from an exception object such as <xref:System.Exception> or <xref:System.ArgumentException>.</span></span>

### <a name="deriving-from-encoderfallback-or-decoderfallback"></a><span data-ttu-id="d6691-335">EncoderFallback veya DecoderFallback Öğesinden Türetme</span><span class="sxs-lookup"><span data-stu-id="d6691-335">Deriving from EncoderFallback or DecoderFallback</span></span>

<span data-ttu-id="d6691-336">Özel bir geri dönüş çözümü uygulamak için, kodlama işlemleri için <xref:System.Text.EncoderFallback> sınıfından ve kod çözme işlemleri için <xref:System.Text.DecoderFallback> sınıfından devralan bir sınıf oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-336">To implement a custom fallback solution, you must create a class that inherits from <xref:System.Text.EncoderFallback> for encoding operations, and from <xref:System.Text.DecoderFallback> for decoding operations.</span></span> <span data-ttu-id="d6691-337">Bu sınıfların örnekleri <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> yöntemine geçirilir ve kodlama sınıfıyla geri dönüş uygulaması arasında bir aracı görevi görür.</span><span class="sxs-lookup"><span data-stu-id="d6691-337">Instances of these classes are passed to the <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> method and serve as the intermediary between the encoding class and the fallback implementation.</span></span>

<span data-ttu-id="d6691-338">Bir kodlayıcı veya kod çözücü için özel bir geri dönüş çözümü oluşturduğunuzda, aşağıdaki üyeleri uygulamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="d6691-338">When you create a custom fallback solution for an encoder or decoder, you must implement the following members:</span></span>

- <span data-ttu-id="d6691-339">En uygun, değiştirme veya özel durum geri dönüşünün tek bir karakterini değiştirmek için döndürebileceği en fazla karakter sayısını döndüren <xref:System.Text.EncoderFallback.MaxCharCount%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallback.MaxCharCount%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="d6691-339">The <xref:System.Text.EncoderFallback.MaxCharCount%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallback.MaxCharCount%2A?displayProperty=nameWithType> property, which returns the maximum possible number of characters that the best-fit, replacement, or exception fallback can return to replace a single character.</span></span> <span data-ttu-id="d6691-340">Özel bir özel durum geri dönüşü için, değeri sıfırdır.</span><span class="sxs-lookup"><span data-stu-id="d6691-340">For a custom exception fallback, its value is zero.</span></span>

- <span data-ttu-id="d6691-341">Özel <xref:System.Text.EncoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> uygulamanızı döndüren <xref:System.Text.EncoderFallbackBuffer> veya <xref:System.Text.DecoderFallbackBuffer> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d6691-341">The <xref:System.Text.EncoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> method, which returns your custom <xref:System.Text.EncoderFallbackBuffer> or <xref:System.Text.DecoderFallbackBuffer> implementation.</span></span> <span data-ttu-id="d6691-342">Bu yöntem, kodlayıcı tarafından başarıyla kodlayamadığı ilk karakterle karşılaştığında veya kod çözücü tarafından başarıyla kodunu çözemediği ilk bayt ile karşılaştığında çağırılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-342">The method is called by the encoder when it encounters the first character that it is unable to successfully encode, or by the decoder when it encounters the first byte that it is unable to successfully decode.</span></span>

### <a name="deriving-from-encoderfallbackbuffer-or-decoderfallbackbuffer"></a><span data-ttu-id="d6691-343">EncoderFallbackBuffer veya DecoderFallbackBuffer Öğesinden Türetme</span><span class="sxs-lookup"><span data-stu-id="d6691-343">Deriving from EncoderFallbackBuffer or DecoderFallbackBuffer</span></span>

<span data-ttu-id="d6691-344">Özel bir geri dönüş çözümü uygulamak için aynı zamanda, kodlama işlemleri için <xref:System.Text.EncoderFallbackBuffer> sınıfından ve kod çözme işlemleri için <xref:System.Text.DecoderFallbackBuffer> sınıfından devralan bir sınıf oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-344">To implement a custom fallback solution, you must also create a class that inherits from <xref:System.Text.EncoderFallbackBuffer> for encoding operations, and from <xref:System.Text.DecoderFallbackBuffer> for decoding operations.</span></span> <span data-ttu-id="d6691-345">Bu sınıfların örnekleri <xref:System.Text.EncoderFallback.CreateFallbackBuffer%2A> ve <xref:System.Text.EncoderFallback> sınıflarının <xref:System.Text.DecoderFallback> yöntemi tarafından döndürülür.</span><span class="sxs-lookup"><span data-stu-id="d6691-345">Instances of these classes are returned by the <xref:System.Text.EncoderFallback.CreateFallbackBuffer%2A> method  of the <xref:System.Text.EncoderFallback> and <xref:System.Text.DecoderFallback> classes.</span></span> <span data-ttu-id="d6691-346"><xref:System.Text.EncoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> yöntemi, kodlayıcı tarafından kodlayamadığı ilk karakterle karşılaştığında çağırılır ve <xref:System.Text.DecoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> yöntemi, kod çözücü tarafından başarıyla kodunu çözemediği bir veya daha fazla bayt ile karşılaştığında çağırılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-346">The <xref:System.Text.EncoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> method is called by the encoder when it encounters the first character that it is not able to encode, and the <xref:System.Text.DecoderFallback.CreateFallbackBuffer%2A?displayProperty=nameWithType> method is called by the decoder when it encounters one or more bytes that it is not able to decode.</span></span> <span data-ttu-id="d6691-347"><xref:System.Text.EncoderFallbackBuffer> ve <xref:System.Text.DecoderFallbackBuffer> sınıfları geri dönüş uygulamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-347">The <xref:System.Text.EncoderFallbackBuffer> and <xref:System.Text.DecoderFallbackBuffer> classes provide the fallback implementation.</span></span> <span data-ttu-id="d6691-348">Her bir örnek, kodlanamayan karakteri veya kodu çözülemeyen bayt dizisini değiştirecek geri dönüş karakterlerini içeren bir arabelleği temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d6691-348">Each instance represents a buffer that contains the fallback characters that will replace the character that cannot be encoded or the byte sequence that cannot be decoded.</span></span>

<span data-ttu-id="d6691-349">Bir kodlayıcı veya kod çözücü için özel bir geri dönüş çözümü oluşturduğunuzda, aşağıdaki üyeleri uygulamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="d6691-349">When you create a custom fallback solution for an encoder or decoder, you must implement the following members:</span></span>

- <span data-ttu-id="d6691-350"><xref:System.Text.EncoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d6691-350">The <xref:System.Text.EncoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6691-351"><xref:System.Text.EncoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType>, kodlayamadığı karakter hakkında geri dönüş arabelleğine bilgi vermek için kodlayıcı tarafından çağrılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-351"><xref:System.Text.EncoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> is called by the encoder to provide the fallback buffer with information about the character that it cannot encode.</span></span> <span data-ttu-id="d6691-352">Kodlanacak karakter bir yedek çifti olabileceği için bu yöntem aşırı yüklüdür.</span><span class="sxs-lookup"><span data-stu-id="d6691-352">Because the character to be encoded may be a surrogate pair, this method is overloaded.</span></span> <span data-ttu-id="d6691-353">Aşırı yüklemelerden birine kodlanacak karakter ve dizedeki dizini geçirilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-353">One overload is passed the character to be encoded and its index in the string.</span></span> <span data-ttu-id="d6691-354">İkinci aşırı yüklemeye, dizedeki dizini ile birlikte yüksek ve düşük yedek geçirilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-354">The second overload is passed the high and low surrogate along with its index in the string.</span></span> <span data-ttu-id="d6691-355"><xref:System.Text.DecoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> yöntemi, geri dönüş arabelleğine kodu çözülemeyen baytlar hakkında bilgi vermek için kod çözücü tarafından çağrılır.</span><span class="sxs-lookup"><span data-stu-id="d6691-355">The <xref:System.Text.DecoderFallbackBuffer.Fallback%2A?displayProperty=nameWithType> method is called by the decoder to provide the fallback buffer with information about the bytes that it cannot decode.</span></span> <span data-ttu-id="d6691-356">Bu yönteme, ilk baytın dizini ile birlikte kodunu çözemediği bir bayt dizisi geçirilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-356">This method is passed an array of bytes that it cannot decode, along with the index of the first byte.</span></span> <span data-ttu-id="d6691-357">Geri dönüş metodu, eğer geri dönüş arabelleği karakterler için bir en uygun veya değiştirme karakteri veya karakterleri sağlayabiliyorsa `true`'i, aksi halde `false`'i döndürmelidir.</span><span class="sxs-lookup"><span data-stu-id="d6691-357">The fallback method should return `true` if the fallback buffer can supply a best-fit or replacement character or characters; otherwise, it should return `false`.</span></span> <span data-ttu-id="d6691-358">Bir özel durum geri dönüşü için, geri dönüş yönteminin bir özel durum oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d6691-358">For an exception fallback, the fallback method should throw an exception.</span></span>

- <span data-ttu-id="d6691-359">Geri dönüş arabelleğinden sonraki karakteri almak için kodlayıcı veya kod çözücü tarafından tekrar tekrar çağrılan <xref:System.Text.EncoderFallbackBuffer.GetNextChar%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallbackBuffer.GetNextChar%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d6691-359">The <xref:System.Text.EncoderFallbackBuffer.GetNextChar%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallbackBuffer.GetNextChar%2A?displayProperty=nameWithType> method, which is called repeatedly by the encoder or decoder to get the next character from the fallback buffer.</span></span> <span data-ttu-id="d6691-360">Tüm geri dönüş karakterleri döndürüldükten sonra yöntem U+0000'ı döndürmelidir.</span><span class="sxs-lookup"><span data-stu-id="d6691-360">When all fallback characters have been returned, the method should return U+0000.</span></span>

- <span data-ttu-id="d6691-361">Geri dönüş arabelleğinde kalan karakter sayısını döndüren <xref:System.Text.EncoderFallbackBuffer.Remaining%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallbackBuffer.Remaining%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="d6691-361">The <xref:System.Text.EncoderFallbackBuffer.Remaining%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallbackBuffer.Remaining%2A?displayProperty=nameWithType> property, which returns the number of characters remaining in the fallback buffer.</span></span>

- <span data-ttu-id="d6691-362">Geri dönüş arabelleğindeki gereçli konumu önceki karaktere taşıyan <xref:System.Text.EncoderFallbackBuffer.MovePrevious%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallbackBuffer.MovePrevious%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d6691-362">The <xref:System.Text.EncoderFallbackBuffer.MovePrevious%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallbackBuffer.MovePrevious%2A?displayProperty=nameWithType> method, which moves the current position in the fallback buffer to the previous character.</span></span>

- <span data-ttu-id="d6691-363">Geri dönüş arabelleğini yeniden başlatan <xref:System.Text.EncoderFallbackBuffer.Reset%2A?displayProperty=nameWithType> veya <xref:System.Text.DecoderFallbackBuffer.Reset%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d6691-363">The <xref:System.Text.EncoderFallbackBuffer.Reset%2A?displayProperty=nameWithType> or <xref:System.Text.DecoderFallbackBuffer.Reset%2A?displayProperty=nameWithType> method, which reinitializes the fallback buffer.</span></span>

<span data-ttu-id="d6691-364">Eğer geri dönüş uygulaması bir en uygun geri dönüş veya değiştirme geri dönüşü ise, <xref:System.Text.EncoderFallbackBuffer> ve <xref:System.Text.DecoderFallbackBuffer> sınıflarından türetilen sınıflar ayrıca iki özel örnek alanı içerir: arabellekteki tam karakter sayısı ve bellekte dönülecek sıradaki karakterin dizini.</span><span class="sxs-lookup"><span data-stu-id="d6691-364">If the fallback implementation is a best-fit fallback or a replacement fallback, the classes derived from <xref:System.Text.EncoderFallbackBuffer> and <xref:System.Text.DecoderFallbackBuffer> also maintain two private instance fields: the exact number of characters in the buffer; and the index of the next character in the buffer to return.</span></span>

### <a name="an-encoderfallback-example"></a><span data-ttu-id="d6691-365">Bir EncoderFallback Örneği</span><span class="sxs-lookup"><span data-stu-id="d6691-365">An EncoderFallback Example</span></span>

<span data-ttu-id="d6691-366">Önceki bir örnek, ASCII karakterlerine karşılık gelmeyen Unicode karakterlerini bir yıldız işareti (\*) ile değiştirmek için değiştirme geri dönüşü kullandı.</span><span class="sxs-lookup"><span data-stu-id="d6691-366">An earlier example used replacement fallback to replace Unicode characters that did not correspond to ASCII characters with an asterisk (\*).</span></span> <span data-ttu-id="d6691-367">Aşağıdaki örnek, ASCII olmayan karakterler için daha iyi bir eşleme sağlamak üzere bunun yerine özel bir en uygun geri dönüş uygulaması kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-367">The following example uses a custom best-fit fallback implementation instead to provide a better mapping of non-ASCII characters.</span></span>

<span data-ttu-id="d6691-368">Aşağıdaki kod, ASCII olmayan karakterlerin en uygun geri dönüş eşlemesini işlemek için `CustomMapper` sınıfından türetilen <xref:System.Text.EncoderFallback> adında bir sınıf tanımlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-368">The following code defines a class named `CustomMapper` that is derived from <xref:System.Text.EncoderFallback> to handle the best-fit mapping of non-ASCII characters.</span></span> <span data-ttu-id="d6691-369">`CreateFallbackBuffer` yöntemi, `CustomMapperFallbackBuffer` uygulamasını sağlayan bir <xref:System.Text.EncoderFallbackBuffer> nesnesini döndürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-369">Its `CreateFallbackBuffer` method returns a `CustomMapperFallbackBuffer` object, which provides the <xref:System.Text.EncoderFallbackBuffer> implementation.</span></span> <span data-ttu-id="d6691-370">`CustomMapper` sınıfı, desteklenmeyen Unicode karakterlerini (anahtar değeri) ve karşılık gelen 8 bitlik karakterleri (64 bitlik bir tamsayıda ardışık iki baytta depolanan karakterler) depolamak için bir <xref:System.Collections.Generic.Dictionary%602> nesnesi kullanır.</span><span class="sxs-lookup"><span data-stu-id="d6691-370">The `CustomMapper` class uses a <xref:System.Collections.Generic.Dictionary%602> object to store the mappings of unsupported Unicode characters (the key value) and their corresponding 8-bit characters (which are stored in two consecutive bytes in a 64-bit integer).</span></span> <span data-ttu-id="d6691-371">Bu eşleşmeyi geri dönüş arabelleği için kullanılabilir yapmak amacıyla `CustomMapper` örneği, `CustomMapperFallbackBuffer` sınıf oluşturucusuna bir parametre olarak geçirilir.</span><span class="sxs-lookup"><span data-stu-id="d6691-371">To make this mapping available to the fallback buffer, the `CustomMapper` instance is passed as a parameter to the `CustomMapperFallbackBuffer` class constructor.</span></span> <span data-ttu-id="d6691-372">U+221E Unicode karakteri için en uzun eşleme "INF" dizesi olduğundan, `MaxCharCount` özelliği 3'ü döndürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-372">Because the longest mapping is the string "INF" for the Unicode character U+221E, the `MaxCharCount` property returns 3.</span></span>

[!code-csharp[Conceptual.Encoding#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/custom1.cs#5)]
[!code-vb[Conceptual.Encoding#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/custom1.vb#5)]

<span data-ttu-id="d6691-373">Aşağıdaki kod, `CustomMapperFallbackBuffer` sınıfından türetilen <xref:System.Text.EncoderFallbackBuffer> sınıfını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="d6691-373">The following code defines the `CustomMapperFallbackBuffer` class, which is derived from <xref:System.Text.EncoderFallbackBuffer>.</span></span> <span data-ttu-id="d6691-374">En uygun eşlemeleri içeren ve `CustomMapper` içinde tanımlanan sözlük, kendi sınıf oluşturucusunda mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="d6691-374">The dictionary that contains best-fit mappings and that is defined in the `CustomMapper` instance is available from its class constructor.</span></span> <span data-ttu-id="d6691-375">`Fallback` yöntemi, eğer ASCII kodlayıcısının kodlayamadığı Unicode karakterlerinden herhangi biri eşleme sözlüğünde tanımlıysa `true`'i, aksi halde `false`'i döndürür.</span><span class="sxs-lookup"><span data-stu-id="d6691-375">Its `Fallback` method returns `true` if any of the Unicode characters that the ASCII encoder cannot encode are defined in the mapping dictionary; otherwise, it returns `false`.</span></span> <span data-ttu-id="d6691-376">Her geri dönüş için, özel `count` değişkeni döndürülecek kalan karakter sayısını belirtir, özel `index` değişkeni ise döndürülecek bir sonraki karakterin `charsToReturn` dize arabelleğindeki konumu gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-376">For each fallback, the private `count` variable indicates the number of characters that remain to be returned, and the private `index` variable indicates the position in the string buffer, `charsToReturn`, of the next character to return.</span></span>

[!code-csharp[Conceptual.Encoding#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/custom1.cs#6)]
[!code-vb[Conceptual.Encoding#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/custom1.vb#6)]

<span data-ttu-id="d6691-377">Aşağıdaki kod, daha sonra `CustomMapper` nesnesinin örneğini oluşturur ve <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> yöntemine bunun bir örneğini geçirir.</span><span class="sxs-lookup"><span data-stu-id="d6691-377">The following code then instantiates the `CustomMapper` object and passes an instance of it to the <xref:System.Text.Encoding.GetEncoding%28System.String%2CSystem.Text.EncoderFallback%2CSystem.Text.DecoderFallback%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6691-378">Çıktı, en uygun geri dönüş uygulamasının özgün dizedeki ASCII olmayan üç karakteri başarıyla işlediğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="d6691-378">The output indicates that the best-fit fallback implementation successfully handles the three non-ASCII characters in the original string.</span></span>

[!code-csharp[Conceptual.Encoding#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.encoding/cs/custom1.cs#7)]
[!code-vb[Conceptual.Encoding#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.encoding/vb/custom1.vb#7)]

## <a name="see-also"></a><span data-ttu-id="d6691-379">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="d6691-379">See also</span></span>

- <xref:System.Text.Encoder>
- <xref:System.Text.Decoder>
- <xref:System.Text.DecoderFallback>
- <xref:System.Text.Encoding>
- <xref:System.Text.EncoderFallback>
- [<span data-ttu-id="d6691-380">Genelleştirme ve Yerelleştirme</span><span class="sxs-lookup"><span data-stu-id="d6691-380">Globalization and Localization</span></span>](../../../docs/standard/globalization-localization/index.md)
