---
title: 'CA1065: beklenmeyen konumlarda özel durumlar yükseltmeyin (kod analizi)'
description: 'Kod Analizi kuralı CA1065 hakkında bilgi edinin: beklenmeyen konumlarda özel durum yükseltmeyin'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA1065
- DoNotRaiseExceptionsInUnexpectedLocations
helpviewer_keywords:
- DoNotRaiseExceptionsInUnexpectedLocations
- CA1065
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 0990fc1c283e7961f1ece1a374a6a06960968faf
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/30/2021
ms.locfileid: "99548324"
---
# <a name="ca1065-do-not-raise-exceptions-in-unexpected-locations"></a><span data-ttu-id="a8629-103">CA1065: Beklenmeyen konumlarda özel durum harekete geçirmeyin</span><span class="sxs-lookup"><span data-stu-id="a8629-103">CA1065: Do not raise exceptions in unexpected locations</span></span>

| | <span data-ttu-id="a8629-104">Değer</span><span class="sxs-lookup"><span data-stu-id="a8629-104">Value</span></span> |
|-|-|
| <span data-ttu-id="a8629-105">**Kural Kimliği**</span><span class="sxs-lookup"><span data-stu-id="a8629-105">**Rule ID**</span></span> |<span data-ttu-id="a8629-106">CA1065</span><span class="sxs-lookup"><span data-stu-id="a8629-106">CA1065</span></span>|
| <span data-ttu-id="a8629-107">**Kategori**</span><span class="sxs-lookup"><span data-stu-id="a8629-107">**Category**</span></span> |[<span data-ttu-id="a8629-108">Microsoft.Design</span><span class="sxs-lookup"><span data-stu-id="a8629-108">Microsoft.Design</span></span>](design-warnings.md)|
| <span data-ttu-id="a8629-109">**Düzeltilme veya kırılmamış**</span><span class="sxs-lookup"><span data-stu-id="a8629-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="a8629-110">Kırılmamış</span><span class="sxs-lookup"><span data-stu-id="a8629-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="a8629-111">Nedeni</span><span class="sxs-lookup"><span data-stu-id="a8629-111">Cause</span></span>

<span data-ttu-id="a8629-112">İstisna atılmasını beklemeyen yöntem bir istisna atar.</span><span class="sxs-lookup"><span data-stu-id="a8629-112">A method that is not expected to throw exceptions throws an exception.</span></span>

## <a name="rule-description"></a><span data-ttu-id="a8629-113">Kural açıklaması</span><span class="sxs-lookup"><span data-stu-id="a8629-113">Rule description</span></span>

<span data-ttu-id="a8629-114">Özel durum oluşturması beklenmeyen yöntemler aşağıdaki şekilde kategorize edilebilir:</span><span class="sxs-lookup"><span data-stu-id="a8629-114">Methods that are not expected to throw exceptions can be categorized as follows:</span></span>

- <span data-ttu-id="a8629-115">Özellik get yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-115">Property Get Methods</span></span>

- <span data-ttu-id="a8629-116">Olay erişimci yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-116">Event Accessor Methods</span></span>

- <span data-ttu-id="a8629-117">Eşittir yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-117">Equals Methods</span></span>

- <span data-ttu-id="a8629-118">GetHashCode yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-118">GetHashCode Methods</span></span>

- <span data-ttu-id="a8629-119">ToString yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-119">ToString Methods</span></span>

- <span data-ttu-id="a8629-120">Statik Oluşturucular</span><span class="sxs-lookup"><span data-stu-id="a8629-120">Static Constructors</span></span>

- <span data-ttu-id="a8629-121">Sonlandırıcılar</span><span class="sxs-lookup"><span data-stu-id="a8629-121">Finalizers</span></span>

- <span data-ttu-id="a8629-122">Dispose yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-122">Dispose Methods</span></span>

- <span data-ttu-id="a8629-123">Eşitlik İşleçleri</span><span class="sxs-lookup"><span data-stu-id="a8629-123">Equality Operators</span></span>

- <span data-ttu-id="a8629-124">Örtük atama Işleçleri</span><span class="sxs-lookup"><span data-stu-id="a8629-124">Implicit Cast Operators</span></span>

<span data-ttu-id="a8629-125">Aşağıdaki bölümler bu yöntem türlerini tartışır.</span><span class="sxs-lookup"><span data-stu-id="a8629-125">The following sections discuss these method types.</span></span>

### <a name="property-get-methods"></a><span data-ttu-id="a8629-126">Özellik get yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-126">Property Get Methods</span></span>

<span data-ttu-id="a8629-127">Özellikler temel olarak akıllı alanlardır.</span><span class="sxs-lookup"><span data-stu-id="a8629-127">Properties are basically smart fields.</span></span> <span data-ttu-id="a8629-128">Bu nedenle, mümkün olduğunca bir alan gibi davranmalıdır.</span><span class="sxs-lookup"><span data-stu-id="a8629-128">Therefore, they should behave like a field as much as possible.</span></span> <span data-ttu-id="a8629-129">Alanlar özel durum oluşturmaz ve özelliklerden hiçbirine gerek kalmaz.</span><span class="sxs-lookup"><span data-stu-id="a8629-129">Fields don't throw exceptions and neither should properties.</span></span> <span data-ttu-id="a8629-130">Özel durum oluşturan bir özelliğe sahipseniz, bunu bir yöntemi yapmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="a8629-130">If you have a property that throws an exception, consider making it a method.</span></span>

<span data-ttu-id="a8629-131">Bir özellik Get yönteminden aşağıdaki özel durumlar oluşturulabilir:</span><span class="sxs-lookup"><span data-stu-id="a8629-131">The following exceptions can be thrown from a property get method:</span></span>

- <span data-ttu-id="a8629-132"><xref:System.InvalidOperationException?displayProperty=fullName> ve tüm türetme (dahil <xref:System.ObjectDisposedException?displayProperty=fullName> )</span><span class="sxs-lookup"><span data-stu-id="a8629-132"><xref:System.InvalidOperationException?displayProperty=fullName> and all derivatives (including <xref:System.ObjectDisposedException?displayProperty=fullName>)</span></span>

- <span data-ttu-id="a8629-133"><xref:System.NotSupportedException?displayProperty=fullName> ve tüm türetme</span><span class="sxs-lookup"><span data-stu-id="a8629-133"><xref:System.NotSupportedException?displayProperty=fullName> and all derivatives</span></span>

- <span data-ttu-id="a8629-134"><xref:System.ArgumentException?displayProperty=fullName> (yalnızca dizinli Get 'ten)</span><span class="sxs-lookup"><span data-stu-id="a8629-134"><xref:System.ArgumentException?displayProperty=fullName> (only from indexed get)</span></span>

- <span data-ttu-id="a8629-135"><xref:System.Collections.Generic.KeyNotFoundException> (yalnızca dizinli Get 'ten)</span><span class="sxs-lookup"><span data-stu-id="a8629-135"><xref:System.Collections.Generic.KeyNotFoundException> (only from indexed get)</span></span>

### <a name="event-accessor-methods"></a><span data-ttu-id="a8629-136">Olay erişimci yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-136">Event Accessor Methods</span></span>

<span data-ttu-id="a8629-137">Olay erişimcileri özel durum oluşturmayan basit işlemler olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="a8629-137">Event accessors should be simple operations that don't throw exceptions.</span></span> <span data-ttu-id="a8629-138">Olay işleyicisi eklemeyi veya kaldırmayı denediğinizde bir olay özel durum oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="a8629-138">An event should not throw an exception when you try to add or remove an event handler.</span></span>

<span data-ttu-id="a8629-139">Aşağıdaki özel durumlar bir olay erişimcisinde oluşturulabilir:</span><span class="sxs-lookup"><span data-stu-id="a8629-139">The following exceptions can be thrown from an event accessor:</span></span>

- <span data-ttu-id="a8629-140"><xref:System.InvalidOperationException?displayProperty=fullName> ve tüm türetme (dahil <xref:System.ObjectDisposedException?displayProperty=fullName> )</span><span class="sxs-lookup"><span data-stu-id="a8629-140"><xref:System.InvalidOperationException?displayProperty=fullName> and all derivatives (including <xref:System.ObjectDisposedException?displayProperty=fullName>)</span></span>

- <span data-ttu-id="a8629-141"><xref:System.NotSupportedException?displayProperty=fullName> ve tüm türetme</span><span class="sxs-lookup"><span data-stu-id="a8629-141"><xref:System.NotSupportedException?displayProperty=fullName> and all derivatives</span></span>

- <span data-ttu-id="a8629-142"><xref:System.ArgumentException> ve türetme</span><span class="sxs-lookup"><span data-stu-id="a8629-142"><xref:System.ArgumentException> and derivatives</span></span>

### <a name="equals-methods"></a><span data-ttu-id="a8629-143">Eşittir yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-143">Equals Methods</span></span>

<span data-ttu-id="a8629-144">Aşağıdaki **eşittir** yöntemleri özel durum oluşturmaz:</span><span class="sxs-lookup"><span data-stu-id="a8629-144">The following **Equals** methods should not throw exceptions:</span></span>

- <xref:System.Object.Equals%2A?displayProperty=fullName>

- <xref:System.IEquatable%601.Equals%2A>

<span data-ttu-id="a8629-145">Bir **Equals** yöntemi `true` `false` , özel durum oluşturmak yerine veya döndürmelidir.</span><span class="sxs-lookup"><span data-stu-id="a8629-145">An **Equals** method should return `true` or `false` instead of throwing an exception.</span></span> <span data-ttu-id="a8629-146">Örneğin, eşittir iki eşleşmeyen tür geçirtiyse, oluşturmak yerine yalnızca döndürmelidir `false` <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="a8629-146">For example, if Equals is passed two mismatched types it should just return `false` instead of throwing an <xref:System.ArgumentException>.</span></span>

### <a name="gethashcode-methods"></a><span data-ttu-id="a8629-147">GetHashCode yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-147">GetHashCode Methods</span></span>

<span data-ttu-id="a8629-148">Aşağıdaki **GetHashCode** yöntemleri genellikle özel durum oluşturmaz:</span><span class="sxs-lookup"><span data-stu-id="a8629-148">The following **GetHashCode** methods should usually not throw exceptions:</span></span>

- <xref:System.Object.GetHashCode%2A>

- <xref:System.Collections.IEqualityComparer.GetHashCode%2A>

<span data-ttu-id="a8629-149">**GetHashCode** her zaman bir değer döndürmelidir.</span><span class="sxs-lookup"><span data-stu-id="a8629-149">**GetHashCode** should always return a value.</span></span> <span data-ttu-id="a8629-150">Aksi takdirde, karma tablodaki öğeleri kaybedebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a8629-150">Otherwise, you can lose items in the hash table.</span></span>

<span data-ttu-id="a8629-151">Bağımsız değişken alan **GetHashCode** sürümleri bir oluşturabilir <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="a8629-151">The versions of **GetHashCode** that take an argument can throw an <xref:System.ArgumentException>.</span></span> <span data-ttu-id="a8629-152">Ancak **Object. GetHashCode** asla bir özel durum oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="a8629-152">However, **Object.GetHashCode** should never throw an exception.</span></span>

### <a name="tostring-methods"></a><span data-ttu-id="a8629-153">ToString yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-153">ToString Methods</span></span>

<span data-ttu-id="a8629-154">Hata ayıklayıcı, <xref:System.Object.ToString%2A?displayProperty=fullName> dize biçimindeki nesneler hakkında bilgi görüntülemeye yardımcı olmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="a8629-154">The debugger uses <xref:System.Object.ToString%2A?displayProperty=fullName> to help display information about objects in string format.</span></span> <span data-ttu-id="a8629-155">Bu nedenle, **ToString** bir nesnenin durumunu değiştirmemelidir ve özel durum oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="a8629-155">Therefore, **ToString** should not change the state of an object, and it shouldn't throw exceptions.</span></span>

### <a name="static-constructors"></a><span data-ttu-id="a8629-156">Statik Oluşturucular</span><span class="sxs-lookup"><span data-stu-id="a8629-156">Static Constructors</span></span>

<span data-ttu-id="a8629-157">Statik bir oluşturucudan özel durumlar oluşturmak, türün geçerli uygulama etki alanında kullanılamaz hale gelmesine neden olur.</span><span class="sxs-lookup"><span data-stu-id="a8629-157">Throwing exceptions from a static constructor causes the type to be unusable in the current application domain.</span></span> <span data-ttu-id="a8629-158">Statik bir oluşturucudan özel durum oluşturmak için iyi bir nedeniniz (güvenlik sorunu gibi) olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="a8629-158">You should have a good reason (such as a security issue) for throwing an exception from a static constructor.</span></span>

### <a name="finalizers"></a><span data-ttu-id="a8629-159">Sonlandırıcılar</span><span class="sxs-lookup"><span data-stu-id="a8629-159">Finalizers</span></span>

<span data-ttu-id="a8629-160">Sonlandırıcının bir özel durum oluşturmak, CLR 'nin hızlı bir şekilde başarısız olmasına neden olur ve bu da işlemi kapatır.</span><span class="sxs-lookup"><span data-stu-id="a8629-160">Throwing an exception from a finalizer causes the CLR to fail fast, which tears down the process.</span></span> <span data-ttu-id="a8629-161">Bu nedenle, bir sonlandırıcının özel durumların oluşturulması her zaman kaçınılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="a8629-161">Therefore, throwing exceptions in a finalizer should always be avoided.</span></span>

### <a name="dispose-methods"></a><span data-ttu-id="a8629-162">Dispose yöntemleri</span><span class="sxs-lookup"><span data-stu-id="a8629-162">Dispose Methods</span></span>

<span data-ttu-id="a8629-163">Bir <xref:System.IDisposable.Dispose%2A?displayProperty=fullName> Yöntem özel durum oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="a8629-163">A <xref:System.IDisposable.Dispose%2A?displayProperty=fullName> method should not throw an exception.</span></span> <span data-ttu-id="a8629-164">Dispose, genellikle bir yan tümcedeki Temizleme mantığının bir parçası olarak çağırılır `finally` .</span><span class="sxs-lookup"><span data-stu-id="a8629-164">Dispose is often called as part of the cleanup logic in a `finally` clause.</span></span> <span data-ttu-id="a8629-165">Bu nedenle, Dispose 'ten özel bir durum açıkça oluşturmak, kullanıcının yan tümce içinde özel durum işleme eklemesini zorlar `finally` .</span><span class="sxs-lookup"><span data-stu-id="a8629-165">Therefore, explicitly throwing an exception from Dispose forces the user to add exception handling inside the `finally` clause.</span></span>

<span data-ttu-id="a8629-166">Dispose **(false)** kod yolu hiçbir zaman özel durum oluşturmaz, çünkü Dispose bir sonlandırıcının neredeyse her zaman çağrılır.</span><span class="sxs-lookup"><span data-stu-id="a8629-166">The **Dispose(false)** code path should never throw exceptions, because Dispose is almost always called from a finalizer.</span></span>

### <a name="equality-operators--"></a><span data-ttu-id="a8629-167">Eşitlik Işleçleri (= =,! =)</span><span class="sxs-lookup"><span data-stu-id="a8629-167">Equality Operators (==, !=)</span></span>

<span data-ttu-id="a8629-168">Eşittir yöntemlerine benzer şekilde, eşitlik işleçleri veya döndürmelidir `true` `false` ve özel durumlar oluşturmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="a8629-168">Like Equals methods, equality operators should return either `true` or `false`, and should not throw exceptions.</span></span>

### <a name="implicit-cast-operators"></a><span data-ttu-id="a8629-169">Örtük atama Işleçleri</span><span class="sxs-lookup"><span data-stu-id="a8629-169">Implicit Cast Operators</span></span>

<span data-ttu-id="a8629-170">Kullanıcı genellikle örtük bir atama işlecinin çağrıldığı farkında olduğundan, örtük atama işleci tarafından oluşturulan özel durum beklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="a8629-170">Because the user is often unaware that an implicit cast operator has been called, an exception thrown by the implicit cast operator is unexpected.</span></span> <span data-ttu-id="a8629-171">Bu nedenle, örtük atama işleçlerinden hiçbir özel durum atılmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="a8629-171">Therefore, no exceptions should be thrown from implicit cast operators.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="a8629-172">İhlalleri çözme</span><span class="sxs-lookup"><span data-stu-id="a8629-172">How to fix violations</span></span>

<span data-ttu-id="a8629-173">Özellik kodlayıcıları için, mantığı, artık özel durum oluşturmak zorunda olmayacak şekilde değiştirin ya da özelliği bir yönteme değiştirin.</span><span class="sxs-lookup"><span data-stu-id="a8629-173">For property getters, either change the logic so that it no longer has to throw an exception, or change the property into a method.</span></span>

<span data-ttu-id="a8629-174">Daha önce listelenen diğer tüm yöntem türleri için mantığı, artık özel durum oluşturması için değiştirin.</span><span class="sxs-lookup"><span data-stu-id="a8629-174">For all other method types listed previously, change the logic so that it no longer must throw an exception.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="a8629-175">Uyarıların ne zaman bastırılamıyor</span><span class="sxs-lookup"><span data-stu-id="a8629-175">When to suppress warnings</span></span>

<span data-ttu-id="a8629-176">İhlalin oluşan özel durum yerine bir özel durum bildirimi neden olduysa, bu kuraldan bir uyarının görüntülenmesini güvenli hale gelir.</span><span class="sxs-lookup"><span data-stu-id="a8629-176">If the violation was caused by an exception declaration instead of a thrown exception, it is safe to suppress a warning from this rule.</span></span>

## <a name="related-rules"></a><span data-ttu-id="a8629-177">İlgili kurallar</span><span class="sxs-lookup"><span data-stu-id="a8629-177">Related rules</span></span>

- [<span data-ttu-id="a8629-178">CA2219: Özel durum yan tümceleri içinde özel durum harekete geçirmeyin</span><span class="sxs-lookup"><span data-stu-id="a8629-178">CA2219: Do not raise exceptions in exception clauses</span></span>](ca2219.md)

## <a name="see-also"></a><span data-ttu-id="a8629-179">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="a8629-179">See also</span></span>

- [<span data-ttu-id="a8629-180">Tasarım kuralları</span><span class="sxs-lookup"><span data-stu-id="a8629-180">Design rules</span></span>](design-warnings.md)
