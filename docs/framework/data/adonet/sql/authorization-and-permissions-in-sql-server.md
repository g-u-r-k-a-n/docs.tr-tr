---
title: SQL Server’da Yetkilendirme ve İzinler
description: Oluşturduğunuz veritabanı nesnelerini ADO.NET ile SQL Server kullanıcılara erişilebilir hale getirmek için açıkça izin vermeyi öğrenin.
ms.date: 03/30/2017
ms.assetid: d340405c-91f4-4837-a3cc-a238ee89888a
ms.openlocfilehash: eb01e29b36da5e1793b9176301a968a42115d19c
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/02/2020
ms.locfileid: "84286539"
---
# <a name="authorization-and-permissions-in-sql-server"></a><span data-ttu-id="3eea3-103">SQL Server’da Yetkilendirme ve İzinler</span><span class="sxs-lookup"><span data-stu-id="3eea3-103">Authorization and Permissions in SQL Server</span></span>
<span data-ttu-id="3eea3-104">Veritabanı nesneleri oluşturduğunuzda, kullanıcılara kullanıcıların erişimini sağlamak için açıkça izin vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-104">When you create database objects, you must explicitly grant permissions to make them accessible to users.</span></span> <span data-ttu-id="3eea3-105">Her güvenli kılınabilir nesne, izin deyimleri kullanılarak bir sorumluya verilebilecek izinlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-105">Every securable object has permissions that can be granted to a principal using permission statements.</span></span>  
  
## <a name="the-principle-of-least-privilege"></a><span data-ttu-id="3eea3-106">En az ayrıcalık Ilkesi</span><span class="sxs-lookup"><span data-stu-id="3eea3-106">The Principle of Least Privilege</span></span>  
 <span data-ttu-id="3eea3-107">En az ayrıcalıklı kullanıcı hesabı (LUA) yaklaşımı kullanarak bir uygulama geliştirmek, savunma ve güvenlik tehditlerine karşı derinlemesine savunma stratejisinin önemli bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="3eea3-107">Developing an application using a least-privileged user account (LUA) approach is an important part of a defensive, in-depth strategy for countering security threats.</span></span> <span data-ttu-id="3eea3-108">LUA yaklaşımı, kullanıcıların en az ayrıcalık ilkesini izlemesini ve her zaman sınırlı kullanıcı hesaplarıyla oturum açmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="3eea3-108">The LUA approach ensures that users follow the principle of least privilege and always log on with limited user accounts.</span></span> <span data-ttu-id="3eea3-109">Yönetim görevleri, sabit sunucu rolleri kullanılarak bölünür ve `sysadmin` sabit sunucu rolünün kullanımı ciddi ölçüde kısıtlıdır.</span><span class="sxs-lookup"><span data-stu-id="3eea3-109">Administrative tasks are broken out using fixed server roles, and the use of the `sysadmin` fixed server role is severely restricted.</span></span>  
  
 <span data-ttu-id="3eea3-110">Veritabanı kullanıcılarına izin verirken en az ayrıcalık ilkesini her zaman izleyin.</span><span class="sxs-lookup"><span data-stu-id="3eea3-110">Always follow the principle of least privilege when granting permissions to database users.</span></span> <span data-ttu-id="3eea3-111">Belirli bir görevi gerçekleştirmek için Kullanıcı veya rol için gereken en düşük izinleri verin.</span><span class="sxs-lookup"><span data-stu-id="3eea3-111">Grant the minimum permissions necessary to a user or role to accomplish a given task.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="3eea3-112">LUA yaklaşımını kullanarak bir uygulamayı geliştirmek ve test etmek, geliştirme sürecine bir zorluk derecesi ekler.</span><span class="sxs-lookup"><span data-stu-id="3eea3-112">Developing and testing an application using the LUA approach adds a degree of difficulty to the development process.</span></span> <span data-ttu-id="3eea3-113">Bir sistem yöneticisi veya veritabanı sahibi olarak oturum açarken, bir LUA hesabı kullandığından nesne oluşturmak ve kod yazmak daha kolay.</span><span class="sxs-lookup"><span data-stu-id="3eea3-113">It is easier to create objects and write code while logged on as a system administrator or database owner than it is using a LUA account.</span></span> <span data-ttu-id="3eea3-114">Ancak, yüksek ayrıcalıklı bir hesap kullanan uygulamalar geliştirmek, en az ayrıcalıklı kullanıcı doğru çalışması için yükseltilmiş izinler gerektiren bir uygulamayı çalıştırmayı denediklerinde azaltılmış işlevselliğin etkisini olumsuz etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-114">However, developing applications using a highly privileged account can obfuscate the impact of reduced functionality when least privileged users attempt to run an application that requires elevated permissions in order to function correctly.</span></span> <span data-ttu-id="3eea3-115">Kayıp işlevselliği yeniden almak için kullanıcılara aşırı izin verilmesi, uygulamanızı saldırılara karşı savunmasız bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-115">Granting excessive permissions to users in order to reacquire lost functionality can leave your application vulnerable to attack.</span></span> <span data-ttu-id="3eea3-116">Bir LUA hesabıyla oturum açmış uygulamanızı tasarlamak, geliştirmek ve test etmek, önemli sürprizleri ortadan kaldıran ve hızlı bir düzeltme olarak yükseltilmiş ayrıcalıklar veren güvenlik planlamasına disiplinli bir yaklaşım uygular.</span><span class="sxs-lookup"><span data-stu-id="3eea3-116">Designing, developing and testing your application logged on with a LUA account enforces a disciplined approach to security planning that eliminates unpleasant surprises and the temptation to grant elevated privileges as a quick fix.</span></span> <span data-ttu-id="3eea3-117">Uygulamanızın Windows kimlik doğrulaması kullanılarak dağıtılması amaçlansa bile, test için SQL Server bir oturum açma kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-117">You can use a SQL Server login for testing even if your application is intended to deploy using Windows authentication.</span></span>  
  
## <a name="role-based-permissions"></a><span data-ttu-id="3eea3-118">Rol tabanlı Izinler</span><span class="sxs-lookup"><span data-stu-id="3eea3-118">Role-Based Permissions</span></span>  
 <span data-ttu-id="3eea3-119">Kullanıcılar yerine roller için izin verme güvenlik yönetimini basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-119">Granting permissions to roles rather than to users simplifies security administration.</span></span> <span data-ttu-id="3eea3-120">Rollere atanan izin kümeleri rolün tüm üyeleri tarafından devralınır.</span><span class="sxs-lookup"><span data-stu-id="3eea3-120">Permission sets that are assigned to roles are inherited by all members of the role.</span></span> <span data-ttu-id="3eea3-121">Bir role Kullanıcı eklemek veya bir rol kaldırmak daha kolaydır, tek tek kullanıcılar için ayrı izin kümeleri yeniden oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3eea3-121">It is easier to add or remove users from a role than it is to recreate separate permission sets for individual users.</span></span> <span data-ttu-id="3eea3-122">Roller iç içe olabilir; Ancak, çok fazla iç içe geçme düzeyi performansı düşürebilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-122">Roles can be nested; however, too many levels of nesting can degrade performance.</span></span> <span data-ttu-id="3eea3-123">Ayrıca, izin atanmasını kolaylaştırmak için, sabit veritabanı rollerine kullanıcılar ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-123">You can also add users to fixed database roles to simplify assigning permissions.</span></span>  
  
 <span data-ttu-id="3eea3-124">Şema düzeyinde izin verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-124">You can grant permissions at the schema level.</span></span> <span data-ttu-id="3eea3-125">Kullanıcılar, şemada oluşturulan tüm yeni nesnelerdeki izinleri otomatik olarak devralınır; yeni nesneler oluşturulduğundan izin vermeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="3eea3-125">Users automatically inherit permissions on all new objects created in the schema; you do not need to grant permissions as new objects are created.</span></span>  
  
## <a name="permissions-through-procedural-code"></a><span data-ttu-id="3eea3-126">Yordamsal kod aracılığıyla izinler</span><span class="sxs-lookup"><span data-stu-id="3eea3-126">Permissions Through Procedural Code</span></span>  
 <span data-ttu-id="3eea3-127">Saklı yordamlar ve Kullanıcı tanımlı işlevler gibi modüller aracılığıyla veri erişiminin kapsüllenmesi, uygulamanız etrafında ek bir koruma katmanı sağlar.</span><span class="sxs-lookup"><span data-stu-id="3eea3-127">Encapsulating data access through modules such as stored procedures and user-defined functions provides an additional layer of protection around your application.</span></span> <span data-ttu-id="3eea3-128">Yalnızca, tablolar gibi temel nesnelerin izinlerini reddetirken yalnızca saklı yordamlara veya işlevlere izinler vererek kullanıcıların veritabanı nesneleriyle doğrudan etkileşimde olmasını engelleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-128">You can prevent users from directly interacting with database objects by granting permissions only to stored procedures or functions while denying permissions to underlying objects such as tables.</span></span> <span data-ttu-id="3eea3-129">SQL Server sahiplik zincirleyerek bunu elde eder.</span><span class="sxs-lookup"><span data-stu-id="3eea3-129">SQL Server achieves this by ownership chaining.</span></span>  
  
## <a name="permission-statements"></a><span data-ttu-id="3eea3-130">İzin deyimleri</span><span class="sxs-lookup"><span data-stu-id="3eea3-130">Permission Statements</span></span>  
 <span data-ttu-id="3eea3-131">Üç Transact-SQL izin deyimleri aşağıdaki tabloda açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="3eea3-131">The three Transact-SQL permission statements are described in the following table.</span></span>  
  
|<span data-ttu-id="3eea3-132">İzin ekstresi</span><span class="sxs-lookup"><span data-stu-id="3eea3-132">Permission Statement</span></span>|<span data-ttu-id="3eea3-133">Description</span><span class="sxs-lookup"><span data-stu-id="3eea3-133">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="3eea3-134">SEMANTIĞI</span><span class="sxs-lookup"><span data-stu-id="3eea3-134">GRANT</span></span>|<span data-ttu-id="3eea3-135">İzin verir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-135">Grants a permission.</span></span>|  
|<span data-ttu-id="3eea3-136">HEDEFINI</span><span class="sxs-lookup"><span data-stu-id="3eea3-136">REVOKE</span></span>|<span data-ttu-id="3eea3-137">Bir izni iptal eder.</span><span class="sxs-lookup"><span data-stu-id="3eea3-137">Revokes a permission.</span></span> <span data-ttu-id="3eea3-138">Bu, yeni bir nesnenin varsayılan durumudur.</span><span class="sxs-lookup"><span data-stu-id="3eea3-138">This is the default state of a new object.</span></span> <span data-ttu-id="3eea3-139">Bir kullanıcı veya rolden iptal edilen izin, hala asıl rolün atandığı diğer gruplardan veya rollerden devralınabilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-139">A permission revoked from a user or role can still be inherited from other groups or roles to which the principal is assigned.</span></span>|  
|<span data-ttu-id="3eea3-140">REDDET</span><span class="sxs-lookup"><span data-stu-id="3eea3-140">DENY</span></span>|<span data-ttu-id="3eea3-141">REDDETME, devralınmaması için bir izni iptal eder.</span><span class="sxs-lookup"><span data-stu-id="3eea3-141">DENY revokes a permission so that it cannot be inherited.</span></span> <span data-ttu-id="3eea3-142">Reddet, ' nin nesne sahipleri veya üyeleri için uygulanmadığından, tüm izinlerin önünde önceliklidir `sysadmin` .</span><span class="sxs-lookup"><span data-stu-id="3eea3-142">DENY takes precedence over all permissions, except DENY does not apply to object owners or members of `sysadmin`.</span></span> <span data-ttu-id="3eea3-143">Bir nesne üzerindeki izinleri bir rol için reddetmeniz durumunda, `public` nesne sahipleri ve üyeleri hariç tüm kullanıcılar ve roller için reddedilir `sysadmin` .</span><span class="sxs-lookup"><span data-stu-id="3eea3-143">If you DENY permissions on an object to the `public` role it is denied to all users and roles except for object owners and `sysadmin` members.</span></span>|  
  
- <span data-ttu-id="3eea3-144">GRANT deyimleri, veritabanı kullanıcıları tarafından devralınabilir bir gruba veya role izin atayabilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-144">The GRANT statement can assign permissions to a group or role that can be inherited by database users.</span></span> <span data-ttu-id="3eea3-145">Ancak reddetme deyimi diğer tüm izin deyimlerine göre önceliklidir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-145">However, the DENY statement takes precedence over all other permission statements.</span></span> <span data-ttu-id="3eea3-146">Bu nedenle, izin reddedilmiş bir Kullanıcı başka bir rolden onu alamaz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-146">Therefore, a user who has been denied a permission cannot inherit it from another role.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="3eea3-147">`sysadmin`Sabit sunucu rolü ve nesne sahiplerinin üyelerine izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="3eea3-147">Members of the `sysadmin` fixed server role and object owners cannot be denied permissions.</span></span>  
  
## <a name="ownership-chains"></a><span data-ttu-id="3eea3-148">Sahiplik zincirleri</span><span class="sxs-lookup"><span data-stu-id="3eea3-148">Ownership Chains</span></span>  
 <span data-ttu-id="3eea3-149">SQL Server, yalnızca izin verilen sorumlular nesnelere erişebilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="3eea3-149">SQL Server ensures that only principals that have been granted permission can access objects.</span></span> <span data-ttu-id="3eea3-150">Birden çok veritabanı nesnesi birbirlerine erişebildiğinde, dizi bir zincir olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-150">When multiple database objects access each other, the sequence is known as a chain.</span></span> <span data-ttu-id="3eea3-151">SQL Server zincirdeki bağlantılardan geçiş yaparken, izinleri her öğeye ayrı olarak erişeceklerinden farklı şekilde değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-151">When SQL Server is traversing the links in the chain, it evaluates permissions differently than it would if it were accessing each item separately.</span></span> <span data-ttu-id="3eea3-152">Bir nesne bir zincir aracılığıyla erişildiğinde, SQL Server önce nesnenin sahibini çağıran nesnenin sahibine (zincirdeki önceki bağlantı) karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="3eea3-152">When an object is accessed through a chain, SQL Server first compares the object's owner to the owner of the calling object (the previous link in the chain).</span></span> <span data-ttu-id="3eea3-153">Her iki nesne de aynı sahibe sahip ise, başvurulan nesne üzerindeki izinler denetlenmez.</span><span class="sxs-lookup"><span data-stu-id="3eea3-153">If both objects have the same owner, permissions on the referenced object are not checked.</span></span> <span data-ttu-id="3eea3-154">Bir nesne farklı bir sahibe sahip olan başka bir nesneye eriştiğinde, sahiplik zinciri bozulur ve SQL Server çağıranın güvenlik bağlamını denetlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-154">Whenever an object accesses another object that has a different owner, the ownership chain is broken and SQL Server must check the caller's security context.</span></span>  
  
## <a name="procedural-code-and-ownership-chaining"></a><span data-ttu-id="3eea3-155">Yordamsal kod ve sahiplik zinciri</span><span class="sxs-lookup"><span data-stu-id="3eea3-155">Procedural Code and Ownership Chaining</span></span>  
 <span data-ttu-id="3eea3-156">Bir kullanıcıya, bir tablodaki verileri seçen saklı yordamda yürütme izinleri verildiğini varsayalım.</span><span class="sxs-lookup"><span data-stu-id="3eea3-156">Suppose that a user is granted execute permissions on a stored procedure that selects data from a table.</span></span> <span data-ttu-id="3eea3-157">Saklı yordam ve tablo aynı sahibe sahip ise, kullanıcıya tablo üzerinde herhangi bir izin verilmesi gerekmez, hatta izin reddedilebilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-157">If the stored procedure and the table have the same owner, the user doesn't need to be granted any permissions on the table and can even be denied permissions.</span></span> <span data-ttu-id="3eea3-158">Ancak, saklı yordamın ve tablonun farklı sahipleri varsa, verilere erişim izni vermeden önce SQL Server kullanıcının tablodaki izinlerini denetlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-158">However, if the stored procedure and the table have different owners, SQL Server must check the user's permissions on the table before allowing access to the data.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="3eea3-159">Dinamik SQL deyimleri söz konusu olduğunda sahiplik zinciri uygulanmaz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-159">Ownership chaining does not apply in the case of dynamic SQL statements.</span></span> <span data-ttu-id="3eea3-160">Bir SQL ifadesini yürüten bir yordamı çağırmak için, çağıran tablo üzerinde izin verilmelidir ve uygulamanızı SQL ekleme saldırısına karşı savunmasız bırakır.</span><span class="sxs-lookup"><span data-stu-id="3eea3-160">To call a procedure that executes an SQL statement, the caller must be granted permissions on the underlying tables, leaving your application vulnerable to SQL Injection attack.</span></span> <span data-ttu-id="3eea3-161">SQL Server, ilişkili tablolarda izin verilmesini gerektirmeyen sertifikalarla kimliğe bürünme ve imzalama modülleri gibi yeni mekanizmalar sağlar.</span><span class="sxs-lookup"><span data-stu-id="3eea3-161">SQL Server provides new mechanisms, such as impersonation and signing modules with certificates, that do not require granting permissions on the underlying tables.</span></span> <span data-ttu-id="3eea3-162">Bunlar, CLR saklı yordamları ile de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-162">These can also be used with CLR stored procedures.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="3eea3-163">Dış Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="3eea3-163">External Resources</span></span>  
 <span data-ttu-id="3eea3-164">Daha fazla bilgi için aşağıdaki kaynaklara bakın.</span><span class="sxs-lookup"><span data-stu-id="3eea3-164">For more information, see the following resources.</span></span>  
  
|<span data-ttu-id="3eea3-165">Kaynak</span><span class="sxs-lookup"><span data-stu-id="3eea3-165">Resource</span></span>|<span data-ttu-id="3eea3-166">Description</span><span class="sxs-lookup"><span data-stu-id="3eea3-166">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="3eea3-167">İzinler</span><span class="sxs-lookup"><span data-stu-id="3eea3-167">Permissions</span></span>](/sql/relational-databases/security/permissions-database-engine)|<span data-ttu-id="3eea3-168">İzin hiyerarşisini, katalog görünümlerini ve sabit sunucu ve veritabanı rollerinin izinlerini açıklayan konuları içerir.</span><span class="sxs-lookup"><span data-stu-id="3eea3-168">Contains topics describing permissions hierarchy, catalog views, and permissions of fixed server and database roles.</span></span>|
  
## <a name="see-also"></a><span data-ttu-id="3eea3-169">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="3eea3-169">See also</span></span>

- [<span data-ttu-id="3eea3-170">ADO.NET Uygulamalarının Güvenliğini Sağlama</span><span class="sxs-lookup"><span data-stu-id="3eea3-170">Securing ADO.NET Applications</span></span>](../securing-ado-net-applications.md)
- [<span data-ttu-id="3eea3-171">SQL Server'da Uygulama Güvenliği Senaryoları</span><span class="sxs-lookup"><span data-stu-id="3eea3-171">Application Security Scenarios in SQL Server</span></span>](application-security-scenarios-in-sql-server.md)
- [<span data-ttu-id="3eea3-172">SQL Server’da Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="3eea3-172">Authentication in SQL Server</span></span>](authentication-in-sql-server.md)
- [<span data-ttu-id="3eea3-173">SQL Server’da Sunucu ve Veritabanı Rolleri</span><span class="sxs-lookup"><span data-stu-id="3eea3-173">Server and Database Roles in SQL Server</span></span>](server-and-database-roles-in-sql-server.md)
- [<span data-ttu-id="3eea3-174">SQL Server'da Sahiplik ve Kullanıcı Şeması Ayrımı</span><span class="sxs-lookup"><span data-stu-id="3eea3-174">Ownership and User-Schema Separation in SQL Server</span></span>](ownership-and-user-schema-separation-in-sql-server.md)
- [<span data-ttu-id="3eea3-175">ADO.NET’e Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="3eea3-175">ADO.NET Overview</span></span>](../ado-net-overview.md)
