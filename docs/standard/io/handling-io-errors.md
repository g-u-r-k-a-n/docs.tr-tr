---
title: .NET 'te g/ç hatalarını işleme
ms.date: 08/27/2018
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- I/O, exception handling
- I/O, errors
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: c592039b3b12eedcfceda45c2f54403a8e04b5d5
ms.sourcegitcommit: 7980a91f90ae5eca859db7e6bfa03e23e76a1a50
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/13/2020
ms.locfileid: "81242679"
---
# <a name="handling-io-errors-in-net"></a><span data-ttu-id="aa6a9-102">.NET 'te g/ç hatalarını işleme</span><span class="sxs-lookup"><span data-stu-id="aa6a9-102">Handling I/O errors in .NET</span></span>

<span data-ttu-id="aa6a9-103">Herhangi bir yöntem çağrısında oluşturulabilecek özel durumlara ek olarak (örneğin <xref:System.OutOfMemoryException> , bir sistem ne zaman, <xref:System.NullReferenceException> Programcı hatası nedeniyle), .NET dosya sistemi yöntemleri aşağıdaki özel durumları oluşturabilir:</span><span class="sxs-lookup"><span data-stu-id="aa6a9-103">In addition to the exceptions that can be thrown in any method call (such as an <xref:System.OutOfMemoryException> when a system is stressed or an <xref:System.NullReferenceException> due to programmer error), .NET file system methods can throw the following exceptions:</span></span>

- <span data-ttu-id="aa6a9-104"><xref:System.IO.IOException?displayProperty=nameWithType>, tüm <xref:System.IO> özel durum türlerinin temel sınıfı.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-104"><xref:System.IO.IOException?displayProperty=nameWithType>, the base class of all <xref:System.IO> exception types.</span></span> <span data-ttu-id="aa6a9-105">İşletim sisteminden gelen dönüş kodları başka bir özel durum türüyle doğrudan eşlenmediğinde hatalar için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-105">It is thrown for errors whose return codes from the operating system don't directly map to any other exception type.</span></span>
- <span data-ttu-id="aa6a9-106"><xref:System.IO.FileNotFoundException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-106"><xref:System.IO.FileNotFoundException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="aa6a9-107"><xref:System.IO.DirectoryNotFoundException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-107"><xref:System.IO.DirectoryNotFoundException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="aa6a9-108"><xref:System.IO.DriveNotFoundException??displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-108"><xref:System.IO.DriveNotFoundException??displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="aa6a9-109"><xref:System.IO.PathTooLongException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-109"><xref:System.IO.PathTooLongException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="aa6a9-110"><xref:System.OperationCanceledException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-110"><xref:System.OperationCanceledException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="aa6a9-111"><xref:System.UnauthorizedAccessException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-111"><xref:System.UnauthorizedAccessException?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="aa6a9-112"><xref:System.ArgumentException?displayProperty=nameWithType>.NET Framework ve .NET Core 2,0 ve önceki sürümlerde geçersiz yol karakterleri için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-112"><xref:System.ArgumentException?displayProperty=nameWithType>, which is thrown for invalid path characters on .NET Framework and on .NET Core 2.0 and previous versions.</span></span>
- <span data-ttu-id="aa6a9-113"><xref:System.NotSupportedException?displayProperty=nameWithType>, .NET Framework geçersiz iki nokta için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-113"><xref:System.NotSupportedException?displayProperty=nameWithType>, which is thrown for invalid colons in .NET Framework.</span></span>
- <span data-ttu-id="aa6a9-114"><xref:System.Security.SecurityException?displayProperty=nameWithType>sınırlı güvende çalışan uygulamalar için, yalnızca .NET Framework için gerekli izinlere sahip olmayan uygulamalar için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-114"><xref:System.Security.SecurityException?displayProperty=nameWithType>, which is thrown for applications running in limited trust that lack the necessary permissions on .NET Framework only.</span></span> <span data-ttu-id="aa6a9-115">(Tam güven, .NET Framework varsayılandır.)</span><span class="sxs-lookup"><span data-stu-id="aa6a9-115">(Full trust is the default on .NET Framework.)</span></span>

## <a name="mapping-error-codes-to-exceptions"></a><span data-ttu-id="aa6a9-116">Hata kodlarını özel durumlara eşleme</span><span class="sxs-lookup"><span data-stu-id="aa6a9-116">Mapping error codes to exceptions</span></span>

<span data-ttu-id="aa6a9-117">Dosya sistemi bir işletim sistemi kaynağı, hem .NET Core 'daki g/ç yöntemleri hem de temel işletim sistemine .NET Framework çağrıları sarmalıdır.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-117">Because the file system is an operating system resource, I/O methods in both .NET Core and .NET Framework wrap calls to the underlying operating system.</span></span> <span data-ttu-id="aa6a9-118">İşletim sistemi tarafından yürütülen kodda bir g/ç hatası oluştuğunda, işletim sistemi .NET ı/O metoduna hata bilgilerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-118">When an I/O error occurs in code executed by the operating system, the operating system returns error information to the .NET I/O method.</span></span> <span data-ttu-id="aa6a9-119">Yöntemi daha sonra genellikle hata kodu biçimindeki hata bilgilerini bir .NET özel durum türüne çevirir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-119">The method then translates the error information, typically in the form of an error code, into a .NET exception type.</span></span> <span data-ttu-id="aa6a9-120">Çoğu durumda, hata kodunu doğrudan karşılık gelen özel durum türüne çevirerek bunu yapar; yöntem çağrısının bağlamına göre hatanın özel eşlemesini gerçekleştirmez.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-120">In most cases, it does this by directly translating the error code into its corresponding exception type; it does not perform any special mapping of the error based on the context of the method call.</span></span>

<span data-ttu-id="aa6a9-121">Örneğin, Windows işletim sisteminde, bir hata kodu `ERROR_FILE_NOT_FOUND` (veya 0x02) ile haritalar döndüren bir yöntem çağrısı <xref:System.IO.FileNotFoundException> ve `ERROR_PATH_NOT_FOUND` (veya 0x03) hata kodu ile eşlenir <xref:System.IO.DirectoryNotFoundException> .</span><span class="sxs-lookup"><span data-stu-id="aa6a9-121">For example, on the Windows operating system, a method call that returns an error code of `ERROR_FILE_NOT_FOUND` (or 0x02) maps to a <xref:System.IO.FileNotFoundException>, and an error code of `ERROR_PATH_NOT_FOUND` (or 0x03) maps to a <xref:System.IO.DirectoryNotFoundException>.</span></span>

<span data-ttu-id="aa6a9-122">Ancak, işletim sisteminin belirli hata kodlarını döndürdüğü kesin koşullar genellikle belgelenmemiş veya kötü belgeli şekilde belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-122">However, the precise conditions under which the operating system returns particular error codes is often undocumented or poorly documented.</span></span> <span data-ttu-id="aa6a9-123">Sonuç olarak, beklenmeyen özel durumlar oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-123">As a result, unexpected exceptions can occur.</span></span> <span data-ttu-id="aa6a9-124">Örneğin, bir dosya yerine bir dizinle çalıştığınızdan, oluşturucuya geçersiz bir dizin yolu sağlanması beklenir <xref:System.IO.DirectoryInfo.%23ctor%2A> <xref:System.IO.DirectoryNotFoundException> .</span><span class="sxs-lookup"><span data-stu-id="aa6a9-124">For example, because you are working with a directory rather than a file, you would expect that providing an invalid directory path to the <xref:System.IO.DirectoryInfo.%23ctor%2A> constructor throws a <xref:System.IO.DirectoryNotFoundException>.</span></span> <span data-ttu-id="aa6a9-125">Ancak, bir de oluşturabilir <xref:System.IO.FileNotFoundException> .</span><span class="sxs-lookup"><span data-stu-id="aa6a9-125">However, it may also throw a <xref:System.IO.FileNotFoundException>.</span></span>

## <a name="exception-handling-in-io-operations"></a><span data-ttu-id="aa6a9-126">G/ç işlemlerinde özel durum işleme</span><span class="sxs-lookup"><span data-stu-id="aa6a9-126">Exception handling in I/O operations</span></span>

<span data-ttu-id="aa6a9-127">Bu, işletim sistemine güvendiğimiz için, aynı özel durum koşulları (örneğimizde dizin bulunamadı hatası gibi), tüm g/ç özel durum sınıfından birini oluşturan g/ç yöntemine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-127">Because of this reliance on the operating system, identical exception conditions (such as the directory not found error in our example) can result in an I/O method throwing any one of the entire class of I/O exceptions.</span></span> <span data-ttu-id="aa6a9-128">Diğer bir deyişle, g/ç API 'Leri çağrılırken kodunuzun bu özel durumların çoğunu veya tümünü, aşağıdaki tabloda gösterildiği gibi işleyecek şekilde hazırlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-128">This means that, when calling I/O APIs, your code should be prepared to handle most or all of these exceptions, as shown in the following table:</span></span>

| <span data-ttu-id="aa6a9-129">Özel durum türü</span><span class="sxs-lookup"><span data-stu-id="aa6a9-129">Exception type</span></span> | <span data-ttu-id="aa6a9-130">.NET Core</span><span class="sxs-lookup"><span data-stu-id="aa6a9-130">.NET Core</span></span> | <span data-ttu-id="aa6a9-131">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="aa6a9-131">.NET Framework</span></span> |
|---|---|---|
| <xref:System.IO.IOException> | <span data-ttu-id="aa6a9-132">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-132">Yes</span></span> | <span data-ttu-id="aa6a9-133">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-133">Yes</span></span> |
| <xref:System.IO.FileNotFoundException> | <span data-ttu-id="aa6a9-134">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-134">Yes</span></span> | <span data-ttu-id="aa6a9-135">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-135">Yes</span></span> |
| <xref:System.IO.DirectoryNotFoundException> | <span data-ttu-id="aa6a9-136">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-136">Yes</span></span> | <span data-ttu-id="aa6a9-137">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-137">Yes</span></span> |
| <xref:System.IO.DriveNotFoundException?> | <span data-ttu-id="aa6a9-138">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-138">Yes</span></span> | <span data-ttu-id="aa6a9-139">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-139">Yes</span></span> |
| <xref:System.IO.PathTooLongException> | <span data-ttu-id="aa6a9-140">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-140">Yes</span></span> | <span data-ttu-id="aa6a9-141">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-141">Yes</span></span> |
| <xref:System.OperationCanceledException> | <span data-ttu-id="aa6a9-142">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-142">Yes</span></span> | <span data-ttu-id="aa6a9-143">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-143">Yes</span></span> |
| <xref:System.UnauthorizedAccessException> | <span data-ttu-id="aa6a9-144">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-144">Yes</span></span> | <span data-ttu-id="aa6a9-145">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-145">Yes</span></span> |
| <xref:System.ArgumentException> | <span data-ttu-id="aa6a9-146">.NET Core 2,0 ve öncesi</span><span class="sxs-lookup"><span data-stu-id="aa6a9-146">.NET Core 2.0 and earlier</span></span>| <span data-ttu-id="aa6a9-147">Yes</span><span class="sxs-lookup"><span data-stu-id="aa6a9-147">Yes</span></span> |
| <xref:System.NotSupportedException> | <span data-ttu-id="aa6a9-148">Hayır</span><span class="sxs-lookup"><span data-stu-id="aa6a9-148">No</span></span> | <span data-ttu-id="aa6a9-149">Evet</span><span class="sxs-lookup"><span data-stu-id="aa6a9-149">Yes</span></span> |
| <xref:System.Security.SecurityException> | <span data-ttu-id="aa6a9-150">Hayır</span><span class="sxs-lookup"><span data-stu-id="aa6a9-150">No</span></span> | <span data-ttu-id="aa6a9-151">Yalnızca sınırlı güven</span><span class="sxs-lookup"><span data-stu-id="aa6a9-151">Limited trust only</span></span> |

## <a name="handling-ioexception"></a><span data-ttu-id="aa6a9-152">IOException işleniyor</span><span class="sxs-lookup"><span data-stu-id="aa6a9-152">Handling IOException</span></span>

<span data-ttu-id="aa6a9-153">Ad alanındaki özel durumlar için temel sınıf olarak <xref:System.IO> , <xref:System.IO.IOException> önceden tanımlanmış bir özel durum türüyle eşleşmeyen herhangi bir hata kodu için de oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-153">As the base class for exceptions in the <xref:System.IO> namespace, <xref:System.IO.IOException> is also thrown for any error code that does not map to a predefined exception type.</span></span> <span data-ttu-id="aa6a9-154">Bu, herhangi bir g/ç işlemi tarafından oluşturulabilecek anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-154">This means that it can be thrown by any I/O operation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aa6a9-155">, <xref:System.IO.IOException> Ad alanındaki diğer özel durum türlerinin temel sınıfı olduğundan <xref:System.IO> , `catch` diğer g/ç ile ilgili özel durumları tamamladıktan sonra bir blok içinde işlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-155">Because <xref:System.IO.IOException> is the base class of the other exception types in the <xref:System.IO> namespace, you should handle in a `catch` block after you've handled the other I/O-related exceptions.</span></span>

<span data-ttu-id="aa6a9-156">Ayrıca, .NET Core 2,1 ' den itibaren doğrulama, yolun doğruluğunu denetler (örneğin, geçersiz karakterlerin bir yolda olmamasını sağlamak için) kaldırıldığından, çalışma zamanı kendi doğrulama kodu yerine bir işletim sistemi hata kodundan eşlenmiş bir özel durum oluşturur.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-156">In addition, starting with .NET Core 2.1, validation checks for path correctness (for example, to ensure that invalid characters are not present in a path) have been removed, and the runtime throws an exception mapped from an operating system error code rather than from its own validation code.</span></span> <span data-ttu-id="aa6a9-157">Bu durumda <xref:System.IO.IOException> , diğer özel durum türlerinin de oluşturulması mümkün olsa da, bu örnekte oluşturulacak en olası özel durum bir ' dır.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-157">The most likely exception to be thrown in this case is an <xref:System.IO.IOException>, although any other exception type could also be thrown.</span></span>

<span data-ttu-id="aa6a9-158">Özel durum işleme kodunuzda her zaman son ' u işlemeniz gerektiğini unutmayın <xref:System.IO.IOException> .</span><span class="sxs-lookup"><span data-stu-id="aa6a9-158">Note that, in your exception handling code, you should always handle the <xref:System.IO.IOException> last.</span></span> <span data-ttu-id="aa6a9-159">Aksi takdirde, diğer tüm GÇ özel durumlarının temel sınıfı olduğundan, türetilmiş sınıfların catch blokları değerlendirilmeyecektir.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-159">Otherwise, because it is the base class of all other IO exceptions, the catch blocks of derived classes will not be evaluated.</span></span>

<span data-ttu-id="aa6a9-160">Bir durumda <xref:System.IO.IOException> , [IOException. HRESULT](xref:System.Exception.HResult) özelliğinden ek hata bilgileri alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-160">In the case of an <xref:System.IO.IOException>, you can get additional error information from the [IOException.HResult](xref:System.Exception.HResult) property.</span></span> <span data-ttu-id="aa6a9-161">HResult değerini bir Win32 hata koduna dönüştürmek için 32 bitlik değerin üst 16 bitini bir adım adım.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-161">To convert the HResult value to a Win32 error code, you strip out the upper 16 bits of the 32-bit value.</span></span> <span data-ttu-id="aa6a9-162">Aşağıdaki tabloda, içine kaydırılmış olabilecek hata kodları listelenmektedir <xref:System.IO.IOException> .</span><span class="sxs-lookup"><span data-stu-id="aa6a9-162">The following table lists error codes that may be wrapped in an <xref:System.IO.IOException>.</span></span>

| <span data-ttu-id="aa6a9-163">HResult</span><span class="sxs-lookup"><span data-stu-id="aa6a9-163">HResult</span></span> | <span data-ttu-id="aa6a9-164">Sabit</span><span class="sxs-lookup"><span data-stu-id="aa6a9-164">Constant</span></span> | <span data-ttu-id="aa6a9-165">Description</span><span class="sxs-lookup"><span data-stu-id="aa6a9-165">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa6a9-166">ERROR_SHARING_VIOLATION</span><span class="sxs-lookup"><span data-stu-id="aa6a9-166">ERROR_SHARING_VIOLATION</span></span> | <span data-ttu-id="aa6a9-167">32</span><span class="sxs-lookup"><span data-stu-id="aa6a9-167">32</span></span> | <span data-ttu-id="aa6a9-168">Dosya adı eksik veya dosya ya da Dizin kullanımda.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-168">The file name is missing, or the file or directory is in use.</span></span> |
| <span data-ttu-id="aa6a9-169">ERROR_FILE_EXISTS</span><span class="sxs-lookup"><span data-stu-id="aa6a9-169">ERROR_FILE_EXISTS</span></span> | <span data-ttu-id="aa6a9-170">80</span><span class="sxs-lookup"><span data-stu-id="aa6a9-170">80</span></span> | <span data-ttu-id="aa6a9-171">Dosya zaten var.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-171">The file already exists.</span></span> |
| <span data-ttu-id="aa6a9-172">ERROR_INVALID_PARAMETER</span><span class="sxs-lookup"><span data-stu-id="aa6a9-172">ERROR_INVALID_PARAMETER</span></span> | <span data-ttu-id="aa6a9-173">87</span><span class="sxs-lookup"><span data-stu-id="aa6a9-173">87</span></span> | <span data-ttu-id="aa6a9-174">Yönteme sağlanan bir bağımsız değişken geçersiz.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-174">An argument supplied to the method is invalid.</span></span> |
| <span data-ttu-id="aa6a9-175">ERROR_ALREADY_EXISTS</span><span class="sxs-lookup"><span data-stu-id="aa6a9-175">ERROR_ALREADY_EXISTS</span></span> | <span data-ttu-id="aa6a9-176">183</span><span class="sxs-lookup"><span data-stu-id="aa6a9-176">183</span></span> | <span data-ttu-id="aa6a9-177">Dosya veya dizin zaten var.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-177">The file or directory already exists.</span></span> |

<span data-ttu-id="aa6a9-178">`When`Aşağıdaki örnekte gösterildiği gibi, bunları bir catch deyimindeki bir yan tümce kullanarak işleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-178">You can handle these using a `When` clause in a catch statement, as the following example shows.</span></span>

[!code-csharp[io-exception-handling](~/samples/snippets/standard/io/io-exceptions/cs/io-exceptions.cs)]
[!code-vb[io-exception-handling](~/samples/snippets/standard/io/io-exceptions/vb/io-exceptions.vb)]

## <a name="see-also"></a><span data-ttu-id="aa6a9-179">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="aa6a9-179">See also</span></span>

- [<span data-ttu-id="aa6a9-180">.NET 'te özel durumları işleme ve atma</span><span class="sxs-lookup"><span data-stu-id="aa6a9-180">Handling and throwing exceptions in .NET</span></span>](../exceptions/index.md)
- [<span data-ttu-id="aa6a9-181">Özel durum işleme (görev paralel kitaplığı)</span><span class="sxs-lookup"><span data-stu-id="aa6a9-181">Exception handling (Task Parallel Library)</span></span>](../parallel-programming/exception-handling-task-parallel-library.md)
- [<span data-ttu-id="aa6a9-182">Özel durumlar için en iyi uygulamalar</span><span class="sxs-lookup"><span data-stu-id="aa6a9-182">Best practices for exceptions</span></span>](../exceptions/best-practices-for-exceptions.md)
- [<span data-ttu-id="aa6a9-183">Bir catch bloğunda belirli özel durumları kullanma</span><span class="sxs-lookup"><span data-stu-id="aa6a9-183">How to use specific exceptions in a catch block</span></span>](../exceptions/how-to-use-specific-exceptions-in-a-catch-block.md)
