---
title: Buluta özgü uygulamalar için azure güvenliği
description: Azure için Cloud Native .NET Uygulamalarını Temel Alma | Bulut Yerel Uygulamalar için Azure Güvenliği
ms.date: 06/30/2019
ms.openlocfilehash: 13b5ad7a883a83014913fa0a6a020610c28c524f
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2020
ms.locfileid: "80989148"
---
# <a name="azure-security-for-cloud-native-apps"></a><span data-ttu-id="7cfce-103">Buluta özgü uygulamalar için azure güvenliği</span><span class="sxs-lookup"><span data-stu-id="7cfce-103">Azure security for cloud-native apps</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="7cfce-104">Bulut ait uygulamalar geleneksel uygulamalara göre hem daha kolay hem de güvenli hale getirmek daha zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-104">Cloud-native applications can be both easier and more difficult to secure than traditional applications.</span></span> <span data-ttu-id="7cfce-105">Dezavantajı, daha küçük uygulamalar güvenli ve güvenlik altyapısı oluşturmak için daha fazla enerji ayırmak gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-105">On the downside, you need to secure more smaller applications and dedicate more energy to build out the security infrastructure.</span></span> <span data-ttu-id="7cfce-106">Çoğu hizmet dağıtımında programlama dillerinin ve stillerinin heterojen yapısı, birçok farklı sağlayıcının güvenlik bültenlerine daha fazla dikkat etmeniz gerektiği anlamına da gelir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-106">The heterogeneous nature of programming languages and styles in most service deployments also means you need to pay more attention to security bulletins from many different providers.</span></span>

<span data-ttu-id="7cfce-107">Diğer taraftan, her biri kendi veri deposuna sahip olan daha küçük hizmetler, bir saldırının kapsamını sınırlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-107">On the flip side, smaller services, each with their own data store, limit the scope of an attack.</span></span> <span data-ttu-id="7cfce-108">Bir saldırgan bir sistemden ödün verirse, saldırganın tek bir uygulamada olduğundan başka bir sisteme sıçrama yapması büyük olasılıkla daha zordur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-108">If an attacker compromises one system, it's probably more difficult for the attacker to make the jump to another system than it is in a monolithic application.</span></span> <span data-ttu-id="7cfce-109">Süreç sınırları güçlü sınırlardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-109">Process boundaries are strong boundaries.</span></span> <span data-ttu-id="7cfce-110">Ayrıca, bir veritabanı yedekleme sazlarsa, bu veritabanı yalnızca bir veri alt kümesi içerdiğinden ve kişisel veri içerme olasılığı düşük olduğundan, hasar daha sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-110">Also, if a database backup leaks, then the damage is more limited, as that database contains only a subset of data and is unlikely to contain personal data.</span></span>

## <a name="threat-modeling"></a><span data-ttu-id="7cfce-111">Tehdit modelleme</span><span class="sxs-lookup"><span data-stu-id="7cfce-111">Threat modeling</span></span>

<span data-ttu-id="7cfce-112">Avantajları bulut-yerli uygulamaların dezavantajları ağır basar olursa olsun, aynı bütünsel güvenlik zihniyet takip edilmelidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-112">No matter if the advantages outweigh the disadvantages of cloud-native applications, the same holistic security mindset must be followed.</span></span> <span data-ttu-id="7cfce-113">Güvenlik ve güvenli düşünme, geliştirme ve operasyon hikayesinin her adımının bir parçası olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-113">Security and secure thinking must be part of every step of the development and operations story.</span></span> <span data-ttu-id="7cfce-114">Bir uygulama planlarken gibi sorular sormak:</span><span class="sxs-lookup"><span data-stu-id="7cfce-114">When planning an application ask questions like:</span></span>

- <span data-ttu-id="7cfce-115">Bu verilerin kaybolmasının etkisi ne olur?</span><span class="sxs-lookup"><span data-stu-id="7cfce-115">What would be the impact of this data being lost?</span></span>
- <span data-ttu-id="7cfce-116">Bu hizmete enjekte edilen kötü verilerden kaynaklanan hasarı nasıl sınırlandırabiliriz?</span><span class="sxs-lookup"><span data-stu-id="7cfce-116">How can we limit the damage from bad data being injected into this service?</span></span>
- <span data-ttu-id="7cfce-117">Bu verilere kimler erişmeli?</span><span class="sxs-lookup"><span data-stu-id="7cfce-117">Who should have access to this data?</span></span>
- <span data-ttu-id="7cfce-118">Geliştirme ve serbest bırakma süreci etrafında denetim politikaları var mı?</span><span class="sxs-lookup"><span data-stu-id="7cfce-118">Are there auditing policies in place around the development and release process?</span></span>

<span data-ttu-id="7cfce-119">Tüm bu sorular [tehdit modelleme](https://docs.microsoft.com/azure/security/azure-security-threat-modeling-tool)denilen bir sürecin parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-119">All these questions are part of a process called [threat modeling](https://docs.microsoft.com/azure/security/azure-security-threat-modeling-tool).</span></span> <span data-ttu-id="7cfce-120">Bu süreç, sisteme yönelik tehditlerin ne kadar olduğu, tehditlerin ne kadar olası olduğu ve bunların potansiyel zararı sorusunu yanıtlamaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-120">This process tries to answer the question of what threats there are to the system, how likely the threats are, and the potential damage from them.</span></span>

<span data-ttu-id="7cfce-121">Tehdit listesi oluşturulduktan sonra, bunların hafifletmeye değer olup olmadığına karar vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-121">Once the list of threats has been established, you need to decide whether they're worth mitigating.</span></span> <span data-ttu-id="7cfce-122">Bazen bir tehdit çok olası ve bunun için planlamak için pahalı bunun üzerine enerji harcamaya değmez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-122">Sometimes a threat is so unlikely and expensive to plan for that it isn't worth spending energy on it.</span></span> <span data-ttu-id="7cfce-123">Örneğin, bazı durum düzeyindeaktör milyonlarca aygıt tarafından kullanılan bir işlemin tasarımına değişiklikler enjekte edebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-123">For instance, some state level actor could inject changes into the design of a process that is used by millions of devices.</span></span> <span data-ttu-id="7cfce-124">Şimdi, [Halka 3'te](https://en.wikipedia.org/wiki/Protection_ring)belirli bir kod parçasını çalıştırmak yerine, bu kod Halka 0'da çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-124">Now, instead of running a certain piece of code in [Ring 3](https://en.wikipedia.org/wiki/Protection_ring), that code is run in Ring 0.</span></span> <span data-ttu-id="7cfce-125">Bu, hipervizörü atlayabilen ve çıplak metal makinelerdeki saldırı kodunu çalıştırabilen bir yararlanmaya izin vererek, bu donanımda çalışan tüm sanal makinelere saldırılar yapılmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-125">This allows an exploit that can bypass the hypervisor and run the attack code on the bare metal machines, allowing attacks on all the virtual machines that are running on that hardware.</span></span>

<span data-ttu-id="7cfce-126">Değiştirilen işlemciler bir mikroskop ve bu işlemcinin silikon tasarımı hakkında gelişmiş bilgi olmadan tespit etmek zordur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-126">The altered processors are difficult to detect without a microscope and advanced knowledge of the on silicon design of that processor.</span></span> <span data-ttu-id="7cfce-127">Bu senaryonun gerçekleşmesi olası değildir ve azaltmak için pahalı, bu nedenle muhtemelen hiçbir tehdit modeli bunun için yararlanmak koruma bina tavsiye ederim.</span><span class="sxs-lookup"><span data-stu-id="7cfce-127">This scenario is unlikely to happen and expensive to mitigate, so probably no threat model would recommend building exploit protection for it.</span></span>

<span data-ttu-id="7cfce-128">Artan saldırılara `Id` `Id=2` `Id=3` (URL'de değiştirme) veya SQL enjeksiyonuna izin veren kırık erişim denetimleri gibi daha olası tehditler, koruma oluşturmak için daha caziptir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-128">More likely threats, such as broken access controls permitting `Id` incrementing attacks (replacing `Id=2` with `Id=3` in the URL) or SQL injection, are more attractive to build protections against.</span></span> <span data-ttu-id="7cfce-129">Bu tehditleriçin hafifletmeler oldukça oluşturmak ve şirketin itibarını lekeleyen utanç verici güvenlik delikleri önlemek için makul.</span><span class="sxs-lookup"><span data-stu-id="7cfce-129">The mitigations for these threats are quite reasonable to build and prevent embarrassing security holes that smear the company's reputation.</span></span>

## <a name="principle-of-least-privilege"></a><span data-ttu-id="7cfce-130">En az ayrıcalık ilkesi</span><span class="sxs-lookup"><span data-stu-id="7cfce-130">Principle of least privilege</span></span>

<span data-ttu-id="7cfce-131">Bilgisayar güvenliğinin kurucu fikirlerinden biri de En Az Ayrıcalık Ilkesi (POLP) 'dir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-131">One of the founding ideas in computer security is the Principle of Least Privilege (POLP).</span></span> <span data-ttu-id="7cfce-132">Aslında güvenlik her türlü en temel bir fikir dijital ya da fiziksel olsun.</span><span class="sxs-lookup"><span data-stu-id="7cfce-132">It's actually a foundational idea in most any form of security be it digital or physical.</span></span> <span data-ttu-id="7cfce-133">Kısacası, ilke, herhangi bir kullanıcı veya işlem görevini yürütmek için mümkün olan en az sayıda hakka sahip olması gerektiğidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-133">In short, the principle is that any user or process should have the smallest number of rights possible to execute its task.</span></span>

<span data-ttu-id="7cfce-134">Örnek olarak, bir bankada veznedarlar düşünün: kasaya erişmek nadir bir etkinliktir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-134">As an example, think of the tellers at a bank: accessing the safe is an uncommon activity.</span></span> <span data-ttu-id="7cfce-135">Yani, ortalama bir veznedar kasayı kendileri açamaz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-135">So, the average teller can't open the safe themselves.</span></span> <span data-ttu-id="7cfce-136">Erişim sağlamak için, ek güvenlik denetimleri gerçekleştiren bir banka müdürü aracılığıyla isteklerini yükseltmeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-136">To gain access, they need to escalate their request through a bank manager, who performs additional security checks.</span></span>

<span data-ttu-id="7cfce-137">Bir bilgisayar sisteminde, fantastik bir örnek bir veritabanına bağlanan bir kullanıcının haklarıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-137">In a computer system, a fantastic example is the rights of a user connecting to a database.</span></span> <span data-ttu-id="7cfce-138">Çoğu durumda, hem veritabanı yapısını oluşturmak hem de uygulamayı çalıştırmak için kullanılan tek bir kullanıcı hesabı vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-138">In many cases, there's a single user account used to both build the database structure and run the application.</span></span> <span data-ttu-id="7cfce-139">Ekstrem durumlar dışında, uygulamayı çalıştıran hesabın şema bilgilerini güncelleştirme yeteneğine ihtiyacı yoktur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-139">Except in extreme cases, the account running the application doesn't need the ability to update schema information.</span></span> <span data-ttu-id="7cfce-140">Farklı ayrıcalık düzeyleri sağlayan çeşitli hesaplar olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-140">There should be several accounts that provide different levels of privilege.</span></span> <span data-ttu-id="7cfce-141">Uygulama yalnızca tablolardaki verilere okuma ve yazma erişimi veren izin düzeyini kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-141">The application should only use the permission level that grants read and write access to the data in the tables.</span></span> <span data-ttu-id="7cfce-142">Bu tür bir koruma, veritabanı tablolarını düşürmeyi veya kötü amaçlı tetikleyiciler getirmeyi amaçlayan saldırıları ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-142">This kind of protection would eliminate attacks that aimed to drop database tables or introduce malicious triggers.</span></span>

<span data-ttu-id="7cfce-143">Bulut ait bir uygulama oluşturmanın hemen hemen her bölümü, en az ayrıcalık ilkesini hatırlamaktan yararlanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-143">Almost every part of building a cloud-native application can benefit from remembering the principle of least privilege.</span></span> <span data-ttu-id="7cfce-144">Rol tabanlı erişim denetiminde (RBAC) güvenlik duvarları, ağ güvenlik grupları, roller ve kapsamlar kurarken bunu oyunda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-144">You can find it at play when setting up firewalls, network security groups, roles, and scopes in Role-based access control (RBAC).</span></span>

## <a name="penetration-testing"></a><span data-ttu-id="7cfce-145">Sızma testi</span><span class="sxs-lookup"><span data-stu-id="7cfce-145">Penetration testing</span></span>

<span data-ttu-id="7cfce-146">Uygulamalar daha karmaşık hale geldikçe saldırı vektörlerinin sayısı endişe verici bir oranda artar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-146">As applications become more complicated the number of attack vectors increases at an alarming rate.</span></span> <span data-ttu-id="7cfce-147">Tehdit modelleme sistemi oluşturan aynı kişiler tarafından yürütülme eğilimindedir bu kusurlu.</span><span class="sxs-lookup"><span data-stu-id="7cfce-147">Threat modeling is flawed in that it tends to be executed by the same people building the system.</span></span> <span data-ttu-id="7cfce-148">Birçok geliştiricinin kullanıcı etkileşimlerini öngörmekte ve sonra kullanılamaz kullanıcı arabirimleri oluşturmakta zorlandığı gibi, çoğu geliştirici de her saldırı vektörü görmekte zorlanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-148">In the same way that many developers have trouble envisioning user interactions and then build unusable user interfaces, most developers have difficulty seeing every attack vector.</span></span> <span data-ttu-id="7cfce-149">Sistemi oluşturan geliştiricilerin saldırı metodolojileri hakkında bilgili olmaması ve çok önemli bir şeyi kaçırması da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-149">It's also possible that the developers building the system aren't well versed in attack methodologies and miss something crucial.</span></span>

<span data-ttu-id="7cfce-150">Penetrasyon testi veya "kalem testi" sisteme saldırmak için harici aktörler getirerek içerir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-150">Penetration testing or "pen testing" involves bringing in external actors to attempt to attack the system.</span></span> <span data-ttu-id="7cfce-151">Bu saldırganlar harici bir danışmanlık şirketi veya işin başka bir bölümünden iyi güvenlik bilgisine sahip diğer geliştiriciler olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-151">These attackers may be an external consulting company or other developers with good security knowledge from another part of the business.</span></span> <span data-ttu-id="7cfce-152">Sistemi çökertmek için onlara tam yetki verildi.</span><span class="sxs-lookup"><span data-stu-id="7cfce-152">They're given carte blanche to attempt to subvert the system.</span></span> <span data-ttu-id="7cfce-153">Sık sık, onlar yamalı olması gereken geniş güvenlik delikleri bulacaksınız.</span><span class="sxs-lookup"><span data-stu-id="7cfce-153">Frequently, they'll find extensive security holes that need to be patched.</span></span> <span data-ttu-id="7cfce-154">Bazen saldırı vektörü CEO'ya karşı bir kimlik avı saldırısından yararlanmak gibi tamamen beklenmedik bir şey olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-154">Sometimes the attack vector will be something totally unexpected like exploiting a phishing attack against the CEO.</span></span>

<span data-ttu-id="7cfce-155">Azure kendisi sürekli [Microsoft içinde hacker](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/)bir ekip saldırılar geçiyor.</span><span class="sxs-lookup"><span data-stu-id="7cfce-155">Azure itself is constantly undergoing attacks from a [team of hackers inside Microsoft](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/).</span></span> <span data-ttu-id="7cfce-156">Yıllar geçtikçe, düzinelerce potansiyel felaket saldırı vektörü bulan ilk kişi oldular.</span><span class="sxs-lookup"><span data-stu-id="7cfce-156">Over the years, they've been the first to find dozens of potentially catastrophic attack vectors, closing them before they can be exploited externally.</span></span> <span data-ttu-id="7cfce-157">Bir hedef ne kadar cazip olursa, ebedi aktörlerin bu hedeften yararlanmaya çalışması o kadar olasıdır ve dünyada Azure'dan daha cazip birkaç hedef vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-157">The more tempting a target, the more likely that eternal actors will attempt to exploit it and there are a few targets in the world more tempting than Azure.</span></span>

## <a name="monitoring"></a><span data-ttu-id="7cfce-158">İzleme</span><span class="sxs-lookup"><span data-stu-id="7cfce-158">Monitoring</span></span>

<span data-ttu-id="7cfce-159">Bir saldırgan bir uygulamaya girmeye çalışırsa, bunun bazı uyarı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-159">Should an attacker attempt to penetrate an application, there should be some warning of it.</span></span> <span data-ttu-id="7cfce-160">Sık sık, saldırılar hizmetlerden günlükleri inceleyerek tespit edilebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-160">Frequently, attacks can be spotted by examining the logs from services.</span></span> <span data-ttu-id="7cfce-161">Saldırılar, başarılı olmadan önce fark edilebilen işaretler bırakır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-161">Attacks leave telltale signs that can be spotted before they succeed.</span></span> <span data-ttu-id="7cfce-162">Örneğin, parolayı tahmin etmeye çalışan bir saldırgan, oturum açma sistemine birçok istekte bulunacaktır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-162">For instance, an attacker attempting to guess a password will make many requests to a login system.</span></span> <span data-ttu-id="7cfce-163">Giriş sistemi etrafında izleme tipik erişim deseni ile çizgi dışında garip desenler algılayabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-163">Monitoring around the login system can detect weird patterns that are out of line with the typical access pattern.</span></span> <span data-ttu-id="7cfce-164">Bu izleme, bir tür karşı önlemi etkinleştirmek için bir operasyon kişisini uyarabilecek bir uyarıya dönüştürülebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-164">This monitoring can be turned into an alert that can, in turn, alert an operations person to activate some sort of countermeasure.</span></span> <span data-ttu-id="7cfce-165">Son derece olgun bir izleme sistemi, bu sapmalara dayanarak, istekleri engellemek veya yanıtları daraltmak için proaktif kurallar ekleyerek harekete geçebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-165">A highly mature monitoring system might even take action based on these deviations proactively adding rules to block requests or throttle responses.</span></span>

## <a name="securing-the-build"></a><span data-ttu-id="7cfce-166">Yapının güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="7cfce-166">Securing the build</span></span>

<span data-ttu-id="7cfce-167">Güvenliğin genellikle göz ardı edildiği bir yer, yapı işleminin etrafındadır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-167">One place where security is often overlooked is around the build process.</span></span> <span data-ttu-id="7cfce-168">Yapı, güvenli olmayan kod veya iade edilmiş kimlik bilgilerini tarama gibi güvenlik denetimlerini çalıştırmakla birlikte, yapının kendisi de güvenli olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-168">Not only should the build run security checks, such as scanning for insecure code or checked-in credentials, but the build itself should be secure.</span></span> <span data-ttu-id="7cfce-169">Yapı sunucusu tehlikeye girerse, ürüne rasgele kod tanıtmak için harika bir vektör sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-169">If the build server is compromised, then it provides a fantastic vector for introducing arbitrary code into the product.</span></span>

<span data-ttu-id="7cfce-170">Bir saldırganın bir web uygulamasına giriş yapan kişilerin parolalarını çalmak için aradığını düşünün.</span><span class="sxs-lookup"><span data-stu-id="7cfce-170">Imagine that an attacker is looking to steal the passwords of people signing into a web application.</span></span> <span data-ttu-id="7cfce-171">Herhangi bir giriş isteğini başka bir sunucuya yansıtmak için kullanıma alındı kodunu değiştiren bir yapı adımı başlatabilirler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-171">They could introduce a build step that modifies the checked-out code to mirror any login request to another server.</span></span> <span data-ttu-id="7cfce-172">Kod yapıdan bir daha geçince sessizce güncellenir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-172">The next time code goes through the build, it's silently updated.</span></span> <span data-ttu-id="7cfce-173">Kaynak kodu güvenlik açığı taraması, yapıdan önce çalıştığı için bunu yakalamaz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-173">The source code vulnerability scanning won't catch this as it runs before the build.</span></span> <span data-ttu-id="7cfce-174">Aynı şekilde, yapı adımları yapı sunucusunda canlı olduğundan, kimse bunu bir kod incelemesinde yakalayamaz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-174">Equally, nobody will catch it in a code review because the build steps live on the build server.</span></span> <span data-ttu-id="7cfce-175">Yararlanılan kod, parolaları toplayabileceği üretime gider.</span><span class="sxs-lookup"><span data-stu-id="7cfce-175">The exploited code will go to production where it can harvest passwords.</span></span> <span data-ttu-id="7cfce-176">Büyük olasılıkla yapı işlemi değişikliklerinin denetim günlüğü yoktur veya en azından denetimi izleyen kimse yoktur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-176">Probably there's no audit log of the build process changes, or at least nobody monitoring the audit.</span></span>

<span data-ttu-id="7cfce-177">Bu, sisteme girmek için kullanılabilecek düşük değerli bir hedefin mükemmel bir örneğidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-177">This is a perfect example of a seemingly low value target that can be used to break into the system.</span></span> <span data-ttu-id="7cfce-178">Bir saldırgan sistemin çevresini ihlal ettikten sonra, izinlerini istedikleri her yerde gerçek zarar verecek şekilde yükseltmenin yollarını bulmaya başlayabilirler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-178">Once an attacker breaches the perimeter of the system, they can start working on finding ways to elevate their permissions to the point that they can cause real harm anywhere they like.</span></span>

## <a name="building-secure-code"></a><span data-ttu-id="7cfce-179">Güvenli kod oluşturma</span><span class="sxs-lookup"><span data-stu-id="7cfce-179">Building secure code</span></span>

<span data-ttu-id="7cfce-180">.NET Framework zaten oldukça güvenli bir çerçevedir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-180">.NET Framework is already a quite secure framework.</span></span> <span data-ttu-id="7cfce-181">Dizilerin uçlarından yürümek gibi yönetilmeyen kodların bazı tuzaklarından kaçınır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-181">It avoids some of the pitfalls of unmanaged code, such as walking off the ends of arrays.</span></span> <span data-ttu-id="7cfce-182">Güvenlik açıklarını tespit edildiklerinde gidermek için aktif olarak çalışmalar yapılır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-182">Work is actively done to fix security holes as they're discovered.</span></span> <span data-ttu-id="7cfce-183">Hatta araştırmacılara, çerçevedeki sorunları bulmaları ve bunları sömürmek yerine bildirmeleri için para ödeyen bir [böcek ödül programı](https://www.microsoft.com/msrc/bounty) bile var.</span><span class="sxs-lookup"><span data-stu-id="7cfce-183">There's even a [bug bounty program](https://www.microsoft.com/msrc/bounty) that pays researchers to find issues in the framework and report them instead of exploiting them.</span></span>

<span data-ttu-id="7cfce-184">.NET kodunu daha güvenli hale getirmenin birçok yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-184">There are many ways to make .NET code more secure.</span></span> <span data-ttu-id="7cfce-185">.NET makalesi [için Güvenli kodlama yönergeleri](https://docs.microsoft.com/dotnet/standard/security/secure-coding-guidelines) gibi yönergeleri izleyerek, kodun sıfırdan güvenli olduğundan emin olmak için atması gereken makul bir adımdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-185">Following guidelines such as the [Secure coding guidelines for .NET](https://docs.microsoft.com/dotnet/standard/security/secure-coding-guidelines) article is a reasonable step to take to ensure that the code is secure from the ground up.</span></span> <span data-ttu-id="7cfce-186">[OWASP top 10](https://owasp.org/www-project-top-ten/) güvenli kod oluşturmak için başka bir paha biçilmez bir kılavuzdur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-186">The [OWASP top 10](https://owasp.org/www-project-top-ten/) is another invaluable guide to build secure code.</span></span>

<span data-ttu-id="7cfce-187">Yapı işlemi, üretime geçmeden önce kaynak kodundaki sorunları algılamak için tarama araçlarını yerleştirmek için iyi bir yerdir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-187">The build process is a good place to put scanning tools to detect problems in source code before they make it into production.</span></span> <span data-ttu-id="7cfce-188">Çoğu projenin diğer bazı paketlere bağımlılığı vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-188">Most every project has dependencies on some other packages.</span></span> <span data-ttu-id="7cfce-189">Eski paketleri tarayan bir araç, bir gecelik yapıda sorunları yakalar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-189">A tool that can scan for outdated packages will catch problems in a nightly build.</span></span> <span data-ttu-id="7cfce-190">Docker görüntüleri oluştururken bile, temel görüntünün bilinen güvenlik açıkları olmadığından emin olmak ve kontrol etmek yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-190">Even when building Docker images, it's useful to check and make sure that the base image doesn't have known vulnerabilities.</span></span> <span data-ttu-id="7cfce-191">Kontrol edilmesi gereken başka bir şey de, kimsenin yanlışlıkla kimlik bilgilerini iade etmediğidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-191">Another thing to check is that nobody has accidentally checked in credentials.</span></span>

## <a name="built-in-security"></a><span data-ttu-id="7cfce-192">Yerleşik güvenlik</span><span class="sxs-lookup"><span data-stu-id="7cfce-192">Built-in security</span></span>

<span data-ttu-id="7cfce-193">Azure, kullanıcıların çoğu için kullanılabilirlik ve güvenliği dengelemek için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-193">Azure is designed to balance usability and security for the majority of users.</span></span> <span data-ttu-id="7cfce-194">Farklı kullanıcıların farklı güvenlik gereksinimleri olacak, bu nedenle bulut güvenliğine yaklaşımlarında ince ayar yapmak zorundalar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-194">Different users are going to have different security requirements, so they need to fine-tune their approach to cloud security.</span></span> <span data-ttu-id="7cfce-195">Microsoft, [Güven Merkezi'nde](https://azure.microsoft.com/support/trust-center/)büyük miktarda güvenlik bilgisi yayımlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-195">Microsoft publishes a great deal of security information in the [Trust Center](https://azure.microsoft.com/support/trust-center/).</span></span> <span data-ttu-id="7cfce-196">Bu kaynak, yerleşik saldırı azaltma teknolojilerinin nasıl çalıştığını anlamak isteyen profesyoneller için ilk durak olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-196">This resource should be the first stop for those professionals interested in understanding how the built-in attack mitigation technologies work.</span></span>

<span data-ttu-id="7cfce-197">Azure Portalı'nda, [Azure Danışmanı](https://azure.microsoft.com/services/advisor/) sürekli olarak bir ortamı tarayan ve önerilerde bulunan bir sistemdir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-197">Within the Azure portal, the [Azure Advisor](https://azure.microsoft.com/services/advisor/) is a system that is constantly scanning an environment and making recommendations.</span></span> <span data-ttu-id="7cfce-198">Bu önerilerden bazıları kullanıcılardan para kazanmak için tasarlanmıştır, ancak diğerleri, bir depolama kapsayıcısının dünyaya açık olması ve Sanal Ağ tarafından korunmaması gibi potansiyel olarak güvensiz yapılandırmaları belirlemek üzere tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-198">Some of these recommendations are designed to save users money, but others are designed to identify potentially insecure configurations, such as having a storage container open to the world and not protected by a Virtual Network.</span></span>

## <a name="azure-network-infrastructure"></a><span data-ttu-id="7cfce-199">Azure ağ altyapısı</span><span class="sxs-lookup"><span data-stu-id="7cfce-199">Azure network infrastructure</span></span>

<span data-ttu-id="7cfce-200">Şirket içi dağıtım ortamında, büyük miktarda enerji ağ kurmaya adanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-200">In an on-premises deployment environment, a great deal of energy is dedicated to setting up networking.</span></span> <span data-ttu-id="7cfce-201">Yönlendiriciler, anahtarlar ve bu tür kurma karmaşık bir iştir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-201">Setting up routers, switches, and the such is complicated work.</span></span> <span data-ttu-id="7cfce-202">Ağlar, belirli kaynakların diğer kaynaklarla konuşmasına ve bazı durumlarda erişimi engellemesine olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-202">Networks allow certain resources to talk to other resources and prevent access in some cases.</span></span> <span data-ttu-id="7cfce-203">Sık kullanılan ağ kuralı, yarı gelişmiş bir kod parçasının ters çalışır ve bir veri alanını siler olasılığı nedeniyle geliştirme ortamından üretim ortamına erişimi kısıtlamaktır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-203">A frequent network rule is to restrict access to the production environment from the development environment on the off chance that a half-developed piece of code runs awry and deletes a swath of data.</span></span>

<span data-ttu-id="7cfce-204">Kutunun dışında, çoğu PaaS Azure kaynağı yalnızca en temel ve izin veren ağ kurulumuna sahiptir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-204">Out of the box, most PaaS Azure resources have only the most basic and permissive networking setup.</span></span> <span data-ttu-id="7cfce-205">Örneğin, Internet'teki herkes bir uygulama hizmetine erişebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-205">For instance, anybody on the Internet can access an app service.</span></span> <span data-ttu-id="7cfce-206">Yeni SQL Server örnekleri genellikle kısıtlanır, böylece dış taraflar bunlara erişemez, ancak Azure tarafından kullanılan IP adresi aralıklarına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-206">New SQL Server instances typically come restricted, so that external parties can't access them, but the IP address ranges used by Azure itself are permitted through.</span></span> <span data-ttu-id="7cfce-207">Bu nedenle, SQL sunucusu dış tehditlere karşı korunurken, saldırganın yalnızca Azure'daki tüm SQL örneklerine karşı saldırılar başlatabilecekleri bir Azure köprü başı kurması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-207">So, while the SQL server is protected from external threats, an attacker only needs to set up an Azure bridgehead from where they can launch attacks against all SQL instances on Azure.</span></span>

<span data-ttu-id="7cfce-208">Neyse ki, azure kaynaklarının çoğu daha ince taneli erişim denetimine olanak tanıyan bir Azure Sanal Ağına yerleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-208">Fortunately, most Azure resources can be placed into an Azure Virtual Network that allows finer grained access control.</span></span> <span data-ttu-id="7cfce-209">Şirket içi ağların daha geniş dünyadan korunan özel ağlar oluşturmasına benzer şekilde, sanal ağlar Azure ağı içinde bulunan özel IP adreslerine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-209">Similar to the way that on-premises networks establish private networks that are protected from the wider world, virtual networks are islands of private IP addresses that are located within the Azure network.</span></span>

<span data-ttu-id="7cfce-210">![Şekil 10-1 Azure](./media/virtual-network.png)
Şekil**10-1'de**bir sanal ağ.</span><span class="sxs-lookup"><span data-stu-id="7cfce-210">![Figure 10-1 A virtual network in Azure](./media/virtual-network.png)
**Figure 10-1**.</span></span> <span data-ttu-id="7cfce-211">Azure'da sanal ağ.</span><span class="sxs-lookup"><span data-stu-id="7cfce-211">A virtual network in Azure.</span></span>

<span data-ttu-id="7cfce-212">Şirket içi ağların ağa erişimi düzenleyen bir güvenlik duvarı olması gibi, sanal ağın sınırında da benzer bir güvenlik duvarı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-212">In the same way that on-premises networks have a firewall governing access to the network, you can establish a similar firewall at the boundary of the virtual network.</span></span> <span data-ttu-id="7cfce-213">Varsayılan olarak, sanal ağdaki tüm kaynaklar Internet ile konuşmaya devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-213">By default, all the resources on a virtual network can still talk to the Internet.</span></span> <span data-ttu-id="7cfce-214">Yalnızca bir tür açık güvenlik duvarı özel durumu gerektiren gelen bağlantılardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-214">It's only incoming connections that require some form of explicit firewall exception.</span></span>

<span data-ttu-id="7cfce-215">Ağ kurulduğunda, depolama hesapları gibi iç kaynaklar yalnızca Sanal Ağ'daki kaynaklartarafından erişime izin verecek şekilde ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-215">With the network established, internal resources like storage accounts can be set up to only allow for access by resources that are also on the Virtual Network.</span></span> <span data-ttu-id="7cfce-216">Bu güvenlik duvarı, depolama hesabının anahtarlarının sızdırılması halinde, saldırganların sızdırılan anahtarlardan yararlanmak için bu güvenlik düzeyine bağlanmalarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-216">This firewall provides an extra level of security, should the keys for that storage account be leaked, attackers wouldn't be able to connect to it to exploit the leaked keys.</span></span> <span data-ttu-id="7cfce-217">Bu en az ayrıcalık ilkesinin başka bir örneğidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-217">This is another example of the principle of least privilege.</span></span>

<span data-ttu-id="7cfce-218">Azure Kubernetes kümesindeki düğümler, Azure'a daha özgü diğer kaynaklar gibi sanal bir ağa katılabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-218">The nodes in an Azure Kubernetes cluster can participate in a virtual network just like other resources that are more native to Azure.</span></span> <span data-ttu-id="7cfce-219">Bu işlevsellik [Azure Kapsayıcı Ağ Arabirimi](https://github.com/Azure/azure-container-networking/blob/master/docs/cni.md)olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-219">This functionality is called [Azure Container Networking Interface](https://github.com/Azure/azure-container-networking/blob/master/docs/cni.md).</span></span> <span data-ttu-id="7cfce-220">Sonuç olarak, sanal ağ içinde sanal makinelerin ve konteyner görüntülerinin tahsis edildiği bir alt ağ ayırır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-220">In effect, it allocates a subnet within the virtual network on which virtual machines and container images are allocated.</span></span>

<span data-ttu-id="7cfce-221">En az ayrıcalık ilkesini gösteren yolda devam, sanal ağ içinde her kaynak diğer tüm kaynaklarla konuşmak gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-221">Continuing down the path of illustrating the principle of least privilege, not every resource within a Virtual Network needs to talk to every other resource.</span></span> <span data-ttu-id="7cfce-222">Örneğin, bir depolama hesabı ve SQL veritabanı üzerinden web API sağlayan bir uygulamada, veritabanı ve depolama hesabının birbiriyle konuşması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-222">For instance, in an application that provides a web API over a storage account and a SQL database, it's unlikely that the database and the storage account need to talk to one another.</span></span> <span data-ttu-id="7cfce-223">Aralarındaki herhangi bir veri paylaşımı web uygulaması üzerinden gider.</span><span class="sxs-lookup"><span data-stu-id="7cfce-223">Any data sharing between them would go through the web application.</span></span> <span data-ttu-id="7cfce-224">Bu nedenle, bir [ağ güvenlik grubu (NSG)](https://docs.microsoft.com/azure/virtual-network/security-overview) iki hizmet arasındaki trafiği reddetmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-224">So, a [network security group (NSG)](https://docs.microsoft.com/azure/virtual-network/security-overview) could be used to deny traffic between the two services.</span></span>

<span data-ttu-id="7cfce-225">Kaynaklar arasındaki iletişimi reddetme ilkesi, özellikle trafik kısıtlaması olmadan Azure'u kullanma geçmişinden gelen, uygulanması rahatsız edici olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-225">A policy of denying communication between resources can be annoying to implement, especially coming from a background of using Azure without traffic restrictions.</span></span> <span data-ttu-id="7cfce-226">Diğer bazı bulutlarda, ağ güvenlik grupları kavramı çok daha yaygındır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-226">On some other clouds, the concept of network security groups is much more prevalent.</span></span> <span data-ttu-id="7cfce-227">Örneğin, AWS'deki varsayılan ilke, kaynakların NSG'deki kurallartarafından etkinleştirilene kadar kendi aralarında iletişim kuramamalarıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-227">For instance, the default policy on AWS is that resources can't communicate among themselves until enabled by rules in an NSG.</span></span> <span data-ttu-id="7cfce-228">Bunu geliştirmek daha yavaş olsa da, daha kısıtlayıcı ortam daha güvenli bir varsayılan sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-228">While slower to develop this, more restrictive environment provides a more secure default.</span></span> <span data-ttu-id="7cfce-229">Özellikle izinleri yönetmek için Azure [Kaynak Yöneticisi veya Terraform'u](infrastructure-as-code.md) kullanmak, uygun DevOps uygulamalarından yararlanmak kuralları denetlemeyi kolaylaştırabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-229">Making use of proper DevOps practices, especially using [Azure Resource Manager or Terraform](infrastructure-as-code.md) to manage permissions can make controlling the rules easier.</span></span>

<span data-ttu-id="7cfce-230">Sanal Ağlar, şirket içi ve bulut kaynakları arasında iletişim kurarken de yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-230">Virtual Networks can also be useful when setting up communication between on-premises and cloud resources.</span></span> <span data-ttu-id="7cfce-231">Sanal özel ağ, iki ağı sorunsuz bir şekilde birbirine bağlamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-231">A virtual private network can be used to seamlessly attach the two networks together.</span></span> <span data-ttu-id="7cfce-232">Bu, tüm kullanıcıların yerinde olduğu senaryolar için herhangi bir ağ geçidi olmadan sanal bir ağ çalıştırmaya olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-232">This allows running a virtual network without any sort of gateway for scenarios where all the users are on-site.</span></span> <span data-ttu-id="7cfce-233">Bu ağı kurmak için kullanılabilecek bir dizi teknoloji vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-233">There are a number of technologies that can be used to establish this network.</span></span> <span data-ttu-id="7cfce-234">En basiti, birçok yönlendirici ve Azure arasında kurulabilen [siteden siteye VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti) kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-234">The simplest is to use a [site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti) that can be established between many routers and Azure.</span></span> <span data-ttu-id="7cfce-235">Trafik şifrelenir ve diğer trafik gibi bayt başına aynı maliyetle Internet üzerinden tünel.</span><span class="sxs-lookup"><span data-stu-id="7cfce-235">Traffic is encrypted and tunneled over the Internet at the same cost per byte as any other traffic.</span></span> <span data-ttu-id="7cfce-236">Daha fazla bant genişliği veya daha fazla güvenliğin arzu edildiği senaryolarda Azure, şirket içi ağ ile Azure arasında özel bir devre kullanan [Express Route](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#ExpressRoute) adlı bir hizmet sunar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-236">For scenarios where more bandwidth or more security is desirable, Azure offers a service called [Express Route](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#ExpressRoute) that uses a private circuit between an on-premises network and Azure.</span></span> <span data-ttu-id="7cfce-237">Kurmak daha pahalı ve zor ama aynı zamanda daha güvenli.</span><span class="sxs-lookup"><span data-stu-id="7cfce-237">It's more costly and difficult to establish but also more secure.</span></span>

## <a name="role-based-access-control-for-restricting-access-to-azure-resources"></a><span data-ttu-id="7cfce-238">Azure kaynaklarına erişimi kısıtlamak için rol tabanlı erişim denetimi</span><span class="sxs-lookup"><span data-stu-id="7cfce-238">Role-based access control for restricting access to Azure resources</span></span>

<span data-ttu-id="7cfce-239">RBAC, Azure'da çalışan uygulamalariçin kimlik sağlayan bir sistemdir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-239">RBAC is a system that provides an identity to applications running in Azure.</span></span> <span data-ttu-id="7cfce-240">Uygulamalar, anahtarları veya parolaları kullanmanın yanı sıra bu kimliği kullanarak kaynaklara erişebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-240">Applications can access resources using this identity instead of or in addition to using keys or passwords.</span></span>

## <a name="security-principals"></a><span data-ttu-id="7cfce-241">Güvenlik İlkeleri</span><span class="sxs-lookup"><span data-stu-id="7cfce-241">Security Principals</span></span>

<span data-ttu-id="7cfce-242">RBAC'ın ilk bileşeni bir güvenlik ilkesidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-242">The first component in RBAC is a security principal.</span></span> <span data-ttu-id="7cfce-243">Güvenlik sorumlusu kullanıcı, grup, hizmet sorumlusu veya yönetilen kimlik olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-243">A security principal can be a user, group, service principal, or managed identity.</span></span>

<span data-ttu-id="7cfce-244">![Şekil 10-2 Farklı güvenlik](./media/rbac-security-principal.png)
ilkeleri şekilleri**Şekil 10-2**.</span><span class="sxs-lookup"><span data-stu-id="7cfce-244">![Figure 10-2 Different types of security principals](./media/rbac-security-principal.png)
**Figure 10-2**.</span></span> <span data-ttu-id="7cfce-245">Farklı güvenlik ilkeleri türleri.</span><span class="sxs-lookup"><span data-stu-id="7cfce-245">Different types of security principals.</span></span>

- <span data-ttu-id="7cfce-246">Kullanıcı - Azure Active Directory'de hesabı olan tüm kullanıcı bir kullanıcıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-246">User - Any user who has an account in Azure Active Directory is a user.</span></span>
- <span data-ttu-id="7cfce-247">Grup - Azure Active Directory'den kullanıcı koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="7cfce-247">Group - A collection of users from Azure Active Directory.</span></span> <span data-ttu-id="7cfce-248">Bir grubun üyesi olarak, bir kullanıcı kendi ek olarak bu grubun rollerini üstleniyor.</span><span class="sxs-lookup"><span data-stu-id="7cfce-248">As a member of a group, a user takes on the roles of that group in addition to their own.</span></span>
- <span data-ttu-id="7cfce-249">Hizmet sorumlusu - Hizmetlerin veya uygulamaların çalıştırıldığı bir güvenlik kimliği.</span><span class="sxs-lookup"><span data-stu-id="7cfce-249">Service principal - A security identity under which services or applications run.</span></span>
- <span data-ttu-id="7cfce-250">Yönetilen kimlik - Azure tarafından yönetilen bir Azure Etkin Dizin kimliği.</span><span class="sxs-lookup"><span data-stu-id="7cfce-250">Managed identity - An Azure Active Directory identity managed by Azure.</span></span> <span data-ttu-id="7cfce-251">Yönetilen kimlikler genellikle Azure hizmetlerine kimlik bilgilerini yöneten bulut uygulamaları geliştirirken kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-251">Managed identities are typically used when developing cloud applications that manage the credentials for authenticating to Azure services.</span></span>

<span data-ttu-id="7cfce-252">Güvenlik ilkesi çoğu kaynağa uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-252">The security principal can be applied to most any resource.</span></span> <span data-ttu-id="7cfce-253">Bu, Azure Kubernetes içinde çalışan bir kapsayıcıya bir güvenlik ilkesi atamanın mümkün olduğu ve Key Vault'ta depolanan sırlara erişebilmesi anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-253">This means that it's possible to assign a security principal to a container running within Azure Kubernetes, allowing it to access secrets stored in Key Vault.</span></span> <span data-ttu-id="7cfce-254">Azure İşlevi, bir çağrı kullanıcısı için JWT'yi doğrulamak için Etkin Dizin örneğiyle konuşmasına izin veren bir izin alabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-254">An Azure Function could take on a permission allowing it to talk to an Active Directory instance to validate a JWT for a calling user.</span></span> <span data-ttu-id="7cfce-255">Hizmetler bir hizmet ilkesiyle etkinleştirildikten sonra, izinleri roller ve kapsamlar kullanılarak parçalı olarak yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-255">Once services are enabled with a service principal, their permissions can be managed granularly using roles and scopes.</span></span>

## <a name="roles"></a><span data-ttu-id="7cfce-256">Roller</span><span class="sxs-lookup"><span data-stu-id="7cfce-256">Roles</span></span>

<span data-ttu-id="7cfce-257">Bir güvenlik müdürü birçok rol alabilir veya daha sartorial bir benzetme kullanarak, birçok şapka giymek.</span><span class="sxs-lookup"><span data-stu-id="7cfce-257">A security principal can take on many roles or, using a more sartorial analogy, wear many hats.</span></span> <span data-ttu-id="7cfce-258">Her rol, "Azure Hizmet Veri Hizmeti Veri Tos ucunoktasından gelen iletileri oku" gibi bir dizi izin tanımlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-258">Each role defines a series of permissions such as "Read messages from Azure Service Bus endpoint".</span></span> <span data-ttu-id="7cfce-259">Bir güvenlik ilkesinin etkili izin kümesi, güvenlik ilkesinin sahip olduğu tüm rollere atanan tüm izinlerin birleşimidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-259">The effective permission set of a security principal is the combination of all the permissions assigned to all the roles that security principal has.</span></span> <span data-ttu-id="7cfce-260">Azure'da çok sayıda yerleşik rol vardır ve kullanıcılar kendi rollerini tanımlayabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-260">Azure has a large number of built-in roles and users can define their own roles.</span></span>

<span data-ttu-id="7cfce-261">![Şekil 10-3 RBAC](./media/rbac-role-definition.png)
rol tanımları**Şekil 10-3**.</span><span class="sxs-lookup"><span data-stu-id="7cfce-261">![Figure 10-3 RBAC role definitions](./media/rbac-role-definition.png)
**Figure 10-3**.</span></span> <span data-ttu-id="7cfce-262">RBAC rol tanımları.</span><span class="sxs-lookup"><span data-stu-id="7cfce-262">RBAC role definitions.</span></span>

<span data-ttu-id="7cfce-263">Azure'da yerleşik olarak, Sahibi, Katılımcısı, Okuyucu suçlu ve Kullanıcı Hesap Yöneticisi gibi üslüs rolü de yer alıyor.</span><span class="sxs-lookup"><span data-stu-id="7cfce-263">Built into Azure are also a number of high-level roles such as Owner, Contributor, Reader, and User Account Administrator.</span></span> <span data-ttu-id="7cfce-264">Sahip rolüyle, bir güvenlik ilkesi tüm kaynaklara erişebilir ve başkalarına izin atayabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-264">With the Owner role, a security principal can access all resources and assign permissions to others.</span></span> <span data-ttu-id="7cfce-265">Katkıda bulunan kişi tüm kaynaklara aynı erişim düzeyine sahiptir, ancak izin atayamaz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-265">A contributor has the same level of access to all resources but they can't assign permissions.</span></span> <span data-ttu-id="7cfce-266">Okuyucu yalnızca varolan Azure kaynaklarını görüntüleyebilir ve Bir Kullanıcı Hesabı Yöneticisi Azure kaynaklarına erişimi yönetebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-266">A Reader can only view existing Azure resources and a User Account Administrator can manage access to Azure resources.</span></span>

<span data-ttu-id="7cfce-267">[DNS Zone Katılımcısı](https://docs.microsoft.com/azure/role-based-access-control/built-in-roles#dns-zone-contributor) gibi daha ayrıntılı yerleşik rollerin hakları tek bir hizmetle sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-267">More granular built-in roles such as [DNS Zone Contributor](https://docs.microsoft.com/azure/role-based-access-control/built-in-roles#dns-zone-contributor) have rights limited to a single service.</span></span> <span data-ttu-id="7cfce-268">Güvenlik ilkeleri herhangi bir sayıda rol alabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-268">Security principals can take on any number of roles.</span></span>

## <a name="scopes"></a><span data-ttu-id="7cfce-269">Kapsamlar</span><span class="sxs-lookup"><span data-stu-id="7cfce-269">Scopes</span></span>

<span data-ttu-id="7cfce-270">Roller, Azure'daki kısıtlı bir kaynak kümesine uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-270">Roles can be applied to a restricted set of resources within Azure.</span></span> <span data-ttu-id="7cfce-271">Örneğin, bir Hizmet Veri Hizmeti Veri Servisi kuyruğundan önceki okuma örneğine kapsam uygulayarak, izni tek bir kuyruğa daraltabilirsiniz: "Azure Hizmet Veri Servisi bitiş noktasından `blah.servicebus.windows.net/queue1`gelen iletileri okuyun "</span><span class="sxs-lookup"><span data-stu-id="7cfce-271">For instance, applying scope to the previous example of reading from a Service Bus queue, you can narrow the permission to a single queue: "Read messages from Azure Service Bus endpoint `blah.servicebus.windows.net/queue1`"</span></span>

<span data-ttu-id="7cfce-272">Kapsam tek bir kaynak kadar dar olabilir veya tüm kaynak grubuna, aboneye ve hatta yönetim grubuna uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-272">The scope can be as narrow as a single resource or it can be applied to an entire resource group, subscription, or even management group.</span></span>

<span data-ttu-id="7cfce-273">Bir güvenlik sorumlusunun belirli bir izni olup olmadığını sınarken, rol ve kapsam birleşimi dikkate alınır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-273">When testing if a security principal has a certain permission, the combination of role and scope are taken into account.</span></span> <span data-ttu-id="7cfce-274">Bu kombinasyon güçlü bir yetkilendirme mekanizması sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-274">This combination provides a powerful authorization mechanism.</span></span>

## <a name="deny"></a><span data-ttu-id="7cfce-275">Reddet</span><span class="sxs-lookup"><span data-stu-id="7cfce-275">Deny</span></span>

<span data-ttu-id="7cfce-276">Daha önce, RBAC için yalnızca "izin ver" kurallarına izin verilirdi.</span><span class="sxs-lookup"><span data-stu-id="7cfce-276">Previously, only "allow" rules were permitted for RBAC.</span></span> <span data-ttu-id="7cfce-277">Bu davranış, bazı kapsamları oluşturmak için karmaşık yaptı.</span><span class="sxs-lookup"><span data-stu-id="7cfce-277">This behavior made some scopes complicated to build.</span></span> <span data-ttu-id="7cfce-278">Örneğin, bir güvenlik ilkesinin, sonsuz depolama hesapları listesine açık izin verilmesi gerekmesi dışında tüm depolama hesaplarına erişmesine izin vermek.</span><span class="sxs-lookup"><span data-stu-id="7cfce-278">For instance, allowing a security principal access to all storage accounts except one required granting explicit permission to a potentially endless list of storage accounts.</span></span> <span data-ttu-id="7cfce-279">Her yeni depolama hesabı oluşturulduğunda, bu hesap listesine eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-279">Every time a new storage account was created, it would have to be added to this list of accounts.</span></span> <span data-ttu-id="7cfce-280">Bu kesinlikle arzu değildi yönetim yükü ekledi.</span><span class="sxs-lookup"><span data-stu-id="7cfce-280">This added management overhead that certainly wasn't desirable.</span></span>

<span data-ttu-id="7cfce-281">İnkar kuralları izin kurallarından önce gelir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-281">Deny rules take precedence over allow rules.</span></span> <span data-ttu-id="7cfce-282">Şimdi aynı "bir hariç tüm" kapsamı temsil eden iki kural olarak temsil edilebilir "tüm izin" ve "bu belirli bir inkar".</span><span class="sxs-lookup"><span data-stu-id="7cfce-282">Now representing the same "allow all but one" scope could be represented as two rules "allow all" and "deny this one specific one".</span></span> <span data-ttu-id="7cfce-283">Kuralları reddetmek yalnızca yönetimi kolaylaştırmakla kalmıyor, aynı zamanda herkese erişimi reddederek ekstra güvenli kaynaklara da izin verir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-283">Deny rules not only ease management but allow for resources that are extra secure by denying access to everybody.</span></span>

## <a name="checking-access"></a><span data-ttu-id="7cfce-284">Erişimi denetleme</span><span class="sxs-lookup"><span data-stu-id="7cfce-284">Checking access</span></span>

<span data-ttu-id="7cfce-285">Tahmin edebileceğiniz gibi, çok sayıda rol ve kapsama sahip olmak, bir hizmet müdürünün etkili iznini bulmak oldukça zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-285">As you can imagine, having a large number of roles and scopes can make figuring out the effective permission of a service principal quite difficult.</span></span> <span data-ttu-id="7cfce-286">Bunun üzerine kuralları kazıklama, sadece karmaşıklığı artırmak için hizmet vermektedir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-286">Piling deny rules on top of that, only serves to increase the complexity.</span></span> <span data-ttu-id="7cfce-287">Neyse ki, herhangi bir hizmet sorumlusu için etkili izinleri gösterebilen bir izin hesap makinesi vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-287">Fortunately, there's a permissions calculator that can show the effective permissions for any service principal.</span></span> <span data-ttu-id="7cfce-288">Genellikle, Şekil 10-3'te gösterildiği gibi portaldaki IAM sekmesinin altında bulunur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-288">It's typically found under the IAM tab in the portal, as shown in Figure 10-3.</span></span>

<span data-ttu-id="7cfce-289">![Şekil 10-4 Bir uygulama](./media/check-rbac.png)
hizmeti için izin hesapmakinesi**Şekil 10-4**.</span><span class="sxs-lookup"><span data-stu-id="7cfce-289">![Figure 10-4 Permission calculator for an app service](./media/check-rbac.png)
**Figure 10-4**.</span></span> <span data-ttu-id="7cfce-290">Bir uygulama hizmeti için izin hesap makinesi.</span><span class="sxs-lookup"><span data-stu-id="7cfce-290">Permission calculator for an app service.</span></span>

## <a name="securing-secrets"></a><span data-ttu-id="7cfce-291">Sırları ngüvenliğini sağlamak</span><span class="sxs-lookup"><span data-stu-id="7cfce-291">Securing secrets</span></span>

<span data-ttu-id="7cfce-292">Parolalar ve sertifikalar saldırganlar için yaygın bir saldırı vektörüdür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-292">Passwords and certificates are a common attack vector for attackers.</span></span> <span data-ttu-id="7cfce-293">Parola çözme donanımı kaba kuvvet saldırısı yapabilir ve saniyede milyarlarca parola tahmin etmeye çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-293">Password-cracking hardware can do a  brute-force attack and try to guess billions of passwords per second.</span></span> <span data-ttu-id="7cfce-294">Bu nedenle, kaynaklara erişmek için kullanılan parolaların çok çeşitli karakterlerle güçlü olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-294">So it's important that the passwords that are used to access resources are strong, with a large variety of characters.</span></span> <span data-ttu-id="7cfce-295">Bu parolalar tam olarak hatırlanması imkansız parolalar türüdür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-295">These passwords are exactly the kind of passwords that are near impossible to remember.</span></span> <span data-ttu-id="7cfce-296">Neyse ki, Azure'daki parolaların aslında herhangi bir insan tarafından bilinmesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-296">Fortunately, the passwords in Azure don't actually need to be known by any human.</span></span>

<span data-ttu-id="7cfce-297">Birçok güvenlik uzmanı, kendi parolalarınızı saklamak için parola yöneticisi kullanmanın en iyi yaklaşım olduğunu [öne sürer.](https://www.troyhunt.com/password-managers-dont-have-to-be-perfect-they-just-have-to-be-better-than-not-having-one/)</span><span class="sxs-lookup"><span data-stu-id="7cfce-297">Many security [experts suggest](https://www.troyhunt.com/password-managers-dont-have-to-be-perfect-they-just-have-to-be-better-than-not-having-one/) that using a password manager to keep your own passwords is the best approach.</span></span> <span data-ttu-id="7cfce-298">Parolalarınızı tek bir konumda merkezileştirirken, son derece karmaşık parolalar kullanmanızı ve her hesap için benzersiz olmalarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-298">While it centralizes your passwords in one location, it also allows using highly complex passwords and ensuring they're unique for each account.</span></span> <span data-ttu-id="7cfce-299">Aynı sistem Azure'da da bulunur: sırlar için merkezi bir mağaza.</span><span class="sxs-lookup"><span data-stu-id="7cfce-299">The same system exists within Azure: a central store for secrets.</span></span>

## <a name="azure-key-vault"></a><span data-ttu-id="7cfce-300">Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="7cfce-300">Azure Key Vault</span></span>

<span data-ttu-id="7cfce-301">Azure Key Vault, veritabanları, API anahtarları ve sertifikalar gibi şeyler için paroladepolamak için merkezi bir konum sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-301">Azure Key Vault provides a centralized location to store passwords for things such as databases, API keys, and certificates.</span></span> <span data-ttu-id="7cfce-302">Bir kez bir sır Vault girilir, bir daha asla gösterilmez ve ayıklamak ve görüntülemek için komutları kasıtlı olarak karmaşıktır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-302">Once a secret is entered into the Vault, it's never shown again and the commands to extract and view it are purposefully complicated.</span></span> <span data-ttu-id="7cfce-303">Kasadaki bilgiler yazılım şifrelemesi veya FIPS 140-2 Düzey 2 doğrulanmış Donanım Güvenlik Modülleri kullanılarak korunur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-303">The information in the safe is protected using either software encryption or FIPS 140-2 Level 2 validated Hardware Security Modules.</span></span>

<span data-ttu-id="7cfce-304">Anahtar kasasına erişim RBAC'lar aracılığıyla sağlanır, yani sadece herhangi bir kullanıcı kasadaki bilgilere erişemez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-304">Access to the key vault is provided through RBACs, meaning that not just any user can access the information in the vault.</span></span> <span data-ttu-id="7cfce-305">Bir web uygulamasının Azure Key Vault'ta depolanan veritabanı bağlantı dizesine erişmek istediğini söyleyin.</span><span class="sxs-lookup"><span data-stu-id="7cfce-305">Say a web application wishes to access the database connection string stored in Azure Key Vault.</span></span> <span data-ttu-id="7cfce-306">Erişim sağlamak için uygulamaların bir hizmet ilkesi kullanılarak çalıştırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-306">To gain access, applications need to run using a service principal.</span></span> <span data-ttu-id="7cfce-307">Bu üstlenilen rolün altında, kasadaki sırları okuyabilirler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-307">Under this assumed role, they can read the secrets from the safe.</span></span> <span data-ttu-id="7cfce-308">Bir uygulamanın kasaya erişimini daha da sınırlandırabilen, böylece sırları güncelleştiremesin, yalnızca bunları okuyabilmek için farklı güvenlik ayarları vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-308">There are a number of different security settings that can further limit the access that an application has to the vault, so that it can't update secrets but only read them.</span></span>

<span data-ttu-id="7cfce-309">Yalnızca beklenen uygulamaların kasaya erişebilmesini sağlamak için anahtar kasasına erişim izlenebilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-309">Access to the key vault can be monitored to ensure that only the expected applications are accessing the vault.</span></span> <span data-ttu-id="7cfce-310">Günlükler Azure Monitor'a geri entegre edilebilmekte ve beklenmeyen koşullarla karşılaşıldığında uyarı ayarlama olanağı nın kilidi açılabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-310">The logs can be integrated back into Azure Monitor, unlocking the ability to set up alerts when unexpected conditions are encountered.</span></span>

## <a name="kubernetes"></a><span data-ttu-id="7cfce-311">Kubernetes</span><span class="sxs-lookup"><span data-stu-id="7cfce-311">Kubernetes</span></span>

<span data-ttu-id="7cfce-312">Kubernetes'te, küçük gizli bilgileri saklamak için de benzer bir hizmet var.</span><span class="sxs-lookup"><span data-stu-id="7cfce-312">Within Kubernetes, there's a similar service for maintaining small pieces of secret information.</span></span> <span data-ttu-id="7cfce-313">Kubernetes Secrets tipik `kubectl` yürütülebilir üzerinden ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-313">Kubernetes Secrets can be set via the typical `kubectl` executable.</span></span>

<span data-ttu-id="7cfce-314">Bir sır oluşturmak, depolanacak değerlerin base64 sürümünü bulmak kadar basittir:</span><span class="sxs-lookup"><span data-stu-id="7cfce-314">Creating a secret is as simple as finding the base64 version of the values to be stored:</span></span>

```console
echo -n 'admin' | base64
YWRtaW4=
echo -n '1f2d1e2e67df' | base64
MWYyZDFlMmU2N2Rm
```

<span data-ttu-id="7cfce-315">Ardından, örneğin aşağıdaki örneğe benzeyen bir `secret.yml` sırlar dosyasına ekleme:</span><span class="sxs-lookup"><span data-stu-id="7cfce-315">Then adding it to a secrets file named `secret.yml` for example that looks similar to the following example:</span></span>

```yml
apiVersion: v1
kind: Secret
metadata:
  name: mysecret
type: Opaque
data:
  username: YWRtaW4=
  password: MWYyZDFlMmU2N2Rm
```

<span data-ttu-id="7cfce-316">Son olarak, bu dosya aşağıdaki komutu çalıştırarak Kubernetes'e yüklenebilir:</span><span class="sxs-lookup"><span data-stu-id="7cfce-316">Finally, this file can be loaded into Kubernetes by running the following command:</span></span>

```console
kubectl apply -f ./secret.yaml
```

<span data-ttu-id="7cfce-317">Bu sırlar daha sonra hacimlere monte edilebilir veya ortam değişkenleri aracılığıyla kapsayıcı işlemlerine maruz kalınabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-317">These secrets can then be mounted into volumes or exposed to container processes through environment variables.</span></span> <span data-ttu-id="7cfce-318">Uygulama oluşturmada [on iki faktörlü uygulama](https://12factor.net/) yaklaşımı, ayarları bir uygulamaya iletmek için en düşük ortak paydayı kullanmayı önerir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-318">The [Twelve-factor app](https://12factor.net/) approach to building applications suggests using the lowest common denominator to transmit settings to an application.</span></span> <span data-ttu-id="7cfce-319">Ortam değişkenleri en düşük ortak paydadır, çünkü işletim sistemi veya uygulama ne olursa olsun desteklenirler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-319">Environment variables are the lowest common denominator, because they're supported no matter the operating system or application.</span></span>

<span data-ttu-id="7cfce-320">Yerleşik Kubernetes sırlarını kullanmanın alternatifi, Azure Key Vault'taki sırlara Kubernetes'in içinden erişmektir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-320">An alternative to use the built-in Kubernetes secrets is to access the secrets in Azure Key Vault from within Kubernetes.</span></span> <span data-ttu-id="7cfce-321">Bunu yapmanın en basit yolu, sırları yüklemek isteyen kapsayıcıya bir RBAC rolü atamaktır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-321">The simplest way to do this is to assign an RBAC role to the container looking to load secrets.</span></span> <span data-ttu-id="7cfce-322">Uygulama daha sonra sırlara erişmek için Azure Key Vault API'lerini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-322">The application can then use the Azure Key Vault APIs to access the secrets.</span></span> <span data-ttu-id="7cfce-323">Ancak, bu yaklaşım kodda değişiklik gerektirir ve çevre değişkenlerini kullanma deseni izlemez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-323">However, this approach requires modifications to the code and doesn't follow the pattern of using environment variables.</span></span> <span data-ttu-id="7cfce-324">Bunun yerine, [Azure Anahtar Kasası Enjektörü'nün](https://mrdevops.io/introducing-azure-key-vault-to-kubernetes-931f82364354)kullanımı yla değerleri bir konteynere enjekte etmek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-324">Instead, it's possible to inject values into a container through the use of the [Azure Key Vault Injector](https://mrdevops.io/introducing-azure-key-vault-to-kubernetes-931f82364354).</span></span> <span data-ttu-id="7cfce-325">Bu yaklaşım aslında kümedeki kullanıcılar tarafından erişilebildiği için Kubernetes sırlarını doğrudan kullanmaktan daha güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-325">This approach is actually more secure than using the Kubernetes secrets directly, as they can be accessed by users on the cluster.</span></span>

## <a name="encryption-in-transit-and-at-rest"></a><span data-ttu-id="7cfce-326">Aktarım ve istirahatte şifreleme</span><span class="sxs-lookup"><span data-stu-id="7cfce-326">Encryption in transit and at rest</span></span>

<span data-ttu-id="7cfce-327">Verileri güvende tutmak, ister diskte olsun ister çeşitli farklı hizmetler arasında geçiş yapmak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-327">Keeping data safe is important whether it's on disk or transiting between various different services.</span></span> <span data-ttu-id="7cfce-328">Verilerin sızmasını engellemenin en etkili yolu, verileri başkaları tarafından kolayca okunabilen bir biçimde şifrelemektir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-328">The most effective way to keep data from leaking is to encrypt it into a format that can't be easily read by others.</span></span> <span data-ttu-id="7cfce-329">Azure çok çeşitli şifreleme seçeneklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-329">Azure supports a wide range of encryption options.</span></span>

### <a name="in-transit"></a><span data-ttu-id="7cfce-330">Transit halinde</span><span class="sxs-lookup"><span data-stu-id="7cfce-330">In transit</span></span>

<span data-ttu-id="7cfce-331">Azure'da ağdaki trafiği şifrelemenin birkaç yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-331">There are several ways to encrypt traffic on the network in Azure.</span></span> <span data-ttu-id="7cfce-332">Azure hizmetlerine erişim genellikle Aktarım Katmanı Güvenliği (TLS) kullanan bağlantılar üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-332">The access to Azure services is typically done over connections that use Transport Layer Security (TLS).</span></span> <span data-ttu-id="7cfce-333">Örneğin, Azure API'lerine yapılan tüm bağlantılar TLS bağlantıları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-333">For instance, all the connections to the Azure APIs require TLS connections.</span></span> <span data-ttu-id="7cfce-334">Aynı şekilde, Azure depolama sındaki uç noktalara bağlantılar yalnızca TLS şifreli bağlantılar üzerinden çalışmak üzere sınırlandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-334">Equally, connections to endpoints in Azure storage can be restricted to work only over TLS encrypted connections.</span></span>

<span data-ttu-id="7cfce-335">TLS karmaşık bir protokoldür ve sadece bağlantının TLS kullandığını bilmek güvenliği sağlamak için yeterli değildir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-335">TLS is a complicated protocol and simply knowing that the connection is using TLS isn't sufficient to ensure security.</span></span> <span data-ttu-id="7cfce-336">Örneğin, TLS 1.0 kronik olarak güvensiz, TLS 1.1 ise çok daha iyi değildir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-336">For instance, TLS 1.0 is chronically insecure, and TLS 1.1 isn't much better.</span></span> <span data-ttu-id="7cfce-337">TLS sürümlerinde bile, bağlantıların şifresini çözmeyi kolaylaştıracak çeşitli ayarlar vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-337">Even within the versions of TLS, there are various settings that can make the connections easier to decrypt.</span></span> <span data-ttu-id="7cfce-338">Yapılacak en iyi hareket, sunucu bağlantısının güncel ve iyi yapılandırılmış protokoller kullanıp kullanmamasını kontrol etmek ve görmektir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-338">The best course of action is to check and see if the server connection is using up-to-date and well configured protocols.</span></span>

<span data-ttu-id="7cfce-339">Bu denetim, SSL laboratuvarlarının SSL Server Testi gibi harici bir hizmet tarafından yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-339">This check can be done by an external service such as SSL labs' SSL Server Test.</span></span> <span data-ttu-id="7cfce-340">Tipik bir Azure bitiş noktasına karşı yapılan bir test çalışması, bu durumda bir servis veri günü bitiş noktası, neredeyse mükemmel bir A puanı verir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-340">A test run against a typical Azure endpoint, in this case a service bus endpoint, yields a near perfect score of A.</span></span>

<span data-ttu-id="7cfce-341">Azure SQL veritabanları gibi hizmetler bile verileri gizli tutmak için TLS şifrelemekullanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-341">Even services like Azure SQL databases use TLS encryption to keep data hidden.</span></span> <span data-ttu-id="7cfce-342">TLS kullanarak aktarım daki verileri şifrelemenin ilginç yanı, Microsoft'un bile TLS çalıştıran bilgisayarlar arasındaki bağlantıyı dinlemesinin mümkün olmamasıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-342">The interesting part about encrypting the data in transit using TLS is that it isn't possible, even for Microsoft, to listen in on the connection between computers running TLS.</span></span> <span data-ttu-id="7cfce-343">Bu, verilerinin Microsoft uygun veya hatta standart saldırgandan daha fazla kaynağa sahip bir devlet aktörü tarafından risk altında olabileceğinden endişe duyan şirketler için konfor sağlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-343">This should provide comfort for companies concerned that their data may be at risk from Microsoft proper or even a state actor with more resources than the standard attacker.</span></span>

<span data-ttu-id="7cfce-344">![Şekil 10-5 SSL laboratuvarları, Servis Veri Yolunun bitiş noktası için A puanını gösterir. ](./media/ssl-report.png)
 **Şekil 10-5**.</span><span class="sxs-lookup"><span data-stu-id="7cfce-344">![Figure 10-5 SSL labs report showing a score of A for a Service Bus endpoint.](./media/ssl-report.png)
**Figure 10-5**.</span></span> <span data-ttu-id="7cfce-345">SSL laboratuvarları, Hizmet Veri Meskeni bitiş noktası için A puanını gösterir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-345">SSL labs report showing a score of A for a Service Bus endpoint.</span></span>

<span data-ttu-id="7cfce-346">Bu şifreleme düzeyi her zaman için yeterli olmasa da, Azure TLS bağlantılarının oldukça güvenli olduğu konusunda güven uyandırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-346">While this level of encryption isn't going to be sufficient for all time, it should inspire confidence that Azure TLS connections are quite secure.</span></span> <span data-ttu-id="7cfce-347">Azure, şifreleme geliştikçe güvenlik standartlarını geliştirmeye devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-347">Azure will continue to evolve its security standards as encryption improves.</span></span> <span data-ttu-id="7cfce-348">Güvenlik standartlarını izleyen ve Azure'u iyileştirirken güncelleyen biri lerinin olduğunu bilmek güzel.</span><span class="sxs-lookup"><span data-stu-id="7cfce-348">It's nice to know that there's somebody watching the security standards and updating Azure as they improve.</span></span>

### <a name="at-rest"></a><span data-ttu-id="7cfce-349">Istirahatte</span><span class="sxs-lookup"><span data-stu-id="7cfce-349">At rest</span></span>

<span data-ttu-id="7cfce-350">Herhangi bir uygulamada, verilerin diskte olduğu birkaç yer vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-350">In any application, there are a number of places where data rests on disk.</span></span> <span data-ttu-id="7cfce-351">Uygulama kodunun kendisi bazı depolama mekanizmasından yüklenir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-351">The application code itself is loaded from some storage mechanism.</span></span> <span data-ttu-id="7cfce-352">Çoğu uygulama aynı zamanda SQL Server, Cosmos DB, hatta inanılmaz fiyat-verimli Tablo Depolama gibi veritabanı çeşit kullanın.</span><span class="sxs-lookup"><span data-stu-id="7cfce-352">Most applications also use some kind of database such as SQL Server, Cosmos DB, or even the amazingly price-efficient Table Storage.</span></span> <span data-ttu-id="7cfce-353">Bu veritabanlarının tümü, uygun izinlere sahip uygulamalar dışında kimsenin verilerinizi okuyamadığından emin olmak için ağır şifrelenmiş depolama alanı kullanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-353">These databases all use heavily encrypted storage to ensure that nobody other than the applications with proper permissions can read your data.</span></span> <span data-ttu-id="7cfce-354">Sistem operatörleri bile şifrelenmiş verileri okuyamaz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-354">Even the system operators can't read data that has been encrypted.</span></span> <span data-ttu-id="7cfce-355">Böylece müşteriler gizli bilgilerinin gizli kalacağından emin olabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-355">So customers can remain confident their secret information remains secret.</span></span>

### <a name="storage"></a><span data-ttu-id="7cfce-356">Depolama</span><span class="sxs-lookup"><span data-stu-id="7cfce-356">Storage</span></span>

<span data-ttu-id="7cfce-357">Azure'un büyük bir kısmının temeli Azure Depolama motorudur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-357">The underpinning of much of Azure is the Azure Storage engine.</span></span> <span data-ttu-id="7cfce-358">Sanal makine diskleri Azure Depolama'nın üstüne monte edilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-358">Virtual machine disks are mounted on top of Azure Storage.</span></span> <span data-ttu-id="7cfce-359">Azure Kubernetes Hizmetleri, Azure Depolama'da barındırılan sanal makinelerde çalışır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-359">Azure Kubernetes Services run on virtual machines that, themselves, are hosted on Azure Storage.</span></span> <span data-ttu-id="7cfce-360">Azure İşlevleri Uygulamaları ve Azure Kapsayıcı Örnekleri gibi sunucusuz teknolojilerbile Azure Depolama'nın bir parçası olan diski biter.</span><span class="sxs-lookup"><span data-stu-id="7cfce-360">Even serverless technologies, such as Azure Functions Apps and Azure Container Instances, run out of disk that is part of Azure Storage.</span></span>

<span data-ttu-id="7cfce-361">Azure Depolama iyi şifrelenmişse, diğer her şeyin de şifrelenilmesi için bir temel sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-361">If Azure Storage is well encrypted, then it provides for a foundation for most everything else to also be encrypted.</span></span> <span data-ttu-id="7cfce-362">Azure Depolama [FIPS 140-2](https://en.wikipedia.org/wiki/FIPS_140) uyumlu [256 bit AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard)ile [şifrelenir.](https://docs.microsoft.com/azure/storage/common/storage-service-encryption)</span><span class="sxs-lookup"><span data-stu-id="7cfce-362">Azure Storage [is encrypted](https://docs.microsoft.com/azure/storage/common/storage-service-encryption) with [FIPS 140-2](https://en.wikipedia.org/wiki/FIPS_140) compliant [256-bit AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard).</span></span> <span data-ttu-id="7cfce-363">Bu, son 20 yıldır kapsamlı bir akademik incelemeye konu olan saygın bir şifreleme teknolojisidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-363">This is a well-regarded encryption technology having been the subject of extensive academic scrutiny over the last 20 or so years.</span></span> <span data-ttu-id="7cfce-364">Şu anda, anahtarı bilmeyen birinin AES tarafından şifrelenmiş verileri okumasına izin verecek bilinen bir pratik saldırı yok.</span><span class="sxs-lookup"><span data-stu-id="7cfce-364">At present, there's no known practical attack that would allow someone without knowledge of the key to read data encrypted by AES.</span></span>

<span data-ttu-id="7cfce-365">Varsayılan olarak, Azure Depolama'yı şifrelemek için kullanılan anahtarlar Microsoft tarafından yönetilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-365">By default, the keys used for encrypting Azure Storage are managed by Microsoft.</span></span> <span data-ttu-id="7cfce-366">Bu anahtarlara kötü amaçlı erişimi önlemek için kapsamlı korumalar vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-366">There are extensive protections in place to ensure to prevent malicious access to these keys.</span></span> <span data-ttu-id="7cfce-367">Ancak, belirli şifreleme gereksinimleri olan kullanıcılar Azure Key Vault'ta yönetilen [kendi depolama anahtarlarını](https://docs.microsoft.com/azure/storage/common/storage-encryption-keys-powershell) da sağlayabilirler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-367">However, users with particular encryption requirements can also [provide their own storage keys](https://docs.microsoft.com/azure/storage/common/storage-encryption-keys-powershell) that are managed in Azure Key Vault.</span></span> <span data-ttu-id="7cfce-368">Bu anahtarlar herhangi bir zamanda iptal edilebilir ve bu da Depolama hesabının içeriğini erişilemez hale getirir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-368">These keys can be revoked at any time, which would effectively render the contents of the Storage account using them inaccessible.</span></span>

<span data-ttu-id="7cfce-369">Sanal makineler şifreli depolama kullanır, ancak Windows'daki BitLocker veya Linux'ta DM-Crypt gibi teknolojileri kullanarak başka bir şifreleme katmanı sağlamak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-369">Virtual machines use encrypted storage, but it's possible to provide another layer of encryption by using technologies like BitLocker on Windows or DM-Crypt on Linux.</span></span> <span data-ttu-id="7cfce-370">Bu teknolojiler, disk görüntüsü depodan sızdırılmış olsa bile, onu okumak neredeyse imkansız kalır anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-370">These technologies mean that even if the disk image was leaked off of storage, it would remain near impossible to read it.</span></span>

### <a name="azure-sql"></a><span data-ttu-id="7cfce-371">Azure SQL</span><span class="sxs-lookup"><span data-stu-id="7cfce-371">Azure SQL</span></span>

<span data-ttu-id="7cfce-372">Azure SQL'de barındırılan veritabanları, verilerin şifrelenmeyi sürdürmesini sağlamak için [Saydam Veri Şifreleme (TDE)](/sql/relational-databases/security/encryption/transparent-data-encryption) adlı bir teknoloji kullanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-372">Databases hosted on Azure SQL use a technology called [Transparent Data Encryption (TDE)](/sql/relational-databases/security/encryption/transparent-data-encryption) to ensure data remains encrypted.</span></span> <span data-ttu-id="7cfce-373">Yeni oluşturulan tüm SQL veritabanlarında varsayılan olarak etkinleştirilir, ancak eski veritabanları için el ile etkinleştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-373">It's enabled by default on all newly created SQL databases, but must be enabled manually for legacy databases.</span></span> <span data-ttu-id="7cfce-374">TDE, sadece veritabanının değil, yedeklemelerin ve işlem günlüklerinin de gerçek zamanlı şifrelemeve şifre çözme işlemlerini yürütür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-374">TDE executes real-time encryption and decryption of not just the database, but also the backups and transaction logs.</span></span>

<span data-ttu-id="7cfce-375">Şifreleme parametreleri `master` veritabanında depolanır ve başlangıçta, kalan işlemler için belleğe okunur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-375">The encryption parameters are stored in the `master` database and, on startup, are read into memory for the remaining operations.</span></span> <span data-ttu-id="7cfce-376">Bu, veritabanının `master` şifrelenmemiş kalması gerektiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-376">This means that the `master` database must remain unencrypted.</span></span> <span data-ttu-id="7cfce-377">Gerçek anahtar Microsoft tarafından yönetilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-377">The actual key is managed by Microsoft.</span></span> <span data-ttu-id="7cfce-378">Ancak, titiz güvenlik gereksinimleri olan kullanıcılar, Azure Depolama'da olduğu gibi Key Vault'ta da kendi anahtarlarını sağlayabilirler.</span><span class="sxs-lookup"><span data-stu-id="7cfce-378">However, users with exacting security requirements may provide their own key in Key Vault in much the same way as is done for Azure Storage.</span></span> <span data-ttu-id="7cfce-379">Anahtar Kasası, anahtar döndürme ve iptal gibi hizmetler sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-379">The Key Vault provides for such services as key rotation and revocation.</span></span>

<span data-ttu-id="7cfce-380">TDS'nin "Saydam" bölümü, şifreli bir veritabanını kullanmak için gereken istemci değişiklikleri nin olmamasından kaynaklanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-380">The "Transparent" part of TDS comes from the fact that there aren't client changes needed to use an encrypted database.</span></span> <span data-ttu-id="7cfce-381">Bu yaklaşım iyi bir güvenlik sağlarken, veritabanı parolasını sızdırmak kullanıcıların verilerin şifresini çözebilmesi için yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-381">While this approach provides for good security, leaking the database password is enough for users to be able to decrypt the data.</span></span> <span data-ttu-id="7cfce-382">Veritabanındaki tek tek sütunları veya tabloları şifreleyen başka bir yaklaşım daha vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-382">There's another approach that encrypts individual columns or tables in a database.</span></span> <span data-ttu-id="7cfce-383">[Her zaman Şifrelenmiş,](https://docs.microsoft.com/azure/sql-database/sql-database-always-encrypted-azure-key-vault) şifrelenmiş verilerin hiçbir noktada veritabanı içinde düz metin de görünmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-383">[Always Encrypted](https://docs.microsoft.com/azure/sql-database/sql-database-always-encrypted-azure-key-vault) ensures that at no point the encrypted data appears in plain text inside the database.</span></span>

<span data-ttu-id="7cfce-384">Bu şifreleme katmanının ayarlanması, şifreleme nin türünü ve ilişkili anahtarları depolamak için Key Vault'ta nerede olduğunu seçmek için SQL Server Management Studio'da bir sihirbaz aracılığıyla çalışma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-384">Setting up this tier of encryption requires running through a wizard in SQL Server Management Studio to select the sort of encryption and where in Key Vault to store the associated keys.</span></span>

<span data-ttu-id="7cfce-385">![Şekil 10-6 Her Zaman Şifrelenmiş](./media/always-encrypted.png)
Şekil**10-6**kullanılarak şifrelenecek bir tablodaki sütunları seçmek.</span><span class="sxs-lookup"><span data-stu-id="7cfce-385">![Figure 10-6 Selecting columns in a table to be encrypted using Always Encrypted](./media/always-encrypted.png)
**Figure 10-6**.</span></span> <span data-ttu-id="7cfce-386">Her Zaman Şifrelenmiş kullanarak şifrelenecek bir tablodaki sütunları seçmek.</span><span class="sxs-lookup"><span data-stu-id="7cfce-386">Selecting columns in a table to be encrypted using Always Encrypted.</span></span>

<span data-ttu-id="7cfce-387">Bu şifrelenmiş sütunlardan bilgileri okuyan istemci uygulamalarının, şifrelenmiş verileri okumak için özel izinler ödemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-387">Client applications that read information from these encrypted columns need to make special allowances to read encrypted data.</span></span> <span data-ttu-id="7cfce-388">Bağlantı dizeleri ile `Column Encryption Setting=Enabled` güncelleştirilmeli ve istemci kimlik bilgileri Anahtar Kasa'dan alınmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-388">Connection strings need to be updated with `Column Encryption Setting=Enabled` and client credentials must be retrieved from the Key Vault.</span></span> <span data-ttu-id="7cfce-389">SQL Server istemcisi daha sonra sütun şifreleme anahtarları ile astarlanmış olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-389">The SQL Server client must then be primed with the column encryption keys.</span></span> <span data-ttu-id="7cfce-390">Bu yapıldıktan sonra, kalan eylemler SQL Client için standart arabirimleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-390">Once that is done, the remaining actions use the standard interfaces to SQL Client.</span></span> <span data-ttu-id="7cfce-391">Diğer bir diğer olarak, SQL Client'ın üzerine inşa edilen Dapper ve Entity Framework gibi araçlar değişiklik yapmadan çalışmaya devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-391">That is, tools like Dapper and Entity Framework, which are built on top of SQL Client, will continue to work without changes.</span></span> <span data-ttu-id="7cfce-392">Her Zaman Şifrelenmiş henüz her dildeki her SQL Server sürücüsü için kullanılamayabilir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-392">Always Encrypted may not yet be available for every SQL Server driver on every language.</span></span>

<span data-ttu-id="7cfce-393">Her ikisi de istemciye özgü anahtarlarla kullanılabilen TDE ve Her Zaman Şifrelenmiş kombinasyonu, en titiz şifreleme gereksinimlerinin bile desteklenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="7cfce-393">The combination of TDE and Always Encrypted, both of which can be used with client-specific keys, ensures that even the most exacting encryption requirements are supported.</span></span>

### <a name="cosmos-db"></a><span data-ttu-id="7cfce-394">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="7cfce-394">Cosmos DB</span></span>

<span data-ttu-id="7cfce-395">Cosmos DB, Microsoft tarafından Azure'da sağlanan en yeni veritabanıdır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-395">Cosmos DB is the newest database provided by Microsoft in Azure.</span></span> <span data-ttu-id="7cfce-396">Güvenlik ve kriptografi göz önünde bulundurularak sıfırdan inşa edilmiştir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-396">It has been built from the ground up with security and cryptography in mind.</span></span> <span data-ttu-id="7cfce-397">AES-256bit şifreleme tüm Cosmos DB veritabanları için standarttır ve devre dışı tutulamaz.</span><span class="sxs-lookup"><span data-stu-id="7cfce-397">AES-256bit encryption is standard for all Cosmos DB databases and can't be disabled.</span></span> <span data-ttu-id="7cfce-398">TLS 1.2 iletişim gereksinimi ile birleştiğinde, tüm depolama çözümü şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-398">Coupled with the TLS 1.2 requirement for communication, the entire storage solution is encrypted.</span></span>

<span data-ttu-id="7cfce-399">![Şekil 10-7 Cosmos DB](./media/cosmos-encryption.png)
Şekil**10-7**içindeki veri şifreleme akışı.</span><span class="sxs-lookup"><span data-stu-id="7cfce-399">![Figure 10-7 The flow of data encryption within Cosmos DB](./media/cosmos-encryption.png)
**Figure 10-7**.</span></span> <span data-ttu-id="7cfce-400">Cosmos DB içindeki veri şifreleme akışı.</span><span class="sxs-lookup"><span data-stu-id="7cfce-400">The flow of data encryption within Cosmos DB.</span></span>

<span data-ttu-id="7cfce-401">Cosmos DB müşteri şifreleme anahtarları sağlamak için sağlamaz iken, bu olmadan PCI-DSS uyumlu kalmasını sağlamak için ekip tarafından yapılan önemli çalışmalar olmuştur.</span><span class="sxs-lookup"><span data-stu-id="7cfce-401">While Cosmos DB doesn't provide for supplying customer encryption keys, there has been significant work done by the team to ensure it remains PCI-DSS compliant without that.</span></span> <span data-ttu-id="7cfce-402">Cosmos DB, Azure SQL'deki Always Encrypted'e benzer herhangi bir sütun şifrelemesini de desteklemez.</span><span class="sxs-lookup"><span data-stu-id="7cfce-402">Cosmos DB also doesn't support any sort of single column encryption similar to Azure SQL's Always Encrypted yet.</span></span>

## <a name="keeping-secure"></a><span data-ttu-id="7cfce-403">Güvenli tutma</span><span class="sxs-lookup"><span data-stu-id="7cfce-403">Keeping secure</span></span>

<span data-ttu-id="7cfce-404">Azure, son derece güvenli bir ürün piyasaya çıkarmak için gereken tüm araçlara sahiptir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-404">Azure has all the tools necessary to release a highly secure product.</span></span> <span data-ttu-id="7cfce-405">Ancak, bir zincir sadece en zayıf halkası kadar güçlüdür.</span><span class="sxs-lookup"><span data-stu-id="7cfce-405">However, a chain is only as strong as its weakest link.</span></span> <span data-ttu-id="7cfce-406">Azure'un üstüne dağıtılan uygulamalar uygun bir güvenlik zihniyeti ve iyi güvenlik denetimleri ile geliştirilmemişse, zincirdeki zayıf halka haline gelir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-406">If the applications deployed on top of Azure aren't developed with a proper security mindset and good security audits, then they become the weak link in the chain.</span></span> <span data-ttu-id="7cfce-407">Azure'da yüklü olan yazılımın Azure'un kendisi kadar güvenli olmasını sağlamak için kullanılabilecek birçok büyük statik analiz aracı, şifreleme kitaplıkları ve güvenlik uygulamaları vardır.</span><span class="sxs-lookup"><span data-stu-id="7cfce-407">There are many great static analysis tools, encryption libraries, and security practices that can be used to ensure that the software installed on Azure is as secure as Azure itself.</span></span> <span data-ttu-id="7cfce-408">Örnekler [statik analiz araçları,](https://www.whitesourcesoftware.com/) [şifreleme kitaplıkları](https://www.libressl.org/)ve [güvenlik uygulamaları](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/)içerir.</span><span class="sxs-lookup"><span data-stu-id="7cfce-408">Examples include [static analysis tools](https://www.whitesourcesoftware.com/), [encryption libraries](https://www.libressl.org/), and [security practices](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="7cfce-409">[Önceki](security.md)
>[Sonraki](devops.md)</span><span class="sxs-lookup"><span data-stu-id="7cfce-409">[Previous](security.md)
[Next](devops.md)</span></span>
