---
title: IPv6 ve Teredo kullanarak NAT Geçişi
ms.date: 03/30/2017
ms.assetid: 568cd245-3300-49ef-a995-d81bf845d961
ms.openlocfilehash: f617dc8912091576727b90da1e9efb9ebd5f9bda
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "61642184"
---
# <a name="nat-traversal-using-ipv6-and-teredo"></a><span data-ttu-id="a6a60-102">IPv6 ve Teredo kullanarak NAT Geçişi</span><span class="sxs-lookup"><span data-stu-id="a6a60-102">NAT Traversal using IPv6 and Teredo</span></span>
<span data-ttu-id="a6a60-103">Ağ Adresi Çevirisi (NAT) geçişi için destek sağlayan geliştirmeler yapıldı.</span><span class="sxs-lookup"><span data-stu-id="a6a60-103">Enhancements were made that provide support for Network Address Translation (NAT) traversal.</span></span> <span data-ttu-id="a6a60-104">Bu değişiklikler IPv6 ve Teredo ile kullanılmak üzere tasarlanmıştır, ancak diğer IP tünel leme teknolojileri için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-104">These changes are designed for use with IPv6 and Teredo, but they are also applicable to other IP tunneling technologies.</span></span> <span data-ttu-id="a6a60-105">Bu <xref:System.Net> geliştirmeler, ve ilgili ad alanlarındaki sınıfları etkiler.</span><span class="sxs-lookup"><span data-stu-id="a6a60-105">These enhancements affect classes in the <xref:System.Net> and related namespaces.</span></span>  
  
 <span data-ttu-id="a6a60-106">Bu değişiklikler, IP tünelleme teknolojilerini kullanmayı planlayan istemci ve sunucu uygulamalarını etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-106">These changes can affect client and server applications that plan to use IP tunneling technologies.</span></span>  
  
 <span data-ttu-id="a6a60-107">NAT geçişini destekleyen değişiklikler yalnızca .NET Framework sürüm 4'üni kullanan uygulamalar için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-107">The changes to support NAT traversal are available only for applications using .NET Framework version 4.</span></span> <span data-ttu-id="a6a60-108">Bu özellikler .NET Framework'ün önceki sürümlerinde kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="a6a60-108">These features are not available on earlier versions of the .NET Framework.</span></span>  
  
## <a name="overview"></a><span data-ttu-id="a6a60-109">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="a6a60-109">Overview</span></span>  
 <span data-ttu-id="a6a60-110">Internet Protokolü sürüm 4 (IPv4), Bir IPv4 adresini 32 bit uzunluğunda olarak tanımladı.</span><span class="sxs-lookup"><span data-stu-id="a6a60-110">The Internet Protocol version 4 (IPv4) defined an IPv4 address as 32 bits long.</span></span> <span data-ttu-id="a6a60-111">Sonuç olarak, IPv4 yaklaşık 4 milyar benzersiz IP adresini destekler (2^32).</span><span class="sxs-lookup"><span data-stu-id="a6a60-111">As a result, IPv4 supports approximately 4 billion unique IP addresses (2^32).</span></span> <span data-ttu-id="a6a60-112">1990'larda Internet'teki bilgisayar ve ağ aygıtlarının sayısı arttıkça, IPv4 adres alanının sınırları belirginleşti.</span><span class="sxs-lookup"><span data-stu-id="a6a60-112">As the number of computers and network devices on the Internet expanded in the 1990s, the limits of the IPv4 address space became apparent.</span></span>  
  
 <span data-ttu-id="a6a60-113">IPv4'ün kullanım ömrünü uzatmak için kullanılan çeşitli tekniklerden biri, çok sayıda özel IP adresini (özel Intranet) temsil edecek tek bir benzersiz genel IP adresine izin vermek için NAT dağıtmak olmuştur.</span><span class="sxs-lookup"><span data-stu-id="a6a60-113">One of several techniques used to extend the lifetime of IPv4 has been to deploy NAT to allow a single unique public IP address to represent a large number of private IP addresses (private Intranet).</span></span> <span data-ttu-id="a6a60-114">NAT aygıtının arkasındaki özel IP adresleri tek bir genel IPv4 adresini paylaşır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-114">The private IP addresses behind the NAT device share the single public IPv4 address.</span></span> <span data-ttu-id="a6a60-115">NAT aygıtı özel bir donanım aygıtı (örneğin ucuz bir Kablosuz Erişim Noktası ve yönlendirici) veya NAT sağlamak için bir hizmet çalıştıran bir bilgisayar olabilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-115">The NAT device may be a dedicated hardware device (an inexpensive Wireless Access Point and router, for example) or a computer running a service to provide NAT.</span></span> <span data-ttu-id="a6a60-116">Bu genel IP adresiiçin bir aygıt veya hizmet, genel Internet ve özel Intranet arasındaki IP ağ paketlerini çevirir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-116">A device or service for this public IP address translates IP network packets between the public Internet and the private Intranet.</span></span>  
  
 <span data-ttu-id="a6a60-117">Bu şema, Internet'teki diğer IP adreslerine (genellikle sunuculara) istek gönderen özel Intranet'te çalışan istemci uygulamaları için iyi çalışır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-117">This scheme works well for client applications running on the private Intranet that send requests to other IP addresses (usually servers) on the Internet.</span></span> <span data-ttu-id="a6a60-118">NAT aygıtı veya sunucusu istemci isteklerinin eşlenesini tutabilir, böylece yanıt döndürüldüğünde yanıtı nereye göndereceğini bilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-118">The NAT device or server can keep a mapping of client requests so when a response is returned it knows where to send the response.</span></span> <span data-ttu-id="a6a60-119">Ancak bu şema, hizmet sağlamak, paketleri dinlemek ve yanıt vermek isteyen NAT aygıtının arkasındaki özel Intranet'te çalışan uygulamalar için sorun oluşturur.</span><span class="sxs-lookup"><span data-stu-id="a6a60-119">But this scheme poses problems for applications running in the private Intranet behind the NAT device that want to provide services, listen for packets, and respond.</span></span> <span data-ttu-id="a6a60-120">Bu, özellikle eşler arası uygulamalar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-120">This is particularly the case for peer-to-peer applications.</span></span>  
  
 <span data-ttu-id="a6a60-121">IPv6 protokolü bir IPv4 adresini 128 bit uzunluğunda olarak tanımlamıştır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-121">The IPv6 protocol defined an IPv4 address as 128 bits long.</span></span> <span data-ttu-id="a6a60-122">Sonuç olarak, IPv6 3.2 x 10^38 benzersiz adresler (2 ^128) çok büyük bir IP adres alanı destekler.</span><span class="sxs-lookup"><span data-stu-id="a6a60-122">As a result, IPv6 supports very a large IP address space of 3.2 x 10^38 unique addresses (2^128).</span></span> <span data-ttu-id="a6a60-123">Bu boyuttaki bir adres alanı ile, Internet'e bağlı her cihaza benzersiz bir adres verilmesi mümkündür.</span><span class="sxs-lookup"><span data-stu-id="a6a60-123">With an address space of this size, it is possible for every device connected to the Internet to be given a unique address.</span></span> <span data-ttu-id="a6a60-124">Ama bazı sorunlar var.</span><span class="sxs-lookup"><span data-stu-id="a6a60-124">But there are problems.</span></span> <span data-ttu-id="a6a60-125">Dünyanın büyük bir kısmı hala sadece IPv4 kullanıyor.</span><span class="sxs-lookup"><span data-stu-id="a6a60-125">Much of the world is still using only IPv4.</span></span> <span data-ttu-id="a6a60-126">Özellikle, küçük şirketler, kuruluşlar ve haneler tarafından kullanılan mevcut yönlendiricilerin ve kablosuz erişim noktalarının çoğu IPv6'yı desteklemez.</span><span class="sxs-lookup"><span data-stu-id="a6a60-126">In particular, many of the existing routers and wireless access points used by small companies, organizations, and households do not support IPv6.</span></span> <span data-ttu-id="a6a60-127">Ayrıca, bu müşterilere hizmet veren bazı Internet servis sağlayıcıları, IPv6 desteğini desteklemez veya yapılandırmamıştır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-127">Also some Internet service providers that serve these customers either do not support or have not configured support for IPv6.</span></span>  
  
 <span data-ttu-id="a6a60-128">IPv4 paketinde IPv6 adreslerini tünellemek için çeşitli IPv6 geçiş teknolojileri geliştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-128">Several IPv6 transition technologies have been developed to tunnel IPv6 addresses in an IPv4 packet.</span></span> <span data-ttu-id="a6a60-129">Bu teknolojiler arasında, IPv6 ana bilgisayarlarının diğer IPv6 ağlarına ulaşmak için IP4 ağlarından geçmesi gerektiğinde adres ataması ve tek döküm IPv6 trafiği için ana bilgisayarotomatik tünelleme sağlayan 6to4, ISATAP ve Teredo tünelleri yer almaktadır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-129">These technologies include 6to4, ISATAP, and Teredo tunnels that provide address assignment and host-to-host automatic tunneling for unicast IPv6 traffic when IPv6 hosts must traverse IP4 networks to reach other IPv6 networks.</span></span> <span data-ttu-id="a6a60-130">IPv6 paketleri IPv4 paketleri olarak tünele gönderilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-130">IPv6 packets are sent tunneled as IPv4 packets.</span></span> <span data-ttu-id="a6a60-131">Bir NAT aygıtı aracılığıyla IPv6 adresleri için NAT geçişine izin veren çeşitli tünel teknikleri kullanılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-131">Several tunneling techniques are being used that allow NAT traversal for IPv6 addresses through a NAT device.</span></span>  
  
 <span data-ttu-id="a6a60-132">Teredo, IPv4 ağlarına IPv6 bağlantısı getiren IPv6 geçiş teknolojilerinden biridir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-132">Teredo is one of the IPv6 transition technologies which brings IPv6 connectivity to IPv4 networks.</span></span> <span data-ttu-id="a6a60-133">Teredo, Internet Engineering Task Force (IETF) tarafından yayınlanan RFC 4380 belgesine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-133">Teredo is documented in RFC 4380 published by the Internet Engineering Task Force (IETF).</span></span> <span data-ttu-id="a6a60-134">Windows XP SP2 ve daha sonra 2001:0:/32 aralığında genel bir IPv6 adresi sağlayabilir sanal bir Teredo bağdaştırıcı sı için destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="a6a60-134">Windows XP SP2 and later provide support for a virtual Teredo adapter which can provide a public IPv6 address in the range 2001:0::/32.</span></span> <span data-ttu-id="a6a60-135">Bu IPv6 adresi, Internet'ten gelen bağlantıları dinlemek için kullanılabilir ve dinleme hizmetine bağlanmak isteyen IPv6 etkin istemcilere sağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-135">This IPv6 address can be used to listen for incoming connections from the Internet and can be provided to IPv6 enabled clients that wish to connect to the listening service.</span></span> <span data-ttu-id="a6a60-136">Bu, uygulama sadece IPv6 Teredo adresini kullanarak bağlanabildiği için, bir NAT aygıtının arkasındaki bilgisayara nasıl hitap edilebildiği konusunda endişelenmekten kurtarır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-136">This frees an application from worrying about how to address a computer behind a NAT device, since the application can just connect to it using its IPv6 Teredo address.</span></span>  
  
## <a name="enhancements-to-support-nat-traversal-and-teredo"></a><span data-ttu-id="a6a60-137">NAT Traversal ve Teredo'nun Desteklenmesine Yönelik Geliştirmeler</span><span class="sxs-lookup"><span data-stu-id="a6a60-137">Enhancements to Support NAT Traversal and Teredo</span></span>  
 <span data-ttu-id="a6a60-138">IPv6 ve <xref:System.Net> <xref:System.Net.NetworkInformation> <xref:System.Net.Sockets> Teredo kullanılarak NAT geçişini desteklemek için ,, ve ad alanlarına geliştirmeler eklenir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-138">Enhancements are added to the <xref:System.Net>, <xref:System.Net.NetworkInformation>, and <xref:System.Net.Sockets> namespaces for supporting NAT traversal using IPv6 and Teredo.</span></span>  
  
 <span data-ttu-id="a6a60-139">Ana bilgisayardaki <xref:System.Net.NetworkInformation.IPGlobalProperties?displayProperty=nameWithType> tek döküm IP adreslerinin listesini almak için sınıfa çeşitli yöntemler eklenir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-139">Several methods are added to the <xref:System.Net.NetworkInformation.IPGlobalProperties?displayProperty=nameWithType> class to get the list of unicast IP addresses on the host.</span></span> <span data-ttu-id="a6a60-140">Yöntem, <xref:System.Net.NetworkInformation.IPGlobalProperties.BeginGetUnicastAddresses%2A> yerel bilgisayardaki kararlı tek döküm IP adres tablosunu almak için eşzamanlı bir istek başlatır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-140">The <xref:System.Net.NetworkInformation.IPGlobalProperties.BeginGetUnicastAddresses%2A> method begins an asynchronous request to retrieve the stable unicast IP address table on the local computer.</span></span> <span data-ttu-id="a6a60-141">Yöntem, <xref:System.Net.NetworkInformation.IPGlobalProperties.EndGetUnicastAddresses%2A> yerel bilgisayardaki kararlı tek döküm IP adres tablosunu almak için bekleyen bir eşzamanlı isteği sona erdirir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-141">The <xref:System.Net.NetworkInformation.IPGlobalProperties.EndGetUnicastAddresses%2A> method ends a pending asynchronous request to retrieve the stable unicast IP address table on the local computer.</span></span> <span data-ttu-id="a6a60-142">Yöntem, <xref:System.Net.NetworkInformation.IPGlobalProperties.GetUnicastAddresses%2A> gerekirse adres tablosu stabilize olana kadar bekleyen, yerel bilgisayarda kararlı unicast IP adres tablosu almak için eşzamanlı bir istektir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-142">The <xref:System.Net.NetworkInformation.IPGlobalProperties.GetUnicastAddresses%2A> method is a synchronous request to retrieve the stable unicast IP address table on the local computer, waiting until the address table stabilizes if necessary.</span></span>  
  
 <span data-ttu-id="a6a60-143">Özellik, <xref:System.Net.IPAddress.IsIPv6Teredo%2A?displayProperty=nameWithType> bir <xref:System.Net.IPAddress> IPv6 Teredo adresi olup olmadığını belirlemek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-143">The <xref:System.Net.IPAddress.IsIPv6Teredo%2A?displayProperty=nameWithType> property can be used to determine if an <xref:System.Net.IPAddress> is an IPv6 Teredo address.</span></span>  
  
 <span data-ttu-id="a6a60-144">Özelliği ile <xref:System.Net.NetworkInformation.IPGlobalProperties> birlikte bu yeni sınıf yöntemleri kullanarak kolayca Teredo adresi bulmak için bir uygulama sağlar. <xref:System.Net.IPAddress.IsIPv6Teredo%2A></span><span class="sxs-lookup"><span data-stu-id="a6a60-144">Using these new <xref:System.Net.NetworkInformation.IPGlobalProperties> class methods in combination with the <xref:System.Net.IPAddress.IsIPv6Teredo%2A> property allows an application to easily find the Teredo address.</span></span> <span data-ttu-id="a6a60-145">Bir uygulama normalde sadece uzak uygulamalara bu bilgileri iletişim ise yerel Teredo adresini bilmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-145">An application normally only needs to know the local Teredo address if it is communicating this information to remote applications.</span></span> <span data-ttu-id="a6a60-146">Örneğin, eşler arası bir uygulama, tüm IPv6 adreslerini bir çöpçatanlık sunucusuna gönderebilir ve bu da doğrudan iletişimi etkinleştirmek için bunları diğer eş arkadaşlarıyla iletebilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-146">For example, a peer-to-peer application might send all of its IPv6 addresses to a matchmaking server which can then forward them to others peers to enable direct communication.</span></span>  
  
 <span data-ttu-id="a6a60-147">Bir uygulama normalde yerel Teredo <xref:System.Net.IPAddress.IPv6Any?displayProperty=nameWithType> adresi yerine dinlemek için dinleme hizmeti ayarlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-147">An application should normally set its listening service to listen on <xref:System.Net.IPAddress.IPv6Any?displayProperty=nameWithType> rather than on the local Teredo address.</span></span> <span data-ttu-id="a6a60-148">Bu nedenle, uzak bir istemci veya eşin dinleme hizmetinin ana bilgisayara doğrudan IPv6 rotası varsa, istemci veya eş doğrudan IPv6 kullanarak bağlanabilir ve paketleri tünele almak için Teredo'yu kullanmak zorunda kalmaz.</span><span class="sxs-lookup"><span data-stu-id="a6a60-148">So if a remote client or peer has a direct IPv6 route to the host of the listening service, the client or peer can connect directly using IPv6 and not have to use Teredo to tunnel packets.</span></span>  
  
 <span data-ttu-id="a6a60-149">TCP uygulamaları için <xref:System.Net.Sockets.TcpListener?displayProperty=nameWithType> sınıfın NAT geçişini etkinleştirmek için bir <xref:System.Net.Sockets.TcpListener.AllowNatTraversal%2A> yöntemi vardır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-149">For TCP applications, the <xref:System.Net.Sockets.TcpListener?displayProperty=nameWithType> class has an <xref:System.Net.Sockets.TcpListener.AllowNatTraversal%2A> method to enable NAT traversal.</span></span> <span data-ttu-id="a6a60-150">UDP uygulamaları için <xref:System.Net.Sockets.UdpClient?displayProperty=nameWithType> sınıfın NAT geçişini etkinleştirmek için bir <xref:System.Net.Sockets.UdpClient.AllowNatTraversal%2A> yöntemi vardır.</span><span class="sxs-lookup"><span data-stu-id="a6a60-150">For UDP applications, the <xref:System.Net.Sockets.UdpClient?displayProperty=nameWithType> class has an <xref:System.Net.Sockets.UdpClient.AllowNatTraversal%2A> method to enable NAT traversal.</span></span>  
  
 <span data-ttu-id="a6a60-151"><xref:System.Net.Sockets.Socket?displayProperty=nameWithType> Ve ilgili sınıfları kullanan uygulamalarda, NAT geçişini sorgulamak, <xref:System.Net.Sockets.Socket.GetSocketOption%2A> <xref:System.Net.Sockets.Socket.SetSocketOption%2A> etkinleştirmek veya devre dışı etmek için <xref:System.Net.Sockets.SocketOptionName.IPProtectionLevel?displayProperty=nameWithType> soket seçeneğiyle yöntemler kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="a6a60-151">For applications that use the <xref:System.Net.Sockets.Socket?displayProperty=nameWithType> and related classes, the <xref:System.Net.Sockets.Socket.GetSocketOption%2A> and <xref:System.Net.Sockets.Socket.SetSocketOption%2A> methods can be used with the <xref:System.Net.Sockets.SocketOptionName.IPProtectionLevel?displayProperty=nameWithType> socket option to query, enable, or disable NAT traversal.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a6a60-152">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="a6a60-152">See also</span></span>

- <xref:System.Net.IPAddress.IsIPv6Teredo%2A?displayProperty=nameWithType>
- <xref:System.Net.NetworkInformation.IPGlobalProperties.BeginGetUnicastAddresses%2A?displayProperty=nameWithType>
- <xref:System.Net.NetworkInformation.IPGlobalProperties.EndGetUnicastAddresses%2A?displayProperty=nameWithType>
- <xref:System.Net.NetworkInformation.IPGlobalProperties.GetUnicastAddresses%2A?displayProperty=nameWithType>
- <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType>
- <xref:System.Net.Sockets.Socket.SetIPProtectionLevel%2A?displayProperty=nameWithType>
- <xref:System.Net.Sockets.TcpListener.AllowNatTraversal%2A?displayProperty=nameWithType>
- <xref:System.Net.Sockets.UdpClient.AllowNatTraversal%2A?displayProperty=nameWithType>
