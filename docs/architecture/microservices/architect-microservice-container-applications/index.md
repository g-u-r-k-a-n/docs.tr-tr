---
title: Konteyner ve mikrohizmet tabanlı uygulamaların mimarlanması
description: Konteyner ve mikro hizmet tabanlı uygulamaların mimaredilmesi küçük bir başarı değildir ve hafife alınmamalıdır. Bu bölümdeki temel kavramları öğrenin.
ms.date: 09/20/2018
ms.openlocfilehash: aff30c907f1140b94dbcae330ed7cb633b0a744b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "70295520"
---
# <a name="architecting-container-and-microservice-based-applications"></a><span data-ttu-id="4b9fa-104">Konteyner ve mikrohizmet tabanlı uygulamaların mimarlanması</span><span class="sxs-lookup"><span data-stu-id="4b9fa-104">Architecting container and microservice-based applications</span></span>

<span data-ttu-id="4b9fa-105">*Microservices büyük faydalar sunmak la birlikte, aynı zamanda büyük yeni zorluklar alametidir. Microservice mimari desenleri, microservice tabanlı bir uygulama oluştururken temel sütunlardır.*</span><span class="sxs-lookup"><span data-stu-id="4b9fa-105">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="4b9fa-106">Daha önce bu kılavuzda, konteynerler ve Docker hakkında temel kavramları öğrendim.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-106">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="4b9fa-107">Konteynerlerle başlamak için gereken minimum bilgi buydu.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-107">That was the minimum information you needed to get started with containers.</span></span> <span data-ttu-id="4b9fa-108">Konteynerler etkinleştirici ve mikro hizmetler için mükemmel bir uyum olsa bile, bir mikrohizmet mimarisi için zorunlu değildir ve bu mimari bölümündebirçok mimari kavramlar da kapsayıcıolmadan uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-108">Although, even when containers are enablers and a great fit for microservices, they aren't mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="4b9fa-109">Ancak, bu kılavuz zaten kapların tanıtılan önemi nedeniyle her ikisinin de kesiştiği üzerinde duruluyor.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-109">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="4b9fa-110">Kurumsal uygulamalar karmaşık olabilir ve genellikle tek bir hizmet tabanlı uygulama yerine birden çok hizmetten oluşur.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-110">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="4b9fa-111">Bu gibi durumlarda, mikro hizmetler ve belirli Etki Alanı Odaklı Tasarım (DDD) desenleri ve konteyner orkestrasyon kavramları gibi ek mimari yaklaşımları anlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-111">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="4b9fa-112">Bu bölümde sadece kapsayıcılarda mikro hizmetler değil, konteyner uygulamaları da açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-112">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="4b9fa-113">Konteyner tasarım ilkeleri</span><span class="sxs-lookup"><span data-stu-id="4b9fa-113">Container design principles</span></span>

<span data-ttu-id="4b9fa-114">Kapsayıcı modelinde, kapsayıcı görüntü örneği tek bir işlemi temsil eder.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-114">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="4b9fa-115">Kapsayıcı görüntüsünü bir işlem sınırı olarak tanımlayarak, işlemi ölçeklendirmek veya toplu iş yapmak için kullanılabilecek ilkel bilgiler oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-115">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="4b9fa-116">Bir kapsayıcı görüntüsü tasarlarken, Dockerfile'da bir [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/#entrypoint) tanımı görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-116">When you design a container image, you'll see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/#entrypoint) definition in the Dockerfile.</span></span> <span data-ttu-id="4b9fa-117">Bu, kullanım ömrü kapsayıcının ömrünü kontrol eden işlemi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-117">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="4b9fa-118">İşlem tamamlandığında, kapsayıcı yaşam döngüsü sona erer.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-118">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="4b9fa-119">Kapsayıcılar web sunucuları gibi uzun süren işlemleri temsil edebilir, ancak daha önce Azure [Web İşleri](https://github.com/Azure/azure-webjobs-sdk/wiki)olarak uygulanmış olabilecek toplu iş işleri gibi kısa ömürlü işlemleri de temsil edebilir.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-119">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://github.com/Azure/azure-webjobs-sdk/wiki).</span></span>

<span data-ttu-id="4b9fa-120">İşlem başarısız olursa, kapsayıcı sona erer ve orkestratör devralır.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-120">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="4b9fa-121">Orkestratör beş örneği çalışır durumda tutacak şekilde yapılandırılırsa ve biri başarısız olursa, orkestratör başarısız olan işlemi değiştirmek için başka bir kapsayıcı örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-121">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="4b9fa-122">Toplu iş işinde, işlem parametrelerle başlatılır.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-122">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="4b9fa-123">İşlem tamamlandığında, çalışma tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-123">When the process completes, the work is complete.</span></span> <span data-ttu-id="4b9fa-124">Bu kılavuz, daha sonra orkestratörleri deşer.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-124">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="4b9fa-125">Tek bir kapsayıcıda birden çok işlem çalışmasını istediğiniz bir senaryo bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-125">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="4b9fa-126">Bu senaryo için, kapsayıcı başına yalnızca bir giriş noktası olabileceğinden, gerektiğinde çok sayıda program başlatan kapsayıcıiçinde bir komut dosyası çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-126">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="4b9fa-127">Örneğin, tek bir kapsayıcı içinde birden çok işlemi başlatmayı halletmek için [Supervisor](http://supervisord.org/) veya benzer bir aracı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-127">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="4b9fa-128">Ancak, kapsayıcı başına birden çok işlem tutan mimariler bulsanız bile, bu yaklaşım çok yaygın değildir.</span><span class="sxs-lookup"><span data-stu-id="4b9fa-128">However, even though you can find architectures that hold multiple processes per container, that approach isn't very common.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="4b9fa-129">[Önceki](../net-core-net-framework-containers/official-net-docker-images.md)
>[Sonraki](containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="4b9fa-129">[Previous](../net-core-net-framework-containers/official-net-docker-images.md)
[Next](containerize-monolithic-applications.md)</span></span>
