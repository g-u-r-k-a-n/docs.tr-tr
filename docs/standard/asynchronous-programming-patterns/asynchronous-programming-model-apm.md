---
title: Zaman Uyumsuz Programlama Modeli (APM)
description: .NET 'te zaman uyumsuz programlama modeli (APM) hakkında bilgi edinin. Zaman uyumsuz bir işlemin nasıl başlayıp sonlandıralınacağını öğrenin.
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- ending asynchronous operations
- starting asynchronous operations
- beginning asynchronous operations
- asynchronous programming, ending operations
- asynchronous programming
- stopping asynchronous operations
- asynchronous programming, beginning operations
ms.assetid: c9b3501e-6bc6-40f9-8efd-4b6d9e39ccf0
ms.openlocfilehash: 5ab5d15d24aac80ef4a31c039f7af9dacce4a8d8
ms.sourcegitcommit: 5fd4696a3e5791b2a8c449ccffda87f2cc2d4894
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/15/2020
ms.locfileid: "84769190"
---
# <a name="asynchronous-programming-model-apm"></a><span data-ttu-id="6f778-104">Zaman Uyumsuz Programlama Modeli (APM)</span><span class="sxs-lookup"><span data-stu-id="6f778-104">Asynchronous Programming Model (APM)</span></span>
<span data-ttu-id="6f778-105">Tasarım modelini kullanan zaman uyumsuz bir işlem, <xref:System.IAsyncResult> adlı `BeginOperationName` ve `EndOperationName` sırasıyla zaman uyumsuz işlem *OperationName* ' i başlayan ve biten iki yöntem olarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="6f778-105">An asynchronous operation that uses the <xref:System.IAsyncResult> design pattern is implemented as two methods named `BeginOperationName` and `EndOperationName` that begin and end the asynchronous operation *OperationName* respectively.</span></span> <span data-ttu-id="6f778-106">Örneğin, <xref:System.IO.FileStream> sınıfı <xref:System.IO.FileStream.BeginRead%2A> <xref:System.IO.FileStream.EndRead%2A> bir dosyadan zaman uyumsuz olarak okunan baytları ve yöntemleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="6f778-106">For example, the <xref:System.IO.FileStream> class provides the <xref:System.IO.FileStream.BeginRead%2A> and <xref:System.IO.FileStream.EndRead%2A> methods to asynchronously read bytes from a file.</span></span> <span data-ttu-id="6f778-107">Bu yöntemler, yönteminin zaman uyumsuz sürümünü uygular <xref:System.IO.FileStream.Read%2A> .</span><span class="sxs-lookup"><span data-stu-id="6f778-107">These methods implement the asynchronous version of the <xref:System.IO.FileStream.Read%2A> method.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6f778-108">.NET Framework 4 ' den başlayarak, görev paralel kitaplığı, zaman uyumsuz ve paralel programlama için yeni bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="6f778-108">Starting with the .NET Framework 4, the Task Parallel Library provides a new model for asynchronous and parallel programming.</span></span> <span data-ttu-id="6f778-109">Daha fazla bilgi için bkz. [görev paralel kitaplığı (TPL)](../parallel-programming/task-parallel-library-tpl.md) ve [görev tabanlı zaman uyumsuz model (TAP)](task-based-asynchronous-pattern-tap.md)).</span><span class="sxs-lookup"><span data-stu-id="6f778-109">For more information, see [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md) and [Task-based Asynchronous Pattern (TAP)](task-based-asynchronous-pattern-tap.md)).</span></span>  
  
 <span data-ttu-id="6f778-110">Çağrıldıktan sonra `BeginOperationName` bir uygulama, farklı bir iş parçacığında zaman uyumsuz işlem gerçekleşirken çağıran iş parçacığı üzerinde yönergeleri yürütmeye devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="6f778-110">After calling `BeginOperationName`, an application can continue executing instructions on the calling thread while the asynchronous operation takes place on a different thread.</span></span> <span data-ttu-id="6f778-111">Her çağrısı için `BeginOperationName` , uygulamanın, `EndOperationName` işlemin sonuçlarını almak için de çağırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f778-111">For each call to `BeginOperationName`, the application should also call `EndOperationName` to get the results of the operation.</span></span>  
  
## <a name="beginning-an-asynchronous-operation"></a><span data-ttu-id="6f778-112">Zaman uyumsuz bir Işlem başlatılıyor</span><span class="sxs-lookup"><span data-stu-id="6f778-112">Beginning an Asynchronous Operation</span></span>  
 <span data-ttu-id="6f778-113">`BeginOperationName`Yöntemi zaman uyumsuz Işlem *OperationName* ' i başlatır ve arabirimi uygulayan bir nesne döndürür <xref:System.IAsyncResult> .</span><span class="sxs-lookup"><span data-stu-id="6f778-113">The `BeginOperationName` method begins asynchronous operation *OperationName* and returns an object that implements the <xref:System.IAsyncResult> interface.</span></span> <span data-ttu-id="6f778-114"><xref:System.IAsyncResult>nesneler, zaman uyumsuz bir işlemle ilgili bilgileri depolar.</span><span class="sxs-lookup"><span data-stu-id="6f778-114"><xref:System.IAsyncResult> objects store information about an asynchronous operation.</span></span> <span data-ttu-id="6f778-115">Aşağıdaki tabloda bir zaman uyumsuz işlemle ilgili bilgiler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="6f778-115">The following table shows information about an asynchronous operation.</span></span>  
  
|<span data-ttu-id="6f778-116">Üye</span><span class="sxs-lookup"><span data-stu-id="6f778-116">Member</span></span>|<span data-ttu-id="6f778-117">Açıklama</span><span class="sxs-lookup"><span data-stu-id="6f778-117">Description</span></span>|  
|------------|-----------------|  
|<xref:System.IAsyncResult.AsyncState%2A>|<span data-ttu-id="6f778-118">Zaman uyumsuz işlem hakkında bilgi içeren, uygulamaya özel isteğe bağlı bir nesne.</span><span class="sxs-lookup"><span data-stu-id="6f778-118">An optional application-specific object that contains information about the asynchronous operation.</span></span>|  
|<xref:System.IAsyncResult.AsyncWaitHandle%2A>|<span data-ttu-id="6f778-119"><xref:System.Threading.WaitHandle>Zaman uyumsuz işlem tamamlanana kadar uygulama yürütmeyi engellemek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6f778-119">A <xref:System.Threading.WaitHandle> that can be used to block application execution until the asynchronous operation completes.</span></span>|  
|<xref:System.IAsyncResult.CompletedSynchronously%2A>|<span data-ttu-id="6f778-120">`BeginOperationName`Ayrı bir iş parçacığında tamamlamak yerine, çağırmak için kullanılan iş parçacığında zaman uyumsuz işlemin tamamlanıp tamamlanmadığını belirten bir değer <xref:System.Threading.ThreadPool> .</span><span class="sxs-lookup"><span data-stu-id="6f778-120">A value that indicates whether the asynchronous operation completed on the thread used to call `BeginOperationName` instead of completing on a separate <xref:System.Threading.ThreadPool> thread.</span></span>|  
|<xref:System.IAsyncResult.IsCompleted%2A>|<span data-ttu-id="6f778-121">Zaman uyumsuz işlemin tamamlanıp tamamlanmadığını belirten bir değer.</span><span class="sxs-lookup"><span data-stu-id="6f778-121">A value that indicates whether the asynchronous operation has completed.</span></span>|  
  
 <span data-ttu-id="6f778-122">Bir `BeginOperationName` Yöntem, değer veya başvuruya göre geçirilen yöntemin zaman uyumlu sürümünün imzasında belirtilen parametreleri alır.</span><span class="sxs-lookup"><span data-stu-id="6f778-122">A `BeginOperationName` method takes any parameters declared in the signature of the synchronous version of the method that are passed by value or by reference.</span></span> <span data-ttu-id="6f778-123">Tüm out parametreleri yöntem imzasının bir parçası değildir `BeginOperationName` .</span><span class="sxs-lookup"><span data-stu-id="6f778-123">Any out parameters are not part of the `BeginOperationName` method signature.</span></span> <span data-ttu-id="6f778-124">`BeginOperationName`Yöntem imzası Ayrıca iki ek parametre içerir.</span><span class="sxs-lookup"><span data-stu-id="6f778-124">The `BeginOperationName` method signature also includes two additional parameters.</span></span> <span data-ttu-id="6f778-125">Bunlardan ilki, <xref:System.AsyncCallback> zaman uyumsuz işlem tamamlandığında çağrılan bir yönteme başvuran bir temsilciyi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="6f778-125">The first of these defines an <xref:System.AsyncCallback> delegate that references a method that is called when the asynchronous operation completes.</span></span> <span data-ttu-id="6f778-126">Çağıran, `null` `Nothing` işlem tamamlandığında bir yöntemin çağrılmasını istemediğinden (Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="6f778-126">The caller can specify `null` (`Nothing` in Visual Basic) if it does not want a method invoked when the operation completes.</span></span> <span data-ttu-id="6f778-127">İkinci ek parametre Kullanıcı tanımlı bir nesnedir.</span><span class="sxs-lookup"><span data-stu-id="6f778-127">The second additional parameter is a user-defined object.</span></span> <span data-ttu-id="6f778-128">Bu nesne, zaman uyumsuz işlem tamamlandığında çağrılan yönteme uygulamaya özgü durum bilgilerini geçirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6f778-128">This object can be used to pass application-specific state information to the method invoked when the asynchronous operation completes.</span></span> <span data-ttu-id="6f778-129">Bir `BeginOperationName` Yöntem bir dosyadan okunan baytları depolamak için bir bayt dizisi gibi işleme özgü ek parametreler alırsa, <xref:System.AsyncCallback> ve uygulama durumu nesnesi yöntem imzasında son parametrelerdir `BeginOperationName` .</span><span class="sxs-lookup"><span data-stu-id="6f778-129">If a `BeginOperationName` method takes additional operation-specific parameters, such as a byte array to store bytes read from a file, the <xref:System.AsyncCallback> and application state object are the last parameters in the `BeginOperationName` method signature.</span></span>  
  
 <span data-ttu-id="6f778-130">`BeginOperationName`denetimi çağıran iş parçacığına hemen döndürür.</span><span class="sxs-lookup"><span data-stu-id="6f778-130">`BeginOperationName` returns control to the calling thread immediately.</span></span> <span data-ttu-id="6f778-131">`BeginOperationName`Yöntem özel durumlar oluşturursa, zaman uyumsuz işlem başlatılmadan önce özel durumlar oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6f778-131">If the `BeginOperationName` method throws exceptions, the exceptions are thrown before the asynchronous operation is started.</span></span> <span data-ttu-id="6f778-132">`BeginOperationName`Yöntem özel durumlar oluşturursa, geri çağırma yöntemi çağrılmaz.</span><span class="sxs-lookup"><span data-stu-id="6f778-132">If the `BeginOperationName` method throws exceptions, the callback method is not invoked.</span></span>  
  
## <a name="ending-an-asynchronous-operation"></a><span data-ttu-id="6f778-133">Zaman uyumsuz bir Işlem sonlandırılıyor</span><span class="sxs-lookup"><span data-stu-id="6f778-133">Ending an Asynchronous Operation</span></span>  
 <span data-ttu-id="6f778-134">`EndOperationName`Yöntemi, zaman uyumsuz Işlem *OperationName*öğesini sonlandırır.</span><span class="sxs-lookup"><span data-stu-id="6f778-134">The `EndOperationName` method ends asynchronous operation *OperationName*.</span></span> <span data-ttu-id="6f778-135">Yöntemin dönüş değeri, `EndOperationName` zaman uyumlu karşılığına göre döndürülen türdür ve zaman uyumsuz işleme özeldir.</span><span class="sxs-lookup"><span data-stu-id="6f778-135">The return value of the `EndOperationName` method is the same type returned by its synchronous counterpart and is specific to the asynchronous operation.</span></span> <span data-ttu-id="6f778-136">Örneğin, <xref:System.IO.FileStream.EndRead%2A> yöntemi bir öğesinden okunan bayt sayısını döndürür <xref:System.IO.FileStream> ve <xref:System.Net.Dns.EndGetHostByName%2A> yöntemi <xref:System.Net.IPHostEntry> bir ana bilgisayar hakkında bilgi içeren bir nesne döndürür.</span><span class="sxs-lookup"><span data-stu-id="6f778-136">For example, the <xref:System.IO.FileStream.EndRead%2A> method returns the number of bytes read from a <xref:System.IO.FileStream> and the <xref:System.Net.Dns.EndGetHostByName%2A> method returns an <xref:System.Net.IPHostEntry> object that contains information about a host computer.</span></span> <span data-ttu-id="6f778-137">`EndOperationName`Yöntemi, yönteminin zaman uyumlu sürümünün imzasında belirtilen tüm out veya ref parametrelerini alır.</span><span class="sxs-lookup"><span data-stu-id="6f778-137">The `EndOperationName` method takes any out or ref parameters declared in the signature of the synchronous version of the method.</span></span> <span data-ttu-id="6f778-138">Zaman uyumlu yöntemin parametrelerinin yanı sıra, `EndOperationName` yöntemi de bir <xref:System.IAsyncResult> parametre içerir.</span><span class="sxs-lookup"><span data-stu-id="6f778-138">In addition to the parameters from the synchronous method, the `EndOperationName` method also includes an <xref:System.IAsyncResult> parameter.</span></span> <span data-ttu-id="6f778-139">Çağıranlar öğesine karşılık gelen çağrının döndürdüğü örneği iletmelidir `BeginOperationName` .</span><span class="sxs-lookup"><span data-stu-id="6f778-139">Callers must pass the instance returned by the corresponding call to `BeginOperationName`.</span></span>  
  
 <span data-ttu-id="6f778-140">Çağrıldığında nesnenin temsil ettiği zaman uyumsuz işlem <xref:System.IAsyncResult> tamamlandıysa `EndOperationName` , `EndOperationName` zaman uyumsuz işlem tamamlanana kadar çağıran iş parçacığını engeller.</span><span class="sxs-lookup"><span data-stu-id="6f778-140">If the asynchronous operation represented by the <xref:System.IAsyncResult> object has not completed when `EndOperationName` is called, `EndOperationName` blocks the calling thread until the asynchronous operation is complete.</span></span> <span data-ttu-id="6f778-141">Zaman uyumsuz işlem tarafından oluşturulan özel durumlar `EndOperationName` yönteminden oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6f778-141">Exceptions thrown by the asynchronous operation are thrown from the `EndOperationName` method.</span></span> <span data-ttu-id="6f778-142">`EndOperationName`Yöntemi aynı ile birden çok kez çağırma efekti <xref:System.IAsyncResult> tanımlı değil.</span><span class="sxs-lookup"><span data-stu-id="6f778-142">The effect of calling the `EndOperationName` method multiple times with the same <xref:System.IAsyncResult> is not defined.</span></span> <span data-ttu-id="6f778-143">Benzer şekilde, `EndOperationName` <xref:System.IAsyncResult> ilgili BEGIN yöntemi tarafından döndürülmediğinde yöntemi çağırmak da tanımlanmamıştır.</span><span class="sxs-lookup"><span data-stu-id="6f778-143">Likewise, calling the `EndOperationName` method with an <xref:System.IAsyncResult> that was not returned by the related Begin method is also not defined.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6f778-144">Tanımsız senaryolardan herhangi biri için, ımplemenonun oluşturulması gerektiğini düşünmelidir <xref:System.InvalidOperationException> .</span><span class="sxs-lookup"><span data-stu-id="6f778-144">For either of the undefined scenarios, implementers should consider throwing <xref:System.InvalidOperationException>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6f778-145">Bu tasarım deseninin uygulayıcıları, zaman uyumsuz işlemin tamamlandığını çağıran tarafından <xref:System.IAsyncResult.IsCompleted%2A> , zaman uyumsuz geri çağırma yöntemini çağırarak (belirtilmişse) ve sinyal sinyaline doğru ayarlanarak bildirim almalıdır <xref:System.IAsyncResult.AsyncWaitHandle%2A> .</span><span class="sxs-lookup"><span data-stu-id="6f778-145">Implementers of this design pattern should notify the caller that the asynchronous operation completed by setting <xref:System.IAsyncResult.IsCompleted%2A> to true, calling the asynchronous callback method (if one was specified) and signaling the <xref:System.IAsyncResult.AsyncWaitHandle%2A>.</span></span>  
  
 <span data-ttu-id="6f778-146">Uygulama geliştiricilerinin zaman uyumsuz işlemin sonuçlarına erişmek için çeşitli tasarım seçimleri vardır.</span><span class="sxs-lookup"><span data-stu-id="6f778-146">Application developers have several design choices for accessing the results of the asynchronous operation.</span></span> <span data-ttu-id="6f778-147">Doğru seçim, uygulamanın işlem tamamlandığında yürütebileceğiniz yönergeler içerip içermediğini bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="6f778-147">The correct choice depends on whether the application has instructions that can execute while the operation completes.</span></span> <span data-ttu-id="6f778-148">Bir uygulama, zaman uyumsuz işlemin sonuçlarını alıncaya kadar ek bir iş gerçekleştire, sonuçlar kullanılabilir olana kadar uygulamanın engellenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f778-148">If an application cannot perform any additional work until it receives the results of the asynchronous operation, the application must block until the results are available.</span></span> <span data-ttu-id="6f778-149">Zaman uyumsuz bir işlem tamamlanana kadar engellemek için aşağıdaki yaklaşımlardan birini kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="6f778-149">To block until an asynchronous operation completes, you can use one of the following approaches:</span></span>  
  
- <span data-ttu-id="6f778-150">Uygulamanın `EndOperationName` ana iş parçacığından, işlem tamamlanana kadar uygulama yürütmeyi engelleyen çağrı.</span><span class="sxs-lookup"><span data-stu-id="6f778-150">Call `EndOperationName` from the application’s main thread, blocking application execution until the operation is complete.</span></span> <span data-ttu-id="6f778-151">Bu tekniği gösteren bir örnek için bkz. [zaman uyumsuz bir Işlemi sonlandırarak uygulama yürütmeyi engelleme](blocking-application-execution-by-ending-an-async-operation.md).</span><span class="sxs-lookup"><span data-stu-id="6f778-151">For an example that illustrates this technique, see [Blocking Application Execution by Ending an Async Operation](blocking-application-execution-by-ending-an-async-operation.md).</span></span>  
  
- <span data-ttu-id="6f778-152"><xref:System.IAsyncResult.AsyncWaitHandle%2A>Bir veya daha fazla işlem tamamlanana kadar uygulama yürütmeyi engellemek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="6f778-152">Use the <xref:System.IAsyncResult.AsyncWaitHandle%2A> to block application execution until one or more operations are complete.</span></span> <span data-ttu-id="6f778-153">Bu tekniği gösteren bir örnek için bkz. [AsyncWaitHandle kullanarak uygulama yürütmeyi engelleme](blocking-application-execution-using-an-asyncwaithandle.md).</span><span class="sxs-lookup"><span data-stu-id="6f778-153">For an example that illustrates this technique, see [Blocking Application Execution Using an AsyncWaitHandle](blocking-application-execution-using-an-asyncwaithandle.md).</span></span>  
  
 <span data-ttu-id="6f778-154">Zaman uyumsuz işlem tamamlandığında engellemek Gerekmeyen uygulamalar aşağıdaki yaklaşımlardan birini kullanabilir:</span><span class="sxs-lookup"><span data-stu-id="6f778-154">Applications that do not need to block while the asynchronous operation completes can use one of the following approaches:</span></span>  
  
- <span data-ttu-id="6f778-155"><xref:System.IAsyncResult.IsCompleted%2A>Özelliği düzenli aralıklarla denetleyerek ve işlem tamamlandığında çağırarak, işlem tamamlanma durumu için yoklama yapın `EndOperationName` .</span><span class="sxs-lookup"><span data-stu-id="6f778-155">Poll for operation completion status by checking the <xref:System.IAsyncResult.IsCompleted%2A> property periodically and calling `EndOperationName` when the operation is complete.</span></span> <span data-ttu-id="6f778-156">Bu tekniği gösteren bir örnek için bkz. [zaman uyumsuz bir Işlemin durumu Için yoklama](polling-for-the-status-of-an-asynchronous-operation.md).</span><span class="sxs-lookup"><span data-stu-id="6f778-156">For an example that illustrates this technique, see [Polling for the Status of an Asynchronous Operation](polling-for-the-status-of-an-asynchronous-operation.md).</span></span>  
  
- <span data-ttu-id="6f778-157"><xref:System.AsyncCallback>İşlem tamamlandığında çağrılacak yöntemi belirtmek için bir temsilci kullanın.</span><span class="sxs-lookup"><span data-stu-id="6f778-157">Use an <xref:System.AsyncCallback> delegate to specify a method to be invoked when the operation is complete.</span></span> <span data-ttu-id="6f778-158">Bu tekniği gösteren bir örnek için bkz. [zaman uyumsuz bir Işlemi sonlandırmak için bir AsyncCallback temsilcisi kullanma](using-an-asynccallback-delegate-to-end-an-asynchronous-operation.md).</span><span class="sxs-lookup"><span data-stu-id="6f778-158">For an example that illustrates this technique, see [Using an AsyncCallback Delegate to End an Asynchronous Operation](using-an-asynccallback-delegate-to-end-an-asynchronous-operation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6f778-159">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="6f778-159">See also</span></span>

- [<span data-ttu-id="6f778-160">Olay Tabanlı Zaman Uyumsuz Desen (EAP)</span><span class="sxs-lookup"><span data-stu-id="6f778-160">Event-based Asynchronous Pattern (EAP)</span></span>](event-based-asynchronous-pattern-eap.md)
- [<span data-ttu-id="6f778-161">Zaman Uyumlu Metotları Zaman Uyumsuz Olarak Çağırma</span><span class="sxs-lookup"><span data-stu-id="6f778-161">Calling Synchronous Methods Asynchronously</span></span>](calling-synchronous-methods-asynchronously.md)
- [<span data-ttu-id="6f778-162">Bir AsyncCallback Temsilcisi ve Durum Nesnesi Kullanma</span><span class="sxs-lookup"><span data-stu-id="6f778-162">Using an AsyncCallback Delegate and State Object</span></span>](using-an-asynccallback-delegate-and-state-object.md)
