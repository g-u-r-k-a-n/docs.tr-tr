---
title: Net.TCP Bağlantı Noktası Paylaşımı
description: Yüksek performanslı iletişim için TCP tabanlı protokol ve bağlantı noktalarının WCF 'de birden çok kullanıcı işlemi arasında paylaşılmasını sağlayan hizmet hakkında bilgi edinin.
ms.date: 03/30/2017
helpviewer_keywords:
- port activation [WCF]
- port sharing [WCF]
ms.assetid: f13692ee-a179-4439-ae72-50db9534eded
ms.openlocfilehash: a9579c588906f509dd835d3c9b25571495d147e0
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/23/2020
ms.locfileid: "85245251"
---
# <a name="nettcp-port-sharing"></a><span data-ttu-id="affbc-103">Net.TCP Bağlantı Noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="affbc-103">Net.TCP Port Sharing</span></span>
<span data-ttu-id="affbc-104">Windows Communication Foundation (WCF), yüksek performanslı iletişim için yeni bir TCP tabanlı Ağ Protokolü (net. TCP://) sağlar.</span><span class="sxs-lookup"><span data-stu-id="affbc-104">Windows Communication Foundation (WCF) provides a new TCP-based network protocol (net.tcp://) for high-performance communication.</span></span> <span data-ttu-id="affbc-105">WCF Ayrıca, net. TCP bağlantı noktalarının birden çok kullanıcı işlemi arasında paylaşılmasını sağlayan net. TCP bağlantı noktası paylaşma hizmeti olan yeni bir sistem bileşeni de sunar.</span><span class="sxs-lookup"><span data-stu-id="affbc-105">WCF also introduces a new system component, the Net.TCP Port Sharing Service that enables net.tcp ports to be shared across multiple user processes.</span></span>  
  
## <a name="background-and-motivation"></a><span data-ttu-id="affbc-106">Arka plan ve Mosyon</span><span class="sxs-lookup"><span data-stu-id="affbc-106">Background and Motivation</span></span>  
 <span data-ttu-id="affbc-107">TCP/IP Protokolü ilk kez sunulmasıyla, yalnızca az sayıda uygulama protokolü tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="affbc-107">When the TCP/IP protocol was first introduced, only a small number of application protocols made use of it.</span></span> <span data-ttu-id="affbc-108">Her uygulama protokolüne benzersiz bir 16-bit bağlantı noktası numarası atayarak uygulamalar arasında ayrım yapmak için TCP/IP kullanılan bağlantı noktası numaraları.</span><span class="sxs-lookup"><span data-stu-id="affbc-108">TCP/IP used port numbers to differentiate between applications by assigning a unique 16-bit port number to each application protocol.</span></span> <span data-ttu-id="affbc-109">Örneğin, günümüzde HTTP trafiği TCP bağlantı noktası 80 ' ü kullanmak için standartlaştırılmış, SMTP TCP bağlantı noktası 25 ' i ve FTP ise 20 ve 21 numaralı TCP bağlantı noktalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="affbc-109">For example, HTTP traffic today is standardized to use TCP port 80, SMTP uses TCP port 25, and FTP uses TCP ports 20 and 21.</span></span> <span data-ttu-id="affbc-110">Aktarım olarak TCP kullanan diğer uygulamalar, kural veya biçimsel standartlaşma aracılığıyla başka bir kullanılabilir bağlantı noktası numarası seçebilir.</span><span class="sxs-lookup"><span data-stu-id="affbc-110">Other applications using TCP as a transport can choose another available port number, either by convention or through formal standardization.</span></span>  
  
 <span data-ttu-id="affbc-111">Uygulamalar arasında ayrım yapmak için bağlantı noktası numaralarını kullanmak güvenlik sorunlarıyla karşılaştı.</span><span class="sxs-lookup"><span data-stu-id="affbc-111">Using port numbers to distinguish between applications had security problems.</span></span> <span data-ttu-id="affbc-112">Güvenlik duvarları genellikle, birkaç iyi bilinen giriş noktası dışındaki tüm bağlantı noktalarında TCP trafiğini engelleyecek şekilde yapılandırılmıştır. bu nedenle, kurumsal ve kişisel güvenlik duvarlarının varlığı nedeniyle standart olmayan bir bağlantı noktası kullanan bir uygulamanın dağıtımı genellikle karmaşık veya hatta imkansız olur.</span><span class="sxs-lookup"><span data-stu-id="affbc-112">Firewalls are generally configured to block TCP traffic on all ports except for a few well-known entry points, so deploying an application that uses a non-standard port is often complicated or even impossible due to the presence of corporate and personal firewalls.</span></span> <span data-ttu-id="affbc-113">Zaten izin verilen standart, iyi bilinen bağlantı noktaları üzerinden iletişim kurabilen uygulamalar, dış saldırı yüzeyini azaltır.</span><span class="sxs-lookup"><span data-stu-id="affbc-113">Applications that can communicate over standard, well-known ports that are already permitted, reduce the external attack surface.</span></span> <span data-ttu-id="affbc-114">Birçok ağ uygulaması HTTP protokolünü kullanır, çünkü çoğu güvenlik duvarı varsayılan olarak TCP bağlantı noktası 80 ' de trafiğe izin verecek şekilde yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="affbc-114">Many network applications make use of the HTTP protocol because most firewalls are configured by default to allow traffic on TCP port 80.</span></span>  
  
 <span data-ttu-id="affbc-115">Birçok farklı HTTP uygulamasının trafiğinin tek bir TCP bağlantı noktası üzerinde çoğullanmış olduğu HTTP.SYS modeli, Windows platformunda standart hale gelmiştir.</span><span class="sxs-lookup"><span data-stu-id="affbc-115">The HTTP.SYS model in which traffic for many different HTTP applications is multiplexed onto a single TCP port has become standard on the Windows platform.</span></span> <span data-ttu-id="affbc-116">Bu, güvenlik duvarı yöneticileri için ortak bir denetim noktası sağlar, böylece uygulama geliştiricilerinin, ağı kullanan yeni uygulamalar oluşturma maliyetini en aza indirmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="affbc-116">This provides a common point of control for firewall administrators while allowing application developers to minimize the deployment cost of building new applications that can make use of the network.</span></span>  
  
 <span data-ttu-id="affbc-117">Birden çok HTTP uygulamasında bağlantı noktası paylaşma özelliği, büyük bir Internet Information Services (IIS) özelliğidir.</span><span class="sxs-lookup"><span data-stu-id="affbc-117">The ability to share ports across multiple HTTP applications has long been a feature of Internet Information Services (IIS).</span></span> <span data-ttu-id="affbc-118">Ancak, bu altyapının tamamen genelleştirilmiş bir şekilde HTTP.SYS (çekirdek modu HTTP protokol dinleyicisi) yalnızca IIS 6,0 ile kullanıma sunulmaktadır.</span><span class="sxs-lookup"><span data-stu-id="affbc-118">However, it was only with the introduction of HTTP.SYS (the kernel-mode HTTP protocol listener) with IIS 6.0 that this infrastructure was fully generalized.</span></span> <span data-ttu-id="affbc-119">Aslında HTTP.SYS, rastgele kullanıcı işlemlerinin HTTP trafiğine adanmış TCP bağlantı noktalarını paylaşmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="affbc-119">In effect, HTTP.SYS allows arbitrary user processes to share the TCP ports dedicated to HTTP traffic.</span></span> <span data-ttu-id="affbc-120">Bu özellik, çok sayıda HTTP uygulamasının aynı fiziksel makinede, TCP bağlantı noktası 80 üzerinden trafik göndermek ve almak için gereken ağ altyapısını paylaşırken ayrı, yalıtılmış süreçler üzerinde birlikte bulunmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="affbc-120">This capability allows many HTTP applications to coexist on the same physical machine in separate, isolated processes while sharing the network infrastructure required to send and receive traffic over TCP port 80.</span></span> <span data-ttu-id="affbc-121">Net. TCP bağlantı noktası paylaşma hizmeti, net. TCP uygulamaları için aynı bağlantı noktası paylaşımı türünü sunar.</span><span class="sxs-lookup"><span data-stu-id="affbc-121">The Net.TCP Port Sharing Service enables the same type of port sharing for net.tcp applications.</span></span>  
  
## <a name="port-sharing-architecture"></a><span data-ttu-id="affbc-122">Bağlantı noktası paylaşma mimarisi</span><span class="sxs-lookup"><span data-stu-id="affbc-122">Port Sharing Architecture</span></span>  
 <span data-ttu-id="affbc-123">WCF 'deki bağlantı noktası paylaşma mimarisi üç ana bileşene sahiptir:</span><span class="sxs-lookup"><span data-stu-id="affbc-123">The Port Sharing architecture in WCF has three main components:</span></span>  
  
- <span data-ttu-id="affbc-124">Çalışan Işlemi: net. TCP://üzerinde iletişim kuran tüm işlemler paylaşılan bağlantı noktalarını kullanıyor.</span><span class="sxs-lookup"><span data-stu-id="affbc-124">A Worker Process: Any process communicating over net.tcp:// using shared ports.</span></span>  
  
- <span data-ttu-id="affbc-125">WCF TCP taşıması: net. TCP://protokolünü uygular.</span><span class="sxs-lookup"><span data-stu-id="affbc-125">The WCF TCP transport: Implements the net.tcp:// protocol.</span></span>  
  
- <span data-ttu-id="affbc-126">Net. TCP bağlantı noktası paylaşma hizmeti: birçok çalışan işleminin aynı TCP bağlantı noktasını paylaşmasına Izin verir.</span><span class="sxs-lookup"><span data-stu-id="affbc-126">The Net.TCP Port Sharing Service: Allows many worker processes to share the same TCP port.</span></span>  
  
 <span data-ttu-id="affbc-127">Net. TCP bağlantı noktası paylaşım hizmeti, üzerinden bağlanan çalışan süreçler adına net. TCP://bağlantılarını kabul eden bir Kullanıcı modu Windows hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="affbc-127">The Net.TCP Port Sharing Service is a user-mode Windows service that accepts net.tcp:// connections on behalf of the worker processes that connect through it.</span></span> <span data-ttu-id="affbc-128">Bir yuva bağlantısı geldiğinde, bağlantı noktası Paylaşımı hizmeti gelen ileti akışını inceleyerek hedef adresini elde eder.</span><span class="sxs-lookup"><span data-stu-id="affbc-128">When a socket connection arrives, the port sharing service inspects the incoming message stream to obtain its destination address.</span></span> <span data-ttu-id="affbc-129">Bağlantı noktası paylaşım hizmeti, bu adrese göre veri akışını son işleyen uygulamaya yönlendirebilir.</span><span class="sxs-lookup"><span data-stu-id="affbc-129">Based on this address, the port sharing service can route the data stream to the application that ultimately processes it.</span></span>  
  
 <span data-ttu-id="affbc-130">Net. TCP://bağlantı noktası Paylaşımı kullanan bir WCF hizmeti açıldığında, WCF TCP Aktarım altyapısı uygulama sürecinde doğrudan bir TCP yuvası açmaz.</span><span class="sxs-lookup"><span data-stu-id="affbc-130">When a WCF service that uses net.tcp:// port sharing opens, the WCF TCP transport infrastructure does not directly open a TCP socket in the application process.</span></span> <span data-ttu-id="affbc-131">Bunun yerine, taşıma altyapısı, hizmetin temel adres Tekdüzen Kaynak tanımlayıcısı 'nı (URI) net. TCP bağlantı noktası paylaşım hizmeti ile kaydeder ve bağlantı noktası paylaşım hizmeti 'nin adına iletileri dinlemesi için bekler.</span><span class="sxs-lookup"><span data-stu-id="affbc-131">Instead, the transport infrastructure registers the service’s base address Uniform Resource Identifier (URI) with the Net.TCP Port Sharing Service and waits for the port sharing service to listen for messages on its behalf.</span></span>  <span data-ttu-id="affbc-132">Bağlantı noktası paylaşım hizmeti, uygulama hizmetine ulaşan iletileri geldikçe gönderir.</span><span class="sxs-lookup"><span data-stu-id="affbc-132">The port sharing service dispatches messages addressed to the application service as they arrive.</span></span>  
  
## <a name="installing-port-sharing"></a><span data-ttu-id="affbc-133">Bağlantı noktası Paylaşımı yükleniyor</span><span class="sxs-lookup"><span data-stu-id="affbc-133">Installing Port Sharing</span></span>  
 <span data-ttu-id="affbc-134">Net. TCP bağlantı noktası paylaşma hizmeti, WinFX 'i destekleyen tüm işletim sistemlerinde kullanılabilir, ancak hizmet varsayılan olarak etkinleştirilmemiştir.</span><span class="sxs-lookup"><span data-stu-id="affbc-134">The Net.TCP Port Sharing Service is available on all operating systems that support WinFX, but the service is not enabled by default.</span></span> <span data-ttu-id="affbc-135">Bir güvenlik önlemi olarak, yöneticinin ilk kullanımdan önce net. TCP bağlantı noktası paylaşım hizmetini el ile etkinleştirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="affbc-135">As a security precaution, an administrator must manually enable the Net.TCP Port Sharing Service prior to first use.</span></span> <span data-ttu-id="affbc-136">Net. TCP bağlantı noktası paylaşım hizmeti, bağlantı noktası paylaşım hizmeti 'nin sahip olduğu ağ yuvalarının çeşitli özelliklerini değiştirmenize olanak sağlayan yapılandırma seçeneklerini sunar.</span><span class="sxs-lookup"><span data-stu-id="affbc-136">The Net.TCP Port Sharing Service exposes configuration options that allow you to manipulate several characteristics of the network sockets owned by the port sharing service.</span></span> <span data-ttu-id="affbc-137">Daha fazla bilgi için bkz. [nasıl yapılır: net. TCP bağlantı noktası paylaşım hizmetini etkinleştirme](how-to-enable-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="affbc-137">For more information, see [How to: Enable the Net.TCP Port Sharing Service](how-to-enable-the-net-tcp-port-sharing-service.md).</span></span>  
  
## <a name="using-nettcp-port-sharing-in-an-application"></a><span data-ttu-id="affbc-138">Bir uygulamada net. TCP bağlantı noktası paylaşımını kullanma</span><span class="sxs-lookup"><span data-stu-id="affbc-138">Using Net.tcp Port Sharing in an Application</span></span>  
 <span data-ttu-id="affbc-139">WCF uygulamanızda net. TCP://bağlantı noktası paylaşımını kullanmanın en kolay yolu, kullanarak bir hizmeti kullanıma sunmak <xref:System.ServiceModel.NetTcpBinding> ve sonra özelliği kullanarak net. TCP bağlantı noktası paylaşma hizmetini etkinleştirmek için kullanılır <xref:System.ServiceModel.NetTcpBinding.PortSharingEnabled%2A> .</span><span class="sxs-lookup"><span data-stu-id="affbc-139">The easiest way to use net.tcp:// port sharing in your WCF application is to expose a service using the <xref:System.ServiceModel.NetTcpBinding> and then to enable Net.TCP Port Sharing Service using the <xref:System.ServiceModel.NetTcpBinding.PortSharingEnabled%2A> property.</span></span>  
  
 <span data-ttu-id="affbc-140">Bunun nasıl yapılacağı hakkında daha fazla bilgi için bkz. [nasıl yapılır: WCF hizmetini bağlantı noktası Paylaşımı kullanmak Için yapılandırma](how-to-configure-a-wcf-service-to-use-port-sharing.md).</span><span class="sxs-lookup"><span data-stu-id="affbc-140">For more information about how to do this, see [How to: Configure a WCF Service to Use Port Sharing](how-to-configure-a-wcf-service-to-use-port-sharing.md).</span></span>  
  
## <a name="security-implications-of-port-sharing"></a><span data-ttu-id="affbc-141">Bağlantı noktası paylaşımının güvenlik etkileri</span><span class="sxs-lookup"><span data-stu-id="affbc-141">Security Implications of Port Sharing</span></span>  
 <span data-ttu-id="affbc-142">Net. TCP bağlantı noktası paylaşım hizmeti, uygulamalar ve ağ arasında bir işleme katmanı sağlasa da, bağlantı noktası Paylaşımı kullanan uygulamaların yine de ağı dinlemiş gibi güvenli hale getirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="affbc-142">Although the Net.TCP Port Sharing Service provides a layer of processing between applications and the network, applications that use port sharing should still be secured as if they were directly listening on the network.</span></span> <span data-ttu-id="affbc-143">Özellikle, bağlantı noktası Paylaşımı kullanan uygulamalar çalıştıkları işlem ayrıcalıklarını değerlendirmelidir.</span><span class="sxs-lookup"><span data-stu-id="affbc-143">Specifically, applications that use port sharing should evaluate the process privileges under which they run.</span></span> <span data-ttu-id="affbc-144">Ağ iletişimi için gereken en düşük işlem ayrıcalıkları kümesiyle çalışan yerleşik ağ hizmeti hesabını kullanarak uygulamanızı çalıştırmayı göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="affbc-144">Consider running your application using the built-in Network Service account, which runs with the minimal set of process privileges required for network communication.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="affbc-145">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="affbc-145">See also</span></span>

- [<span data-ttu-id="affbc-146">Net.TCP Bağlantı Noktası Hizmetini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="affbc-146">Configuring the Net.TCP Port Sharing Service</span></span>](configuring-the-net-tcp-port-sharing-service.md)
- [<span data-ttu-id="affbc-147">Hosting</span><span class="sxs-lookup"><span data-stu-id="affbc-147">Hosting</span></span>](hosting.md)
- [<span data-ttu-id="affbc-148">Nasıl yapılır: Bağlantı Noktası Paylaşımı Kullanarak Bir WCF Hizmetini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="affbc-148">How to: Configure a WCF Service to Use Port Sharing</span></span>](how-to-configure-a-wcf-service-to-use-port-sharing.md)
- [<span data-ttu-id="affbc-149">Nasıl yapılır: Net.TCP Bağlantı Noktası Paylaşım Hizmetini Etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="affbc-149">How to: Enable the Net.TCP Port Sharing Service</span></span>](how-to-enable-the-net-tcp-port-sharing-service.md)
