---
title: Nullable başvuru türleri - C# referans
description: C# nullable referans türleri ve bunları nasıl kullanacağı hakkında bilgi edinin
ms.date: 04/06/2020
ms.openlocfilehash: cb61b162b06faa51faabbcdd91e55618cdeaca73
ms.sourcegitcommit: 73aa9653547a1cd70ee6586221f79cc29b588ebd
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2020
ms.locfileid: "82102703"
---
# <a name="nullable-reference-types-c-reference"></a><span data-ttu-id="7984f-103">Nullable başvuru türleri (C# başvurusu)</span><span class="sxs-lookup"><span data-stu-id="7984f-103">Nullable reference types (C# reference)</span></span>

> [!NOTE]
> <span data-ttu-id="7984f-104">Bu makale, geçersiz başvuru türlerini kapsar.</span><span class="sxs-lookup"><span data-stu-id="7984f-104">This article covers nullable reference types.</span></span> <span data-ttu-id="7984f-105">Ayrıca geçersiz [değer türlerini](nullable-value-types.md)de bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7984f-105">You can also declare [nullable value types](nullable-value-types.md).</span></span>

<span data-ttu-id="7984f-106">Nullable başvuru türleri C# 8.0 ile başlayan kullanılabilir, *nullable farkında bağlamında*tercih kodu .</span><span class="sxs-lookup"><span data-stu-id="7984f-106">Nullable reference types are available beginning with C# 8.0, in code that has opted in to a *nullable aware context*.</span></span> <span data-ttu-id="7984f-107">Nullable başvuru türleri, null statik analiz uyarıları ve [null-affgiving işleci](../operators/null-forgiving.md) isteğe bağlı dil özellikleridir.</span><span class="sxs-lookup"><span data-stu-id="7984f-107">Nullable reference types, the null static analysis warnings, and the [null-forgiving operator](../operators/null-forgiving.md) are optional language features.</span></span> <span data-ttu-id="7984f-108">Tümü varsayılan olarak kapatılır.</span><span class="sxs-lookup"><span data-stu-id="7984f-108">All are turned off by default.</span></span> <span data-ttu-id="7984f-109">*Nullable bağlam* yapı ayarları kullanılarak proje düzeyinde veya pragmas kullanılarak kod olarak denetlenir.</span><span class="sxs-lookup"><span data-stu-id="7984f-109">A *nullable context* is controlled at the project level using build settings, or in code using pragmas.</span></span>

 <span data-ttu-id="7984f-110">Geçersiz bir farkında bağlamda:</span><span class="sxs-lookup"><span data-stu-id="7984f-110">In a nullable aware context:</span></span>

- <span data-ttu-id="7984f-111">Bir başvuru türünden `T` bir değişken null olmayan olarak başharfe alınmalıdır ve `null`asla .</span><span class="sxs-lookup"><span data-stu-id="7984f-111">A variable of a reference type `T` must be initialized with non-null, and may never be assigned a value that may be `null`.</span></span>
- <span data-ttu-id="7984f-112">`T?` Başvuru türünden bir değişken, `null` başvurudan `null`çıkmadan `null` önce karşı denetlenmeli veya atanmış olabilir.</span><span class="sxs-lookup"><span data-stu-id="7984f-112">A variable of a reference type `T?` may be initialized with `null` or assigned `null`, but is required to be checked against `null` before de-referencing.</span></span>
- <span data-ttu-id="7984f-113">Bir `m` tür `T?` değişkeni, `m!`'deki gibi hükümsüz affedici işleci uyguladığınızda geçersiz olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="7984f-113">A variable `m` of type `T?` is considered to be non-null when you apply the null-forgiving operator, as in `m!`.</span></span>

<span data-ttu-id="7984f-114">Nullable olmayan bir başvuru türü `T` ile nullable başvuru `T?` türü arasındaki ayrımlar, derleyicinin önceki kuralları yorumlaması tarafından uygulanır.</span><span class="sxs-lookup"><span data-stu-id="7984f-114">The distinctions between a non-nullable reference type `T` and a nullable reference type `T?` are enforced by the compiler's interpretation of the preceding rules.</span></span> <span data-ttu-id="7984f-115">Bir tür `T` değişkeni ve `T?` bir tür değişkeni aynı .NET türüyle temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="7984f-115">A variable of type `T` and a variable of type `T?` are represented by the same .NET type.</span></span> <span data-ttu-id="7984f-116">Aşağıdaki örnek, nullable olmayan bir dize ve nullable dize bildirir ve sonra null-affgiving işleci olmayan bir dize bir değer atamak için kullanır:</span><span class="sxs-lookup"><span data-stu-id="7984f-116">The following example declares a non-nullable string and a nullable string, and then uses the null-forgiving operator to assign a value to a non-nullable string:</span></span>

:::code language="csharp" source="snippets/NullableReferenceTypes.cs" id="SnippetCoreSyntax":::

<span data-ttu-id="7984f-117">Değişkenler `notNull` ve `nullable` her ikisi de <xref:System.String> türü ile temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="7984f-117">The variables `notNull` and `nullable` are both represented by the <xref:System.String> type.</span></span> <span data-ttu-id="7984f-118">Nullable ve nullable türleri her ikisi de aynı tür olarak depolanır olduğundan, nullable başvuru türü kullanarak izin verilmez birkaç konum vardır.</span><span class="sxs-lookup"><span data-stu-id="7984f-118">Because the non-nullable and nullable types are both stored as the same type, there are several locations where using a nullable reference type isn't allowed.</span></span> <span data-ttu-id="7984f-119">Genel olarak, nullable başvuru türü taban sınıf veya uygulanan arabirim olarak kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7984f-119">In general, a nullable reference type can't be used as a base class or implemented interface.</span></span> <span data-ttu-id="7984f-120">Nullable başvuru türü herhangi bir nesne oluşturma veya tür sınaması ifadesinde kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7984f-120">A nullable reference type can't be used in any object creation or type testing expression.</span></span> <span data-ttu-id="7984f-121">Geçersiz bir başvuru türü, üye erişim ifadesitürü olamaz.</span><span class="sxs-lookup"><span data-stu-id="7984f-121">A nullable reference type can't be the type of a member access expression.</span></span> <span data-ttu-id="7984f-122">Aşağıdaki örnekler bu yapıları gösterir:</span><span class="sxs-lookup"><span data-stu-id="7984f-122">The following examples show these constructs:</span></span>

```csharp
public MyClass : System.Object? // not allowed
{
}

var nullEmpty = System.String?.Empty; // Not allowed
var maybeObject = new object?(); // Not allowed
try
{
    if (thing is string? nullableString) // not allowed
        Console.WriteLine(nullableString);
} catch (Exception? e) // Not Allowed
{
    Console.WriteLine("error");
}
```

## <a name="nullable-references-and-static-analysis"></a><span data-ttu-id="7984f-123">Nullable referanslar ve statik analiz</span><span class="sxs-lookup"><span data-stu-id="7984f-123">Nullable references and static analysis</span></span>

<span data-ttu-id="7984f-124">Önceki bölümdeki örnekler, geçersiz başvuru türlerinin doğasını göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="7984f-124">The examples in the previous section illustrate the nature of nullable reference types.</span></span> <span data-ttu-id="7984f-125">Nullable başvuru türleri yeni sınıf türleri değil, varolan başvuru türlerinde ek açıklamalardır.</span><span class="sxs-lookup"><span data-stu-id="7984f-125">Nullable reference types aren't new class types, but rather annotations on existing reference types.</span></span> <span data-ttu-id="7984f-126">Derleyici, kodunuzda olası null başvuru hatalarını bulmanıza yardımcı olmak için bu ek açıklamaları kullanır.</span><span class="sxs-lookup"><span data-stu-id="7984f-126">The compiler uses those annotations to help you find potential null reference errors in your code.</span></span> <span data-ttu-id="7984f-127">Nullable olmayan başvuru türü ile nullable başvuru türü arasında çalışma süresi farkı yoktur.</span><span class="sxs-lookup"><span data-stu-id="7984f-127">There's no runtime difference between a non-nullable reference type and a nullable reference type.</span></span> <span data-ttu-id="7984f-128">Derleyici, nullable olmayan başvuru türleri için herhangi bir çalışma zamanı denetimi eklemez.</span><span class="sxs-lookup"><span data-stu-id="7984f-128">The compiler doesn't add any runtime checking for non-nullable reference types.</span></span> <span data-ttu-id="7984f-129">Faydaları derleme zaman analizinde yer alıyor.</span><span class="sxs-lookup"><span data-stu-id="7984f-129">The benefits are in the compile-time analysis.</span></span> <span data-ttu-id="7984f-130">Derleyici, kodunuzdaki olası null hatalarını bulmanıza ve düzeltmenize yardımcı olan uyarılar oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7984f-130">The compiler generates warnings that help you find and fix potential null errors in your code.</span></span> <span data-ttu-id="7984f-131">Niyetinizi beyan ekarsınız ve derleyici, kodunuz bu amaca aykırı olduğunda sizi uyarır.</span><span class="sxs-lookup"><span data-stu-id="7984f-131">You declare your intent, and the compiler warns you when your code violates that intent.</span></span>

<span data-ttu-id="7984f-132">Nullable etkin bir bağlamda, derleyici herhangi bir başvuru türünde değişkenler üzerinde statik çözümleme gerçekleştirir, hem nullable ve unnullable.</span><span class="sxs-lookup"><span data-stu-id="7984f-132">In a nullable enabled context, the compiler performs static analysis on variables of any reference type, both nullable and non-nullable.</span></span> <span data-ttu-id="7984f-133">Derleyici, her başvuru değişkeninin null durumunu *null* veya *belki de null*olarak izler.</span><span class="sxs-lookup"><span data-stu-id="7984f-133">The compiler tracks the null state of each reference variable as either *not null* or *maybe null*.</span></span> <span data-ttu-id="7984f-134">Nullable olmayan bir başvurunun varsayılan durumu *null değildir.*</span><span class="sxs-lookup"><span data-stu-id="7984f-134">The default state of a non-nullable reference is *not null*.</span></span> <span data-ttu-id="7984f-135">Nullable başvuruvarsayılan durumu *belki null*.</span><span class="sxs-lookup"><span data-stu-id="7984f-135">The default state of a nullable reference is *maybe null*.</span></span>

<span data-ttu-id="7984f-136">Nullable olmayan başvuru türleri her zaman null durumları *null olmadığından*dereference için güvenli olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7984f-136">Non-nullable reference types should always be safe to dereference because their null state is *not null*.</span></span> <span data-ttu-id="7984f-137">Bu kuralı uygulamak için derleyici, nullable olmayan bir başvuru türü null olmayan bir değere başharfe sahip değilse uyarılar yayınlar.</span><span class="sxs-lookup"><span data-stu-id="7984f-137">To enforce that rule, the compiler issues warnings if a non-nullable reference type isn't initialized to a non-null value.</span></span> <span data-ttu-id="7984f-138">Yerel değişkenler beyan edildikleri yere atanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7984f-138">Local variables must be assigned where they're declared.</span></span> <span data-ttu-id="7984f-139">Her yapıcı, her alanı, kendi gövdesinde, bir yapıcı olarak adlandırılan veya bir alan başharfi kullanarak atamalıdır.</span><span class="sxs-lookup"><span data-stu-id="7984f-139">Every constructor must assign every field, either in its body, a called constructor, or using a field initializer.</span></span> <span data-ttu-id="7984f-140">Derleyici, durumu *belki null*olan bir başvuruya geçersiz bir başvuru atanmışsa uyarılar yayınlar.</span><span class="sxs-lookup"><span data-stu-id="7984f-140">The compiler issues warnings if a non-nullable reference is assigned to a reference whose state is *maybe null*.</span></span> <span data-ttu-id="7984f-141">Ancak, nullable olmayan bir başvuru *null olmadığından,* bu değişkenler de-referenced olduğunda hiçbir uyarı verilir.</span><span class="sxs-lookup"><span data-stu-id="7984f-141">However, because a non-nullable reference is *not null*, no warnings are issued when those variables are de-referenced.</span></span>

<span data-ttu-id="7984f-142">Nullable başvuru türleri başharfe `null`atılabilir veya .</span><span class="sxs-lookup"><span data-stu-id="7984f-142">Nullable reference types may be initialized or assigned to `null`.</span></span> <span data-ttu-id="7984f-143">Bu nedenle, statik çözümleme, bir değişkenin başvurudan kaybolmadan önce *null olmadığını* belirlemelidir.</span><span class="sxs-lookup"><span data-stu-id="7984f-143">Therefore, static analysis must determine that a variable is *not null* before it's dereferenced.</span></span> <span data-ttu-id="7984f-144">Nullable başvuru belki null *olarak*belirlenirse, nullable olmayan bir referans değişkenine atanamaz.</span><span class="sxs-lookup"><span data-stu-id="7984f-144">If a nullable reference is determined to be *maybe null*, it can't be assigned to a non-nullable reference variable.</span></span> <span data-ttu-id="7984f-145">Aşağıdaki sınıf aşağıdaki uyarılara örnek gösterir:</span><span class="sxs-lookup"><span data-stu-id="7984f-145">The following class shows examples of these warnings:</span></span>

:::code language="csharp" source="snippets/NullableReferenceTypes.cs" id="SnippetClassWithNullable":::

<span data-ttu-id="7984f-146">Aşağıdaki snippet derleyicinin bu sınıfı kullanırken uyarıları nereye yayır gösterir:</span><span class="sxs-lookup"><span data-stu-id="7984f-146">The following snippet shows where the compiler emits warnings when using this class:</span></span>

:::code language="csharp" source="snippets/NullableReferenceTypes.cs" id="SnippetLocalWarnings":::

<span data-ttu-id="7984f-147">Önceki örnekler, başvuru değişkenlerinin null durumunu belirlemek için derleyicinin statik çözümlemesi gösterir.</span><span class="sxs-lookup"><span data-stu-id="7984f-147">The preceding examples demonstrate the compiler's static analysis to determine the null state of reference variables.</span></span> <span data-ttu-id="7984f-148">Derleyici, çözümlemesi için geçersiz denetimler ve atamalar için dil kuralları uygular.</span><span class="sxs-lookup"><span data-stu-id="7984f-148">The compiler applies language rules for null checks and assignments to inform its analysis.</span></span>  <span data-ttu-id="7984f-149">Derleyici yöntem veya özelliklerin anlamtları hakkında varsayımlarda bulunamaz.</span><span class="sxs-lookup"><span data-stu-id="7984f-149">The compiler can't make assumptions about the semantics of methods or properties.</span></span> <span data-ttu-id="7984f-150">Null denetimleri gerçekleştiren yöntemleri çağırırsanız, derleyici bu yöntemlerin bir değişkenin null durumunu etkilediğini bilemiyor.</span><span class="sxs-lookup"><span data-stu-id="7984f-150">If you call methods that perform null checks, the compiler can't know those methods affect a variable's null state.</span></span> <span data-ttu-id="7984f-151">Derlemeyi bağımsız değişkenlerin ve döndürücü değerlerin anlambilimi hakkında bilgilendirmek için API'lerinize ekleyebileceğiniz birkaç öznitelik vardır.</span><span class="sxs-lookup"><span data-stu-id="7984f-151">There are a number of attributes you can add to your APIs to inform the compiler about the semantics of arguments and return values.</span></span> <span data-ttu-id="7984f-152">Bu öznitelikler .NET Core kitaplıklarında birçok yaygın API'ye uygulanmıştır.</span><span class="sxs-lookup"><span data-stu-id="7984f-152">These attributes have been applied to many common APIs in the .NET Core libraries.</span></span> <span data-ttu-id="7984f-153">Örneğin, <xref:System.String.IsNullOrEmpty%2A> güncelleştirildi ve derleyici bu yöntemi doğru bir şekilde null denetim olarak yorumlar.</span><span class="sxs-lookup"><span data-stu-id="7984f-153">For example, <xref:System.String.IsNullOrEmpty%2A> has been updated, and the compiler correctly interprets that method as a null check.</span></span> <span data-ttu-id="7984f-154">Null state statik çözümlemesi için geçerli öznitelikler hakkında daha fazla bilgi için, [Nullable öznitelikleri](../attributes/nullable-analysis.md)makaleye bakın.</span><span class="sxs-lookup"><span data-stu-id="7984f-154">For more information about the attributes that apply to null state static analysis, see the article on [Nullable attributes](../attributes/nullable-analysis.md).</span></span>

## <a name="setting-the-nullable-context"></a><span data-ttu-id="7984f-155">Nullable bağlamı ayarlama</span><span class="sxs-lookup"><span data-stu-id="7984f-155">Setting the nullable context</span></span>

<span data-ttu-id="7984f-156">Nullable bağlamı denetlemenin iki yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="7984f-156">There are two ways to control the nullable context.</span></span> <span data-ttu-id="7984f-157">Proje düzeyinde, proje ayarını `<Nullable>enable</Nullable>` ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7984f-157">At the project level, you can add the `<Nullable>enable</Nullable>` project setting.</span></span> <span data-ttu-id="7984f-158">Tek bir C# kaynak dosyasında, `#nullable enable` nullable bağlamı etkinleştirmek için pragma ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7984f-158">In a single C# source file, you can add the `#nullable enable` pragma to enable the nullable context.</span></span> <span data-ttu-id="7984f-159">[Nullable bir strateji belirleme](../../nullable-migration-strategies.md)ile ilgili makaleye bakın.</span><span class="sxs-lookup"><span data-stu-id="7984f-159">See the article on [setting a nullable strategy](../../nullable-migration-strategies.md).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="7984f-160">C# dili belirtimi</span><span class="sxs-lookup"><span data-stu-id="7984f-160">C# language specification</span></span>

<span data-ttu-id="7984f-161">Daha fazla bilgi [için, C# dil belirtimi](~/_csharplang/spec/introduction.md)için aşağıdaki önerilere bakın:</span><span class="sxs-lookup"><span data-stu-id="7984f-161">For more information, see the following proposals for the [C# language specification](~/_csharplang/spec/introduction.md):</span></span>

- [<span data-ttu-id="7984f-162">Boş değer atanabilir başvuru türleri</span><span class="sxs-lookup"><span data-stu-id="7984f-162">Nullable reference types</span></span>](~/_csharplang/proposals/csharp-8.0/nullable-reference-types.md)
- [<span data-ttu-id="7984f-163">Taslak nullable referans türleri belirtimi</span><span class="sxs-lookup"><span data-stu-id="7984f-163">Draft nullable reference types specification</span></span>](~/_csharplang/proposals/csharp-8.0/nullable-reference-types-specification.md)

## <a name="see-also"></a><span data-ttu-id="7984f-164">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="7984f-164">See also</span></span>

- [<span data-ttu-id="7984f-165">C# başvurusu</span><span class="sxs-lookup"><span data-stu-id="7984f-165">C# reference</span></span>](../index.md)
- [<span data-ttu-id="7984f-166">Boş değer atanabilen değer türleri</span><span class="sxs-lookup"><span data-stu-id="7984f-166">Nullable value types</span></span>](nullable-value-types.md)
