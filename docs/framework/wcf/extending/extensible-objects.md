---
description: 'Daha fazla bilgi edinin: Genişletilebilir nesneler'
title: Genişletilebilen Nesneler
ms.date: 03/30/2017
helpviewer_keywords:
- extensible objects [WCF]
ms.assetid: bc88cefc-31fb-428e-9447-6d20a7d452af
ms.openlocfilehash: 80082f4c94adf2d668ff4c241d286959d9a05038
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99756701"
---
# <a name="extensible-objects"></a><span data-ttu-id="25337-103">Genişletilebilen Nesneler</span><span class="sxs-lookup"><span data-stu-id="25337-103">Extensible Objects</span></span>

<span data-ttu-id="25337-104">Genişletilebilir nesne stili, mevcut çalışma zamanı sınıflarını yeni işlevlerle genişletmek veya bir nesneye yeni durum eklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="25337-104">The extensible object pattern is used to either extend existing runtime classes with new functionality or to add new state to an object.</span></span> <span data-ttu-id="25337-105">Genişletilebilir nesnelerden birine bağlı olan uzantılar, paylaşılan durum ve işlevlere, bunlara erişebilen ortak bir Genişletilebilir nesneye eklenen işlevlere erişmek için işleme sırasındaki çok farklı aşamalar üzerinde davranışları etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="25337-105">Extensions, attached to one of the extensible objects, enable behaviors at very different stages in processing to access shared state and functionality attached to a common extensible object that they can access.</span></span>

## <a name="the-iextensibleobjectt-pattern"></a><span data-ttu-id="25337-106">IExtensibleObject \<T> kalıbı</span><span class="sxs-lookup"><span data-stu-id="25337-106">The IExtensibleObject\<T> Pattern</span></span>

<span data-ttu-id="25337-107">Genişletilebilir nesne deseninin üç arabirimi vardır: <xref:System.ServiceModel.IExtensibleObject%601> , <xref:System.ServiceModel.IExtension%601> ve <xref:System.ServiceModel.IExtensionCollection%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-107">There are three interfaces in the extensible object pattern: <xref:System.ServiceModel.IExtensibleObject%601>, <xref:System.ServiceModel.IExtension%601>, and <xref:System.ServiceModel.IExtensionCollection%601>.</span></span>

<span data-ttu-id="25337-108"><xref:System.ServiceModel.IExtensibleObject%601>Arabirim, nesnelerin işlevlerini özelleştirmesini sağlayan türler tarafından uygulanır <xref:System.ServiceModel.IExtension%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-108">The <xref:System.ServiceModel.IExtensibleObject%601> interface is implemented by types that allow <xref:System.ServiceModel.IExtension%601> objects to customize their functionality.</span></span>

<span data-ttu-id="25337-109">Genişletilebilir nesneler nesnelerin dinamik toplanmasının kullanılmasına izin verir <xref:System.ServiceModel.IExtension%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-109">Extensible objects allow dynamic aggregation of <xref:System.ServiceModel.IExtension%601> objects.</span></span> <span data-ttu-id="25337-110"><xref:System.ServiceModel.IExtension%601> nesneler aşağıdaki arabirimle belirlenir:</span><span class="sxs-lookup"><span data-stu-id="25337-110"><xref:System.ServiceModel.IExtension%601> objects are characterized by the following interface:</span></span>

```csharp
public interface IExtension<T>
where T : IExtensibleObject<T>
{
    void Attach(T owner);
    void Detach(T owner);
}
```

<span data-ttu-id="25337-111">Tür kısıtlaması, uzantıların yalnızca bir olan sınıflar için tanımlanabilir olmasını sağlar <xref:System.ServiceModel.IExtensibleObject%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-111">The type restriction guarantees that extensions can only be defined for classes that are <xref:System.ServiceModel.IExtensibleObject%601>.</span></span> <span data-ttu-id="25337-112"><xref:System.ServiceModel.IExtension%601.Attach%2A> ve <xref:System.ServiceModel.IExtension%601.Detach%2A> toplama ya da ayırma bildirimleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="25337-112"><xref:System.ServiceModel.IExtension%601.Attach%2A> and <xref:System.ServiceModel.IExtension%601.Detach%2A> provide notification of aggregation or disaggregation.</span></span>

<span data-ttu-id="25337-113">Uygulamaların bir sahibe eklenip kaldırılabileceği kısıtlanması için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="25337-113">It is valid for implementations to restrict when they may be added and removed from an owner.</span></span> <span data-ttu-id="25337-114">Örneğin, tamamen kaldırılmasına izin verebilir, sahip veya uzantı belirli bir durumda olduğunda uzantıları ekleme veya kaldırma, eşzamanlı olarak birden çok Sahibe ekleme veya tek bir eklemeyi yalnızca tek bir ekleme ve tek bir kaldırma ile izin verme.</span><span class="sxs-lookup"><span data-stu-id="25337-114">For example, you can disallow removal entirely, disallowing adding or removing extensions when the owner or extension are in a certain state, disallow adding to multiple owners concurrently, or allow only a single addition followed by a single remove.</span></span>

<span data-ttu-id="25337-115"><xref:System.ServiceModel.IExtension%601> , diğer standart yönetilen arabirimlere sahip herhangi bir etkileşim göstermez.</span><span class="sxs-lookup"><span data-stu-id="25337-115"><xref:System.ServiceModel.IExtension%601> does not imply any interactions with other standard managed interfaces.</span></span> <span data-ttu-id="25337-116">Özellikle, <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> sahip nesnesi üzerindeki yöntemi normalde uzantılarının bağlantısını içermez.</span><span class="sxs-lookup"><span data-stu-id="25337-116">Specifically, the <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> method on the owner object does not normally detach its extensions.</span></span>

<span data-ttu-id="25337-117">Koleksiyona bir uzantı eklendiğinde, <xref:System.ServiceModel.IExtension%601.Attach%2A> koleksiyona geçmeden önce çağrılır.</span><span class="sxs-lookup"><span data-stu-id="25337-117">When an extension is added to the collection, <xref:System.ServiceModel.IExtension%601.Attach%2A> is called before it goes into the collection.</span></span> <span data-ttu-id="25337-118">Koleksiyondan bir uzantı kaldırıldığında, kaldırıldıktan <xref:System.ServiceModel.IExtension%601.Detach%2A> sonra çağrılır.</span><span class="sxs-lookup"><span data-stu-id="25337-118">When an extension is removed from the collection, <xref:System.ServiceModel.IExtension%601.Detach%2A> is called after it is removed.</span></span> <span data-ttu-id="25337-119">Bu, bir uzantının ve arasında olduğu sırada yalnızca koleksiyonda bulunan üzerinde sayımda olabileceği anlamına gelir (uygun eşitlemeyi kabul ediyor <xref:System.ServiceModel.IExtension%601.Attach%2A> ) <xref:System.ServiceModel.IExtension%601.Detach%2A> .</span><span class="sxs-lookup"><span data-stu-id="25337-119">This means (assuming appropriate synchronization) an extension can count on only being found in the collection while it is between <xref:System.ServiceModel.IExtension%601.Attach%2A> and <xref:System.ServiceModel.IExtension%601.Detach%2A>.</span></span>

<span data-ttu-id="25337-120">Geçirilen <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> veya <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> olmayan nesne <xref:System.ServiceModel.IExtension%601> (örneğin, herhangi bir nesneyi geçirebilirsiniz), ancak döndürülen uzantı bir <xref:System.ServiceModel.IExtension%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-120">The object passed to <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> or <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> need not be <xref:System.ServiceModel.IExtension%601> (for example, you can pass any object), but the returned extension is an <xref:System.ServiceModel.IExtension%601>.</span></span>

<span data-ttu-id="25337-121">Koleksiyonda uzantı yoksa <xref:System.ServiceModel.IExtension%601> , <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> null döndürür ve <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> boş bir koleksiyon döndürür.</span><span class="sxs-lookup"><span data-stu-id="25337-121">If no extension in the collection is an <xref:System.ServiceModel.IExtension%601>, <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> returns null, and <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> returns an empty collection.</span></span> <span data-ttu-id="25337-122">Birden çok uzantı uygularsanız <xref:System.ServiceModel.IExtension%601> , bunlardan <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> birini döndürür.</span><span class="sxs-lookup"><span data-stu-id="25337-122">If multiple extensions implement <xref:System.ServiceModel.IExtension%601>, <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> returns one of them.</span></span> <span data-ttu-id="25337-123">Öğesinden döndürülen değer <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> bir anlık görüntüdür.</span><span class="sxs-lookup"><span data-stu-id="25337-123">The value returned from <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> is a snapshot.</span></span>

<span data-ttu-id="25337-124">İki ana senaryo vardır.</span><span class="sxs-lookup"><span data-stu-id="25337-124">There are two main scenarios.</span></span> <span data-ttu-id="25337-125">İlk senaryo, <xref:System.ServiceModel.IExtensibleObject%601.Extensions%2A> bir nesne üzerinde durum eklemek için özelliği tür tabanlı sözlük olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="25337-125">The first scenario uses the <xref:System.ServiceModel.IExtensibleObject%601.Extensions%2A> property as a type-based dictionary to insert state on an object to enable another component to look it up using the type.</span></span>

<span data-ttu-id="25337-126">İkinci senaryo, <xref:System.ServiceModel.IExtension%601.Attach%2A> <xref:System.ServiceModel.IExtension%601.Detach%2A> bir nesnenin olayları kaydetme, durum geçişlerini izleme vb. gibi özel davranışa katılmasını sağlamak için ve özelliklerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="25337-126">The second scenario uses the <xref:System.ServiceModel.IExtension%601.Attach%2A> and <xref:System.ServiceModel.IExtension%601.Detach%2A> properties to enable an object to participate in custom behavior, such as registering for events, watching state transitions, and so on.</span></span>

<span data-ttu-id="25337-127"><xref:System.ServiceModel.IExtensionCollection%601>Arabirim, <xref:System.ServiceModel.IExtension%601> türüne göre alma için izin veren nesnelerin bir koleksiyonudur <xref:System.ServiceModel.IExtension%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-127">The <xref:System.ServiceModel.IExtensionCollection%601> interface is a collection of the <xref:System.ServiceModel.IExtension%601> objects that allow for retrieving the <xref:System.ServiceModel.IExtension%601> by its type.</span></span> <span data-ttu-id="25337-128"><xref:System.ServiceModel.IExtensionCollection%601.Find%2A?displayProperty=nameWithType> Bu türden bir olan en son eklenen nesneyi döndürür <xref:System.ServiceModel.IExtension%601> .</span><span class="sxs-lookup"><span data-stu-id="25337-128"><xref:System.ServiceModel.IExtensionCollection%601.Find%2A?displayProperty=nameWithType> returns the most recently added object that is an <xref:System.ServiceModel.IExtension%601> of that type.</span></span>

### <a name="extensible-objects-in-windows-communication-foundation"></a><span data-ttu-id="25337-129">Windows Communication Foundation Genişletilebilir nesneler</span><span class="sxs-lookup"><span data-stu-id="25337-129">Extensible Objects in Windows Communication Foundation</span></span>

<span data-ttu-id="25337-130">Windows Communication Foundation (WCF) üzerinde dört genişletilebilir nesne vardır:</span><span class="sxs-lookup"><span data-stu-id="25337-130">There are four extensible objects in Windows Communication Foundation (WCF):</span></span>

- <span data-ttu-id="25337-131"><xref:System.ServiceModel.ServiceHostBase> – Bu, hizmetin ana bilgisayar için temel sınıftır.</span><span class="sxs-lookup"><span data-stu-id="25337-131"><xref:System.ServiceModel.ServiceHostBase> – This is the base class for the service’s host.</span></span>  <span data-ttu-id="25337-132">Bu sınıfın uzantıları, kendi davranışını genişletmek <xref:System.ServiceModel.ServiceHostBase> veya her bir hizmetin durumunu depolamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="25337-132">Extensions of this class can be used to extend the behavior of the <xref:System.ServiceModel.ServiceHostBase> itself or to store the state for each service.</span></span>

- <span data-ttu-id="25337-133"><xref:System.ServiceModel.InstanceContext> – Bu sınıf hizmet çalışma zamanına sahip hizmet türünün bir örneğini bağlar.</span><span class="sxs-lookup"><span data-stu-id="25337-133"><xref:System.ServiceModel.InstanceContext> – This class connects an instance of the service’s type with the service runtime.</span></span>  <span data-ttu-id="25337-134">Bu, örneği ve içeren bir başvuru hakkında bilgi içerir <xref:System.ServiceModel.InstanceContext> <xref:System.ServiceModel.ServiceHostBase> .</span><span class="sxs-lookup"><span data-stu-id="25337-134">It contains information about the instance as well as a reference to the <xref:System.ServiceModel.InstanceContext>'s containing <xref:System.ServiceModel.ServiceHostBase>.</span></span> <span data-ttu-id="25337-135">Bu sınıfın uzantıları, <xref:System.ServiceModel.InstanceContext> her hizmet için durumu depolamak üzere veya davranışını genişletmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="25337-135">Extensions of this class can be used to extend the behavior of the <xref:System.ServiceModel.InstanceContext> or to store the state for each service.</span></span>

- <span data-ttu-id="25337-136"><xref:System.ServiceModel.OperationContext> – Bu sınıf, çalışma zamanının her işlem için topladığı işlem bilgisini temsil eder.</span><span class="sxs-lookup"><span data-stu-id="25337-136"><xref:System.ServiceModel.OperationContext> – This class represents the operation information that the runtime gathers for each operation.</span></span>  <span data-ttu-id="25337-137">Bu, gelen ileti üstbilgileri, gelen ileti özellikleri, gelen güvenlik kimliği ve diğer bilgiler gibi bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="25337-137">This includes information such as the incoming message headers, the incoming message properties, the incoming security identity, and other information.</span></span>  <span data-ttu-id="25337-138">Bu sınıfın uzantıları, her bir işlemin davranışını genişletebilir <xref:System.ServiceModel.OperationContext> veya durum saklayabilir.</span><span class="sxs-lookup"><span data-stu-id="25337-138">Extensions of this class can either extend the behavior of <xref:System.ServiceModel.OperationContext> or store the state for each operation.</span></span>

- <span data-ttu-id="25337-139"><xref:System.ServiceModel.IContextChannel> – Bu arabirim, WCF çalışma zamanı tarafından oluşturulan kanalların ve proxy 'lerin her durumunun incelemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="25337-139"><xref:System.ServiceModel.IContextChannel> – This interface allows for the inspection of each state for the channels and proxies built by the WCF runtime.</span></span>  <span data-ttu-id="25337-140">Bu sınıfın uzantıları, <xref:System.ServiceModel.IClientChannel> her bir kanalın durumunu depolamak için ya da davranışını genişletebilir.</span><span class="sxs-lookup"><span data-stu-id="25337-140">Extensions of this class can either extend the behavior of <xref:System.ServiceModel.IClientChannel> or can use it to store the state for each channel.</span></span>

<span data-ttu-id="25337-141">Aşağıdaki kod örneği, nesneleri izlemek için basit bir uzantının kullanımını gösterir <xref:System.ServiceModel.InstanceContext> .</span><span class="sxs-lookup"><span data-stu-id="25337-141">The following code example shows the use of a simple extension to track <xref:System.ServiceModel.InstanceContext> objects.</span></span>

[!code-csharp[IInstanceContextInitializer#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/iinstancecontextinitializer/cs/initializer.cs#1)]

## <a name="see-also"></a><span data-ttu-id="25337-142">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="25337-142">See also</span></span>

- <xref:System.ServiceModel.IExtensibleObject%601>
- <xref:System.ServiceModel.IExtension%601>
- <xref:System.ServiceModel.IExtensionCollection%601>
