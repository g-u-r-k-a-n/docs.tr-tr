---
title: .NET sürümünde bir görüntünün hata ayıklamayı kolaylaştırın
description: IDE anahtarlarını ve komut satırı seçeneklerini kullanarak daha kolay hata ayıklama için yürütülebilir bir görüntünün nasıl yapılandırılacağını öğrenin.
ms.date: 08/30/2018
helpviewer_keywords:
- images [.NET Framework], debugging
- executable image for debugging
- debugging [.NET Framework], executable images for
ms.assetid: 7d90ea7a-150f-4f97-98a7-f9c26541b9a3
ms.openlocfilehash: 44d512a8ebec0e21e33f51c07428331e5e22b7bf
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/14/2020
ms.locfileid: "77217335"
---
# <a name="making-an-image-easier-to-debug-in-net"></a><span data-ttu-id="a4a7a-103">.NET sürümünde bir görüntünün hata ayıklamayı kolaylaştırın</span><span class="sxs-lookup"><span data-stu-id="a4a7a-103">Making an image easier to debug in .NET</span></span>

<span data-ttu-id="a4a7a-104">Yönetilmeyen kod derlenirken, IDE anahtarlarını veya komut satırı seçeneklerini ayarlayarak hata ayıklama için çalıştırılabilir bir görüntü yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-104">When compiling unmanaged code, you can configure an executable image for debugging by setting IDE switches or command-line options.</span></span> <span data-ttu-id="a4a7a-105">Örneğin, hata ayıklama sembol dosyalarını (dosya uzantısı. pdb) yaymasını Istemek C++ Için Visual 'teki/zı komut satırı seçeneğini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-105">For example, you can use the /**Zi** command-line option in Visual C++ to ask it to emit debug symbol files (file extension .pdb).</span></span> <span data-ttu-id="a4a7a-106">Benzer şekilde,/**od** komut satırı seçeneği derleyiciye iyileştirmeyi devre dışı bırakmayı söyler.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-106">Similarly, the /**Od** command-line option tells the compiler to disable optimization.</span></span> <span data-ttu-id="a4a7a-107">Elde edilen kod daha yavaş çalışır, ancak bunun daha kolay hata ayıklaması gerekir, bu gerekli olacaktır.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-107">The resulting code runs more slowly, but it's easier to debug, should this be necessary.</span></span>

<span data-ttu-id="a4a7a-108">.NET Framework yönetilen kodu derlerken, görsel C++gibi derleyiciler, Visual Basic ve C# kaynak programını MICROSOFT ara dili (MSIL) olarak derler.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-108">When compiling .NET Framework managed code, compilers such as Visual C++, Visual Basic, and C# compile their source program into Microsoft intermediate language (MSIL).</span></span> <span data-ttu-id="a4a7a-109">MSIL daha sonra, yürütmeden önce, yerel makine koduna, daha sonra JıT olarak derlenir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-109">MSIL is then JIT-compiled, just before execution, into native machine code.</span></span> <span data-ttu-id="a4a7a-110">Yönetilmeyen kodda olduğu gibi, IDE anahtarlarını veya komut satırı seçeneklerini ayarlayarak hata ayıklama için çalıştırılabilir bir görüntü yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-110">As with unmanaged code, you can configure an executable image for debugging by setting IDE switches or command-line options.</span></span> <span data-ttu-id="a4a7a-111">Ayrıca, JıT derlemesini hata ayıklama için aynı şekilde de yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-111">You can also configure the JIT compilation for debugging in much the same way.</span></span>

<span data-ttu-id="a4a7a-112">Bu JıT yapılandırmasının iki yönü vardır:</span><span class="sxs-lookup"><span data-stu-id="a4a7a-112">This JIT configuration has two aspects:</span></span>

- <span data-ttu-id="a4a7a-113">İzleme bilgilerini oluşturmak için JıT derleyicisini isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-113">You can request the JIT compiler to generate tracking information.</span></span> <span data-ttu-id="a4a7a-114">Bu, hata ayıklayıcının makine kodu karşılık gelen bir MSIL zinciri ile eşleşmesini ve yerel değişkenlerin ve işlev bağımsız değişkenlerinin nerede depolandığını izlemenizi olanaklı kılar.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-114">This makes it possible for the debugger to match up a chain of MSIL with its machine code counterpart, and to track where local variables and function arguments are stored.</span></span> <span data-ttu-id="a4a7a-115">.NET Framework sürüm 2,0 ' den başlayarak, JıT derleyicisi her zaman izleme bilgilerini oluşturur, bu nedenle isteği isteme gereksinimi yoktur.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-115">Starting with the .NET Framework version 2.0, the JIT compiler always generates tracking information, so there is no need to request it.</span></span>

- <span data-ttu-id="a4a7a-116">Elde edilen makine kodunu iyileştirmeden JıT derleyicisini isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-116">You can request the JIT compiler to not optimize the resulting machine code.</span></span>

<span data-ttu-id="a4a7a-117">Normalde, MSIL 'yi üreten derleyici bu JıT derleyici seçeneklerini, belirttiğiniz IDE anahtarlarına veya komut satırı seçeneklerine göre (örneğin,/**od**) uygun şekilde ayarlar.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-117">Normally, the compiler that generates the MSIL sets these JIT compiler options appropriately, based upon the IDE switches or command-line options you specify, for example, /**Od**.</span></span>

<span data-ttu-id="a4a7a-118">Bazı durumlarda, JıT derleyicisinin davranışını, oluşturduğu makine kodunun hata ayıklaması daha kolay olacak şekilde değiştirmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-118">In some cases, you might want to change the behavior of the JIT compiler so that the machine code it generates is easier to debug.</span></span> <span data-ttu-id="a4a7a-119">Örneğin, bir perakende derleme veya denetim iyileştirmesi için JıT izleme bilgileri oluşturmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-119">For example, you might want to generate JIT tracking information for a retail build or control optimization.</span></span> <span data-ttu-id="a4a7a-120">Bunu bir başlatma (. ini) dosyası ile yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-120">You can do so with an initialization (.ini) file.</span></span>

<span data-ttu-id="a4a7a-121">Örneğin, hata ayıklamak istediğiniz derleme *MyApp. exe*olarak adlandırılmışsa, MyApp. *ini*adlı bir metin dosyasını aşağıdaki üç satırı içeren *MyApp. exe*ile aynı klasörde oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="a4a7a-121">For example, if the assembly you want to debug is called *MyApp.exe*, then you can create a text file named *MyApp.ini*, in the same folder as *MyApp.exe*, which contains these three lines:</span></span>

```ini
[.NET Framework Debugging Control]
GenerateTrackingInfo=1
AllowOptimize=0
```

<span data-ttu-id="a4a7a-122">Her seçeneğin değerini 0 veya 1 olarak ayarlayabilir ve yok seçeneğinin varsayılan değeri 0 ' dır.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-122">You can set the value of each option to 0 or 1, and any absent option defaults to 0.</span></span> <span data-ttu-id="a4a7a-123">`GenerateTrackingInfo` 1 ' e ve `AllowOptimize` 0 ' a ayarlamak en kolay hata ayıklamayı sağlar.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-123">Setting `GenerateTrackingInfo` to 1 and `AllowOptimize` to 0 provides the easiest debugging.</span></span>

<span data-ttu-id="a4a7a-124">.NET Framework sürüm 2,0 ' den başlayarak, JıT derleyicisi `GenerateTrackingInfo`değerinden bağımsız olarak her zaman izleme bilgilerini oluşturur; Ancak, `AllowOptimize` değeri hala bir etkiye sahiptir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-124">Starting with the .NET Framework version 2.0, the JIT compiler always generates tracking information regardless of the value for `GenerateTrackingInfo`; however, the `AllowOptimize` value still has an effect.</span></span> <span data-ttu-id="a4a7a-125">[Ngen. exe ' yi (yerel görüntü Oluşturucu)](../tools/ngen-exe-native-image-generator.md) kullanırken, yerel görüntüyü iyileştirme olmadan önceden derlemek Için, Ngen. exe yürütüldüğünde. ini dosyası hedef klasörde bulunmalıdır `AllowOptimize=0`.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-125">When using the [Ngen.exe (Native Image Generator)](../tools/ngen-exe-native-image-generator.md) to precompile the native image without optimization, the .ini file must be present in the target folder with `AllowOptimize=0` when Ngen.exe executes.</span></span> <span data-ttu-id="a4a7a-126">En iyi duruma getirme olmadan bir derlemeyi önceden derlenmiş hale getirdiniz, Ngen. exe ' yi yeniden çalıştırmadan önce Ngen **. exe '** yi kullanarak önceden derlenmiş kodu kaldırmalısınız.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-126">If you have precompiled an assembly without optimization, you must remove the precompiled code using NGen.exe **/uninstall** option before rerunning Ngen.exe to precompile the code as optimized.</span></span> <span data-ttu-id="a4a7a-127">. İni dosyası klasöründe yoksa, varsayılan olarak Ngen. exe kodu en iyileştirilmiş olarak önceden derler.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-127">If the .ini file isn't present in the folder, by default Ngen.exe precompiles the code as optimized.</span></span>

<span data-ttu-id="a4a7a-128"><xref:System.Diagnostics.DebuggableAttribute?displayProperty=nameWithType>, bir derlemenin ayarlarını denetler.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-128">The <xref:System.Diagnostics.DebuggableAttribute?displayProperty=nameWithType> controls the settings for an assembly.</span></span> <span data-ttu-id="a4a7a-129">Hata ayıklama **Ggableattribute** , JIT derleyicisinin izleme bilgilerini iyileştirip/veya üretmeyeceğini denetleyen iki alan içerir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-129">**DebuggableAttribute** includes two fields that control whether the JIT compiler should optimize and/or generate tracking information.</span></span> <span data-ttu-id="a4a7a-130">.NET Framework sürüm 2,0 ' den başlayarak, JıT derleyicisi her zaman izleme bilgilerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-130">Starting with the .NET Framework version 2.0, the JIT compiler always generates tracking information.</span></span>

<span data-ttu-id="a4a7a-131">Bir perakende derlemesi için, derleyiciler herhangi bir hata ayıklama **Ggableattribute**ayarlanmamış.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-131">For a retail build, compilers don't set any **DebuggableAttribute**.</span></span> <span data-ttu-id="a4a7a-132">Varsayılan olarak, JIT derleyicisi makine kodunda hata ayıklamak için en yüksek performansı, en zor 'yi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-132">By default, the JIT compiler generates the highest performance, hardest to debug machine code.</span></span> <span data-ttu-id="a4a7a-133">JıT izlemenin etkinleştirilmesi performansı biraz düşürür ve en iyi duruma getirme performansı çok büyük ölçüde azaltır.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-133">Enabling JIT tracking lowers performance a little, and disabling optimization lowers performance a lot.</span></span>

<span data-ttu-id="a4a7a-134">Hata ayıklama **Ggableattribute** , derleme içindeki ayrı modüller için değil, bir kerede tüm derleme için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-134">The **DebuggableAttribute** applies to a whole assembly at a time, not to individual modules within the assembly.</span></span> <span data-ttu-id="a4a7a-135">Bu nedenle geliştirme araçları, derleme meta veri belirtecine, bir derleme zaten oluşturulmuşsa veya **System. Runtime. CompilerServices. AssemblyAttributesGoHere**adlı sınıfa özel öznitelikler iliştirmelidir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-135">Development tools must therefore attach custom attributes to the assembly metadata token, if an assembly has already been created, or to the class called **System.Runtime.CompilerServices.AssemblyAttributesGoHere**.</span></span> <span data-ttu-id="a4a7a-136">Sonra ALink aracı **, bu hata** ayıklama kodu özniteliklerini her modülden bir parçası haline geldikleri derlemeye yükseltir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-136">The ALink tool then promotes these **DebuggableAttribute** attributes from each module to the assembly they become a part of.</span></span> <span data-ttu-id="a4a7a-137">Bir çakışma varsa, ALink işlemi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-137">If there's a conflict, the ALink operation fails.</span></span>

> [!NOTE]
> <span data-ttu-id="a4a7a-138">.NET Framework sürüm 1,0 ' de C++ , **/clr** ve **/Zi** derleyici seçenekleri belirtildiğinde Microsoft Visual derleyicisi, hata **ayıklayıcıggableattribute** öğesini ekler.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-138">In version 1.0 of the .NET Framework, the Microsoft Visual C++ compiler adds the **DebuggableAttribute** when the **/clr** and **/Zi** compiler options are specified.</span></span> <span data-ttu-id="a4a7a-139">.NET Framework sürüm 1,1 ' de, hata **ayıklıbağlantı özniteliği** kodunuza el ile eklemeniz veya **/ASSEMBLYDEBUG** bağlayıcı seçeneğini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-139">In version 1.1 of the .NET Framework, you must either add the **DebuggableAttribute** manually in your code or use the **/ASSEMBLYDEBUG** linker option.</span></span>

## <a name="see-also"></a><span data-ttu-id="a4a7a-140">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="a4a7a-140">See also</span></span>

- [<span data-ttu-id="a4a7a-141">Hata Ayıklama, İzleme ve Profil Oluşturma</span><span class="sxs-lookup"><span data-stu-id="a4a7a-141">Debugging, Tracing, and Profiling</span></span>](index.md)
- [<span data-ttu-id="a4a7a-142">JIT-Ekleme Hata Ayıklamayı Etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="a4a7a-142">Enabling JIT-Attach Debugging</span></span>](enabling-jit-attach-debugging.md)
- <span data-ttu-id="a4a7a-143">[Profil oluşturmayı etkinleştirme](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/s5ec0es1(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="a4a7a-143">[Enabling Profiling](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/s5ec0es1(v=vs.100))</span></span>
