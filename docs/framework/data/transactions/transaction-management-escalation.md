---
title: İşlem Yönetimi Yükseltme
description: Bir işlemi bir işlem yöneticisinin bileşenlerinden diğerine geçirme işlemi olan .NET 'te işlem yönetimi yükseltme hakkında bilgi edinin.
ms.date: 03/30/2017
ms.assetid: 1e96331e-31b6-4272-bbbd-29ed1e110460
ms.openlocfilehash: 83abca2e2c9acf53ce3f72d6bc55a82964b99cb5
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/24/2020
ms.locfileid: "91155450"
---
# <a name="transaction-management-escalation"></a><span data-ttu-id="7ccbb-103">İşlem Yönetimi Yükseltme</span><span class="sxs-lookup"><span data-stu-id="7ccbb-103">Transaction Management Escalation</span></span>

<span data-ttu-id="7ccbb-104">Windows, birlikte bir işlem yöneticisi oluşturan bir dizi hizmet ve modül barındırır.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-104">Windows hosts a set of services and modules that together constitute a transaction manager.</span></span> <span data-ttu-id="7ccbb-105">İşlem yönetimi yükseltme işlemi, işlem yöneticisinin bileşenlerinden birinden diğerine bir işlem geçirme işlemini açıklar.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-105">Transaction management escalation describes the process of migrating a transaction from one of the transaction manager's components to another.</span></span>  
  
 <span data-ttu-id="7ccbb-106"><xref:System.Transactions> en çok, tek bir dayanıklı kaynak veya birden çok geçici kaynakla ilişkili bir işlemi koordine eden bir işlem Yöneticisi bileşeni içerir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-106"><xref:System.Transactions> includes a transaction manager component that coordinates a transaction involving at most, a single durable resource or multiple volatile resources.</span></span> <span data-ttu-id="7ccbb-107">İşlem Yöneticisi yalnızca uygulama içi etki alanı çağrılarını kullandığından, en iyi performansı verir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-107">Because the transaction manager uses only intra-application domain calls, it yields the best performance.</span></span> <span data-ttu-id="7ccbb-108">Geliştiricilerin işlem yöneticisiyle doğrudan etkileşimde olmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-108">Developers need not interact with the transaction manager directly.</span></span> <span data-ttu-id="7ccbb-109">Bunun yerine, arabirimleri, yaygın davranışı ve yardımcı sınıfları tanımlayan ortak bir altyapı <xref:System.Transactions> ad alanı tarafından sağlanır.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-109">Instead, a common infrastructure that defines interfaces, common behavior, and helper classes is provided by the <xref:System.Transactions> namespace.</span></span>  
  
 <span data-ttu-id="7ccbb-110">Aynı bilgisayardaki başka bir uygulama etki alanındaki (işlem ve makine sınırları dahil) bir nesneye işlem sağlamak istediğinizde, <xref:System.Transactions> altyapı Microsoft Dağıtılmış işlem Düzenleyicisi (MSDTC) tarafından yönetilmek üzere işlemi otomatik olarak ilerletir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-110">When you want to provide the transaction to an object in another application domain (including across process and machine boundaries) on the same computer, the <xref:System.Transactions> infrastructure automatically escalates the transaction to be managed by the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="7ccbb-111">Başka bir kalıcı Kaynak Yöneticisi listeleme yükseltme de oluşur.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-111">The escalation also occurs if you enlist another durable resource manager.</span></span> <span data-ttu-id="7ccbb-112">İlerletilen zaman, işlem tamamlanana kadar yükseltilmiş durumunda yönetilmeye devam eder.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-112">When escalated, the transaction remains managed in its elevated state until its completion.</span></span>  
  
 <span data-ttu-id="7ccbb-113"><xref:System.Transactions>İşlem ve MSDTC işlemi arasında, promotable tek aşama kaydı (PSPE) aracılığıyla kullanılabilir hale getirilen bir işlem aracı türü vardır.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-113">Between the <xref:System.Transactions> transaction and MSDTC transaction, there is an intermediary type of transaction that is made available through the Promotable Single Phase Enlistment (PSPE).</span></span> <span data-ttu-id="7ccbb-114">PSPE olan başka bir önemli yönteminde <xref:System.Transactions> performansını iyileştirme için.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-114">PSPE is another important mechanism in <xref:System.Transactions> for performance optimization.</span></span> <span data-ttu-id="7ccbb-115">Farklı bir uygulama etki alanında, işlemde veya bilgisayarda bulunan, uzak kalıcı bir kaynağın bir <xref:System.Transactions> MSDTC işlemine ilerlemesine neden olmadan bir işleme katılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-115">It allows a remote durable resource, located in a different application domain, process or computer, to participate in a <xref:System.Transactions> transaction without causing it to be escalated to an MSDTC transaction.</span></span> <span data-ttu-id="7ccbb-116">PSPE hakkında daha fazla bilgi için bkz. [kaynakları bir işlem Içinde katılımcılar olarak listeleme](enlisting-resources-as-participants-in-a-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="7ccbb-116">For more information about PSPE, see [Enlisting Resources as Participants in a Transaction](enlisting-resources-as-participants-in-a-transaction.md).</span></span>  
  
## <a name="how-escalation-is-initiated"></a><span data-ttu-id="7ccbb-117">Yükseltme nasıl başlatılır</span><span class="sxs-lookup"><span data-stu-id="7ccbb-117">How Escalation is Initiated</span></span>  

 <span data-ttu-id="7ccbb-118">MSDTC, ayrı bir işlemde bulunduğundan ve işlem genelinde gönderilen iletilerde bir işlemi MSDTC sonuçlarına ilerletiğinden, işlem yükseltme performansı azaltır.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-118">Transaction escalation reduces performance because the MSDTC resides in a separate process, and escalating a transaction to the MSDTC results in messages being sent across process.</span></span> <span data-ttu-id="7ccbb-119">Performansı artırmak için, MSDTC 'yi geciktirmelisiniz veya bu yükseltmeyi kullanmaktan kaçının; Bu nedenle, ilerletme 'nın nasıl ve ne zaman başlatıldığını bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-119">To improve performance, you should delay or avoid escalation to MSDTC; thus, you need to know how and when the escalation is initiated.</span></span>  
  
 <span data-ttu-id="7ccbb-120"><xref:System.Transactions>Altyapı, geçici kaynakları ve tek aşamalı bildirimleri destekleyen en fazla bir dayanıklı kaynağı işlediği sürece işlem, altyapının sahipliğinin yerinde kalır <xref:System.Transactions> .</span><span class="sxs-lookup"><span data-stu-id="7ccbb-120">As long as the <xref:System.Transactions> infrastructure handles volatile resources and at most one durable resource that supports single-phase notifications, the transaction remains in the ownership of the <xref:System.Transactions> infrastructure.</span></span> <span data-ttu-id="7ccbb-121">İşlem Yöneticisi, yalnızca aynı uygulama etki alanında yaşayan ve günlüğe kaydetme (işlem sonucunu diske yazma) gerekli olmayan kaynaklarla yalnızca kendisi için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-121">The transaction manager avails itself only to those resources that live in the same application domain and for which logging (writing the transaction outcome to disk) is not required.</span></span> <span data-ttu-id="7ccbb-122"><xref:System.Transactions>İşlemin SAHIPLIĞINI MSDTC 'ye aktarma altyapısına neden olan bir yükseltme, şu durumlarda oluşur:</span><span class="sxs-lookup"><span data-stu-id="7ccbb-122">An escalation that results in the <xref:System.Transactions> infrastructure transferring the ownership of the transaction to MSDTC happens when:</span></span>  
  
- <span data-ttu-id="7ccbb-123">Tek aşamalı bildirimleri desteklemeyen en az bir dayanıklı kaynak, işleme kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-123">At least one durable resource that does not support single-phase notifications is enlisted in the transaction.</span></span>  
  
- <span data-ttu-id="7ccbb-124">Tek aşamalı bildirimleri destekleyen en az iki dayanıklı kaynak, işleme kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-124">At least two durable resources that support single-phase notifications are enlisted in the transaction.</span></span> <span data-ttu-id="7ccbb-125">Örneğin, SQL Server 2005 ile tek bir bağlantının listelenmesi bir işlemin yükseltilmemesine neden olmaz.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-125">For example, enlisting a single connection with SQL Server 2005 does not cause a transaction to be promoted.</span></span> <span data-ttu-id="7ccbb-126">Ancak, bir SQL Server 2005 veritabanına ikinci bir bağlantı açtığınızda, <xref:System.Transactions> Bu, altyapı işlemde ikinci dayanıklı kaynak olduğunu algılar ve bır MSDTC işlemine ilerletir.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-126">However, whenever you open a second connection to a SQL Server 2005 database causing the database to enlist, the <xref:System.Transactions> infrastructure detects that it is the second durable resource in the transaction, and escalates it to an MSDTC transaction.</span></span>  
  
- <span data-ttu-id="7ccbb-127">İşlemi farklı bir uygulama etki alanına veya farklı bir işleme "sıralama" isteği çağrılır.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-127">A request to "marshal" the transaction to a different application domain or different process is invoked.</span></span> <span data-ttu-id="7ccbb-128">Örneğin, bir uygulama etki alanı sınırı genelinde işlem nesnesinin serileştirilmesi.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-128">For example, the serialization of the transaction object across an application domain boundary.</span></span> <span data-ttu-id="7ccbb-129">İşlem nesnesi değeri, bir uygulama etki alanı sınırı (aynı işlem içinde bile) üzerinde geçiş girişimleri işlem nesnesinin serileştirilmesi ile sonuçlanarak değere göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-129">The transaction object is marshaled-by-value, meaning that any attempt to pass it across an application domain boundary (even in the same process) results in serialization of the transaction object.</span></span> <span data-ttu-id="7ccbb-130">İşlem nesnelerini, parametre olarak bir olarak alan uzak bir yöntemde çağrı yaparak <xref:System.Transactions.Transaction> veya uzak bir işlem için hizmet veren bir bileşene erişmeye çalıştığınızda geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-130">You can pass the transaction objects by making a call on a remote method that takes a <xref:System.Transactions.Transaction> as a parameter or you can try to access a remote transactional-serviced component.</span></span> <span data-ttu-id="7ccbb-131">Bu işlem nesnesini seri hale getirir ve bir işlem, bir uygulama etki alanı genelinde serileştirildiğinde olduğu gibi bir yükseltme işlemine neden olur.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-131">This serializes the transaction object and results in an escalation, as when a transaction is serialized across an application domain.</span></span> <span data-ttu-id="7ccbb-132">Dağıtılmakta ve yerel işlem yöneticisi artık yeterli değil.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-132">It is being distributed and the local transaction manager is no longer adequate.</span></span>  
  
 <span data-ttu-id="7ccbb-133">Aşağıdaki tablo yükseltme sırasında oluşturulan tüm olası özel durumları listeler.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-133">The following table lists all the possible exceptions that can be thrown during escalation.</span></span>  
  
|<span data-ttu-id="7ccbb-134">Özel durum türü</span><span class="sxs-lookup"><span data-stu-id="7ccbb-134">Exception type</span></span>|<span data-ttu-id="7ccbb-135">Koşul</span><span class="sxs-lookup"><span data-stu-id="7ccbb-135">Condition</span></span>|  
|--------------------|---------------|  
|<xref:System.InvalidOperationException>|<span data-ttu-id="7ccbb-136">Yalıtım düzeyi eşit olan bir işlemi bir işleme girişiminde bulunuldu <xref:System.Transactions.IsolationLevel.Snapshot> .</span><span class="sxs-lookup"><span data-stu-id="7ccbb-136">An attempt to escalate a transaction with isolation level equal to <xref:System.Transactions.IsolationLevel.Snapshot>.</span></span>|  
|<xref:System.Transactions.TransactionAbortedException>|<span data-ttu-id="7ccbb-137">İşlem yöneticisi çalışmıyor.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-137">The transaction manager is down.</span></span>|  
|<xref:System.Transactions.TransactionException>|<span data-ttu-id="7ccbb-138">Yükseltme başarısız olur ve uygulama durduruldu.</span><span class="sxs-lookup"><span data-stu-id="7ccbb-138">The escalation fails and the application is aborted.</span></span>|
