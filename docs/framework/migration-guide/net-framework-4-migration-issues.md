---
title: .NET Framework 4 geçiş sorunları
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: c1c3298d87ad0f481fa30182e40cd5edcd535d6a
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "73975616"
---
# <a name="net-framework-4-migration-issues"></a>.NET Framework 4 geçiş sorunları

Bu konu, .NET Framework sürüm 3.5 Service Pack 1 ile düzeltmeler, standartlara uyumluluk ve güvenlik değişiklikleri ve müşteri geri bildirimlerine dayalı değişiklikler de dahil olmak üzere .NET Framework sürüm 4 arasındaki geçiş sorunlarını açıklar. Bu değişikliklerin çoğu uygulamalarınızdaki programlamalarda herhangi bir değişiklik gerektirmez. Değişiklik içerebilecek olanlar için tablonun Önerilen değişiklikler sütununa bakın. Önemli değişiklikler alana göre ayrılır, örneğin, ASP.NET ve Windows Presentation Foundation (WPF).

Bu konudaki sorunların daha üst düzey bir özeti [için .NET Framework 4'e](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)geçiş kılavuzuna bakın.

Yeni özellikler hakkında bilgi için [.NET Framework 4'teki Yeniliklere](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)bakın.

## <a name="aspnet-and-web"></a>ASP.NET ve Web

Ad <xref:System.Web>boşlukları: <xref:System.Web.Mobile> <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>, , ; assembly: System.Web (System.Web.dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Tarayıcı tanım dosyaları** | Tarayıcı tanım dosyaları, yeni ve güncelleştirilmiş tarayıcılar ve aygıtlar hakkında bilgi içerecek şekilde güncelleştirildi. Netscape Navigator gibi eski tarayıcılar ve aygıtlar kaldırıldı ve Google Chrome ve Apple iPhone gibi yeni tarayıcılar ve cihazlar eklendi.<br><br>Uygulamanız kaldırılan tarayıcı tanımlarından birinden devralınan özel tarayıcı tanımları içeriyorsa, bir hata görürsünüz.<br><br>Nesne <xref:System.Web.HttpBrowserCapabilities> (sayfanın `Request.Browse` özelliği tarafından ortaya çıkarılır) tarayıcı tanım dosyaları tarafından yönlendirilir. Bu nedenle, bu nesnenin bir özelliğine ASP.NET 4'te erişerek döndürülen bilgiler, ASP.NET önceki bir sürümünde döndürülen bilgilerden farklı olabilir. | Uygulamanız eski tarayıcı tanım dosyalarına dayanıyorsa, bunları aşağıdaki klasörden kopyalayabilirsiniz:<br><br>*Windows\\\\Microsoft.NET\\Çerçeve v2.0.50727\\CONFIG\\Tarayıcılar*<br><br>Dosyaları ASP.NET 4 için ilgili * \\\\CONFIG Tarayıcılar* klasörüne kopyalayın. Dosyaları kopyaladıktan sonra [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) komut satırı aracını çalıştırın. Daha fazla bilgi [https://www.asp.net/mobile](/aspnet/mobile/overview) için Web sitesine bakın. |
| **ASP.NET karma sürümleri altında çalışan çocuk uygulamaları** | ASP.NET ASP.NET önceki sürümlerini çalıştıran uygulamaların çocukları olarak yapılandırılan 4 uygulama yapılandırma veya derleme hataları nedeniyle başlatılamayabilir. Oluşan özel hata, uygulamanın IIS 6.0 altında mı yoksa IIS 7 veya IIS 7.5 altında mı çalıştığına bağlıdır. | Yapılandırma sisteminin ASP.NET 4 uygulamasını doğru bir şekilde tanıması için etkilenen uygulamaların yapılandırma dosyalarında değişiklik yapabilirsiniz. Yaptığınız değişiklikler hakkında bilgi için, ASP.NET Web sitesinde [4 Breaking Changes ASP.NET](/aspnet/whitepapers/aspnet4/breaking-changes) belgedeki "ASP.NET 4 Çocuk Başvurusunun ASP.NET 2,0 veya ASP.NET 3,5 Uygulamaları Altında Başlatılamaması" bölümüne bakın. |
| **İstemkimliği değişiklikleri** | ASP.NET `clientIDMode` 4'teki yeni ayar, ASP.NET'ın `id` HTML öğeleri için özniteliği nasıl oluşturduğunu belirtmenizi sağlar. ASP.NET önceki sürümlerinde, varsayılan davranış `AutoID` `clientIDMode`. Varsayılan ayar şimdi. `Predictable` Daha fazla bilgi için [Web Sunucusu Denetimi Kimliği ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29)bakın. | Uygulamanızı ASP.NET 2.0 veya ASP.NET 3.5'ten yükseltmek için Visual Studio'yu kullanırsanız, araç web.config dosyasına otomatik olarak .NET Framework'ün önceki sürümlerinin davranışını koruyan bir ayar ekler. Ancak, bir uygulamayı IIS'deki uygulama havuzunu değiştirerek .NET Framework 4'e hedeflemek için yükseltirseniz, ASP.NET varsayılan olarak yeni modu kullanır. Yeni istemci kimliği modunu devre dışı katmak için Web.config dosyasına aşağıdaki ayarı ekleyin:<br><br>`<pages clientIDMode="AutoID" />` |
| **Kod erişim güvenliği (CAS)** | ASP.NET 3.5'te eklenen 2.0 NET özellikleri ASP.NET .NET Framework 1.1 ve .NET Framework 2.0 kod erişim güvenliği (CAS) modelini kullanır. Ancak, 4 ASP.NET CAS uygulaması önemli ölçüde elden geçirilmiştir. Sonuç olarak, genel derleme önbelleğinde çalışan güvenilir koda dayanan kısmi güven ASP.NET uygulamaları çeşitli güvenlik özel durumları nedeniyle başarısız olabilir. Makine CAS ilkesinde kapsamlı değişikliklere dayanan kısmi güven uygulamaları da başarısız olabilir ve güvenlik özel durumları atabilir. | Aşağıdaki örnekte gösterildiği gibi `legacyCasModel` `trust` yapılandırma öğesindeki yeni özniteliği kullanarak kısmi güven ASP.NET 4 uygulamayı ASP.NET 1.1 ve 2.0 davranışına geri dönebilirsiniz:<br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br>Önemli: Eski CAS modeline geri dönmek azaltılmış güvenlik temsil edebilir.<br><br>Yeni ASP.NET 4 kod erişim güvenlik modeli hakkında daha fazla bilgi için, [ASP.NET 4 Uygulamalar'da Kod Erişim Güvenliği'ne](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100))bakın. |
| **Yapılandırma dosyaları** | .NET Framework ve ASP.NET 4'ün kök yapılandırma dosyaları (machine.config dosyası ve root Web.config dosyası) ASP.NET içinde web.config dosyalarında bulunan ortak yapılandırma bilgilerinin çoğunu içerecek şekilde güncelleştirildiASP.NET 3.5. Yönetilen IIS 7 ve IIS 7.5 yapılandırma sistemlerinin karmaşıklığı nedeniyle, ASP.NET 4 altında ve IIS 7 ve IIS 7.5 altında ASP.NET 3.5 uygulama çalıştırmak ASP.NET hatalara veya IIS hatalarına neden olabilir. | Visual Studio'daki proje yükseltme araçlarını kullanarak 3,5 uygulama ASP.NET ASP.NET 4'e yükseltin. Visual Studio 2010, ASP.NET 3.5 uygulamasının Web.config dosyasını ASP.NET 4 için uygun ayarları içerecek şekilde otomatik olarak değiştirir.<br><br>Ancak, .NET Framework 4'ASP.NET 3,5 uygulamalarını derleme yapmadan çalıştırabilirsiniz. Bu durumda, .NET Framework 4 ve IIS 7 veya IIS 7.5 altında uygulamayı çalıştırmadan önce uygulamanın Web.config dosyasını el ile değiştirmeniz gerekebilir. Yaptığınız belirli değişiklik, Hizmet Paketi (SP) sürümleri de dahil olmak üzere birlikte çalıştığınız yazılımın birleşimine bağlıdır. Bu değişiklikten etkilenen olası yazılım kombinasyonları ve belirli kombinasyonlarla ilgili sorunların nasıl çözüleceği hakkında bilgi için, ASP.NET Web sitesinde [4 Breaking Changes ASP.NET](/aspnet/whitepapers/aspnet4/breaking-changes) belgedeki "Yeni ASP.NET 4 Kök Yapılandırmasına İlişkin Yapılandırma Hataları" bölümüne bakın. |
| **Kontrol oluşturma** | ASP.NET önceki sürümlerinde, bazı denetimler devre dışı kaldığınız biçimlendirmeyi yaydı. Varsayılan olarak, bu tür biçimlendirme artık ASP.NET 4'te oluşturulmadı. Oluşturma değişiklikleri aşağıdaki denetimleri etkiler:<br><br>* `Image` Ve `ImageButton` denetimleri artık `border="0"` bir öznitelik işlemek.<br>* `BaseValidator` Ondan türetilen sınıf ve doğrulama denetimleri artık varsayılan olarak kırmızı metin işlemez.<br>* `HtmlForm` Denetim bir `name` öznitelik oluşturmaz.<br>* `Table` Denetim artık bir `border="0"` öznitelik işler.<br><br>Kullanıcı `Label` girişi için tasarlanmayan denetimler (örneğin, denetim), `disabled="disabled"` `Enabled` özellikleri ayarlanırsa `false` (veya bu ayarı bir kapsayıcı denetiminden devralıyorsa) artık özniteliği işlemez. | Uygulamanızı 2,0 veya ASP.NET 3,5'ASP.NET yükseltmek için Visual Studio'yu kullanıyorsanız, araç web.config dosyasına eski işlemeyi koruyan bir ayar otomatik olarak ekler. Ancak, bir uygulamayı .NET Framework 4'e hedeflemek için IIS'deki uygulama havuzunu değiştirerek yükseltirseniz, ASP.NET varsayılan olarak yeni işleme modunu kullanır. Yeni işleme modunu devre dışı katmak için Web.config dosyasına aşağıdaki ayarı ekleyin:<br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| **Varsayılan belgelerdeki olay işleyicileri** | ASP.NET 4, html `form` öğesinin `action` öznitelik değerini, varsayılan belgeeşlenmiş uzantısız bir URL'ye istekte bulunulduğunda boş bir dize olarak işler. ASP.NET önceki sürümlerinde, default.aspx isteği ile `http://contoso.com` sonuçlanır. Bu belgede, açılış `form` etiketi aşağıdaki örnekte olduğu gibi işlenir:<br><br>`<form action="Default.aspx" />`<br><br>4 ASP.NET'da, `http://contoso.com` Default.aspx'a bir istekle de sonuçlanır, ancak `form` ASP.NET şimdi HTML açılış etiketini aşağıdaki örnekte olduğu gibi işler:<br><br>`<form action="" />`<br><br>Öznitelik `action` boş bir dize olduğunda, `DefaultDocumentModule` IIS nesnesi Varsayılan.aspx için bir alt istek oluşturur. Çoğu koşulda, bu alt istek uygulama koduiçin saydamdır ve Varsayılan.aspx sayfası normal çalışır. Ancak, yönetilen kod ile IIS 7 veya IIS 7.5 Tümleşik modu arasındaki olası bir etkileşim, yönetilen .aspx sayfalarının alt istek sırasında düzgün şekilde çalışmasını durdurmasına neden olabilir. Aşağıdaki koşullar oluşursa, varsayılan .aspx belgesiiçin alt isteği bir hataya veya beklenmeyen davranışla sonuçlanır:<br><br>* Bir .aspx sayfası tarayıcıya `form` öğenin `action` özniteliği "" olarak ayarlanmış olarak gönderilir.<br>* Form ASP.NET geri yayınlanır.<br>* Yönetilen bir HTTP modülü gibi varlık gövdesinin bir kısmını `Request.Form` okur. `Request.Params` Bu, POST isteğinin varlık gövdesinin yönetilen belleğe okunmasına neden olur. Sonuç olarak, varlık gövdesi artık IIS 7 veya IIS 7.5 Tümleşik modunda çalışan yerel kod modülleri için kullanılamaz.<br>* IIS `DefaultDocumentModule` nesnesi sonunda çalışır ve Default.aspx belgeiçin bir alt istek oluşturur. Ancak, varlık gövdesi zaten yönetilen kod parçası tarafından okunduğu için, alt istek göndermek için kullanılabilir bir varlık gövdesi yoktur.<br>* HTTP ardışık alt istek için çalıştığında, .aspx dosyalarının işleyicisi işleyici-yürütme aşamasında çalışır.<br><br>Varlık gövdesi olmadığından, form değişkenleri ve görünüm durumu yoktur. Bu nedenle,.aspx sayfa işleyicisi için hangi olayın (varsa) yükseltilmesi gerektiğini belirlemek için kullanılabilir bilgi yoktur. Sonuç olarak, etkilenen .aspx sayfası için postback olay işleyicileri hiçbiri çalıştırın. | Bu değişikliğin sonucu ortaya çıkabilecek sorunları çözme yolları hakkında bilgi için, ASP.NET Web sitesinde [4 Son Dakika Değişikliği ASP.NET](/aspnet/whitepapers/aspnet4/breaking-changes) belgede yer alan "Olay İşleyicileri IIS 7 veya IIS 7.5 Tümleşik Modunda Varsayılan Belgede Yükseltilmeyebilir" bölümüne bakın. |
| **Karma algoritma** | ASP.NET, form kimlik doğrulama tanımlama bilgileri ve görünüm durumu gibi verilerin güvenli olmasına yardımcı olmak için hem şifreleme hem de karma algoritmalar kullanır. Varsayılan olarak, ASP.NET <xref:System.Security.Cryptography.HMACSHA256> 4 tanımlama bilgileri ve görünüm durumu karma işlemleri için algoritmayı kullanır. ASP.NET önceki sürümlerinde <xref:System.Security.Cryptography.HMACSHA1> eski algoritma kullanılmıştır. | Form kimlik doğrulama tanımlama bilgileri gibi verilerin .NET Framework sürümlerinde çalışması gereken 2,0 ve ASP.NET 4'ASP.NET karıştıran uygulamalar <xref:System.Security.Cryptography.HMACSHA1> çalıştırırsanız, Web.config dosyasına aşağıdaki ayarı ekleyerek eski algoritmayı kullanmak üzere bir ASP.NET 4 Web uygulamasını yapılandırın:<br><br>`<machineKey validation="SHA1" />` |
| **Internet Explorer'da barındırma denetimleri** | Web'de denetimleri barındırmak için daha iyi çözümler olduğundan, Artık Internet Gezgini'nde Windows Forms denetimlerini barındıramaz. Bu nedenle, IEHost.dll ve IEExec.exe derlemeleri .NET Framework kaldırıldı. | Web uygulamalarında özel denetim geliştirme için aşağıdaki teknolojileri kullanabilirsiniz:<br><br>* Bir Silverlight uygulaması oluşturabilir ve tarayıcı dışında çalışacak şekilde yapılandırabilirsiniz. Daha fazla bilgi için [Tarayıcı Dışı Destek'e](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29)bakın.<br>* WPF özelliklerinden yararlanmak için bir XAML tarayıcı uygulaması (XBAP) oluşturabilirsiniz (istemci makinelerde .NET Framework gerektirir). Daha fazla bilgi için [WPF XAML Tarayıcı Uygulamalarına Genel Bakış'a](../wpf/app-development/wpf-xaml-browser-applications-overview.md)bakın. |
| **HtmlEncode ve UrlEncode yöntemleri** | Tek `HtmlEncode` `UrlEncode` tırnak işareti <xref:System.Web.HttpUtility> <xref:System.Web.HttpServerUtility> karakterini (') kodlamak için ve sınıfların yöntemleri güncelleştirildi:<br><br>* `HtmlEncode` Yöntem olarak tek tırnak işareti örnekleri kodlar`&#39;`<br>* `UrlEncode` Yöntem olarak tek tırnak işareti örnekleri kodlar`%27` | Kodunuzu, yöntemleri ve yöntemleri `HtmlEncode` `UrlEncode` kullandığınız yerler için inceleyin ve kodlamadaki değişikliğin uygulamanızı etkileyecek bir değişikliğe neden olmadığından emin olun. |
| **2.0 ASP.NET uygulamalarda httpexception hataları** | iIS 6'da ASP.NET 4 etkinleştirildikten sonra, IIS 6'da (Windows Server 2003 veya Windows Server 2003 R2'de) çalışan ASP.NET 2.0 uygulamaları aşağıdaki gibi hatalar oluşturabilir:`System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.` | * Web sitesini çalıştırmak için 4 ASP.NET gerekli değilse, bunun yerine 2.0 ASP.NET kullanmak için siteyi yeniden eşle.<br><br>-veya-<br><br>* Web sitesini çalıştırmak için 4 ASP.NET gerekiyorsa, 2.0 sanal dizinleri ASP.NET herhangi bir çocuk, 2.0 ASP.NET eşlenen farklı bir Web sitesine taşıyın.<br><br>-veya-<br><br>* Uzantısız URL'leri devre dışı. Daha fazla bilgi için, ASP.NET Web sitesinde [4 Breaking Changes ASP.NET](/aspnet/whitepapers/aspnet4/breaking-changes) belgede "ASP.NET 2.0 Uygulamalar Eurl.axd Başvuru httpException Hataları Oluşturabilir" bakın. |
| **Üyelik türleri** | ASP.NET üyeliğinde kullanılan <xref:System.Web.Security.MembershipProvider>bazı türler (örneğin), System.Web.dll'den System.Web.ApplicationServices.dll derlemesine taşınmıştır. Bu türler, istemcideki ve genişletilmiş .NET Framework SKU'lar arasındaki mimari katmanlama bağımlılıklarını gidermek için taşınmış. | ASP.NET önceki sürümlerinden yükseltilmiş olan ve taşınmış üyelik türlerini kullanan sınıf kitaplıkları, ASP.NET 4 projesinde kullanıldığında derlenemeyebilir. Bu durumda, System.Web.ApplicationServices.dll adresine sınıf kitaplığı projesine bir başvuru ekleyin. |
| **Menü denetimi değişiklikleri** | Denetim sonucu <xref:System.Web.UI.WebControls.Menu> aşağıdaki davranışdeğişiklikleri:<br><br><xref:System.Web.UI.WebControls.MenuRenderingMode> * `List`Ayarlanırsa, veya <xref:System.Web.UI.WebControls.MenuRenderingMode> `Default` <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> `4.0` ayarlanırsa ve ayarlanırsa <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> veya daha sonra ayarlanırsa, özelliğin hiçbir etkisi yoktur.<br>* Eğer yol ayarlanır <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> ve <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özellikleri bir ters\\eğik çizgi ( içeriyorsa), görüntüler işlemez. (ASP.NET önceki sürümlerinde, yol bir ters eğik çizgi içerebilir.) | * Tek tek <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> menü öğeleri için özelliği <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> ayarlamak yerine, üst <xref:System.Web.UI.WebControls.Menu> denetimi ayarlayın.<br><br>-veya-<br><br>`Table`Ayarlayın, <xref:System.Web.UI.WebControls.MenuRenderingMode> ya <xref:System.Web.UI.WebControls.MenuRenderingMode> da `Default` ayarlayın <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> `3.5`ve ayarlayın. Bu ayarlar, <xref:System.Web.UI.WebControls.Menu> denetimin ASP.NET önceki sürümlerinde kullandığı HTML tablo tabanlı düzeni kullanmasına neden olur.<br>* Eğer yol <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> veya <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özellik bir ters\\çizgi (), bir eğik çizgi karakter (/) yerine içerir. |
| **Web.config dosyasında mobil montaj** | ASP.NET önceki sürümlerinde, System.Web.Mobile.dll derlemesine bir `assemblies` başvuru, altındaki `system.web` / `compilation`bölümde root Web.config dosyasına eklenmiştir. Performansı artırmak için bu derlemeye yapılan başvuru kaldırıldı.<br><br>Not: System.Web.Mobile.dll montajı ve mobil denetimASP.NET 4 ASP.NET dahildir, ancak bunlar amortismana dahildir. | Bu derlemedeki türleri kullanmak istiyorsanız, derlemeye kök Web.config dosyasında veya bir uygulama Web.config dosyasında bir başvuru ekleyin. |
| **Çıkış önbelleğe alma** | 1.0ASP.NET, bir hata yanıtta bir `Location="ServerAndClient"` `Vary:*` HTTP üstbilgisi yayarlar için bir çıktı€"önbellek ayarı olarak belirtilen önbelleğe alınmış sayfalara neden oldu. Bu, istemci tarayıcılara sayfayı hiçbir zaman yerel olarak önbelleğe alıp vermemelerini söyleme etkisine sahipti. 1.1ASP.NET de, <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> `Vary:*` üstbilgi bastırmak için çağrılabilir yöntem eklendi. Ancak, hata raporları geliştiricilerin varolan `SetOmitVaryStar` davranıştan habersiz olduğunu düşündürmektedir.<br><br>4 `Vary:*` ASP.NET,HTTP üstbilgisi artık aşağıdaki yönergeyi belirten yanıtlardan yayımlanamaz:<br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br>Sonuç olarak, <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> `Vary:*` üstbilgi bastırmak için yöntem artık gerekli değildir. Öznitelik için `Location` "ServerAndClient" olarak belirten uygulamalarda, sayfalar aramanız <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>gerekmeden tarayıcıda önbelleğe alınabilir. | Uygulamadaki sayfaların yaramayapması `Vary:*`gerekiyorsa, <xref:System.Web.HttpResponse.AppendHeader%2A> aşağıdaki örnekte gösterildiği gibi yöntemi çağırın:<br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br>Alternatif olarak, çıktı önbelleğe alma `Location` özniteliğinin değerini "Sunucu" olarak değiştirebilirsiniz. |
| **Sayfa ayrıştma** | ASP.NET Web sayfaları (.aspx dosyaları) ve kullanıcı denetimleri (.ascx dosyaları) için sayfa ayırıcısı, ASP.NET 4'te ASP.NET önceki sürümlerinden daha katıdır ve önceki sürümlerden daha fazla biçimlendirmeyi geçersiz olarak işaretler. | Bir sayfa çalıştığında oluşan hata iletilerini inceleyin ve geçersiz biçimlendirmeden kaynaklanan hataları düzeltin. |
| **Pasaport türleri** | ASP.NET 2.0'da yerleşik Olan Passport desteği eskidir ve Passport'taki (şimdi Live ID SDK) değişiklikler nedeniyle desteklenmez. Sonuç olarak, Passport ile <xref:System.Web.Security> ilgili türleri şimdi `ObsoleteAttribute` öznitelik ile işaretlenir. | Windows Live ID SDK'yı <xref:System.Web.Security> kullanmak için ad <xref:System.Web.Security.PassportIdentity>alanında (örneğin,) Passport türlerini kullanan tüm kodları değiştirin. |
| **FilePath özelliğindeki PathInfo bilgileri** | ASP.NET 4 `PathInfo` artık <xref:System.Web.HttpRequest.FilePath>, , <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>ve <xref:System.Web.HttpRequest.CurrentExecutionFilePath>. Bunun yerine, `PathInfo` bilgiler <xref:System.Web.HttpRequest.PathInfo>' de mevcuttur. Örneğin, aşağıdaki URL parçasını düşünün:<br><br>`/testapp/Action.mvc/SomeAction`<br><br>ASP.NET önceki sürümlerinde, <xref:System.Web.HttpRequest> özellikleri aşağıdaki değerlere sahiptir:<br><br>* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`<br>* <xref:System.Web.HttpRequest.PathInfo>: (boş)<br><br>ASP.NET 4'te, <xref:System.Web.HttpRequest> özelliklerin yerine aşağıdaki değerler vardır:<br><br>* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`<br>* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction` | Yol bilgilerini döndürmek için <xref:System.Web.HttpRequest> sınıfın özelliklerine güvendiğiniz yerler için kodunuzu inceleyin; yol bilgilerinin döndürülme şeklindeki değişiklikleri yansıtacak şekilde kodu değiştirin. |
| **Doğrulama isteği** | İstek doğrulanmasını iyileştirmek için, ASP.NET istek doğrulaması istek yaşam döngüsünün daha önce çağrılır. Sonuç olarak, Web servis çağrıları ve özel işleyiciler gibi .aspx dosyaları için olmayan istekler için istek doğrulama çalışır. İstek işleme ardışık alanında özel HTTP modülleri çalışırken istek doğrulaması da etkin olacaktır.<br><br>Bu değişikliğin bir sonucu olarak, .aspx dosyaları dışındaki kaynaklariçin istek istekleri istek doğrulama hataları atabilir. İstek ardışık alanında çalışan özel kod (örneğin, özel HTTP modülleri) istek doğrulama hataları da atabilir. | Gerekirse, Web yapılandırma dosyasında aşağıdaki ayarı kullanarak yalnızca .aspx sayfalarının istek doğrulamasını tetikleme eski davranışına geri dönebilirsiniz:<br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br>Uyarı: Eski davranışa geri dönerseniz, varolan işleyiciler, modüller ve diğer özel koddaki tüm kodların XSS saldırı vektörleri olabilecek güvenli olmayan HTTP girişleri için denetimler gerçekleştirdiğinden emin olun. |
| **Yönlendirme** | Visual Studio 2010'da bir dosya sistemi Web sitesi oluşturursanız ve Web sitesi klasör adında nokta (.) içeren bir klasördeyse, URL yönlendirme güvenilir bir şekilde çalışmaz. Bazı sanal yollardan bir HTTP 404 hatası döndürülür. Visual Studio 2010 kök sanal dizini için yanlış bir yol kullanarak Visual Studio Geliştirme Sunucusu başlattı çünkü bu oluşur. | * Dosya tabanlı Web sitesinin **Özellikleri** sayfasında, **Sanal Yol** özniteliğini "/" olarak değiştirin.<br><br>-veya-<br><br>* Web sitesi projesi yerine Bir Web uygulama projesi oluşturun. Web uygulama projeleri bu soruna sahip değildir ve PROJE KLASÖRÜ'nde bir nokta olsa bile URL yönlendirme çalışır.<br><br>-veya-<br><br>* IIS'de barındırılan HTTP tabanlı bir Web sitesi oluşturun. IIS tarafından barındırılan Web sitelerinin sanal yolda ve proje dosyası klasöründe noktaları olabilir. |
| **SharePoint siteleri** | SharePoint Web sitesinin alt bölümü olarak dağıtılan ve özel `WSS_Minimal`bir kısmi güven düzeyi içeren bir ASP.NET 4 Web sitesini çalıştırmaya çalışırsanız, aşağıdaki hatayı görürsünüz:<br><br>`Could not find permission set named 'ASP.Net'.` | Şu anda SharePoint'in hiçbir sürümü ASP.NET ile uyumlu değildir. Sonuç olarak, bir SharePoint Web sitesinin çocuğu olarak 4 web sitesinin ASP.NET çalıştırmaya çalışmamalısınız. |
| **XHTML 1.1 standartları** | Yeni Web siteleri için XHTML 1.1 uyumluluğunu etkinleştirmek için ,.NET Framework 4'teki ASP.NET denetimleri XHTML 1.1 uyumlu HTML oluşturur. Bu `<system.Web>` işleme, öğenin içindeki Web.config dosyasında aşağıdaki seçenek kullanılarak etkinleştirilir:<br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br>Bu seçenek varsayılan olarak 4.0 olarak ayarlanır. Visual Studio 2008'den yükseltilen Web projeleri uyumluluk için etkinleştirilen 3,5 ayarına sahiptir. | Yok. |

## <a name="core"></a>Çekirdek

### <a name="general-features"></a>Genel özellikler

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **CardSpace** | Windows CardSpace artık .NET Framework'e dahil değildir; ayrıca sağlanır. | Windows CardSpace'i [Microsoft Download Center'dan](https://go.microsoft.com/fwlink/?LinkId=199868)indirin. |
| **Yapılandırma dosyaları** | .NET Framework'ün uygulama yapılandırma dosyalarına nasıl eriştiği konusunda düzeltmeler yapıldı. | Uygulama yapılandırma dosyanız *application-name.config*olarak adlandırıldıysa, *uygulama-name.exe.config*olarak yeniden adlandırın. Örneğin, *MyApp.config'i* *MyApp.exe.config*olarak yeniden adlandırın. |
| **C# kod derleyicisi** | Ad `Compiler` `CompilerError`alanında `ErrorLevel` bulunan <xref:Microsoft.CSharp> sınıflar artık kullanılamaz ve bunların derlemesi (cscompmgd.dll) artık .NET Framework'e dahil değildir. | <xref:System.CodeDom.Compiler> Ad alanındaki <xref:System.CodeDom.Compiler.CodeDomProvider> sınıfı ve diğer sınıfları kullanın. Daha fazla bilgi için [CodeDOM'u kullanma'ya](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29)bakın. |
| **Barındırma** (yönetilmeyen API) | Barındırma yeteneklerini geliştirmek için, bazı barındırma etkinleştirme API'leri amortismana küçümsültü. İşlem içi yan yana yürütme özellikleri, bir uygulamanın .NET Framework'ün birden çok versiyonunu aynı işlemde yüklemesini ve başlatmasını sağlar. Örneğin, .NET Framework 2.0 SP1'i ve aynı işlemde .NET Framework 4'ü temel alan eklentileri (veya bileşenleri) yükleyen uygulamaları çalıştırabilirsiniz. Eski bileşenler eski .NET Framework sürümünü kullanmaya devam eder ve yeni bileşenler yeni .NET Framework sürümünü kullanır. | İşlem Içi Yan [Yana Yürütme'de](../deployment/in-process-side-by-side-execution.md)açıklanan yapılandırmaları kullanın. |
| **Yeni güvenlik modeli** | Kod erişim güvenliği (CAS) ilkesi kapatıldı ve [.NET Framework 4'teki Güvenlik Değişiklikleri'nde](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29)açıklandığı gibi basitleştirilmiş bir modelle değiştirildi. | Uygulamalarınızda CAS'a güveniyorsanız değişiklikler gerekebilir. Daha fazla bilgi için [Kod Erişim Güvenlik İlkesi Uyumluluğu ve Geçiş'e](../misc/code-access-security-policy-compatibility-and-migration.md)bakın. |

### <a name="date-and-time"></a>Tarih ve saat

Ad alanı: <xref:System>; montaj: mscorlib (mscorlib.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Gün ışığından yararlanma** | Sistem saati ile tutarlı olması için, <xref:System.TimeZoneInfo.Local> saat <xref:System.DateTime.Now>özellikleri (gibi ve) artık gün ışığından yararlanma saati işlemleri için diğer .NET Framework verileri yerine işletim sistemi kurallarını kullanır. | Yok. |
| **Dizeleri biçimlendirme** | Kültüre duyarlı biçimlendirmeyi <xref:System.TimeSpan> desteklemek için yapı, `ToString`yeni `Parse` `TryParse` `ParseExact` ve `TryParseExact` yöntemlere ek olarak yeni aşırı yükler ve yöntemler içerir. | Yok. |

### <a name="globalization"></a>Genelleştirme

Yeni tarafsız ve belirli kültürlerin listesi için, [Küreselleşme ve Yerelleştirmede Yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29)bölümüne bakın.

Ad alanı: <xref:System.Globalization>; montaj: mscorlib (mscorlib.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Kültür isimleri** | Aşağıdaki isim değişiklikleri Alman, Divehi ve Afrika kültürlerini etkiler:<br><br>* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Alman (Switizerland) (de-CH) kültürünün para birimi adı "sFr" den değiştirilmiştir. "Fr" için.<br>* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Divehi (Maldivler) (dv-MV) kültürünün uzun tarih modeli "dd/MMMM/yyyy" den "dd/MM/yyyy" olarak değişmiştir.<br>* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: P.M. Afrikaans (Güney Afrika) (af-ZA) kültürünün atafı "nm"den "PM"ye değiştirilmiştir. | Kültür adı değişikliklerine dikkat edin. |
| **LCID parametresi** | Otomasyon sunucusu ayarlarında beklenen davranışla tutarlı olması için CLR, `LCID` parametrenin geçerli kültürünü artık yönetilmeyen COM tabanlı uygulamalara geçirmiyor. Bunun yerine, kültür için 1033 (en-us) geçer. | Belirli bir kültür gerektiren yerel uygulamalar dışında değişiklik gerekli değildir. |
| **Eski kültür türleri** | <xref:System.Globalization.CultureTypes> Ve <xref:System.Globalization.CultureTypes> kültür türleri artık demode.<br><br>Geriye dönük uyumluluk <xref:System.Globalization.CultureTypes> için, şimdi önceki .NET Framework ile birlikte verilen <xref:System.Globalization.CultureTypes> nötr ve belirli kültürleri döndürür ve şimdi boş bir liste döndürür. | Numaralandırmanın <xref:System.Globalization.CultureTypes> diğer değerlerini kullanın. |
| **Kültürün alınması** | Windows 7'den başlayarak ,NET Framework 4, verilerin kendisini depolamak yerine işletim sisteminden kültür bilgilerini alır. Buna ek olarak, .NET Framework verileri sıralamak ve kasaya maksatlandırmak için Windows ile senkronize eder. | Yok. |
| **Unicode 5.1 standartları** | .NET Framework artık tüm Unicode 5.1 karakterlerini destekliyor ve bu da yaklaşık 1400 karaktere ek. Ek karakterler yeni semboller, oklar, aksamalar, noktalama işaretleri, matematiksel semboller, CJK vuruş ve ideograflar, ek Malayalam ve Telugu sayısal karakterler ve çeşitli Myanmar, Latince, Arapça, Yunan, Moğolca ve Kiril içerir Karakter. Aşağıdaki yeni senaryolar Unicode 5.1 ile desteklenir: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu ve Malayalam karakterleri ve Cham. | Yok. |

### <a name="exceptions"></a>Özel durumlar

Ad <xref:System>boşlukları: <xref:System.Runtime.ExceptionServices>, ; montaj: mscorlib (mscorlib.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bozuk işlem durumu için özel durumlar** | CLR, yönetilen koddaki özel durum işleyicilerine bozuk işlem durumu için artık özel durumlar teslim etmez. | Bu özel durumlar, bir işlemin durumunun bozuk olduğunu gösterir. Uygulamanızı bu durumda çalıştırmanızı önermiyoruz.<br><br>Daha fazla bilgi <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> için, MSDN dergisinde bozuk [durum özel durumlarını işleme](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) ve giriş bölümüne bakın. |
| **Yürütme motoru istisnaları** | <xref:System.ExecutionEngineException>yakalanabilir bir özel durum kararsız bir işlemin çalışmaya devam etmesine izin verdiği için artık eskidir. Bu değişiklik, çalışma zamanında öngörülebilirliği ve güvenilirliği artırır. | Durumu <xref:System.InvalidOperationException> bildirmek için bir kullanın. |

### <a name="reflection"></a>Yansıma

Ad alanı: <xref:System.Reflection>; montaj: mscorlib (mscorlib.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Montaj karma algoritmaları** | Çalışma <xref:System.Reflection.AssemblyName.HashAlgorithm> zamanı, <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>derleme yüklenmediği zaman başvurulan derlemenin karma algoritmasını bilmediğinden, özellik şimdi döndürür. (Bu yöntem tarafından <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> döndürülen gibi başvurulan bir derleme üzerinde özelliği kullanarak anlamına gelir.) | Yok. |
| **Montaj yüklemesi** | Montajların gereksiz yüklenmesinin önlenmesi ve sanal adres alanı nın kaydedilen CLR'si `MapViewOfFile` artık yalnızca Win32 işlevini kullanarak derlemeleri yükler. Artık işlevi de `LoadLibrary` çağrıştırmadı.<br><br>Bu değişiklik tanılama uygulamalarını aşağıdaki şekillerde etkiler:<br><br>* <xref:System.Diagnostics.ProcessModuleCollection> A artık bir sınıf kitaplığı (.dll dosyası) herhangi bir `Process.GetCurrentProcess().Modules`modül içermez, bir çağrı elde olarak .<br>* `EnumProcessModules` İşlevi kullanan Win32 uygulamaları listelenen tüm yönetilen modülleri görmez. | Yok. |
| **Bildirimi türü** | Tür <xref:System.Type.DeclaringType> bildiren bir tür olmadığında özellik artık doğru şekilde null döndürür. | Yok. |
| **Temsilciler** | Bir temsilci şimdi <xref:System.ArgumentNullException> bir yerine <xref:System.NullReferenceException> bir yerine bir null değeri temsilcinin oluşturucu ya geçirilir atar. | Herhangi bir özel <xref:System.ArgumentNullException>durum işleme yakalar emin olun. |
| **Genel montaj önbelleği konum değişikliği** | .NET Framework 4 derlemeleri için, genel derleme önbelleği Windows dizininden (%WINDIR%) taşınmıştır Microsoft.Net alt dizine (*\\%WINDIR% Microsoft.Net).* Önceki sürümlerden derlemeler eski dizinde kalır.<br><br>Yönetilmeyen [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) numaralandırma yeni `ASM_CACHE_ROOT_EX` bayrağı içerir. Bu bayrak, [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) işlevi tarafından elde edilebilen .NET Framework 4 derlemelerinin önbellek konumunu alır. | Yok, uygulamaların önerilen bir uygulama değildir derlemeler için açık yollar kullanmayın varsayarak. |
| **Genel montaj önbellek aracı** | [Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) artık kabuk eklentisi görüntüleyicisini desteklemez. | Yok. |

### <a name="interoperability"></a>Birlikte çalışabilirlik

Ad alanı: <xref:System.Runtime.InteropServices>; montaj: mscorlib (mscorlib.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Arabellek uzunluğu** (yönetilmeyen API) | Bellek kaydetmek için, ICorProfilerInfo2 için `pBufferLengthOffset` parametre için işlevsellik::GetStringLayout yöntemi `pStringLengthOffset` parametre eşleşecek şekilde değiştirildi. [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) Her iki parametre artık dizenin uzunluğunun ofset konumuna işaret eder. Arabellek uzunluğu dize sınıfının gösteriminden kaldırıldı. | Arabellek uzunluğuna yapılan herhangi bir bağımlılığı kaldırın. |
| **JIT hata ayıklama** | Tam zamanında (JIT) hata ayıklama için kaydı basitleştirmek için ,.NET Framework hata ayıklayıcı şimdi yalnızca yerel kod için JIT hata ayıklama davranışını kontrol eden AeDebug kayıt defteri anahtarını kullanır. Bu değişiklik aşağıdaki leri doğurur:<br><br>* Artık yönetilen ve yerel kod için iki farklı hata ayıklayıcıları kaydedebilirsiniz.<br>* Artık etkileşimli olmayan bir işlem için hata ayıklama otomatik olarak başlatabilirsiniz, ancak etkileşimli bir işlem için kullanıcı isteyebilir.<br>* Hata ayıklayıcı başlatılmayınca veya başlatılması gereken kayıtlı hata ayıklayıcı olmadığında artık bilgilendirilmezsiniz.<br>* Uygulamanın etkileşimine bağlı otomatik başlatma ilkeleri artık desteklenmez. | Hata ayıklama işlemlerini gerektiği gibi ayarlayın. |
| **Platform çağırma** | Yönetilmeyen kodla birlikte çalışabilirlik performansını artırmak için, platformdaki yanlış çağrı kuralları şimdi uygulamanın başarısız olması için neden olur. Önceki sürümlerde, mareşal katmanı yığındaki bu hataları giderildi. | Uygulamalarınızı Microsoft Visual Studio'da hata ayıklamak, bu hataları düzeltebilmeniz için sizi uyarır.<br><br>Güncelleştirilemeyen ikilileriniz varsa, önceki sürümlerde olduğu gibi yığında çağrı hatalarının çözülmesini sağlamak için uygulamanızın yapılandırma dosyasına [ \<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) öğesini ekleyebilirsiniz. Ancak, bu uygulamanızın performansını etkileyebilir. |
| **Kaldırılan arabirimler** (yönetilmeyen API) | Geliştirici karışıklığını önlemek için, yararlı çalışma zamanı senaryoları sağlamadığından ve CLR herhangi bir uygulama sağlamadığından veya kabul etmediğinden aşağıdaki arabirimler kaldırıldı:<br><br>* **INativeImageINativeImageDependency**<br>* **INativeImageInstallInfo**<br>* **InativeImageEvaluate**<br>* **INativeImageConverter**<br>* **ICorModule**<br>* **IMetaDataConverter** | Yok. |

## <a name="data"></a>Veriler

Bu bölümde, veri kümeleri ve SQL istemcileri, Entity Framework, LINQ to SQL ve WCF Veri Sunucuları (eski adıyla ADO.NET Veri Hizmetleri olarak bilinir) kullanımı yla ilgili geçiş sorunları açıklanmaktadır.

### <a name="dataset-and-sql-client"></a>DataSet ve SQL İstemci

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar olan özelliklerdeki geliştirmeler açıklanmaktadır.

Ad <xref:System.Data>boşlukları: <xref:System.Data.Objects.DataClasses> <xref:System.Data.SqlClient>, , ; derlemeler: System.Data (System.Data.dll'de), System.Data.Entity (System.Data.Entity.dll'de)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **POCO Senaryoları** | Arabirim, <xref:System.Data.Objects.DataClasses.IRelatedEnd> Düz Eski CLR Nesnesi (POCO) senaryolarında kullanılabilirliğini artırmak için yeni yöntemlere sahiptir. Bu yeni yöntemler, parametre olarak varlık yerine bir <xref:System.Object> <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> alır. |
| **Satırları Düzenleme** | Yöntem, <xref:System.Collections.IList.IndexOf%2A> <xref:System.Data.DataView> sınıf tarafından uygulandığı gibi, şimdi doğru -1 döndürerek yerine düzenlenen bir satırın değerini döndürür. |
| **Olaylar** | Olay <xref:System.Data.DataRowView.PropertyChanged> şimdi bir satır değiştirilmiş durumda ve <xref:System.Data.DataRow.RejectChanges%2A> yöntem çağrıldığında yükseltilir. Bu değişiklik, bir <xref:System.Data.DataSet> nesnenin içeriğini ortaya çıkaran UI denetimleri oluşturmayı kolaylaştırır. |
| **Özel durumlar** | Yöntem <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> şimdi <xref:System.InvalidOperationException> bir bağlantı ayarlanmadığında veya bir <xref:System.NullReferenceException>. |
| **Görünümleri Eşleme** | Sorgu görünümü eşleme hataları artık çalışma zamanında <xref:System.NullReferenceException> bir atma yerine tasarım zamanında yakalanır.<br><br>Eşleme doğrulama şimdi kavramsal şema (CSDL) iki ilişkilendirme kümeleri aynı sütuna eşlenir hata yakalar. |
| **İşlemler** | Bir uygulama, bir işlem tamamlandıktan sonra (iptal edilen veya geri alındı) bağlantıda <xref:System.InvalidOperationException> bir ekstre yürütmeye çalışırsa, şimdi bir atılır. Önceki sürümler bir özel durum atmadı ve bir işlem iptal edilmiş olsa bile ek komutlar yürütmenize izin verildi. |

### <a name="entity-framework"></a>Entity Framework

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar olan özelliklerdeki geliştirmeler açıklanmaktadır.

Ad <xref:System.Data>boşlukları: <xref:System.Data.Objects> <xref:System.Data.Objects.DataClasses>, , ; assembly: System.Data.Entity (System.Data.Entity.dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık nesneleri** | Yöntem <xref:System.Data.Objects.ObjectContext.Detach%2A> çağrıldığında, <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> yöntem ile varlık nesnesinin durumu arasında artık eşitlik vardır. Bu geliştirilmiş tutarlılık beklenmeyen özel durumlar atılmasını önler. |
| **Varlık SQL** | Entity SQL'deki tanımlayıcı çözünürlükler için kurallar geliştirildi.<br><br>Varlık SQL ayırıcısı, çok parçalı tanımlayıcıları çözmek için mantığı geliştirmiştir. |
| **Yapısal ek açıklamalar** | Varlık Çerçevesi artık yapısal ek açıklamaları tanır. |
| **Sorgular** | Sorgularda aşağıdaki geliştirmeler yapılmıştır:<br><br>* `GroupBy` Boş bir koleksiyon üzerinde null tuşu kullanan bir sorgu, sorguda ek seçimi olup olmadığına bakılmaksızın hiçbir satırı döndürmez.<br>* LINQ ve Entity-SQL sorgularında oluşturulan SQL artık dize parametrelerini varsayılan olarak Unicode olmayan değerler olarak ele alır. |

### <a name="linq-to-sql"></a>LINQ to SQL

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar olan özelliklerdeki geliştirmeler açıklanmaktadır.

Ad alanı: <xref:System.Data.Linq>; assembly: System.Data.Linq (System.Data.Linq.dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Olaylar** | Koleksiyon <xref:System.Data.Linq.EntitySet%601> şimdi, <xref:System.Data.Linq.EntitySet%601.ListChanged> koleksiyon yüklendiğinde olayı yükseltmenin yanı sıra, <xref:System.Data.Linq.EntitySet%601> boşaltılan işlemleri ekleme ve kaldırma olayını yükseltir. |
| **Sorgular** | `Skip(0)`artık LINQ'dan SQL sorgularına göz ardı edilmez. Sonuç olarak, bu yönteme sahip sorgular farklı davranabilir. Örneğin, bazı durumlarda, `OrderBy` bir yan `Skip(0)`tümce ile gereklidir <xref:System.NotSupportedException> ve `OrderBy` yan tümce dahil edilmediyse sorgu şimdi bir özel durum alacaktır. |

### <a name="wcf-data-services"></a>WCF Data Services

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar olan özelliklerdeki geliştirmeler açıklanmaktadır.

Ad <xref:System.Data.Services>boşlukları: <xref:System.Data.Services.Client> <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>, , ; derlemeler: System.Data.Services (System.Data.Services.dll içinde), System.Data.Services.Client (System.Data.Services.Client.dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Toplu İkili İçerik** | WCF Veri Hizmetleri artık istek ve yanıtlarda toplu ikili içeriği destekler. |
| **Önleyicileri değiştirin** | Değişiklik önleyiciler artık bir silme isteği için yürütülür.<br><br>Değişiklik durdurucu, varlık kümesindeki bir varlığı değiştirmek için sunucu tarafından her istek alındığı nda çalışan bir yöntemdir. Gelen istek yürütülmeden önce çalışır. Değişiklik durdurucu, değiştirilen varlığa ve üzerinde gerçekleştirilen işleme erişim sağlar. |
| **Özel durumlar** | Aşağıdaki koşullar artık bir <xref:System.NullReferenceException>yerine daha yararlı özel durumlar atmak:<br><br>* <xref:System.ServiceProcess.TimeoutException> A bir veri hizmeti için bir çağrı zaman ları dışarı.<br>* <xref:System.Data.Services.Client.DataServiceRequestException> A bir veri hizmetiiçin kötü bir istek yapıldığında.<br><br>Uygulamalarınızda, yeni özel durumları yakalamak için özel durum işlemeyi değiştirmeniz gerekir. |
| **Üst Bilgiler** | Üstbilgiiçin aşağıdaki geliştirmeler yapılmıştır:<br><br>* WCF Veri Hizmetleri artık `eTag` belirtilmemiş değeri olan bir üstbilgiyi doğru bir şekilde reddeder.<br>* WCF Veri Hizmetleri artık bir hata döndürür ve `if-*` üstbilgi istekte olduğunda silme isteğini bir bağlantıya yürütmez.<br>* WCF Veri Hizmetleri artık istemciye Kabul başlığında belirtilen biçimde (Atom, JSON) bir hata döndürür. |
| **JSON Okuyucu** | JavaScript Object Notation (JSON) okuyucu, wcf veri hizmetine gönderilen\\JSON yüklerini işlediğinde tek bir ters eğik çizgi (" ") kaçış karakterini okuduğunda bir hatayı doğru bir şekilde döndürür. |
| **Birleştirme** | Numaralandırmada <xref:System.Data.Services.Client.MergeOption> aşağıdaki iyileştirmeler yapılmıştır:<br><br>* <xref:System.Data.Services.Client.MergeOption> Birleştirme seçeneği artık bir veri hizmeti nden sonraki yanıt ın bir sonucu olarak istemci üzerinde varlık değiştirir.<br>* <xref:System.Data.Services.Client.MergeOption> Seçenek artık dinamik SQL ve depolanan yordam tabanlı güncelleştirmeler arasında tutarlıdır. |
| **Istek** | Yöntem, <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> veri hizmetlerine bir istek işlenmeden önce çağrılır. Bu, isteğin hizmetler için <xref:System.Data.Services.Providers.ServiceOperation> doğru çalışmasını sağlar. |
| **Akışlar** | WCF Veri Hizmetleri artık okuma ve yazma işlemleri için temel akışı kapatmaz. |
| **URI'ler** | UrI'lerin WCF Veri Hizmetleri istemcisi tarafından kaçışı düzeltildi. |

## <a name="windows-communication-foundation-wcf"></a>Windows Communication Foundation (WCF)

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar olan özelliklerdeki geliştirmeler açıklanmaktadır.

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Yapılandırma dosyaları** | Yapılandırma dosyası hiyerarşisi aracılığıyla davranışların devrini etkinleştirmek için WCF artık yapılandırma dosyaları arasında birleştirilmesi destekler.<br><br>Yapılandırma devralma modeli artık kullanıcıların bilgisayarda çalışan tüm hizmetlere uygulanacak davranışları tanımlamasına izin verecek şekilde genişletildi.<br><br>Hiyerarşinin farklı düzeylerinde aynı ada sahip davranışlar varsa davranış değişiklikleriyle karşılaşabilirsiniz. |
| **Hizmet barındırma** | Öğe tanımına `<serviceHostingEnvironment>` öznitelik `allowDefinition="MachineToApplication"` ekleyerek artık hizmet düzeyinde yapılandırma öğesi belirtemezsiniz.<br><br>Hizmet düzeyinde `<serviceHostingEnvironment>` öğeyi belirtmek teknik olarak yanlıştır ve tutarsız davranışlara neden olur. |

## <a name="windows-presentation-foundation-wpf"></a>Windows Presentation Foundation (WPF)

### <a name="applications"></a>Uygulamalar

Ad <xref:System.Windows>boşlukları: <xref:System.Windows.Controls>, ; derleme: PresentationFramework (PresentationFramework.dll içinde)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Özel durum işleme** | Hataların daha önce algılanmasını sağlamak için, <xref:System.Reflection.TargetInvocationException> WPF a atar ve <xref:System.NullReferenceException> <xref:System.OutOfMemoryException> <xref:System.StackOverflowException> <xref:System.Security.SecurityException> <xref:System.Exception.InnerException> özelliği özgün özel durumu yakalamak yerine , , ve , gibi kritik özel durumlara ayarlar. | Yok. |
| **Bağlantılı kaynaklar** | Bağlantıyı kolaylaştırmak için, projenin klasör yapısı dışında bir konumda bulunan kaynak dosyaları (resimler gibi), uygulama oluşturulurken kaynak kimliği olarak sadece dosya adı yerine kaynak dosyasının tam yolunu kullanır. Uygulama, dosyaları çalışma zamanında bulabilecektir. | Yok. |
| **Kısmi güven uygulamaları** | Güvenlik hususları için, kısmi güven le çalışan ve <xref:System.Windows.Controls.WebBrowser> denetim veya <xref:System.Windows.Controls.Frame> HTML içeren bir <xref:System.Security.SecurityException> denetim içeren Windows tabanlı uygulamalar, denetim oluşturulduğunda bir şey atar.<br><br>Tarayıcı uygulamaları bir özel durum oluşturur ve aşağıdaki koşulların tümü yerine getirilirse bir ileti görüntüler:<br><br>* Uygulama Firefox'ta çalışıyor.<br>* Uygulama, internet bölgesinde güvenilmeyen sitelerden kısmi güvenle çalışıyor.<br>* Uygulama html <xref:System.Windows.Controls.WebBrowser> içeren <xref:System.Windows.Controls.Frame> bir denetim veya denetim içerir.<br><br>Güvenilen sitelerden veya intranet bölgesinden çalışan uygulamaların etkilenmeyeceğini unutmayın. | Tarayıcı uygulamalarınızda, aşağıdakilerden birini yaparak bu değişikliği kolaylaştırabilirsiniz:<br><br>* Tam güven tarayıcı uygulaması çalıştırın.<br>* Müşterilerin uygulamanın sitesini güvenilir siteler bölgesine eklemesini sağlar.<br>* Müşterilerin Internet Explorer'da uygulamayı çalıştırın. |
| **Kaynak sözlükleri** | Tema düzeyindekaynak sözlüklerini geliştirmek ve bunların değişmesini önlemek için, kaynak sözlüğünde tanımlanan ve tema düzeyinde bir sözlükte birleştirilen serbest leştirilebilir kaynaklar artık her zaman dondurulmuş olarak işaretlenir ve değişmezdir. Bu, serbest kaynaklar için beklenen davranıştır. | Tema düzeyinde birleştirilmiş sözlükte tanımlanan bir kaynağı değiştiren uygulamaların kaynağı klonlaması ve klonlanan kopyayı değiştirmesi gerekir. Alternatif olarak, kaynak, `x:Shared="false"` kaynak her <xref:System.Windows.ResourceDictionary> sorgulanında yeni bir kopya oluşturacak şekilde işaretlenebilir. |
| **Windows 7** | WPF uygulamalarının Windows 7'de daha iyi çalışmasını sağlamak için, bir pencerenin davranışını düzeltmek için aşağıdaki geliştirmeler yapılmıştır:<br><br>* Dock ve jest durumları artık kullanıcı etkileşimlerine bağlı olarak beklendiği gibi çalışır.<br>* Görev çubuğu **Cascade pencereleri komutları, yığılmış pencereleri göster**ve **pencereleri yan yana göster** şimdi doğru davranışa sahip ve uygun özellikleri güncelleştir.<br>* `Top`En `Left` `Width`üst `Height` düzeye çıkarılmış veya en aza indirgenen pencerenin özellikleri artık monitöre bağlı olarak diğer değerler yerine pencerenin doğru geri yükleme konumunu içerir. | Yok. |
| **Windows stili ve saydamlığı** | Bir <xref:System.InvalidOperationException> değer için zaman <xref:System.Windows.Window.WindowStyle> ve <xref:System.Windows.WindowState> ne <xref:System.Windows.WindowState> `true` zaman <xref:System.Windows.WindowStyle> <xref:System.Windows.Window.AllowsTransparency> dışında ayarlamak için çalışırsanız atılır. | <xref:System.Windows.Window.WindowStyle> Ne zaman <xref:System.Windows.Window.AllowsTransparency> değiştirmeniz `true`gerekiyorsa Win32 `SetWindowLongPtr` işlevini arayabilirsiniz. |
| **XPS Görüntüleyicisi** | WPF, Microsoft XML Kağıt Belirtimi Essentials Pack'i (XPSEP) içermez. XPSEP, Windows 7 ve Windows Vista ile birlikte verilir.<br><br>.NET Framework 3.5 SP1 yüklü olmadan Windows XP çalıştıran bir bilgisayarda, <xref:System.Windows.Controls.PrintDialog> WINSPOOL'a güvenecek olanlar dışında bir WPF API kullanarak yazdırma. Bazı yazıcı özellikleri bildirilmez ve yazdırma sırasında bazı yazıcı ayarları uygulanmaz. | Gerekirse, Microsoft [XML Kağıt Belirtimi Essentials Paketi](https://go.microsoft.com/fwlink/?LinkId=178895)yükleyin. |

### <a name="controls"></a>Denetimler

Ad <xref:System.Windows>boşlukları: <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input>, , ; derlemeler: PresentationFramework (PresentationFramework.dll'de), PresentationCore (PresentationCore.dll'de), WindowsBase (WindowsBase.dll'de)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **İletişim kutuları** | Güvenilirliği artırmak <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> için, yöntem <xref:Microsoft.Win32.FileDialog> denetimi oluşturan aynı iş parçacığı üzerinde çağrılır. | Bir <xref:Microsoft.Win32.FileDialog> denetim oluşturduğunuzdan ve <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> yöntemi aynı iş parçacığı üzerinde aradığından emin olun. |
| **Kayan pencereler** | Kayan bir pencereyi yanlış bir şekilde yeniden etkinleştirmeye devam eden (modal iletişim kutusu gibi görünmesini sağlayan) odak geri yükleme stığını düzeltmek için, aday pencerenin bir çocuğu değilse, odak geri yüklemesi artık engellenir. | Yok. |
| **Koleksiyondaki öğeler** | Bir öğe taşınır veya temel bir koleksiyona eklendiğinde, sıralanmış değilse <xref:System.Windows.Data.CollectionView> aynı göreli konumda <xref:System.Windows.Data.CollectionView> görünür. Bu, maddenin koleksiyondaki konumu ile ilişkili <xref:System.Windows.Data.CollectionView>konum arasında tutarlılık sağlar. | Bir <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> maddenin <xref:System.Windows.Data.CollectionView.IndexOf%2A> sabit bir konumuna güvenmek <xref:System.Windows.Data.CollectionView> yerine bir maddenin konumunu bulmak için veya yöntemi kullanın. |
| **Düzenler** | Gereksiz yeniden düzenleri ortadan kaldırmak <xref:System.Windows.Controls.Page.ShowsNavigationUI> için, artık düzeni geçersiz kılar veya başka bir düzen geçişine neden olur. | Değiştirmenin <xref:System.Windows.Controls.Page.ShowsNavigationUI> başka bir düzen geçişine <xref:System.Windows.UIElement.InvalidateVisual%2A> neden olacağını umuyorsanız, özelliği ayarladıktan sonra arayın. |
| **Menüler** | Menü açılır pencerelerinde ClearType metnini etkinleştirmek için <xref:System.Windows.Controls.ControlTemplate> sınıfa ve <xref:System.Windows.Controls.MenuItem> denetimde ve diğer denetimlerde değişiklikler yapıldı. | Uygulamalar denetim şablonlarının görsel yapısına güvenmemelidir. Yalnızca a'nın <xref:System.Windows.Controls.ControlTemplate> adlandırılmış bölümleri kamu sözleşmesinin bir parçasıdır. Bir uygulamanın bir nesnede <xref:System.Windows.Controls.ControlTemplate>belirli bir nesne bulması gerekiyorsa, ağaçtaki bir nesnenin sabit konumuna güvenmek yerine belirli bir türü görsel ağaçta arayın. |
| **Gezinme** | Bir <xref:System.Windows.Controls.Frame> konuma doğrudan giderse, <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> özellik `true` ilk gezinmeden sonradır. Bu değişiklik, başlangıç senaryoları sırasında ek olayların yükseltilmesine engel lenir. | Yok. |
| **Açılır pencereler** | Temsilci <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> artık bir düzen geçişi sırasında yalnızca bir kez yerine birden çok kez çağrılabilir. | Temsilciniz <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> <xref:System.Windows.Controls.Primitives.Popup> bir önceki konumunu temel alırsa, konumu yalnızca `popupSize`, yani `targetSize`, veya `offset` parametrelerin değerleri değişirse yeniden hesaplayın. |
| **Özellik değerleri** | Yöntem <xref:System.Windows.DependencyObject.SetCurrentValue%2A> şimdi, özelliği etkileyen herhangi bir bağlama, stil veya tetikleyiciye saygı duymaya devam etse de, bir özelliği etkin bir değere ayarlamanızı sağlar. | Denetim yazarları, <xref:System.Windows.DependencyObject.SetCurrentValue%2A> özellik değeri değiştiğinde, kullanıcı işleme de dahil olmak üzere başka bir eylemin yan etkisi olarak kullanmalıdır. |
| **Metin kutuları** | Güvenlik hususları <xref:System.Windows.Forms.TextBoxBase.Copy%2A> için, <xref:System.Windows.Forms.TextBoxBase.Cut%2A> ve yöntemler kısmi güven çağrıldığında sessizce başarısız olur.<br><br>Buna ek olarak, <xref:System.Windows.Input.ApplicationCommands.Copy> devralan <xref:System.Windows.Input.ApplicationCommands.Cut> <xref:System.Windows.Controls.Primitives.TextBoxBase> bir denetim üzerinde veya özelliğin programlı yürütülmesi kısmi güven engellenir. Ancak, özelliği bu komutlardan birine bağlı olan <xref:System.Windows.Controls.Primitives.ButtonBase.Command> bir düğmeyi tıklatmak gibi kullanıcı tarafından başlatılan kopyalama ve kesme komutları çalışır. Standart kopyave klavye kısayolları ile kesme ve bağlam menüsü hala kısmi güven eskisi gibi çalışacaktır. | Düğmeyi <xref:System.Windows.Input.ApplicationCommands.Copy> tıklatmak gibi kullanıcı tarafından başlatılan bir eyleme veya <xref:System.Windows.Input.ApplicationCommands.Cut> komutu bağla. |

### <a name="graphics"></a>Grafikler

<xref:System.Windows>Ad boşlukları: <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input> <xref:System.Windows.Media.Effects>, , , ; derlemeler: PresentationFramework (PresentationFramework.dll'de), PresentationCore (PresentationCore.dll'de), WindowsBase (WindowsBase.dll'de)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bitmap efektleri** | Performansı artırmak için, <xref:System.Windows.Media.Effects.BitmapEffect> sınıf ve <xref:System.Windows.Media.Effects.BitmapEffect> sınıftan devralan sınıflar, hala mevcut olsa da devre dışı bırakılır. Aşağıdaki koşullar doğruysa, donanım hızlandırılmış işleme ardışık etki kullanılarak işlenecektir:<br><br>* Uygulama, <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> 100 DIU'dan daha az bir yarıçap özelliğine sahip bir veya bir <xref:System.Windows.Media.Effects.BlurBitmapEffect> kullanır.<br>* Uygulamayı çalıştıran bilgisayardaki ekran kartı piksel shader 2.0'ı destekler.<br><br>Bu koşullar yerine getirilmezse, bir <xref:System.Windows.Media.Effects.BitmapEffect> nesnenin hiçbir etkisi olmaz.<br><br>Ayrıca, Visual Studio <xref:System.Windows.Media.Effects.BitmapEffect> nesne veya bir alt sınıf karşılaştığında bir derleyici uyarı üretir.<br><br>Yöntem <xref:System.Windows.Media.DrawingContext.PushEffect%2A> eski olarak işaretlenir. | Eski <xref:System.Windows.Media.Effects.BitmapEffect> ve türetilmiş sınıfları kullanmayı bırakın ve <xref:System.Windows.Media.Effects.Effect> <xref:System.Windows.Media.Effects.BlurEffect>bunun <xref:System.Windows.Media.Effects.DropShadowEffect>yerine <xref:System.Windows.Media.Effects.ShaderEffect>türetilen yeni sınıfları kullanın: , , ve .<br><br><xref:System.Windows.Media.Effects.ShaderEffect> Ayrıca, sınıftan devralma yaparak kendi efektlerinizi de oluşturabilirsiniz. |
| **Bitmap çerçeveleri** | Klonlanan <xref:System.Windows.Media.Imaging.BitmapFrame> nesneler artık <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>ve <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> olayları alırsınız. Bu, Web'den indirilen ve doğru çalışması <xref:System.Windows.Controls.Image> için a <xref:System.Windows.Style> aracılığıyla denetime uygulanan görüntüleri sağlar.<br><br>Davranışta yalnızca aşağıdaki ifadelerin tümü doğruysa bir değişiklik görürsünüz:<br><br>* Sen abone <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress> <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> , veya olay.<br>* Kaynağı <xref:System.Windows.Media.Imaging.BitmapFrame> Web'dendir.<br>* <xref:System.Windows.Media.Imaging.BitmapFrame> İndirme devam ederken klonlanır. | Olay işleyicisi göndereni denetleyin ve yalnızca gönderen orijinalse <xref:System.Windows.Media.Imaging.BitmapFrame>harekete geçin. |
| **Görüntüleri çözme** | Görüntüler deşifre edilemediği zaman bir <xref:System.IO.IOException> görüntünün <xref:System.Windows.Media.Imaging.BitmapSource> işlenmemesini önlemek için, sınıf görüntüyü çözmediğinde <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> olayı yükseltir. | Bunun için <xref:System.IO.IOException>herhangi bir özel <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> durum işleme kaldırın ve deşifre hatası olup olmadığını denetlemek için olayı kullanın. |

### <a name="input"></a>Girdi

Ad <xref:System.Windows>boşlukları: <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input>, , ; derlemeler: PresentationFramework (PresentationFramework.dll'de), PresentationCore (PresentationCore.dll'de), WindowsBase (WindowsBase.dll'de)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bağlama komut örnekleri** | Görünüm-Model tabanlı komut örneklerini Görünüm tabanlı giriş hareketlerine bağlayacak bir <xref:System.Windows.Input.InputBinding> mekanizma sağlamak için, sınıf artık <xref:System.Windows.Freezable> <xref:System.Windows.DependencyObject>. Aşağıdaki özellikler artık bağımlılık özellikleridir:<br><br>* <xref:System.Windows.Input.InputBinding.Command><br>* <xref:System.Windows.Input.InputBinding.CommandParameter><br>* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br>Bu değişiklik aşağıdaki leri doğurur:<br><br>* <xref:System.Windows.Input.InputBinding> Bir nesne artık mutable kalmak yerine kaydedildiğinde dondurulur.<br>* <xref:System.Windows.DependencyObject> Sınıfın kısıtlamaları nedeniyle <xref:System.Windows.Input.InputBinding> örnek düzeyindeki nesnelere birden çok iş parçacığından erişemezsiniz.<br>* <xref:System.Windows.Freezable> Sınıf kısıtlamaları nedeniyle, kayıt tan sonra sınıf düzeyinde ki giriş bağlamalarını mutasyona uğrayamazsınız.<br>* Görünüm Modeli'nde oluşturulan komut örneklerinde giriş bağlamaları belirtemezsiniz. | Bağlamalar mutable <xref:System.Windows.Input.InputBinding> olacaksa, ayrı iş parçacıkları üzerinde bir sınıfın ayrı örnekleri oluşturun veya başka türlü dondurun. Bir sınıf düzeyindestatik <xref:System.Windows.Input.InputBinding> kaydedildikten sonra mutasyona uğratmayın. |
| **Tarayıcı uygulamaları** | WPF Tarayıcı uygulamaları (. XBAP) şimdi nesneleri doğru sırada yönlendirilmiş anahtar olayları almak böylece tek başına WPF uygulamaları gibi önemli olayları işlemek. | Yok. |
| **Ölü tuş kombinasyonları** | WPF, görünür bir karakter üretmeyen ölü tuşları gizleyen, ancak bunun yerine anahtarın bir karakter üretmek için bir sonraki harf anahtarıyla birleştirileceğini gösterir. <xref:System.Windows.Input.Keyboard.KeyDownEvent> Olay gibi önemli giriş olayları, bir anahtar ölü bir anahtar olduğunda <xref:System.Windows.Input.KeyEventArgs.Key> değeri <xref:System.Windows.Input.Key> özelliği ayarlayarak rapor. Uygulamalar genellikle birleşik bir karakter oluşturan klavye girişine yanıt vermek niyetinde olmadığından, genellikle beklenen davranıştır. | Birleştirilmiş karakterlerin bir parçası olan anahtarları okumayı bekleyen uygulamalar, <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> özelliği kullanarak şimdi gizlenen anahtarı alabilir. |
| **Odak yöneticisi** | Yöntem, [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) bağlı özelliği kümesiolan bir öğe `true`geçirildiğinde, döndürülen öğe yönteme geçirilen öğeyle aynı <xref:System.Windows.PresentationSource> nesneye aitse ve yalnızca döndürülen öğe yalnızca bu odak kapsamı içindeki son klavye odaklı öğe olan bir öğeyi döndürür. <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> | Yok. |

### <a name="ui-automation"></a>UI Otomasyonu

Ad <xref:System.Windows>alanı: <xref:System.Windows.Automation.Peers> <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input>, , , ; derlemeler: PresentationFramework (PresentationFramework.dll'de), PresentationCore (PresentationCore.dll'de), UIAutomationProvider (UIAutomationProvider.dll'de), WindowsBase (WindowsBase.dll'de)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Görünümlerin sınıf hiyerarşisi** | Ve <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> sınıflar <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> yerine <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>devralır. | <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> Sınıflardan devralır ve <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> yöntemi geçersiz kılarsanız, yeni <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> sınıftan devralan bir nesneyi döndürmeyi düşünün. |
| **Ekran dışı kaplar** | Yanlış bir iade değerini <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> düzeltmek için yöntem `false` artık görüntüden kaydırılan madde kapsayıcıları için doğru şekilde döndürür. Ayrıca, yöntemin değeri diğer pencereler tarafından tıkanması veya öğenin belirli bir monitörde görünür olup olmadığı etkilenmez. | Yok. |
| **Menüler ve alt nesneler** | <xref:System.Windows.Controls.MenuItem> Nesneler dışında alt bilgi içeren menülerin UI otomasyonunu etkinleştirmek <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> için, yöntem artık nesne <xref:System.Windows.Automation.Peers.AutomationPeer> <xref:System.Windows.UIElement> <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> yerine alt nesnenin nesnesini döndürür. | Yok. |
| **Yeni arayüzler ve montaj** | UI otomasyonu için yeni özellikler etkinleştirmek için aşağıdaki arabirimler eklendi:<br><br>* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | WPF otomasyon ule'larını oluşturan herhangi bir proje, UIAutomationProvider.dll'ye açık bir başvuru eklemelidir. |
| **Başparmak** | Yöntem <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> null yerine bir değer döndürür. Bu nedenle, <xref:System.Windows.Controls.GridSplitter> <xref:System.Windows.Controls.Primitives.Thumb> sınıftan devralma gibi denetimler ui otomasyonuna bir ad bildirir. | Yok. |
| **Sanallaştırılmış öğeler** | Performansı artırmak için <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> yöntem, sanallaştırılıp sanallaştırılmadığına bakılmaksızın, tüm alt nesneler yerine yalnızca görsel ağaçta bulunan alt nesneleri döndürür. | Bir <xref:System.Windows.Automation.ItemContainerPattern> <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>'nin tüm öğeleri üzerinde tekrarlamak için kullanın. |

### <a name="xaml"></a>XAML

<xref:System.Windows>Ad boşlukları: <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input> <xref:System.Windows.Markup>, , , ; derlemeler: PresentationFramework (PresentationFramework.dll'de), PresentationCore (PresentationCore.dll'de), WindowsBase (WindowsBase.dll'de)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Biçimlendirme uzantısı** | WPF artık, bir özelliği ayarlamak <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> veya koleksiyonda <xref:System.Windows.Markup.MarkupExtension> bir öğe oluşturmak için biçimlendirme uzantısı kullanıldığında, nesneyi belirli durumlarda döndürmek yerine yöntemdeki değeri her zaman doğru bir şekilde kullanır. Biçimlendirme uzantısı bazı durumlarda kendisini döndürebilir. | Uygulamanız önceki sürümlerde bir <xref:System.Windows.Markup.MarkupExtension> nesneyi döndüren bir kaynağa <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>erişirse, <xref:System.Windows.Markup.MarkupExtension> nesne yerine döndürülen nesneye başvurun. |
| **Öznitelikleri ayrıştma** | XAML'deki özniteliklerin artık yalnızca bir dönemi olabilir. Örneğin, aşağıdakiler geçerlidir:<br><br>`<Button Background="Red"/>`(dönem yok)<br><br>`<Button Button.Background = "Red"/>`(bir dönem)<br><br>Aşağıdakiler artık geçerli değildir:<br><br>`<Button Control.Button.Background = "Red"/>`(birden fazla dönem) | Birden fazla dönemi olan XAML özniteliklerini düzeltin. |

## <a name="xml"></a>XML

Bu tablodaki satırlar, daha önce sınırlamaları veya diğer sorunları olan özelliklerdeki geliştirmeleri açıklar.

### <a name="schema-and-transforms"></a>Şema ve dönüşümler

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; derlemeler: System.Xml (System.Xml.dll' de), System.Xml.Linq (System.Xml.Linq.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Bukalemun şemaları** | Veri bozulmasını önlemek için, bukalemun şemaları artık birden çok şemaya dahil edildiklerinde doğru bir şekilde klonlanır.<br><br>Bukalemun şemaları hedef ad alanı olmayan şemalardır ve başka bir XSD'ye dahil edildiklerinde, içe aktarma şemasının hedef ad alanını ele alırlar. Genellikle bir şemaya ortak türleri eklemek için kullanılır. |
| **Kimlik fonksiyonları** | XSLT [id işlevi](/sql/xquery/functions-on-sequences-id) artık bir <xref:System.Xml.XmlReader> nesne XLST'ye geçirildiğinde null yerine doğru değeri döndürür.<br><br><xref:System.Xml.XmlReader> Kullanıcı <xref:System.Xml.Linq.XNode.CreateReader%2A> yöntemi kullanarak bir LINQ'dan XML sınıfına bir <xref:System.Xml.XmlReader> nesne oluşturduysa ve bu nesne bir XSLT'ye geçtiyse, XSLT'deki `id` işlevin herhangi bir örneği daha önce null döndürülmüştür. `id` Bu, işlev için izin verilen bir iade değeri değildir. |
| **Ad alanı özniteliği** | Veri bozulmasını önlemek <xref:System.Xml.XPath.XPathNavigator> için, bir nesne `x:xmlns` artık özniteliğin yerel adını doğru döndürür. |
| **Ad alanı bildirimleri** | Alt <xref:System.Xml.XmlReader> ağaçtaki bir nesne artık bir XML öğesi içinde yinelenen ad alanı bildirimleri oluşturmaz. |
| **Şema doğrulaması** | Hatalı şema doğrulamasını <xref:System.Xml.Schema.XmlSchemaSet> önlemek için, sınıf XSD şemalarının doğru ve tutarlı bir şekilde derlenmesine olanak tanır. Bu şemalar diğer şemaları içerebilir; örneğin, `A.xsd` içerebilir `B.xsd`, hangi `C.xsd`içerebilir . Bunlardan herhangi birinin derlenmesine göre bu bağımlılık grafiği geçiş yapılabilir. |
| **Komut dosyası işlevleri** | [İşlev](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) gerçekten kullanılabilir olduğunda işlev `false` kullanılabilir işlevi artık yanlış dönmez. |
| **URI'ler** | Yöntem <xref:System.Xml.Linq.XElement.Load%2A> şimdi LINQ sorgularında doğru BaseURI döndürür. |

### <a name="validation"></a>Doğrulama

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; derlemeler: System.Xml (System.Xml.dll' de), System.Xml.Linq (System.Xml.Linq.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Ad alanı çözümleyicileri** | Yöntem <xref:System.Xml.XmlReader.ReadContentAs%2A> artık <xref:System.Xml.IXmlNamespaceResolver> çözümleyici ona geçirilen yoksayıl.<br><br>Önceki sürümlerde, belirtilen ad alanı çözümleyicisi yoksayılır ve bunun yerine <xref:System.Xml.XmlReader> kullanılmıştır. |
| **Boşluk** | Bir okuyucu oluştururken veri kaybını <xref:System.Xml.XmlReader.Create%2A> önlemek için, yöntem artık önemli beyaz alanı atmaz.<br><br>XML doğrulama, metnin XML biçimlendirmesi ile karıştırılabileceği karışık içerik modunu tanır. Karışık modda, tüm beyaz boşluk önemlidir ve rapor edilmelidir. |

### <a name="writing"></a>Yazma

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; derlemeler: System.Xml (System.Xml.dll' de), System.Xml.Linq (System.Xml.Linq.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık referansları** | Veri bozulmasını önlemek için varlık başvuruları artık XML özniteliklerinde iki kez büyütülmemektedir.<br><br>`xmlns` Kullanıcı, <xref:System.Xml.XmlWriter.WriteEntityRef%2A> bir varlığı bir öznitelik veya bir `xml:lang` `xml:space` öznitelik içine yöntemi kullanarak yazmaya çalıştıysa, varlık çıktıya iki kez dahil edilerek verileri bozmuş olur. |
| **Yeni hat işleme** | Veri bozulmasını <xref:System.Xml.XmlWriter> önlemek için <xref:System.Xml.NewLineHandling> nesneler seçeneğe saygı duyar. |

## <a name="see-also"></a>Ayrıca bkz.

- [.NET Framework 4'te Yeni Tipler ve Üyeler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [.NET Framework 4 Geçiş Kılavuzu](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [.NET Framework 4'te Yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [.NET Framework'te Sürüm Uyumluluğu](version-compatibility.md)
- [Office Çözümlerini .NET Framework 4'e Geçirme](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [.NET Framework Sınıf Kitaplığı'nda Artık Kullanılmayanlar](../whats-new/whats-obsolete.md)
