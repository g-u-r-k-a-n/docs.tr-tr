---
title: Tek Yönlü Hizmetler
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Communication Foundation [WCF], one-way service contracts
- WCF [WCF], one-way service contracts
- service contracts [WCF], defining one-way
ms.assetid: 19053a36-4492-45a3-bfe6-0365ee0205a3
ms.openlocfilehash: c4b69d68c52e9f199348544e5838babc9f4d8c2c
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96248090"
---
# <a name="one-way-services"></a><span data-ttu-id="5054a-102">Tek Yönlü Hizmetler</span><span class="sxs-lookup"><span data-stu-id="5054a-102">One-Way Services</span></span>

<span data-ttu-id="5054a-103">Bir hizmet işleminin varsayılan davranışı, istek-yanıt örünğidir.</span><span class="sxs-lookup"><span data-stu-id="5054a-103">The default behavior of a service operation is the request-reply pattern.</span></span> <span data-ttu-id="5054a-104">İstek-yanıt modelinde, hizmet işlemi kodda bir yöntem olarak gösterilse bile, istemci yanıt iletisini bekler `void` .</span><span class="sxs-lookup"><span data-stu-id="5054a-104">In a request-reply pattern, the client waits for the reply message, even if the service operation is represented in code as a `void` method.</span></span> <span data-ttu-id="5054a-105">Tek yönlü bir işlem ile yalnızca bir ileti iletilir.</span><span class="sxs-lookup"><span data-stu-id="5054a-105">With a one-way operation, only one message is transmitted.</span></span> <span data-ttu-id="5054a-106">Alıcı bir yanıt iletisi göndermez ve gönderici bir ileti bekler.</span><span class="sxs-lookup"><span data-stu-id="5054a-106">The receiver does not send a reply message, nor does the sender expect one.</span></span>  
  
 <span data-ttu-id="5054a-107">Tek yönlü tasarım modelini kullanın:</span><span class="sxs-lookup"><span data-stu-id="5054a-107">Use the one-way design pattern:</span></span>  
  
- <span data-ttu-id="5054a-108">İstemci işlemleri çağırmalıdır ve işlem düzeyinde işlemin sonuçlarından etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="5054a-108">When the client must call operations and is not affected by the result of the operation at the operation level.</span></span>  
  
- <span data-ttu-id="5054a-109"><xref:System.ServiceModel.NetMsmqBinding>Ya da <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> sınıfını kullanırken.</span><span class="sxs-lookup"><span data-stu-id="5054a-109">When using the <xref:System.ServiceModel.NetMsmqBinding> or the <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> class.</span></span> <span data-ttu-id="5054a-110">(Bu senaryo hakkında daha fazla bilgi için bkz. [WCF 'de kuyruklar](queues-in-wcf.md).)</span><span class="sxs-lookup"><span data-stu-id="5054a-110">(For more information about this scenario, see [Queues in WCF](queues-in-wcf.md).)</span></span>  
  
 <span data-ttu-id="5054a-111">Bir işlem tek yönlü olduğunda hata bilgilerini istemciye geri taşımak için bir yanıt iletisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="5054a-111">When an operation is one-way, there is no response message to carry error information back to the client.</span></span> <span data-ttu-id="5054a-112">Güvenilir oturumlar gibi temel bağlamanın özelliklerini kullanarak hata koşullarını algılayabilir 2 1 veya hizmet ile istemci arasında tek yönlü bir sözleşme (hizmetin, istemcinin uyguladığı bir geri çağırma kullanarak istemciye geri gönderebilmesi için, hizmet ve istemci arasında bir adet tek yönlü anlaşma) kullanarak hata koşullarını tespit edebilirsiniz ve bu sayede hizmetin hataları istemciye geri gönderebilmesini sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5054a-112">You can detect error conditions by using features of the underlying binding, such as reliable sessions, or by designing a duplex service contract that uses two one-way operations—a one-way contract from the client to the service to call service operation and another one-way contract between the service and the client so that the service can send back faults to the client using a callback that the client implements.</span></span>  
  
 <span data-ttu-id="5054a-113">Tek yönlü bir hizmet sözleşmesi oluşturmak için, hizmet sözleşmenizi tanımlayın, <xref:System.ServiceModel.OperationContractAttribute> her bir işleme sınıfı uygulayın ve <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> `true` Aşağıdaki örnek kodda gösterildiği gibi özelliğini olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5054a-113">To create a one-way service contract, define your service contract, apply the <xref:System.ServiceModel.OperationContractAttribute> class to each operation, and set the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true`, as shown in the following sample code.</span></span>  
  
```csharp
[ServiceContract(Namespace="http://Microsoft.ServiceModel.Samples")]  
public interface IOneWayCalculator  
{  
    [OperationContract(IsOneWay=true)]  
    void Add(double n1, double n2);  
    [OperationContract(IsOneWay = true)]  
    void Subtract(double n1, double n2);  
    [OperationContract(IsOneWay = true)]  
    void Multiply(double n1, double n2);  
    [OperationContract(IsOneWay = true)]  
    void Divide(double n1, double n2);  
}  
```  
  
 <span data-ttu-id="5054a-114">Tam bir örnek için bkz. [tek yönlü](../samples/one-way.md) örnek.</span><span class="sxs-lookup"><span data-stu-id="5054a-114">For a complete example, see the [One-Way](../samples/one-way.md) sample.</span></span>  
  
## <a name="clients-blocking-with-one-way-operations"></a><span data-ttu-id="5054a-115">One-Way Işlemler ile engelleyen istemciler</span><span class="sxs-lookup"><span data-stu-id="5054a-115">Clients Blocking with One-Way Operations</span></span>  

 <span data-ttu-id="5054a-116">Bazı tek yönlü uygulamalar, giden veriler ağ bağlantısına yazıldığında, bazı senaryolarda bir bağlamanın veya bir hizmetin uygulanması, bir WCF istemcisinin tek yönlü işlemler kullanılarak engellenmesine neden olabileceği unutulmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="5054a-116">It is important to realize that while some one-way applications return as soon as the outbound data is written to the network connection, in several scenarios the implementation of a binding or of a service can cause a WCF client to block using one-way operations.</span></span> <span data-ttu-id="5054a-117">WCF istemci uygulamalarında, WCF istemci nesnesi, giden veriler ağ bağlantısına yazıldıktan kadar döndürmez.</span><span class="sxs-lookup"><span data-stu-id="5054a-117">In WCF client applications, the WCF client object does not return until the outbound data has been written to the network connection.</span></span> <span data-ttu-id="5054a-118">Bu, tek yönlü işlemler de dahil olmak üzere tüm ileti değişimi desenleri için geçerlidir; Bu, verileri ulaşım 'e yazarken oluşan herhangi bir sorunun istemcinin döndürmesini önlediği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="5054a-118">This is true for all message exchange patterns, including one-way operations; this means that any problem writing the data to the transport prevents the client from returning.</span></span> <span data-ttu-id="5054a-119">Soruna bağlı olarak, sonuç bir özel durum veya hizmete ileti gönderilirken bir gecikme olabilir.</span><span class="sxs-lookup"><span data-stu-id="5054a-119">Depending upon the problem, the result could be an exception or a delay in sending messages to the service.</span></span>  
  
 <span data-ttu-id="5054a-120">Örneğin, taşıma uç noktayı bulamazsa, <xref:System.ServiceModel.EndpointNotFoundException?displayProperty=nameWithType> çok gecikmeden oluşan bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5054a-120">For example, if the transport cannot find the endpoint, a <xref:System.ServiceModel.EndpointNotFoundException?displayProperty=nameWithType> exception is thrown without much delay.</span></span> <span data-ttu-id="5054a-121">Ancak, hizmetin verileri bazı nedenlerle okuyamasının yanı sıra, istemci aktarım gönderme işleminin döndürmesini engelleyen bir durum da olasıdır.</span><span class="sxs-lookup"><span data-stu-id="5054a-121">However, it is also possible that the service is unable to read the data off the wire for some reason, which prevents the client transport send operation from returning.</span></span> <span data-ttu-id="5054a-122">Bu durumlarda, <xref:System.ServiceModel.Channels.Binding.SendTimeout%2A?displayProperty=nameWithType> istemci taşıma bağlamasındaki süre aşılırsa, bir oluşturulur, <xref:System.TimeoutException?displayProperty=nameWithType> ancak zaman aşımı süresi aşılana kadar olmaz.</span><span class="sxs-lookup"><span data-stu-id="5054a-122">In these cases, if the <xref:System.ServiceModel.Channels.Binding.SendTimeout%2A?displayProperty=nameWithType> period on the client transport binding is exceeded, a <xref:System.TimeoutException?displayProperty=nameWithType> is thrown—but not until the timeout period has been exceeded.</span></span> <span data-ttu-id="5054a-123">Hizmetin belirli bir noktadan sonra işleyememesi için bir hizmette çok sayıda ileti tetikleyede mümkündür.</span><span class="sxs-lookup"><span data-stu-id="5054a-123">It is also possible to fire so many messages at a service that the service cannot process them past a certain point.</span></span> <span data-ttu-id="5054a-124">Bu durumda, tek yönlü istemci, hizmet iletileri işleyebilir veya bir özel durum oluşana kadar engeller.</span><span class="sxs-lookup"><span data-stu-id="5054a-124">In this case, too, the one-way client blocks until the service can process the messages or until an exception is thrown.</span></span>  
  
 <span data-ttu-id="5054a-125">Diğer bir çeşitleme, Service <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> özelliğinin olarak ayarlandığı <xref:System.ServiceModel.ConcurrencyMode.Single> ve bağlamanın oturumları kullandığı durumdur.</span><span class="sxs-lookup"><span data-stu-id="5054a-125">Another variation is the situation in which the service <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> property is set to <xref:System.ServiceModel.ConcurrencyMode.Single> and the binding uses sessions.</span></span> <span data-ttu-id="5054a-126">Bu durumda, dağıtıcı gelen iletiler (bir oturum gereksinimi) üzerinde sıralamayı zorlar ve bu, hizmet önceki iletiyi bu oturum için işleene kadar, sonraki iletilerin ağ üzerinden okunmasını önler.</span><span class="sxs-lookup"><span data-stu-id="5054a-126">In this case, the dispatcher enforces ordering on the incoming messages (a requirement of sessions), which prevents subsequent messages from being read off the network until the service has processed the preceding message for that session.</span></span> <span data-ttu-id="5054a-127">Yine, istemci engeller, ancak bir özel durumun oluşup oluşmadığını, hizmetin, istemci üzerindeki zaman aşımı ayarlarından önce bekleyen verileri işleyebiliyor olup olmamasına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="5054a-127">Again, the client blocks, but whether an exception occurs depends upon whether the service is able to process the waiting data prior to the timeout settings on the client.</span></span>  
  
 <span data-ttu-id="5054a-128">İstemci nesnesi ile istemci aktarımının gönderme işlemi arasında bir arabellek ekleyerek bu sorunun bazılarını azaltabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5054a-128">You can mitigate some of this problem by inserting a buffer between the client object and the client transport's send operation.</span></span> <span data-ttu-id="5054a-129">Örneğin, zaman uyumsuz çağrılar veya bellek içi ileti sırası kullanımı, istemci nesnesinin hızla dönmesini sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="5054a-129">For example, using asynchronous calls or using an in-memory message queue can enable the client object to return quickly.</span></span> <span data-ttu-id="5054a-130">Her iki yaklaşım da işlevselliği artırabilir, ancak iş parçacığı havuzunun boyutu ve ileti sırası yine de sınırlara zorlanıyor.</span><span class="sxs-lookup"><span data-stu-id="5054a-130">Both approaches may increase functionality, but the size of the thread pool and the message queue still enforce limits.</span></span>  
  
 <span data-ttu-id="5054a-131">Bunun yerine, hizmette ve istemci üzerindeki çeşitli denetimleri incelemenizi ve ardından her iki taraftan en iyi yapılandırmayı belirleyebilmek için uygulama senaryolarınızı test etmeniz önerilir.</span><span class="sxs-lookup"><span data-stu-id="5054a-131">It is recommended, instead, that you examine the various controls on the service as well as on the client, and then test your application scenarios to determine the best configuration on either side.</span></span> <span data-ttu-id="5054a-132">Örneğin, oturumların kullanımı hizmetinizdeki iletilerin işlenmesini engelliyorsa, <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> <xref:System.ServiceModel.InstanceContextMode.PerCall> her bir iletinin farklı bir hizmet örneği tarafından işlenebilmesi için özelliğini olarak ayarlayabilir ve <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> <xref:System.ServiceModel.ConcurrencyMode.Multiple> aynı anda birden fazla iş parçacığına ileti gönderimi için ' i ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="5054a-132">For example, if the use of sessions is blocking the processing of messages on your service, you can set the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.InstanceContextMode.PerCall> so that each message can be processed by a different service instance, and set the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> to <xref:System.ServiceModel.ConcurrencyMode.Multiple> in order to allow more than one thread to dispatch messages at a time.</span></span> <span data-ttu-id="5054a-133">Diğer bir yaklaşım ise hizmetin ve istemci bağlamalarının okuma kotalarını artırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5054a-133">Another approach is to increase the read quotas of the service and client bindings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5054a-134">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="5054a-134">See also</span></span>

- [<span data-ttu-id="5054a-135">Tek Yönlü</span><span class="sxs-lookup"><span data-stu-id="5054a-135">One-Way</span></span>](../samples/one-way.md)
