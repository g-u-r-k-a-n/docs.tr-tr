---
title: "CA2012: ValueTasks 'ı doğru kullanın (kod analizi)"
description: "Kod Analizi kuralı CA2012: ValueTasks 'ı doğru kullanma hakkında bilgi edinin"
ms.date: 06/18/2020
ms.topic: reference
f1_keywords:
- UseValueTasksCorrectly
- CA2012
helpviewer_keywords:
- UseValueTasksCorrectly
- CA2012
author: stephentoub
ms.author: stoub
ms.openlocfilehash: e6bf3b099ce31e72027b9b749aefcd4a11b1f470
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99754751"
---
# <a name="ca2012-use-valuetasks-correctly"></a><span data-ttu-id="c4a2b-103">CA2012: ValueTask’leri doğru kullanın</span><span class="sxs-lookup"><span data-stu-id="c4a2b-103">CA2012: Use ValueTasks correctly</span></span>

| | <span data-ttu-id="c4a2b-104">Değer</span><span class="sxs-lookup"><span data-stu-id="c4a2b-104">Value</span></span> |
|-|-|
| <span data-ttu-id="c4a2b-105">**Kural Kimliği**</span><span class="sxs-lookup"><span data-stu-id="c4a2b-105">**Rule ID**</span></span> |<span data-ttu-id="c4a2b-106">CA2012</span><span class="sxs-lookup"><span data-stu-id="c4a2b-106">CA2012</span></span>|
| <span data-ttu-id="c4a2b-107">**Kategori**</span><span class="sxs-lookup"><span data-stu-id="c4a2b-107">**Category**</span></span> |[<span data-ttu-id="c4a2b-108">Güvenilirlik</span><span class="sxs-lookup"><span data-stu-id="c4a2b-108">Reliability</span></span>](reliability-warnings.md)|
| <span data-ttu-id="c4a2b-109">**Düzeltilme veya kırılmamış**</span><span class="sxs-lookup"><span data-stu-id="c4a2b-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="c4a2b-110">Kırılmamış</span><span class="sxs-lookup"><span data-stu-id="c4a2b-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="c4a2b-111">Nedeni</span><span class="sxs-lookup"><span data-stu-id="c4a2b-111">Cause</span></span>

<span data-ttu-id="c4a2b-112"><xref:System.Threading.Tasks.ValueTask>Üye çağrısından döndürülen bir örnek, özel durumlara, bozulmaya veya zayıf performansa yol açabilecek şekilde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-112">A <xref:System.Threading.Tasks.ValueTask> instance returned from a member invocation is used in a way that could lead to exceptions, corruption, or poor performance.</span></span>

## <a name="rule-description"></a><span data-ttu-id="c4a2b-113">Kural açıklaması</span><span class="sxs-lookup"><span data-stu-id="c4a2b-113">Rule description</span></span>

<span data-ttu-id="c4a2b-114"><xref:System.Threading.Tasks.ValueTask> üye etkinleştirmeleri tarafından döndürülen örneklerin doğrudan beklenmek üzere tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-114"><xref:System.Threading.Tasks.ValueTask> instances returned from member invocations are intended to be directly awaited.</span></span>  <span data-ttu-id="c4a2b-115">Bir ValueTask 'ı birden çok kez kullanmaya çalışır veya tamamlanması bilinmadan önce bir sonuca doğrudan erişmek için bir özel durumla veya bozulmaya neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-115">Attempts to consume a ValueTask multiple times or to directly access one's result before it's known to be completed may result in an exception or corruption.</span></span>  <span data-ttu-id="c4a2b-116">Bu tür bir ValueTask, büyük olasılıkla işlevsel bir hatanın göstergesidir ve performansın düşmesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-116">Ignoring such a ValueTask is likely an indication of a functional bug and may degrade performance.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="c4a2b-117">İhlalleri çözme</span><span class="sxs-lookup"><span data-stu-id="c4a2b-117">How to fix violations</span></span>

<span data-ttu-id="c4a2b-118">Genel olarak, ValueTasks yok veya yerel değişkenler veya alanlar gibi diğer konumlara depolanmak yerine doğrudan beklemelidir.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-118">In general, ValueTasks should be directly awaited rather than discarded or stored into other locations like local variables or fields.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="c4a2b-119">Uyarıların ne zaman bastırılamıyor</span><span class="sxs-lookup"><span data-stu-id="c4a2b-119">When to suppress warnings</span></span>

<span data-ttu-id="c4a2b-120">Rastgele üye çağrılarından döndürülen ValueTasks için, çağıranın ValueTask 'ın bir kez ve yalnızca bir kez tüketilmesi gerektiğini (örn.) kabul etmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-120">For ValueTasks returned from arbitrary member calls, the caller needs to assume that the ValueTask must be consumed (e.g. awaited) once and only once.</span></span>  <span data-ttu-id="c4a2b-121">Ancak geliştirici, Çağrılmakta olan üyeyi de denetliyorsa ve uygulamanın tüm bilgisini içeriyorsa, örneğin, return ValueTask her zaman bir nesneyi sarmışsa, geliştirici uyarıyı gizlemek için güvenli olduğunu bilmiş olabilir <xref:System.Threading.Tasks.Task> .</span><span class="sxs-lookup"><span data-stu-id="c4a2b-121">However, if the developer also controls the member being invoked and has complete knowledge of its implementation, the developer may know it's safe to suppress the warning, for example, if the return ValueTask always wraps a <xref:System.Threading.Tasks.Task> object.</span></span>

## <a name="see-also"></a><span data-ttu-id="c4a2b-122">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="c4a2b-122">See also</span></span>

- [<span data-ttu-id="c4a2b-123">Güvenilirlik kuralları</span><span class="sxs-lookup"><span data-stu-id="c4a2b-123">Reliability rules</span></span>](reliability-warnings.md)
