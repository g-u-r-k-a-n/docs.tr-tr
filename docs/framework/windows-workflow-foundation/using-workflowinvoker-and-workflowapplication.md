---
title: WorkflowInvoker ve WorkflowApplication Kullanma
description: Bu makalede, Windows Workflow Foundation ' de Workflowwınvoker ve WorkflowApplication kullanılarak barındırılan iş akışı açıklanmaktadır.
ms.date: 03/30/2017
ms.assetid: cd0e583c-a3f9-4fa2-b247-c7b3368c48a7
ms.openlocfilehash: 50ad291bc73818092e7a08d489d6860636f9c379
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/15/2020
ms.locfileid: "83421325"
---
# <a name="using-workflowinvoker-and-workflowapplication"></a><span data-ttu-id="6270c-103">WorkflowInvoker ve WorkflowApplication Kullanma</span><span class="sxs-lookup"><span data-stu-id="6270c-103">Using WorkflowInvoker and WorkflowApplication</span></span>
<span data-ttu-id="6270c-104">Windows Workflow Foundation (WF), iş akışlarını barındırmak için çeşitli yöntemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-104">Windows Workflow Foundation (WF) provides several methods of hosting workflows.</span></span> <span data-ttu-id="6270c-105"><xref:System.Activities.WorkflowInvoker>bir iş akışını Yöntem çağrısı gibi çağırmak için basit bir yol sağlar ve yalnızca kalıcılığı kullanmayan iş akışları için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-105"><xref:System.Activities.WorkflowInvoker> provides a simple way for invoking a workflow as if it were a method call and can be used only for workflows that do not use persistence.</span></span> <span data-ttu-id="6270c-106"><xref:System.Activities.WorkflowApplication>yaşam döngüsü olayları, yürütme denetimi, yer işareti sürdürme ve kalıcılık bildirimini içeren iş akışlarını yürütmek için daha zengin bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-106"><xref:System.Activities.WorkflowApplication> provides a richer model for executing workflows that includes notification of lifecycle events, execution control, bookmark resumption, and persistence.</span></span> <span data-ttu-id="6270c-107"><xref:System.ServiceModel.Activities.WorkflowServiceHost>ileti etkinlikleri için destek sağlar ve öncelikle iş akışı hizmetleriyle birlikte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6270c-107"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides support for messaging activities and is primarily used with workflow services.</span></span> <span data-ttu-id="6270c-108">Bu konu, ve ile barındırma iş akışını <xref:System.Activities.WorkflowInvoker> tanıtır <xref:System.Activities.WorkflowApplication> .</span><span class="sxs-lookup"><span data-stu-id="6270c-108">This topic introduces you to workflow hosting with <xref:System.Activities.WorkflowInvoker> and <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="6270c-109">İle iş akışlarını barındırma hakkında daha fazla bilgi için <xref:System.ServiceModel.Activities.WorkflowServiceHost> bkz. [Workflow Services](../wcf/feature-details/workflow-services.md) ve [barındırma Iş akışı hizmetlerine genel bakış](../wcf/feature-details/hosting-workflow-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6270c-109">For more information about hosting workflows with <xref:System.ServiceModel.Activities.WorkflowServiceHost>, see [Workflow Services](../wcf/feature-details/workflow-services.md) and [Hosting Workflow Services Overview](../wcf/feature-details/hosting-workflow-services-overview.md).</span></span>  
  
## <a name="using-workflowinvoker"></a><span data-ttu-id="6270c-110">Workflowınitialvoker kullanma</span><span class="sxs-lookup"><span data-stu-id="6270c-110">Using WorkflowInvoker</span></span>  
 <span data-ttu-id="6270c-111"><xref:System.Activities.WorkflowInvoker>bir iş akışını bir yöntem çağrısı gibi yürütmek için bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-111"><xref:System.Activities.WorkflowInvoker> provides a model for executing a workflow as if it were a method call.</span></span> <span data-ttu-id="6270c-112">Kullanarak bir iş akışını çağırmak için <xref:System.Activities.WorkflowInvoker> yöntemini çağırın <xref:System.Activities.WorkflowInvoker.Invoke%2A> ve çağırmak için iş akışının iş akışı tanımını geçirin.</span><span class="sxs-lookup"><span data-stu-id="6270c-112">To invoke a workflow using <xref:System.Activities.WorkflowInvoker>, call the <xref:System.Activities.WorkflowInvoker.Invoke%2A> method and pass in the workflow definition of the workflow to invoke.</span></span> <span data-ttu-id="6270c-113">Bu örnekte, kullanılarak bir <xref:System.Activities.Statements.WriteLine> etkinlik çağrılır <xref:System.Activities.WorkflowInvoker> .</span><span class="sxs-lookup"><span data-stu-id="6270c-113">In this example, a <xref:System.Activities.Statements.WriteLine> activity is invoked using <xref:System.Activities.WorkflowInvoker>.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#1](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#1)]  
  
 <span data-ttu-id="6270c-114">Kullanılarak bir iş akışı çağrıldığında, iş akışı <xref:System.Activities.WorkflowInvoker> çağıran iş parçacığı üzerinde yürütülür ve <xref:System.Activities.WorkflowInvoker.Invoke%2A> herhangi bir boşta kalma süresi dahil, iş akışı tamamlanana kadar engeller.</span><span class="sxs-lookup"><span data-stu-id="6270c-114">When a workflow is invoked using <xref:System.Activities.WorkflowInvoker>, the workflow executes on the calling thread and the <xref:System.Activities.WorkflowInvoker.Invoke%2A> method blocks until the workflow is complete, including any idle time.</span></span> <span data-ttu-id="6270c-115">İş akışının tamamlaması gereken bir zaman aşımı aralığı yapılandırmak için, <xref:System.Activities.WorkflowInvoker.Invoke%2A> bir parametre alan aşırı yüklemelerden birini kullanın <xref:System.TimeSpan> .</span><span class="sxs-lookup"><span data-stu-id="6270c-115">To configure a time-out interval in which the workflow must complete, use one of the <xref:System.Activities.WorkflowInvoker.Invoke%2A> overloads that takes a <xref:System.TimeSpan> parameter.</span></span> <span data-ttu-id="6270c-116">Bu örnekte, bir iş akışı iki farklı zaman aşımı aralıklarıyla iki kez çağırılır.</span><span class="sxs-lookup"><span data-stu-id="6270c-116">In this example, a workflow is invoked twice with two different time-out intervals.</span></span> <span data-ttu-id="6270c-117">İlk iş akışı tamamlanmıyor ancak ikincisi.</span><span class="sxs-lookup"><span data-stu-id="6270c-117">The first workflow complets, but the second does not.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#50](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#50)]  
  
> [!NOTE]
> <span data-ttu-id="6270c-118"><xref:System.TimeoutException>Yalnızca zaman aşımı aralığı geçtiğinde ve iş akışı yürütme sırasında boşta kaldığında oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6270c-118">The <xref:System.TimeoutException> is only thrown if the time-out interval elapses and the workflow becomes idle during execution.</span></span> <span data-ttu-id="6270c-119">İş akışı boşta kalırsa, tamamlanması için belirtilen zaman aşımı aralığından daha uzun süren bir iş akışı başarıyla tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="6270c-119">A workflow that takes longer than the specified time-out interval to complete completes successfully if the workflow does not become idle.</span></span>  
  
 <span data-ttu-id="6270c-120"><xref:System.Activities.WorkflowInvoker>Ayrıca Invoke yönteminin zaman uyumsuz sürümlerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-120"><xref:System.Activities.WorkflowInvoker> also provides asynchronous versions of the invoke method.</span></span> <span data-ttu-id="6270c-121">Daha fazla bilgi için <xref:System.Activities.WorkflowInvoker.InvokeAsync%2A> ve <xref:System.Activities.WorkflowInvoker.BeginInvoke%2A> bölümlerine bakın.</span><span class="sxs-lookup"><span data-stu-id="6270c-121">For more information, see <xref:System.Activities.WorkflowInvoker.InvokeAsync%2A> and <xref:System.Activities.WorkflowInvoker.BeginInvoke%2A>.</span></span>  
  
### <a name="setting-input-arguments-of-a-workflow"></a><span data-ttu-id="6270c-122">Bir Iş akışının giriş bağımsız değişkenlerini ayarlama</span><span class="sxs-lookup"><span data-stu-id="6270c-122">Setting Input Arguments of a Workflow</span></span>  
 <span data-ttu-id="6270c-123">Veriler, iş akışının giriş bağımsız değişkenlerine eşlenen bağımsız değişken adına göre anahtarlı giriş parametrelerinin bir sözlüğünü kullanarak bir iş akışına geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-123">Data can be passed into a workflow using a dictionary of input parameters, keyed by argument name, that map to the input arguments of the workflow.</span></span> <span data-ttu-id="6270c-124">Bu örnekte, bir <xref:System.Activities.Statements.WriteLine> çağırılır ve <xref:System.Activities.Statements.WriteLine.Text%2A> bağımsız değişkeninin değeri giriş parametrelerinin sözlüğü kullanılarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-124">In this example, a <xref:System.Activities.Statements.WriteLine> is invoked and the value for its <xref:System.Activities.Statements.WriteLine.Text%2A> argument is specified using the dictionary of input parameters.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#3](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#3)]  
  
### <a name="retrieving-output-arguments-of-a-workflow"></a><span data-ttu-id="6270c-125">Bir Iş akışının çıkış bağımsız değişkenlerini alma</span><span class="sxs-lookup"><span data-stu-id="6270c-125">Retrieving Output Arguments of a Workflow</span></span>  
 <span data-ttu-id="6270c-126">Bir iş akışının çıkış parametreleri, çağrısından döndürülen çıktılar sözlüğü kullanılarak elde edilebilir <xref:System.Activities.WorkflowInvoker.Invoke%2A> .</span><span class="sxs-lookup"><span data-stu-id="6270c-126">The output parameters of a workflow can be obtained using the outputs dictionary that is returned from the call to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span> <span data-ttu-id="6270c-127">Aşağıdaki örnek, `Divide` iki giriş bağımsız değişkenine ve iki çıkış bağımsız değişkenine sahip tek bir etkinlikten oluşan bir iş akışını çağırır.</span><span class="sxs-lookup"><span data-stu-id="6270c-127">The following example invokes a workflow consisting of a single `Divide` activity that has two input arguments and two output arguments.</span></span> <span data-ttu-id="6270c-128">İş akışı çağrıldığında, `arguments` her giriş bağımsız değişkeninin değerlerini içeren sözlük geçirilir ve bağımsız değişken adına göre anahtarlanır.</span><span class="sxs-lookup"><span data-stu-id="6270c-128">When the workflow is invoked, the `arguments` dictionary is passed which contains the values for each input argument, keyed by argument name.</span></span> <span data-ttu-id="6270c-129">Çağrısı döndürüldüğünde `Invoke` , her çıkış bağımsız değişkeni `outputs` Sözlükte döndürülür ve bağımsız değişken adına göre anahtarlanır.</span><span class="sxs-lookup"><span data-stu-id="6270c-129">When the call to `Invoke` returns, each output argument is returned in the `outputs` dictionary, also keyed by argument name.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#120](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#120)]  
  
 [!code-csharp[CFX_WorkflowInvokerExample#20](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#20)]  
  
 <span data-ttu-id="6270c-130">İş akışı, veya gibi öğesinden türetilse <xref:System.Activities.ActivityWithResult> `CodeActivity<TResult>` `Activity<TResult>` ve iyi tanımlanmış çıkış bağımsız değişkenine ek olarak çıkış bağımsız değişkenleri varsa <xref:System.Activities.Activity%601.Result%2A> , ek bağımsız değişkenleri almak için öğesinin genel olmayan bir aşırı yüklemesi `Invoke` kullanılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6270c-130">If the workflow derives from <xref:System.Activities.ActivityWithResult>, such as `CodeActivity<TResult>` or `Activity<TResult>`, and there are output arguments in addition to the well-defined <xref:System.Activities.Activity%601.Result%2A> output argument, a non-generic overload of `Invoke` must be used in order to retrieve the additional arguments.</span></span> <span data-ttu-id="6270c-131">Bunu yapmak için geçirilen iş akışı tanımının `Invoke` türünde olması gerekir <xref:System.Activities.Activity> .</span><span class="sxs-lookup"><span data-stu-id="6270c-131">To do this, the workflow definition passed into `Invoke` must be of type <xref:System.Activities.Activity>.</span></span> <span data-ttu-id="6270c-132">Bu örnekte `Divide` , etkinlik öğesinden türetilir `CodeActivity<int>` , ancak ' <xref:System.Activities.Activity> ın genel olmayan bir aşırı yüklemesinin `Invoke` , tek bir dönüş değeri yerine bağımsız değişkenlerin bir sözlüğünü döndüren kullanıldığı şekilde bildirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="6270c-132">In this example the `Divide` activity derives from `CodeActivity<int>`, but is declared as <xref:System.Activities.Activity> so that a non-generic overload of `Invoke` is used which returns a dictionary of arguments instead of a single return value.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#121](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#121)]  
  
 [!code-csharp[CFX_WorkflowInvokerExample#21](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#21)]  
  
## <a name="using-workflowapplication"></a><span data-ttu-id="6270c-133">WorkflowApplication kullanma</span><span class="sxs-lookup"><span data-stu-id="6270c-133">Using WorkflowApplication</span></span>  
 <span data-ttu-id="6270c-134"><xref:System.Activities.WorkflowApplication>iş akışı örneği yönetimi için zengin bir özellikler kümesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-134"><xref:System.Activities.WorkflowApplication> provides a rich set of features for workflow instance management.</span></span> <span data-ttu-id="6270c-135"><xref:System.Activities.WorkflowApplication>, çalışma zamanını kapsülleyen gerçek iş parçacığı güvenli proxy 'si olarak davranır <xref:System.Activities.Hosting.WorkflowInstance> ve iş akışı örnekleri oluşturma ve yükleme, duraklatma ve sürdürme, sonlandırma ve yaşam döngüsü olaylarının bildirilmesi için yöntemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-135"><xref:System.Activities.WorkflowApplication> acts as a thread safe proxy to the actual  <xref:System.Activities.Hosting.WorkflowInstance>, which encapsulates the runtime, and provides methods for creating and loading workflow instances, pausing and resuming, terminating, and notification of lifecycle events.</span></span> <span data-ttu-id="6270c-136">Kullanarak bir iş akışını çalıştırmak için, <xref:System.Activities.WorkflowApplication> <xref:System.Activities.WorkflowApplication> istediğiniz yaşam döngüsü olaylarına abone olun, iş akışını başlatın ve sonra bitmesini bekleyin.</span><span class="sxs-lookup"><span data-stu-id="6270c-136">To run a workflow using <xref:System.Activities.WorkflowApplication> you create the <xref:System.Activities.WorkflowApplication>, subscribe to any desired lifecycle events, start the workflow, and then wait for it to finish.</span></span> <span data-ttu-id="6270c-137">Bu örnekte, bir etkinlikten oluşan bir iş akışı tanımı <xref:System.Activities.Statements.WriteLine> oluşturulur ve <xref:System.Activities.WorkflowApplication> belirtilen iş akışı tanımı kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6270c-137">In this example, a workflow definition that consists of a <xref:System.Activities.Statements.WriteLine> activity is created and a <xref:System.Activities.WorkflowApplication> is created using the specified workflow definition.</span></span> <span data-ttu-id="6270c-138"><xref:System.Activities.WorkflowApplication.Completed%2A>, iş akışı tamamlandığında konağa bildirilecek şekilde işlenir, iş akışı öğesine çağrısıyla başlatılır <xref:System.Activities.WorkflowApplication.Run%2A> ve sonra konağın iş akışının tamamlanmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="6270c-138"><xref:System.Activities.WorkflowApplication.Completed%2A> is handled so the host is notified when the workflow completes, the workflow is started with a call to <xref:System.Activities.WorkflowApplication.Run%2A>, and then the host waits for the workflow to complete.</span></span> <span data-ttu-id="6270c-139">İş akışı tamamlandığında, <xref:System.Threading.AutoResetEvent> ayarlanır ve konak uygulama, aşağıdaki örnekte gösterildiği gibi yürütmeyi sürdürür.</span><span class="sxs-lookup"><span data-stu-id="6270c-139">When the workflow completes, the <xref:System.Threading.AutoResetEvent> is set and the host application can resume execution, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#31](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#31)]  
  
### <a name="workflowapplication-lifecycle-events"></a><span data-ttu-id="6270c-140">WorkflowApplication yaşam döngüsü olayları</span><span class="sxs-lookup"><span data-stu-id="6270c-140">WorkflowApplication Lifecycle Events</span></span>  
 <span data-ttu-id="6270c-141">Uygulamasına ek olarak <xref:System.Activities.WorkflowApplication.Completed%2A> , bir iş akışı kaldırıldığında ( <xref:System.Activities.WorkflowApplication.Unloaded%2A> ), iptal edilen ( <xref:System.Activities.WorkflowApplication.Aborted%2A> ), boşta ( <xref:System.Activities.WorkflowApplication.Idle%2A> ve) <xref:System.Activities.WorkflowApplication.PersistableIdle%2A> veya işlenmeyen bir özel durum oluştuğunda <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> (), ana bilgisayar yazarlarına bildirim uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-141">In addition to <xref:System.Activities.WorkflowApplication.Completed%2A>, host authors can be notified when a workflow is unloaded (<xref:System.Activities.WorkflowApplication.Unloaded%2A>), aborted (<xref:System.Activities.WorkflowApplication.Aborted%2A>), becomes idle (<xref:System.Activities.WorkflowApplication.Idle%2A> and <xref:System.Activities.WorkflowApplication.PersistableIdle%2A>), or an unhandled exception occurs (<xref:System.Activities.WorkflowApplication.OnUnhandledException%2A>).</span></span> <span data-ttu-id="6270c-142">İş akışı uygulaması geliştiricileri, aşağıdaki örnekte gösterildiği gibi bu bildirimleri işleyebilir ve uygun eylemi gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-142">Workflow application developers can handle these notifications and take appropriate action, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#32](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#32)]  
  
### <a name="setting-input-arguments-of-a-workflow"></a><span data-ttu-id="6270c-143">Bir Iş akışının giriş bağımsız değişkenlerini ayarlama</span><span class="sxs-lookup"><span data-stu-id="6270c-143">Setting Input Arguments of a Workflow</span></span>  
 <span data-ttu-id="6270c-144">Veriler, kullanılırken verilerin geçirildiği yönteme benzer şekilde, bir parametre sözlüğü kullanılarak başlatıldığı için bir iş akışına geçirilebilir <xref:System.Activities.WorkflowInvoker> .</span><span class="sxs-lookup"><span data-stu-id="6270c-144">Data can be passed into a workflow as it is started using a dictionary of parameters, similar to the way data is passed in when using <xref:System.Activities.WorkflowInvoker>.</span></span> <span data-ttu-id="6270c-145">Sözlükteki her öğe, belirtilen iş akışının giriş bağımsız değişkeniyle eşlenir.</span><span class="sxs-lookup"><span data-stu-id="6270c-145">Each item in the dictionary maps to an input argument of the specified workflow.</span></span> <span data-ttu-id="6270c-146">Bu örnekte, bir etkinlikten oluşan bir iş akışı <xref:System.Activities.Statements.WriteLine> çağrılır ve <xref:System.Activities.Statements.WriteLine.Text%2A> bağımsız değişkeni giriş parametrelerinin sözlüğü kullanılarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-146">In this example, a workflow that consists of a <xref:System.Activities.Statements.WriteLine> activity is invoked and its <xref:System.Activities.Statements.WriteLine.Text%2A> argument is specified using the dictionary of input parameters.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#30](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#30)]  
  
### <a name="retrieving-output-arguments-of-a-workflow"></a><span data-ttu-id="6270c-147">Bir Iş akışının çıkış bağımsız değişkenlerini alma</span><span class="sxs-lookup"><span data-stu-id="6270c-147">Retrieving Output Arguments of a Workflow</span></span>  
 <span data-ttu-id="6270c-148">Bir iş akışı tamamlandığında, sözlüğe erişerek herhangi bir çıkış bağımsız değişkeni <xref:System.Activities.WorkflowApplication.Completed%2A> işleyicide alınabilir <xref:System.Activities.WorkflowApplicationCompletedEventArgs.Outputs%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="6270c-148">When a workflow completes, any output arguments can be retrieved in the <xref:System.Activities.WorkflowApplication.Completed%2A> handler by accessing the <xref:System.Activities.WorkflowApplicationCompletedEventArgs.Outputs%2A?displayProperty=nameWithType> dictionary.</span></span> <span data-ttu-id="6270c-149">Aşağıdaki örnek kullanarak bir iş akışı barındırır <xref:System.Activities.WorkflowApplication> .</span><span class="sxs-lookup"><span data-stu-id="6270c-149">The following example hosts a workflow using <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="6270c-150"><xref:System.Activities.WorkflowApplication>Örnek, tek bir etkinlikten oluşan iş akışı tanımı kullanılarak oluşturulur `DiceRoll` .</span><span class="sxs-lookup"><span data-stu-id="6270c-150">A <xref:System.Activities.WorkflowApplication> instance is constructed using a workflow definition consisting of a single `DiceRoll` activity.</span></span> <span data-ttu-id="6270c-151">`DiceRoll`Etkinliğin, zar alma işleminin sonuçlarını temsil eden iki çıkış bağımsız değişkeni vardır.</span><span class="sxs-lookup"><span data-stu-id="6270c-151">The `DiceRoll` activity has two output arguments that represent the results of the dice roll operation.</span></span> <span data-ttu-id="6270c-152">İş akışı tamamlandığında, çıktılar <xref:System.Activities.WorkflowApplication.Completed%2A> işleyicide alınır.</span><span class="sxs-lookup"><span data-stu-id="6270c-152">When the workflow completes, the outputs are retrieved in the <xref:System.Activities.WorkflowApplication.Completed%2A> handler.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#130](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#130)]  
  
 [!code-csharp[CFX_WorkflowApplicationExample#21](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#21)]  
  
> [!NOTE]
> <span data-ttu-id="6270c-153"><xref:System.Activities.WorkflowApplication>ve <xref:System.Activities.WorkflowInvoker> giriş bağımsız değişkenlerinin sözlüğünü alın ve `out` bağımsız değişkenlerin sözlüğünü döndürün.</span><span class="sxs-lookup"><span data-stu-id="6270c-153"><xref:System.Activities.WorkflowApplication> and <xref:System.Activities.WorkflowInvoker> take a dictionary of input arguments and return a dictionary of `out` arguments.</span></span> <span data-ttu-id="6270c-154">Bu sözlük parametreleri, özellikleri ve dönüş değerleri türündedir `IDictionary<string, object>` .</span><span class="sxs-lookup"><span data-stu-id="6270c-154">These dictionary parameters, properties, and return values are of type `IDictionary<string, object>`.</span></span> <span data-ttu-id="6270c-155">Öğesine geçirilen sözlük sınıfının gerçek örneği, uygulayan herhangi bir sınıf olabilir `IDictionary<string, object>` .</span><span class="sxs-lookup"><span data-stu-id="6270c-155">The actual instance of the dictionary class that is passed in can be any class that implements `IDictionary<string, object>`.</span></span> <span data-ttu-id="6270c-156">Bu örneklerde, `Dictionary<string, object>` kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6270c-156">In these examples, `Dictionary<string, object>` is used.</span></span> <span data-ttu-id="6270c-157">Sözlükler hakkında daha fazla bilgi için bkz <xref:System.Collections.Generic.IDictionary%602> <xref:System.Collections.Generic.Dictionary%602> . ve.</span><span class="sxs-lookup"><span data-stu-id="6270c-157">For more information about dictionaries, see <xref:System.Collections.Generic.IDictionary%602> and <xref:System.Collections.Generic.Dictionary%602>.</span></span>  
  
### <a name="passing-data-into-a-running-workflow-using-bookmarks"></a><span data-ttu-id="6270c-158">Yer Imlerini kullanarak çalışan bir Iş akışına veri geçirme</span><span class="sxs-lookup"><span data-stu-id="6270c-158">Passing Data into a Running Workflow Using Bookmarks</span></span>  
 <span data-ttu-id="6270c-159">Yer işaretleri, bir etkinliğin çok büyük bir süre içinde çalışmaya devam edeceği ve çalışan bir iş akışı örneğine veri geçirme mekanizması olan mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="6270c-159">Bookmarks are the mechanism by which an activity can passively wait to be resumed and are a mechanism for passing data into a running workflow instance.</span></span> <span data-ttu-id="6270c-160">Bir etkinlik veri bekliyorsa, aşağıdaki örnekte gösterildiği gibi bir etkinlik oluşturup, <xref:System.Activities.Bookmark> devam edildiğinde çağrılacak bir geri çağırma yöntemi kaydedebilir <xref:System.Activities.Bookmark> .</span><span class="sxs-lookup"><span data-stu-id="6270c-160">If an activity is waiting for data, it can create a <xref:System.Activities.Bookmark> and register a callback method to be called when the <xref:System.Activities.Bookmark> is resumed, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#15](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#15)]  
  
 <span data-ttu-id="6270c-161">Yürütüldüğünde, `ReadLine` etkinlik bir oluşturur, bir <xref:System.Activities.Bookmark> geri çağırma kaydeder ve <xref:System.Activities.Bookmark> devam etmek için bekler.</span><span class="sxs-lookup"><span data-stu-id="6270c-161">When executed, the `ReadLine` activity creates a <xref:System.Activities.Bookmark>, registers a callback, and then waits for the <xref:System.Activities.Bookmark> to be resumed.</span></span> <span data-ttu-id="6270c-162">Devam edildiğinde `ReadLine` etkinlik, ile geçilen verileri <xref:System.Activities.Bookmark> <xref:System.Activities.Activity%601.Result%2A> bağımsız değişkenine atar.</span><span class="sxs-lookup"><span data-stu-id="6270c-162">When it is resumed, the `ReadLine` activity assigns the data that was passed with the <xref:System.Activities.Bookmark> to its <xref:System.Activities.Activity%601.Result%2A> argument.</span></span> <span data-ttu-id="6270c-163">Bu örnekte, `ReadLine` etkinliğin Kullanıcı adını toplayıp konsol penceresinde görüntülemesi için etkinliğini kullanan bir iş akışı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="6270c-163">In this example, a workflow is created that uses the `ReadLine` activity to gather the user’s name and display it to the console window.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#22](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#22)]  
  
 <span data-ttu-id="6270c-164">`ReadLine`Etkinlik yürütüldüğünde, <xref:System.Activities.Bookmark> adlandırılmış bir adı oluşturur `UserName` ve sonra yer işaretinin sürdürülmesini bekler.</span><span class="sxs-lookup"><span data-stu-id="6270c-164">When the `ReadLine` activity is executed, it creates a <xref:System.Activities.Bookmark> named `UserName` and then waits for the bookmark to be resumed.</span></span> <span data-ttu-id="6270c-165">Konak, istenen verileri toplar ve ardından devam ettirir <xref:System.Activities.Bookmark> .</span><span class="sxs-lookup"><span data-stu-id="6270c-165">The host collects the desired data and then resumes the <xref:System.Activities.Bookmark>.</span></span> <span data-ttu-id="6270c-166">İş akışı devam eder, adı görüntüler ve sonra tamamlar.</span><span class="sxs-lookup"><span data-stu-id="6270c-166">The workflow resumes, displays the name, and then completes.</span></span>  
  
 <span data-ttu-id="6270c-167">Konak uygulama, etkin bir yer işareti olup olmadığını anlamak için iş akışını inceleyebilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-167">The host application can inspect the workflow to determine if there are any active bookmarks.</span></span> <span data-ttu-id="6270c-168">Bunu, <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> bir örneğin yöntemini çağırarak <xref:System.Activities.WorkflowApplication> veya <xref:System.Activities.WorkflowApplicationIdleEventArgs> <xref:System.Activities.WorkflowApplication.Idle%2A> işleyicide inceleyerek yapabilir.</span><span class="sxs-lookup"><span data-stu-id="6270c-168">It can do this by calling the <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> method of a <xref:System.Activities.WorkflowApplication> instance, or by inspecting the <xref:System.Activities.WorkflowApplicationIdleEventArgs> in the <xref:System.Activities.WorkflowApplication.Idle%2A> handler.</span></span>  
  
 <span data-ttu-id="6270c-169">Aşağıdaki kod örneği, yer işareti sürdürülmeye başlamadan önce etkin yer işaretlerinin numaralandırılmasının dışında, önceki örneğe benzer.</span><span class="sxs-lookup"><span data-stu-id="6270c-169">The following code example is like the previous example except that the active bookmarks are enumerated before the bookmark is resumed.</span></span> <span data-ttu-id="6270c-170">İş akışı başlatılır ve oluşturulduktan sonra <xref:System.Activities.Bookmark> iş akışı boşta kaldığında <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6270c-170">The workflow is started, and once the <xref:System.Activities.Bookmark> is created and the workflow goes idle, <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> is called.</span></span> <span data-ttu-id="6270c-171">İş akışı tamamlandığında, konsola aşağıdaki çıktı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="6270c-171">When the workflow is completed, the following output is displayed to the console.</span></span>  
  
 <span data-ttu-id="6270c-172">**Adınız ne?**</span><span class="sxs-lookup"><span data-stu-id="6270c-172">**What is your name?**</span></span>  
<span data-ttu-id="6270c-173">**BookmarkName: username-OwnerDisplayName: ReadLine** 
 **Emre** 
 **Merhaba, emre**</span><span class="sxs-lookup"><span data-stu-id="6270c-173">**BookmarkName: UserName - OwnerDisplayName: ReadLine**
**Steve**
**Hello, Steve**</span></span>

[!code-csharp[CFX_WorkflowApplicationExample#14](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#14)]  
  
 <span data-ttu-id="6270c-174">Aşağıdaki kod örneği, <xref:System.Activities.WorkflowApplicationIdleEventArgs> <xref:System.Activities.WorkflowApplication.Idle%2A> bir örneğin işleyicisine geçirilen ' i inceler <xref:System.Activities.WorkflowApplication> .</span><span class="sxs-lookup"><span data-stu-id="6270c-174">The following code example inspects the <xref:System.Activities.WorkflowApplicationIdleEventArgs> passed into the <xref:System.Activities.WorkflowApplication.Idle%2A> handler of a <xref:System.Activities.WorkflowApplication> instance.</span></span> <span data-ttu-id="6270c-175">Bu örnekte, boşta duran iş akışı <xref:System.Activities.Bookmark> `EnterGuess` , adlı bir etkinliğe ait olan bir ada sahip bir ada sahip `ReadInt` .</span><span class="sxs-lookup"><span data-stu-id="6270c-175">In this example the workflow going idle has one <xref:System.Activities.Bookmark> with a name of `EnterGuess`, owned by an activity named `ReadInt`.</span></span> <span data-ttu-id="6270c-176">Bu kod örneği, nasıl yapılacağını temel alıyor: Başlangıç [öğreticisinin](getting-started-tutorial.md)bir parçası olan [iş akışını çalıştırma](how-to-run-a-workflow.md).</span><span class="sxs-lookup"><span data-stu-id="6270c-176">This code example is based off of [How to: Run a Workflow](how-to-run-a-workflow.md), which is part of the [Getting Started Tutorial](getting-started-tutorial.md).</span></span> <span data-ttu-id="6270c-177"><xref:System.Activities.WorkflowApplication.Idle%2A>Bu adımdaki işleyici bu örnekteki kodu içerecek şekilde değiştirilirse aşağıdaki çıktı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="6270c-177">If the <xref:System.Activities.WorkflowApplication.Idle%2A> handler in that step is modified to contain the code from this example, the following output is displayed.</span></span>  
  
 <span data-ttu-id="6270c-178">**BookmarkName: Entertahminin-OwnerDisplayName: readInt**</span><span class="sxs-lookup"><span data-stu-id="6270c-178">**BookmarkName: EnterGuess - OwnerDisplayName: ReadInt**</span></span>

 [!code-csharp[CFX_WorkflowApplicationExample#2](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#2)]  
  
## <a name="summary"></a><span data-ttu-id="6270c-179">Özet</span><span class="sxs-lookup"><span data-stu-id="6270c-179">Summary</span></span>  
 <span data-ttu-id="6270c-180"><xref:System.Activities.WorkflowInvoker>iş akışlarını çağırmak için basit bir yol sağlar ve bir iş akışının başlangıcında veri geçirme ve tamamlanan bir iş akışından veri ayıklama için yöntemler sağlasa da, kullanılabilecek olan daha karmaşık senaryolar sağlamaz <xref:System.Activities.WorkflowApplication> .</span><span class="sxs-lookup"><span data-stu-id="6270c-180"><xref:System.Activities.WorkflowInvoker> provides a lightweight way to invoke workflows, and although it provides methods for passing data in at the start of a workflow and extracting data from a completed workflow, it does not provide for more complex scenarios which is where <xref:System.Activities.WorkflowApplication> can be used.</span></span>
