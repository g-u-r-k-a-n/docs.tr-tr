---
title: Bulutta yerel hizmetler için kapsayıcıları ve sunucusuz yaklaşımları birleştirme
description: Kapsayıcıları ve Kubernetes 'i sunucusuz yaklaşımlar ile birleştirme
ms.date: 04/23/2020
ms.openlocfilehash: a6ae17543c9075ca84126a4c19f9f51887f7fe9a
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895646"
---
# <a name="combining-containers-and-serverless-approaches"></a><span data-ttu-id="e7854-103">Kapsayıcıları ve sunucusuz yaklaşımları birleştirme</span><span class="sxs-lookup"><span data-stu-id="e7854-103">Combining containers and serverless approaches</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="e7854-104">Bulutta yerel uygulamalar genellikle kapsayıcılardan ve düzenleme özelliğinden yararlanan hizmetleri uygular.</span><span class="sxs-lookup"><span data-stu-id="e7854-104">Cloud-native applications typically implement services leveraging containers and orchestration.</span></span> <span data-ttu-id="e7854-105">Genellikle bazı uygulama hizmetlerini Azure Işlevleri olarak kullanıma sunma fırsatları vardır.</span><span class="sxs-lookup"><span data-stu-id="e7854-105">There are often opportunities to expose some of the application's services as Azure Functions.</span></span> <span data-ttu-id="e7854-106">Ancak, Kubernetes 'e dağıtılan bir bulutta yerel uygulama sayesinde, bu araç takımı içindeki Azure Işlevlerinin yararlanmak iyi bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="e7854-106">However, with a cloud-native app deployed to Kubernetes, it would be nice to leverage Azure Functions within this same toolset.</span></span> <span data-ttu-id="e7854-107">Neyse ki, Docker Kapsayıcıları içindeki Azure Işlevlerini kaydırabilirsiniz ve Kubernetes tabanlı uygulamanızın geri kalanı ile aynı işlemleri ve araçları kullanarak bunları dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e7854-107">Fortunately, you can wrap Azure Functions inside Docker containers and deploy them using the same processes and tools as the rest of your Kubernetes-based app.</span></span>

## <a name="when-does-it-make-sense-to-use-containers-with-serverless"></a><span data-ttu-id="e7854-108">Ne zaman sunucusuz ile kapsayıcıları kullanmak mantıklı midir?</span><span class="sxs-lookup"><span data-stu-id="e7854-108">When does it make sense to use containers with serverless?</span></span>

<span data-ttu-id="e7854-109">Azure Işlevinizin dağıtıldığı platforma ilişkin bir bilgisi yok.</span><span class="sxs-lookup"><span data-stu-id="e7854-109">Your Azure Function has no knowledge of the platform on which it's deployed.</span></span> <span data-ttu-id="e7854-110">Bazı senaryolarda, belirli gereksinimleriniz olabilir ve işlev kodunuzun çalışacağı ortamı özelleştirmeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="e7854-110">For some scenarios, you may have specific requirements and need to customize the environment on which your function code will run.</span></span> <span data-ttu-id="e7854-111">Bağımlılıkları destekleyen özel bir görüntüye veya varsayılan görüntü tarafından desteklenmeyen bir yapılandırmaya ihtiyacınız vardır.</span><span class="sxs-lookup"><span data-stu-id="e7854-111">You'll need a custom image that supports dependencies or a configuration not supported by the default image.</span></span> <span data-ttu-id="e7854-112">Bu durumlarda, işlevinizi özel bir Docker kapsayıcısında dağıtmak mantıklı olur.</span><span class="sxs-lookup"><span data-stu-id="e7854-112">In these cases, it makes sense to deploy your function in a custom Docker container.</span></span>

## <a name="when-should-you-avoid-using-containers-with-azure-functions"></a><span data-ttu-id="e7854-113">Azure Işlevleri ile kapsayıcıları kullanmaktan kaçınmak ne zaman?</span><span class="sxs-lookup"><span data-stu-id="e7854-113">When should you avoid using containers with Azure Functions?</span></span>

<span data-ttu-id="e7854-114">Tüketim faturalandırmasını kullanmak istiyorsanız, işlevinizi bir kapsayıcıda çalıştıramazsınız.</span><span class="sxs-lookup"><span data-stu-id="e7854-114">If you want to use consumption billing, you won't be able to run your function in a container.</span></span> <span data-ttu-id="e7854-115">Daha fazlası, işlevinizi bir Kubernetes kümesine dağıtırsanız, Azure Işlevleri tarafından sunulan yerleşik ölçeklendirmeden artık yararlanabileceksiniz.</span><span class="sxs-lookup"><span data-stu-id="e7854-115">What's more, if you deploy your function to a Kubernetes cluster, you'll no longer benefit from the built-in scaling provided by Azure Functions.</span></span> <span data-ttu-id="e7854-116">Bu bölümde daha önce açıklanan Kubernetes ' ölçeklendirme özelliklerini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e7854-116">You'll need to use Kubernetes' scaling features, described earlier in this chapter.</span></span>

## <a name="how-to-combine-serverless-and-docker-containers"></a><span data-ttu-id="e7854-117">Sunucusuz ve Docker kapsayıcılarını birleştirme</span><span class="sxs-lookup"><span data-stu-id="e7854-117">How to combine serverless and Docker containers</span></span>

<span data-ttu-id="e7854-118">Bir Docker kapsayıcısında bir Azure Işlevini kaydırmak için [Azure Functions Core Tools](https://github.com/Azure/azure-functions-core-tools) yükleyip aşağıdaki komutu çalıştırın:</span><span class="sxs-lookup"><span data-stu-id="e7854-118">To wrap an Azure Function in a Docker container, install the [Azure Functions Core Tools](https://github.com/Azure/azure-functions-core-tools) and then run the following command:</span></span>

```console
func init ProjectName --worker-runtime dotnet --docker
```

<span data-ttu-id="e7854-119">Proje oluşturulduğunda, bir Dockerfile ve ile `dotnet`yapılandırılan çalışan çalışma zamanı dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="e7854-119">When the project is created, it will include a Dockerfile and the worker runtime configured to `dotnet`.</span></span> <span data-ttu-id="e7854-120">Şimdi, işlevinizi yerel olarak oluşturup test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e7854-120">Now, you can create and test your function locally.</span></span> <span data-ttu-id="e7854-121">`docker build` Ve `docker run` komutlarını kullanarak derleyin ve çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="e7854-121">Build and run it using the  `docker build` and `docker run` commands.</span></span> <span data-ttu-id="e7854-122">Docker desteğiyle Azure Işlevleri oluşturmaya başlamanıza yönelik ayrıntılı adımlar için bkz. [Linux üzerinde bir Işlev oluşturma](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) öğreticisini kullanarak.</span><span class="sxs-lookup"><span data-stu-id="e7854-122">For detailed steps to get started building Azure Functions with Docker support, see the [Create a function on Linux using a custom image](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) tutorial.</span></span>

## <a name="how-to-combine-serverless-and-kubernetes-with-keda"></a><span data-ttu-id="e7854-123">KEDA ile sunucusuz ve Kubernetes 'i birleştirme</span><span class="sxs-lookup"><span data-stu-id="e7854-123">How to combine serverless and Kubernetes with KEDA</span></span>

<span data-ttu-id="e7854-124">Bu bölümde, Azure Işlevleri 'nin platformunun talebi karşılamak için otomatik olarak ölçeklendirilen olduğunu gördünüz.</span><span class="sxs-lookup"><span data-stu-id="e7854-124">In this chapter, you've seen that the Azure Functions' platform automatically scales out to meet demand.</span></span> <span data-ttu-id="e7854-125">Ancak, Kapsayıcılı işlevleri AKS 'e dağıttığınızda, yerleşik ölçeklendirme işlevini kaybedersiniz.</span><span class="sxs-lookup"><span data-stu-id="e7854-125">When deploying containerized functions to AKS, however, you lose the built-in scaling functionality.</span></span> <span data-ttu-id="e7854-126">Kurtarma için [Kubernetes tabanlı olay temelli (KEDA)](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span><span class="sxs-lookup"><span data-stu-id="e7854-126">To the rescue comes [Kubernetes-based Event Driven (KEDA)](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span></span> <span data-ttu-id="e7854-127">Kapsayıcılı işlevleri dahil etmek için `event-driven Kubernetes workloads,` hassas otomatik ölçeklendirme imkanı sunar.</span><span class="sxs-lookup"><span data-stu-id="e7854-127">It enables fine-grained autoscaling for `event-driven Kubernetes workloads,` including containerized functions.</span></span>

<span data-ttu-id="e7854-128">KEDA, Docker kapsayıcısında Işlevlerin çalışma zamanına olay odaklı ölçeklendirme işlevselliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="e7854-128">KEDA provides event-driven scaling functionality to the Functions' runtime in a Docker container.</span></span> <span data-ttu-id="e7854-129">KEDA `n instances`, yük temelinde (herhangi bir olay gerçekleşirken) sıfır örneklerinden ölçeklendirebilir.</span><span class="sxs-lookup"><span data-stu-id="e7854-129">KEDA can scale from zero instances (when no events are occurring) out to `n instances`, based on load.</span></span> <span data-ttu-id="e7854-130">Bu, Kubernetes otomatik ölçeklendirme (yatay Pod otomatik Scaler) için özel ölçümleri ortaya çıkaran otomatik ölçeklendirmeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="e7854-130">It enables autoscaling by exposing custom metrics to the Kubernetes autoscaler (Horizontal Pod Autoscaler).</span></span> <span data-ttu-id="e7854-131">Bir Kubernetes kümesinde, Işlev kapsayıcılarını KEDA kullanarak, sunucusuz işlev yeteneklerini çoğaltabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e7854-131">Using Functions containers with KEDA makes it possible to replicate serverless function capabilities in any Kubernetes cluster.</span></span>

<span data-ttu-id="e7854-132">KEDA projesinin artık Cloud Native Computing Foundation (CNCF) tarafından yönetildiğini belirten bir değer.</span><span class="sxs-lookup"><span data-stu-id="e7854-132">It is worth noting that the KEDA project is now managed by the Cloud Native Computing Foundation (CNCF).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="e7854-133">[Önceki](leverage-serverless-functions.md)
>[İleri](deploy-containers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="e7854-133">[Previous](leverage-serverless-functions.md)
[Next](deploy-containers-azure.md)</span></span>
