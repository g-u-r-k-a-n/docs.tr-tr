---
title: Gecikme Modları
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- garbage collection, intrusiveness
- garbage collection, latency modes
ms.assetid: 96278bb7-6eab-4612-8594-ceebfc887d81
ms.openlocfilehash: a8eaf0c80aa32978eead80c51a905cbcd66a537b
ms.sourcegitcommit: 17ee6605e01ef32506f8fdc686954244ba6911de
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/21/2019
ms.locfileid: "74283590"
---
# <a name="latency-modes"></a><span data-ttu-id="8f873-102">Gecikme modları</span><span class="sxs-lookup"><span data-stu-id="8f873-102">Latency modes</span></span>

<span data-ttu-id="8f873-103">Nesneleri geri kazanmak için çöp toplayıcı (GC) bir uygulamadaki tüm yürütülen iş parçacıklarını durdurmalıdır.</span><span class="sxs-lookup"><span data-stu-id="8f873-103">To reclaim objects, the garbage collector (GC) must stop all the executing threads in an application.</span></span> <span data-ttu-id="8f873-104">Çöp toplayıcısının etkin olduğu zaman dilimi, *gecikme*süresi olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="8f873-104">The period of time during which the garbage collector is active is referred to as its *latency*.</span></span>

<span data-ttu-id="8f873-105">Örneğin, bir uygulamanın verileri aldığı veya içeriği gösterdiği durumlarda, tam bir çöp toplama işlemi kritik bir zamanda gerçekleşebilir ve performansı kesin bir şekilde gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-105">In some situations, such as when an application retrieves data or displays content, a full garbage collection can occur at a critical time and impede performance.</span></span> <span data-ttu-id="8f873-106"><xref:System.Runtime.GCSettings.LatencyMode%2A?displayProperty=nameWithType> özelliğini <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> değerlerinden birine ayarlayarak çöp toplayıcısının izinsiz kullanımını ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f873-106">You can adjust the intrusiveness of the garbage collector by setting the <xref:System.Runtime.GCSettings.LatencyMode%2A?displayProperty=nameWithType> property to one of the <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> values.</span></span>

## <a name="low-latency-settings"></a><span data-ttu-id="8f873-107">Düşük gecikme süresi ayarları</span><span class="sxs-lookup"><span data-stu-id="8f873-107">Low latency settings</span></span>

<span data-ttu-id="8f873-108">"Düşük" gecikme süresi ayarı kullanmak, uygulamanızda çöp toplayıcı intrudes daha az anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="8f873-108">Using a "low" latency setting means the garbage collector intrudes less in your application.</span></span> <span data-ttu-id="8f873-109">Çöp toplama geri kazanma bellek hakkında daha koruyucu olur.</span><span class="sxs-lookup"><span data-stu-id="8f873-109">Garbage collection is more conservative about reclaiming memory.</span></span>

<span data-ttu-id="8f873-110"><xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> numaralandırması iki düşük gecikme süresi ayarı sağlar:</span><span class="sxs-lookup"><span data-stu-id="8f873-110">The <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> enumeration provides two low latency settings:</span></span>

- <span data-ttu-id="8f873-111">[Gclatkenmode. LowLatency](xref:System.Runtime.GCLatencyMode.LowLatency) 2. nesil koleksiyonları bastırır ve yalnızca nesil 0 ve 1 koleksiyonlar gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="8f873-111">[GCLatencyMode.LowLatency](xref:System.Runtime.GCLatencyMode.LowLatency) suppresses generation 2 collections and performs only generation 0 and 1 collections.</span></span> <span data-ttu-id="8f873-112">Bu, yalnızca kısa süreler için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-112">It can be used only for short periods of time.</span></span> <span data-ttu-id="8f873-113">Daha uzun süreler, sistem bellek baskısı altındaysa çöp toplayıcı bir koleksiyonu tetikler, bu da uygulamayı kısaca duraklatabilir ve zaman kritik bir işlemi kesintiye uğratabilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-113">Over longer periods, if the system is under memory pressure, the garbage collector will trigger a collection, which can briefly pause the application and disrupt a time-critical operation.</span></span> <span data-ttu-id="8f873-114">Bu ayar yalnızca iş istasyonu çöp toplama için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-114">This setting is available only for workstation garbage collection.</span></span>

- <span data-ttu-id="8f873-115">[Gclatkenmode. Sussaledlowlatency](xref:System.Runtime.GCLatencyMode.SustainedLowLatency) ön plan oluşturma 2 koleksiyonlarını bastırır ve yalnızca nesil 0, 1 ve arka plan oluşturma 2 koleksiyonlarını gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="8f873-115">[GCLatencyMode.SustainedLowLatency](xref:System.Runtime.GCLatencyMode.SustainedLowLatency) suppresses foreground generation 2 collections and performs only generation 0, 1, and background generation 2 collections.</span></span> <span data-ttu-id="8f873-116">Daha uzun süreler için kullanılabilir ve hem iş istasyonu hem de sunucu çöp toplama için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-116">It can be used for longer periods of time, and is available for both workstation and server garbage collection.</span></span> <span data-ttu-id="8f873-117">Arka plan atık toplama devre dışıysa bu ayar kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="8f873-117">This setting cannot be used if background garbage collection is disabled.</span></span>

<span data-ttu-id="8f873-118">Düşük gecikme süreleri sırasında, 2. nesil koleksiyonlar aşağıdakiler gerçekleşmediği takdirde bastırılır:</span><span class="sxs-lookup"><span data-stu-id="8f873-118">During low latency periods, generation 2 collections are suppressed unless the following occurs:</span></span>

- <span data-ttu-id="8f873-119">Sistem, işletim sisteminden düşük bir bellek bildirimi alır.</span><span class="sxs-lookup"><span data-stu-id="8f873-119">The system receives a low memory notification from the operating system.</span></span>

- <span data-ttu-id="8f873-120">Uygulama kodu, <xref:System.GC.Collect%2A?displayProperty=nameWithType> yöntemini çağırarak ve `generation` parametresi için 2 belirterek bir koleksiyona sahiptir.</span><span class="sxs-lookup"><span data-stu-id="8f873-120">Application code induces a collection by calling the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method and specifying 2 for the `generation` parameter.</span></span>

## <a name="scenarios"></a><span data-ttu-id="8f873-121">Senaryolar</span><span class="sxs-lookup"><span data-stu-id="8f873-121">Scenarios</span></span>

<span data-ttu-id="8f873-122">Aşağıdaki tabloda <xref:System.Runtime.GCLatencyMode> değerlerini kullanmaya yönelik uygulama senaryoları listelenmektedir:</span><span class="sxs-lookup"><span data-stu-id="8f873-122">The following table lists the application scenarios for using the <xref:System.Runtime.GCLatencyMode> values:</span></span>

|<span data-ttu-id="8f873-123">Gecikme modu</span><span class="sxs-lookup"><span data-stu-id="8f873-123">Latency mode</span></span>|<span data-ttu-id="8f873-124">Uygulama senaryoları</span><span class="sxs-lookup"><span data-stu-id="8f873-124">Application scenarios</span></span>|
|------------------|---------------------------|
|<xref:System.Runtime.GCLatencyMode.Batch>|<span data-ttu-id="8f873-125">Kullanıcı arabirimi (UI) veya sunucu tarafı işlemleri olmayan uygulamalar için.</span><span class="sxs-lookup"><span data-stu-id="8f873-125">For applications that have no user interface (UI) or server-side operations.</span></span><br /><br /><span data-ttu-id="8f873-126">Arka plan atık toplama devre dışı bırakıldığında, bu, iş istasyonu ve sunucu çöp toplama için varsayılan moddur.</span><span class="sxs-lookup"><span data-stu-id="8f873-126">When background garbage collection is disabled, this is the default mode for workstation and server garbage collection.</span></span> <span data-ttu-id="8f873-127"><xref:System.Runtime.GCLatencyMode.Batch> mod ayrıca [gcConcurrent](../../framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) ayarını geçersiz kılar, diğer bir deyişle, arka plan veya eşzamanlı koleksiyonları engeller.</span><span class="sxs-lookup"><span data-stu-id="8f873-127"><xref:System.Runtime.GCLatencyMode.Batch> mode also overrides the [gcConcurrent](../../framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) setting, that is, it prevents background or concurrent collections.</span></span>|
|<xref:System.Runtime.GCLatencyMode.Interactive>|<span data-ttu-id="8f873-128">Kullanıcı arabirimi olan çoğu uygulama için.</span><span class="sxs-lookup"><span data-stu-id="8f873-128">For most applications that have a UI.</span></span><br /><br /><span data-ttu-id="8f873-129">Bu, iş istasyonu ve sunucu çöp toplama için varsayılan moddur.</span><span class="sxs-lookup"><span data-stu-id="8f873-129">This is the default mode for workstation and server garbage collection.</span></span> <span data-ttu-id="8f873-130">Ancak, bir uygulama barındırılıyorsa, barındırma işleminin çöp toplayıcı ayarları önceliklidir.</span><span class="sxs-lookup"><span data-stu-id="8f873-130">However, if an app is hosted, the garbage collector settings of the hosting process take precedence.</span></span>|
|<xref:System.Runtime.GCLatencyMode.LowLatency>|<span data-ttu-id="8f873-131">Kısa süreli ve çöp toplayıcısından kesintiler kesintiye uğratan, zamana duyarlı işlemler içeren uygulamalar için.</span><span class="sxs-lookup"><span data-stu-id="8f873-131">For applications that have short-term, time-sensitive operations during which interruptions from the garbage collector could be disruptive.</span></span> <span data-ttu-id="8f873-132">Örneğin, animasyonları veya veri alımı işlevlerini işleyen uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="8f873-132">For example, applications that render animations or data acquisition functions.</span></span>|
|<xref:System.Runtime.GCLatencyMode.SustainedLowLatency>|<span data-ttu-id="8f873-133">İçinde, atık toplayıcıdan kesintileri kesintiye uğratan daha uzun bir süre için zamana duyarlı işlemler içeren uygulamalar için.</span><span class="sxs-lookup"><span data-stu-id="8f873-133">For applications that have time-sensitive operations for a contained but potentially longer duration of time during which interruptions from the garbage collector could be disruptive.</span></span> <span data-ttu-id="8f873-134">Örneğin, Ticaret saatlerinde Pazar verileri değiştikçe hızlı yanıt süresi gerektiren uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="8f873-134">For example, applications that need quick response times as market data changes during trading hours.</span></span><br /><br /><span data-ttu-id="8f873-135">Bu mod, diğer moddan daha büyük bir yönetilen yığın boyutuna neden olur.</span><span class="sxs-lookup"><span data-stu-id="8f873-135">This mode results in a larger managed heap size than other modes.</span></span> <span data-ttu-id="8f873-136">Yönetilen yığını sıkıştırmadığından, daha yüksek parçalanma mümkündür.</span><span class="sxs-lookup"><span data-stu-id="8f873-136">Because it does not compact the managed heap, higher fragmentation is possible.</span></span> <span data-ttu-id="8f873-137">Yeterli belleğin kullanılabildiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="8f873-137">Ensure that sufficient memory is available.</span></span>|

## <a name="guidelines-for-using-low-latency"></a><span data-ttu-id="8f873-138">Düşük gecikme süresi kullanımı için yönergeler</span><span class="sxs-lookup"><span data-stu-id="8f873-138">Guidelines for using low latency</span></span>

<span data-ttu-id="8f873-139">[Gclatkenmode. LowLatency](xref:System.Runtime.GCLatencyMode.LowLatency) modunu kullandığınızda aşağıdaki yönergeleri göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="8f873-139">When you use [GCLatencyMode.LowLatency](xref:System.Runtime.GCLatencyMode.LowLatency) mode, consider the following guidelines:</span></span>

- <span data-ttu-id="8f873-140">Süreyi düşük gecikme süresine olabildiğince kısa tutun.</span><span class="sxs-lookup"><span data-stu-id="8f873-140">Keep the period of time in low latency as short as possible.</span></span>

- <span data-ttu-id="8f873-141">Düşük gecikme süreleri sırasında yüksek miktarda bellek ayırmaktan kaçının.</span><span class="sxs-lookup"><span data-stu-id="8f873-141">Avoid allocating high amounts of memory during low latency periods.</span></span> <span data-ttu-id="8f873-142">Çöp toplama geri kazanır daha az nesne olduğundan düşük bellek bildirimleri meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-142">Low memory notifications can occur because garbage collection reclaims fewer objects.</span></span>

- <span data-ttu-id="8f873-143">Düşük gecikme modundayken, büyük nesne yığınında ve sabitlenmiş nesnelerde, belirli ayırmalarda, yeni ayırma sayısını en aza indirin.</span><span class="sxs-lookup"><span data-stu-id="8f873-143">While in the low latency mode, minimize the number of new allocations, in particular allocations onto the large object heap and pinned objects.</span></span>

- <span data-ttu-id="8f873-144">Ayrılamıyor iş parçacıklarından haberdar olun.</span><span class="sxs-lookup"><span data-stu-id="8f873-144">Be aware of threads that could be allocating.</span></span> <span data-ttu-id="8f873-145"><xref:System.Runtime.GCSettings.LatencyMode%2A> özellik ayarı işlem genelinde olduğundan, <xref:System.OutOfMemoryException> özel durumlar, ayrılan herhangi bir iş parçacığında oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="8f873-145">Because the <xref:System.Runtime.GCSettings.LatencyMode%2A> property setting is process-wide, <xref:System.OutOfMemoryException> exceptions can be generated on any thread that is allocating.</span></span>

- <span data-ttu-id="8f873-146">Sınırlı yürütme bölgelerinde düşük gecikme süresi kodunu sarın.</span><span class="sxs-lookup"><span data-stu-id="8f873-146">Wrap the low latency code in constrained execution regions.</span></span> <span data-ttu-id="8f873-147">Daha fazla bilgi için bkz. [kısıtlı yürütme bölgeleri](../../../docs/framework/performance/constrained-execution-regions.md).</span><span class="sxs-lookup"><span data-stu-id="8f873-147">For more information, see [Constrained execution regions](../../../docs/framework/performance/constrained-execution-regions.md).</span></span>

- <span data-ttu-id="8f873-148"><xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%29?displayProperty=nameWithType> yöntemini çağırarak düşük gecikme süresi boyunca 2 koleksiyonu oluşturmaya zorlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8f873-148">You can force generation 2 collections during a low latency period by calling the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%29?displayProperty=nameWithType> method.</span></span>

## <a name="see-also"></a><span data-ttu-id="8f873-149">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="8f873-149">See also</span></span>

- <xref:System.GC?displayProperty=nameWithType>
- [<span data-ttu-id="8f873-150">Uyarılmış Koleksiyonlar</span><span class="sxs-lookup"><span data-stu-id="8f873-150">Induced Collections</span></span>](../../../docs/standard/garbage-collection/induced.md)
- [<span data-ttu-id="8f873-151">Atık Toplama</span><span class="sxs-lookup"><span data-stu-id="8f873-151">Garbage Collection</span></span>](../../../docs/standard/garbage-collection/index.md)
