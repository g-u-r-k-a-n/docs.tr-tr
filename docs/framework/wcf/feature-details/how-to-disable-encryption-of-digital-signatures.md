---
title: 'Nasıl yapılır: Dijital İmzaların Şifrelenmesini Devre Dışı Bırakma'
ms.date: 03/30/2017
ms.assetid: fd174313-ad81-4dca-898a-016ccaff8187
ms.openlocfilehash: 7ef305fdfd9a4ee61dfd89fdd46f2dc03a350977
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/09/2020
ms.locfileid: "84595407"
---
# <a name="how-to-disable-encryption-of-digital-signatures"></a><span data-ttu-id="36bc9-102">Nasıl yapılır: Dijital İmzaların Şifrelenmesini Devre Dışı Bırakma</span><span class="sxs-lookup"><span data-stu-id="36bc9-102">How to: Disable Encryption of Digital Signatures</span></span>
<span data-ttu-id="36bc9-103">Varsayılan olarak, bir ileti imzalanır ve imza dijital olarak şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-103">By default, a message is signed and the signature is digitally encrypted.</span></span> <span data-ttu-id="36bc9-104">Bu, veya öğesinin bir örneği ile özel bir bağlama oluşturularak <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> ve `MessageProtectionOrder` her iki sınıfın özelliğini bir <xref:System.ServiceModel.Security.MessageProtectionOrder> numaralandırma değerine ayarlayarak denetlenir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-104">This is controlled by creating a custom binding with an instance of the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> or the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> and setting the `MessageProtectionOrder` property of either class to a <xref:System.ServiceModel.Security.MessageProtectionOrder> enumeration value.</span></span> <span data-ttu-id="36bc9-105">Varsayılan değer: <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature>.</span><span class="sxs-lookup"><span data-stu-id="36bc9-105">The default is <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature>.</span></span> <span data-ttu-id="36bc9-106">Bu işlem, genel ileti boyutuna bağlı olarak yalnızca %30 ' a kadar daha fazla zaman harcar (ileti daha küçük, performans etkisi artar).</span><span class="sxs-lookup"><span data-stu-id="36bc9-106">This process consumes up to 30 percent more time than simply signing and encrypting based on the overall message size (the smaller the message, the greater the performance impact).</span></span> <span data-ttu-id="36bc9-107">Bununla birlikte imza şifrelemesini devre dışı bırakmak, bir saldırganın iletinin içeriğini tahmin edemesine izin verebilir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-107">Disabling encryption of the signature, however, might allow an attacker to guess the content of the message.</span></span> <span data-ttu-id="36bc9-108">Bu mümkündür çünkü imza öğesi iletideki her imzalı parçanın düz metnin karma kodunu içerir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-108">This is possible because the signature element contains the hash code of the plain text of every signed part in the message.</span></span> <span data-ttu-id="36bc9-109">Örneğin, ileti gövdesi varsayılan olarak şifrelense de şifrelenmemiş imza, şifrelemeden önceki ileti gövdesinin karma kodunu içerir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-109">For example, although the message body is encrypted by default, the unencrypted signature contains the hash code of the message body before the encryption.</span></span> <span data-ttu-id="36bc9-110">İmzalı ve şifreli bölüm için olası değerler kümesi küçükse, bir saldırgan karma değere bakarak içeriği verebilir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-110">If the set of possible values for the signed and encrypted part is small, an attacker might be able to deduce the contents by looking at the hash value.</span></span> <span data-ttu-id="36bc9-111">İmzayı şifrelemek, bu saldırı vektörünü azaltır.</span><span class="sxs-lookup"><span data-stu-id="36bc9-111">Encrypting the signature mitigates this attack vector.</span></span>  
  
 <span data-ttu-id="36bc9-112">Bu nedenle, imza şifrelemesini yalnızca içeriğin değeri düşük olduğunda veya olası içerik değerlerinin kümesi büyük ve belirleyici olmayan bir şekilde devre dışı bırakır ve performans kazancı yukarıda açıklanan saldırıları azaltmaya kıyasla daha önemlidir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-112">Therefore, disable encryption of the signature only when the value of the content is low or the set of possible content values is large and nondeterministic, and the performance gain is more important than mitigating the attack described above.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="36bc9-113">Şifrelenmiş iletide hiçbir şey yoksa, <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> veya <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> özelliği olarak ayarlanmış olsa bile imza öğesi şifrelenmez <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature> .</span><span class="sxs-lookup"><span data-stu-id="36bc9-113">If there is nothing in the message that is encrypted, the signature element is not encrypted, even when the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> or <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> property is set to <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature>.</span></span> <span data-ttu-id="36bc9-114">Bu davranış, sistem tarafından sağlanmış bağlamalarla da oluşur; sistem tarafından sağlanmış tüm bağlamalarda ileti koruma sırası olarak ayarlanır `SignBeforeEncryptAndEncryptSignature` .</span><span class="sxs-lookup"><span data-stu-id="36bc9-114">This behavior occurs even with system-provided bindings; all system-provided bindings have the message protection order set to `SignBeforeEncryptAndEncryptSignature`.</span></span> <span data-ttu-id="36bc9-115">Ancak, Web Hizmetleri Açıklama Dili (WSDL) WCF oluşturur, hala `<sp:EncryptSignature>` onaylama işlemi içerir.</span><span class="sxs-lookup"><span data-stu-id="36bc9-115">However, the Web Services Description Language (WSDL) WCF generates will still contain the `<sp:EncryptSignature>` assertion.</span></span>  
  
### <a name="to-disable-digital-signing"></a><span data-ttu-id="36bc9-116">Dijital imzalamayı devre dışı bırakmak için</span><span class="sxs-lookup"><span data-stu-id="36bc9-116">To disable digital signing</span></span>  
  
1. <span data-ttu-id="36bc9-117">Oluşturun <xref:System.ServiceModel.Channels.CustomBinding> .</span><span class="sxs-lookup"><span data-stu-id="36bc9-117">Create a <xref:System.ServiceModel.Channels.CustomBinding>.</span></span> <span data-ttu-id="36bc9-118">Daha fazla bilgi için bkz. [nasıl yapılır: SecurityBindingElement kullanarak özel bağlama oluşturma](how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span><span class="sxs-lookup"><span data-stu-id="36bc9-118">For more information, see [How to: Create a Custom Binding Using the SecurityBindingElement](how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span></span>  
  
2. <span data-ttu-id="36bc9-119"><xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>Bağlama koleksiyonuna bir veya a ekleyin <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> .</span><span class="sxs-lookup"><span data-stu-id="36bc9-119">Add either an <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> or a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> to the binding collection.</span></span>  
  
3. <span data-ttu-id="36bc9-120"><xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType>Özelliğini olarak ayarlayın <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt> veya <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> özelliğini olarak ayarlayın <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt> .</span><span class="sxs-lookup"><span data-stu-id="36bc9-120">Set the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt>, or set the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="36bc9-121">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="36bc9-121">See also</span></span>

- [<span data-ttu-id="36bc9-122">Özel Bağlamalarla Güvenlik Özellikleri</span><span class="sxs-lookup"><span data-stu-id="36bc9-122">Security Capabilities with Custom Bindings</span></span>](security-capabilities-with-custom-bindings.md)
