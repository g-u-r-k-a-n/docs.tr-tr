---
title: "İzlenecek yol: Windows Forms Uygulaması'nda Veri Akışı Kullanma"
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- TPL dataflow library, in Windows Forms
- Task Parallel Library, dataflows
- Windows Forms, and TPL
ms.assetid: 9c65cdf7-660c-409f-89ea-59d7ec8e127c
ms.openlocfilehash: 794253514edf63f02276e1ece21c60a85c534390
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "78159773"
---
# <a name="walkthrough-using-dataflow-in-a-windows-forms-application"></a><span data-ttu-id="982be-102">İzlenecek yol: Windows Forms Uygulaması'nda Veri Akışı Kullanma</span><span class="sxs-lookup"><span data-stu-id="982be-102">Walkthrough: Using Dataflow in a Windows Forms Application</span></span>
<span data-ttu-id="982be-103">Bu belge, Windows Forms uygulamasında görüntü işleme gerçekleştiren veri akışı blokları ağının nasıl oluşturulurunun gösterildiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="982be-103">This document demonstrates how to create a network of dataflow blocks that perform image processing in a Windows Forms application.</span></span>  
  
 <span data-ttu-id="982be-104">Bu örnek, belirtilen klasörden görüntü dosyalarını yükler, bileşik bir görüntü oluşturur ve sonucu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="982be-104">This example loads image files from the specified folder, creates a composite image, and displays the result.</span></span> <span data-ttu-id="982be-105">Örnek, görüntüleri ağ üzerinden yönlendirmek için veri akışı modelini kullanır.</span><span class="sxs-lookup"><span data-stu-id="982be-105">The example uses the dataflow model to route images through the network.</span></span> <span data-ttu-id="982be-106">Veri akışı modelinde, bir programın bağımsız bileşenleri mesaj göndererek birbirleriyle iletişim kurar.</span><span class="sxs-lookup"><span data-stu-id="982be-106">In the dataflow model, independent components of a program communicate with one another by sending messages.</span></span> <span data-ttu-id="982be-107">Bir bileşen bir ileti aldığında, bazı eylem gerçekleştirir ve sonra sonucu başka bir bileşene geçirir.</span><span class="sxs-lookup"><span data-stu-id="982be-107">When a component receives a message, it performs some action and then passes the result to another component.</span></span> <span data-ttu-id="982be-108">Bunu, bir uygulamanın programdaki işlemlerin sırasını denetlemek için koşullu deyimler, döngüler ve benzeri denetim yapıları kullandığı denetim akışı modeliyle karşılaştırın.</span><span class="sxs-lookup"><span data-stu-id="982be-108">Compare this with the control flow model, in which an application uses control structures, for example, conditional statements, loops, and so on, to control the order of operations in a program.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="982be-109">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="982be-109">Prerequisites</span></span>  
 <span data-ttu-id="982be-110">Bu izbiyi başlatmadan önce [Veri Akışı'nı](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) okuyun.</span><span class="sxs-lookup"><span data-stu-id="982be-110">Read [Dataflow](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) before you start this walkthrough.</span></span>  

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]

## <a name="sections"></a><span data-ttu-id="982be-111">Bölümler</span><span class="sxs-lookup"><span data-stu-id="982be-111">Sections</span></span>  
 <span data-ttu-id="982be-112">Bu izksiyon aşağıdaki bölümleri içerir:</span><span class="sxs-lookup"><span data-stu-id="982be-112">This walkthrough contains the following sections:</span></span>  
  
- [<span data-ttu-id="982be-113">Windows Forms Uygulamasını Oluşturma</span><span class="sxs-lookup"><span data-stu-id="982be-113">Creating the Windows Forms Application</span></span>](#winforms)  
  
- [<span data-ttu-id="982be-114">Veri Akışı Ağı Oluşturma</span><span class="sxs-lookup"><span data-stu-id="982be-114">Creating the Dataflow Network</span></span>](#network)  
  
- [<span data-ttu-id="982be-115">Veri Akışı Ağını Kullanıcı Arabirimine Bağlama</span><span class="sxs-lookup"><span data-stu-id="982be-115">Connecting the Dataflow Network to the User Interface</span></span>](#ui)  
  
- [<span data-ttu-id="982be-116">Tam Örnek</span><span class="sxs-lookup"><span data-stu-id="982be-116">The Complete Example</span></span>](#complete)  
  
<a name="winforms"></a>
## <a name="creating-the-windows-forms-application"></a><span data-ttu-id="982be-117">Windows Forms Uygulamasını Oluşturma</span><span class="sxs-lookup"><span data-stu-id="982be-117">Creating the Windows Forms Application</span></span>  
 <span data-ttu-id="982be-118">Bu bölümde, temel Windows Forms uygulamasının nasıl oluşturulup ana forma denetimekleninsağlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="982be-118">This section describes how to create the basic Windows Forms application and add controls to the main form.</span></span>  
  
### <a name="to-create-the-windows-forms-application"></a><span data-ttu-id="982be-119">Windows Forms Uygulamasını Oluşturmak İçin</span><span class="sxs-lookup"><span data-stu-id="982be-119">To Create the Windows Forms Application</span></span>  
  
1. <span data-ttu-id="982be-120">Visual Studio'da Visual C# veya Visual Basic **Windows Forms Application** project oluşturun.</span><span class="sxs-lookup"><span data-stu-id="982be-120">In Visual Studio, create a Visual C# or Visual Basic **Windows Forms Application** project.</span></span> <span data-ttu-id="982be-121">Bu belgede, proje adı `CompositeImages`.</span><span class="sxs-lookup"><span data-stu-id="982be-121">In this document, the project is named `CompositeImages`.</span></span>  
  
2. <span data-ttu-id="982be-122">Ana form için form tasarımcısı, Form1.cs (Visual Basic için Form1.vb), bir <xref:System.Windows.Forms.ToolStrip> denetim ekleyin.</span><span class="sxs-lookup"><span data-stu-id="982be-122">On the form designer for the main form, Form1.cs (Form1.vb for Visual Basic), add a <xref:System.Windows.Forms.ToolStrip> control.</span></span>  
  
3. <span data-ttu-id="982be-123"><xref:System.Windows.Forms.ToolStrip> Denetime bir <xref:System.Windows.Forms.ToolStripButton> denetim ekleyin.</span><span class="sxs-lookup"><span data-stu-id="982be-123">Add a <xref:System.Windows.Forms.ToolStripButton> control to the <xref:System.Windows.Forms.ToolStrip> control.</span></span> <span data-ttu-id="982be-124"><xref:System.Windows.Forms.ToolStripItem.DisplayStyle%2A> Özelliği <xref:System.Windows.Forms.ToolStripItemDisplayStyle.Text> ve <xref:System.Windows.Forms.ToolStripItem.Text%2A> özelliği **Klasör'ü Seç'e**ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="982be-124">Set the <xref:System.Windows.Forms.ToolStripItem.DisplayStyle%2A> property to <xref:System.Windows.Forms.ToolStripItemDisplayStyle.Text> and the <xref:System.Windows.Forms.ToolStripItem.Text%2A> property to **Choose Folder**.</span></span>  
  
4. <span data-ttu-id="982be-125"><xref:System.Windows.Forms.ToolStrip> Denetime ikinci <xref:System.Windows.Forms.ToolStripButton> bir denetim ekleyin.</span><span class="sxs-lookup"><span data-stu-id="982be-125">Add a second <xref:System.Windows.Forms.ToolStripButton> control to the <xref:System.Windows.Forms.ToolStrip> control.</span></span> <span data-ttu-id="982be-126"><xref:System.Windows.Forms.ToolStripItemDisplayStyle.Text> <xref:System.Windows.Forms.ToolStripItem.Text%2A> <xref:System.Windows.Forms.ToolStripItem.Enabled%2A> `False` **Cancel**Özelliği, İptal Etme özelliğine, özelliği de . <xref:System.Windows.Forms.ToolStripItem.DisplayStyle%2A></span><span class="sxs-lookup"><span data-stu-id="982be-126">Set the <xref:System.Windows.Forms.ToolStripItem.DisplayStyle%2A> property to <xref:System.Windows.Forms.ToolStripItemDisplayStyle.Text>, the <xref:System.Windows.Forms.ToolStripItem.Text%2A> property to **Cancel**, and the <xref:System.Windows.Forms.ToolStripItem.Enabled%2A> property to `False`.</span></span>  
  
5. <span data-ttu-id="982be-127">Ana <xref:System.Windows.Forms.PictureBox> forma bir nesne ekleyin.</span><span class="sxs-lookup"><span data-stu-id="982be-127">Add a <xref:System.Windows.Forms.PictureBox> object to the main form.</span></span> <span data-ttu-id="982be-128">Özelliği <xref:System.Windows.Forms.Control.Dock%2A> ' <xref:System.Windows.Forms.DockStyle.Fill>ye ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="982be-128">Set the <xref:System.Windows.Forms.Control.Dock%2A> property to <xref:System.Windows.Forms.DockStyle.Fill>.</span></span>  
  
<a name="network"></a>
## <a name="creating-the-dataflow-network"></a><span data-ttu-id="982be-129">Veri Akışı Ağı Oluşturma</span><span class="sxs-lookup"><span data-stu-id="982be-129">Creating the Dataflow Network</span></span>  
 <span data-ttu-id="982be-130">Bu bölümde, görüntü işleme gerçekleştiren veri akışı ağının nasıl oluşturulacak açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="982be-130">This section describes how to create the dataflow network that performs image processing.</span></span>  
  
### <a name="to-create-the-dataflow-network"></a><span data-ttu-id="982be-131">Veri Akışı Ağı Oluşturmak İçin</span><span class="sxs-lookup"><span data-stu-id="982be-131">To Create the Dataflow Network</span></span>  
  
1. <span data-ttu-id="982be-132">Projenize System.Threading.Tasks.Dataflow.dll adresine bir başvuru ekleyin.</span><span class="sxs-lookup"><span data-stu-id="982be-132">Add a reference to System.Threading.Tasks.Dataflow.dll to your project.</span></span>  
  
2. <span data-ttu-id="982be-133">Form1.cs (Visual Basic için Form1.vb) `using` aşağıdaki`Using` ifadeleri içerdiğinden emin olun:</span><span class="sxs-lookup"><span data-stu-id="982be-133">Ensure that Form1.cs (Form1.vb for Visual Basic) contains the following `using` (`Using` in Visual Basic) statements:</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#1)]  
  
3. <span data-ttu-id="982be-134">`Form1` Sınıfa aşağıdaki veri üyelerini ekleyin:</span><span class="sxs-lookup"><span data-stu-id="982be-134">Add the following data members to the `Form1` class:</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#2)]  
  
4. <span data-ttu-id="982be-135">Sınıfa aşağıdaki `CreateImageProcessingNetwork`yöntemi ekleyin. `Form1`</span><span class="sxs-lookup"><span data-stu-id="982be-135">Add the following method, `CreateImageProcessingNetwork`, to the `Form1` class.</span></span> <span data-ttu-id="982be-136">Bu yöntem görüntü işleme ağı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="982be-136">This method creates the image processing network.</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#3)]  
  
5. <span data-ttu-id="982be-137">Yöntemi `LoadBitmaps` uygulayın.</span><span class="sxs-lookup"><span data-stu-id="982be-137">Implement the `LoadBitmaps` method.</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#4)]  
  
6. <span data-ttu-id="982be-138">Yöntemi `CreateCompositeBitmap` uygulayın.</span><span class="sxs-lookup"><span data-stu-id="982be-138">Implement the `CreateCompositeBitmap` method.</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#5](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#5)]  
  
    > [!NOTE]
    > <span data-ttu-id="982be-139">Yöntemin `CreateCompositeBitmap` C# sürümü, nesnelerin verimli bir şekilde <xref:System.Drawing.Bitmap?displayProperty=nameWithType> işlenmesini sağlamak için işaretçilerkullanır.</span><span class="sxs-lookup"><span data-stu-id="982be-139">The C# version of the `CreateCompositeBitmap` method uses pointers to enable efficient processing of the <xref:System.Drawing.Bitmap?displayProperty=nameWithType> objects.</span></span> <span data-ttu-id="982be-140">Bu nedenle, [güvenli olmayan](../../csharp/language-reference/keywords/unsafe.md) anahtar sözcüğü kullanmak için projenizde **güvenli olmayan koda izin** ver seçeneğini etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="982be-140">Therefore, you must enable the **Allow unsafe code** option in your project in order to use the [unsafe](../../csharp/language-reference/keywords/unsafe.md) keyword.</span></span> <span data-ttu-id="982be-141">Visual C# projesinde güvenli olmayan kodu niçin etkinleştirin, [bkz.](/visualstudio/ide/reference/build-page-project-designer-csharp)</span><span class="sxs-lookup"><span data-stu-id="982be-141">For more information about how to enable unsafe code in a Visual C# project, see [Build Page, Project Designer (C#)](/visualstudio/ide/reference/build-page-project-designer-csharp).</span></span>  
  
 <span data-ttu-id="982be-142">Aşağıdaki tabloda ağ üyeleri açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="982be-142">The following table describes the members of the network.</span></span>  
  
|<span data-ttu-id="982be-143">Üye</span><span class="sxs-lookup"><span data-stu-id="982be-143">Member</span></span>|<span data-ttu-id="982be-144">Tür</span><span class="sxs-lookup"><span data-stu-id="982be-144">Type</span></span>|<span data-ttu-id="982be-145">Açıklama</span><span class="sxs-lookup"><span data-stu-id="982be-145">Description</span></span>|  
|------------|----------|-----------------|  
|`loadBitmaps`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="982be-146">Giriş olarak bir klasör yolunu alır <xref:System.Drawing.Bitmap> ve çıktı olarak nesnelerin bir koleksiyon üretir.</span><span class="sxs-lookup"><span data-stu-id="982be-146">Takes a folder path as input and produces a collection of <xref:System.Drawing.Bitmap> objects as output.</span></span>|  
|`createCompositeBitmap`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="982be-147">Nesnelerin bir <xref:System.Drawing.Bitmap> koleksiyonunu girdi olarak alır ve çıktı olarak bileşik bit eşlemi üretir.</span><span class="sxs-lookup"><span data-stu-id="982be-147">Takes a collection of <xref:System.Drawing.Bitmap> objects as input and produces a composite bitmap as output.</span></span>|  
|`displayCompositeBitmap`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="982be-148">Formdaki bileşik bit eşlemi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="982be-148">Displays the composite bitmap on the form.</span></span>|  
|`operationCancelled`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="982be-149">İşlemin iptal edildiğini belirtmek için bir resim görüntüler ve kullanıcının başka bir klasör seçmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="982be-149">Displays an image to indicate that the operation is canceled and enables the user to select another folder.</span></span>|  
  
 <span data-ttu-id="982be-150">Veri akışı bloklarını ağ oluşturmak üzere bağlamak <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> için bu örnek yöntemi kullanır.</span><span class="sxs-lookup"><span data-stu-id="982be-150">To connect the dataflow blocks to form a network, this example uses the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> method.</span></span> <span data-ttu-id="982be-151">Yöntem, <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> hedef bloğun bir iletiyi kabul edip etmediğini belirleyen bir <xref:System.Predicate%601> nesne alan aşırı yüklü bir sürüm içerir.</span><span class="sxs-lookup"><span data-stu-id="982be-151">The <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> method contains an overloaded version that takes a <xref:System.Predicate%601> object that determines whether the target block accepts or rejects a message.</span></span> <span data-ttu-id="982be-152">Bu filtreleme mekanizması ileti bloklarının yalnızca belirli değerleri almasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="982be-152">This filtering mechanism enables message blocks to receive only certain values.</span></span> <span data-ttu-id="982be-153">Bu örnekte, ağ iki şekilde dallanabilir.</span><span class="sxs-lookup"><span data-stu-id="982be-153">In this example, the network can branch in one of two ways.</span></span> <span data-ttu-id="982be-154">Ana dal görüntüleri diskten yükler, bileşik görüntü oluşturur ve bu görüntüyü formda görüntüler.</span><span class="sxs-lookup"><span data-stu-id="982be-154">The main branch loads the images from disk, creates the composite image, and displays that image on the form.</span></span> <span data-ttu-id="982be-155">Alternatif dal geçerli işlemi iptal eder.</span><span class="sxs-lookup"><span data-stu-id="982be-155">The alternate branch cancels the current operation.</span></span> <span data-ttu-id="982be-156">Nesneler, <xref:System.Predicate%601> ana dal daki veri akışı bloklarının belirli iletileri reddederek alternatif dala geçmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="982be-156">The <xref:System.Predicate%601> objects enable the dataflow blocks along the main branch to switch to the alternative branch by rejecting certain messages.</span></span> <span data-ttu-id="982be-157">Örneğin, kullanıcı işlemi iptal ederse, veri akışı `createCompositeBitmap` `null` bloğu`Nothing` çıktı olarak (Visual Basic'te) üretir.</span><span class="sxs-lookup"><span data-stu-id="982be-157">For example, if the user cancels the operation, the dataflow block `createCompositeBitmap` produces `null` (`Nothing` in Visual Basic) as its output.</span></span> <span data-ttu-id="982be-158">Veri akışı `displayCompositeBitmap` bloğu `null` giriş değerlerini reddeder ve bu nedenle `operationCancelled`ileti .</span><span class="sxs-lookup"><span data-stu-id="982be-158">The dataflow block `displayCompositeBitmap` rejects `null` input values, and therefore, the message is offered to `operationCancelled`.</span></span> <span data-ttu-id="982be-159">Veri akışı `operationCancelled` bloğu tüm iletileri kabul eder ve bu nedenle işlemin iptal edildiğini belirtmek için bir görüntü görüntüler.</span><span class="sxs-lookup"><span data-stu-id="982be-159">The dataflow block `operationCancelled` accepts all messages and therefore, displays an image to indicate that the operation is canceled.</span></span>  
  
 <span data-ttu-id="982be-160">Aşağıdaki resimde görüntü işleme ağı gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="982be-160">The following illustration shows the image processing network:</span></span>  
  
 ![Görüntü işleme ağını gösteren çizim.](./media/walkthrough-using-dataflow-in-a-windows-forms-application/dataflow-winforms-image-processing.png)  
  
 <span data-ttu-id="982be-162">`displayCompositeBitmap` Ve `operationCancelled` veri akışı blokları kullanıcı arabiriminde hareket ettiği için, bu eylemlerin kullanıcı arabirimi iş parçacığında oluşması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="982be-162">Because the `displayCompositeBitmap` and `operationCancelled` dataflow blocks act on the user interface, it is important that these actions occur on the user-interface thread.</span></span> <span data-ttu-id="982be-163">Bunu gerçekleştirmek için, inşaat sırasında, bu <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions> nesnelerin her <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> biri <xref:System.Threading.Tasks.TaskScheduler.FromCurrentSynchronizationContext%2A?displayProperty=nameWithType>özelliği ayarlanmış bir nesne sağlar.</span><span class="sxs-lookup"><span data-stu-id="982be-163">To accomplish this, during construction, these objects each provide a <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions> object that has the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> property set to <xref:System.Threading.Tasks.TaskScheduler.FromCurrentSynchronizationContext%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="982be-164">Yöntem, <xref:System.Threading.Tasks.TaskScheduler.FromCurrentSynchronizationContext%2A?displayProperty=nameWithType> geçerli <xref:System.Threading.Tasks.TaskScheduler> eşitleme bağlamında çalışma gerçekleştiren bir nesne oluşturur.</span><span class="sxs-lookup"><span data-stu-id="982be-164">The <xref:System.Threading.Tasks.TaskScheduler.FromCurrentSynchronizationContext%2A?displayProperty=nameWithType> method creates a <xref:System.Threading.Tasks.TaskScheduler> object that performs work on the current synchronization context.</span></span> <span data-ttu-id="982be-165">Yöntem, kullanıcı arabirimi iş parçacığı üzerinde çalışan **Klasörü Seç** düğmesinin işleyicisinden `displayCompositeBitmap` çağrıldığından, kullanıcı arabirimi iş parçacığında da veri akışı bloklarının `operationCancelled` eylemleri çalışır. `CreateImageProcessingNetwork`</span><span class="sxs-lookup"><span data-stu-id="982be-165">Because the `CreateImageProcessingNetwork` method is called from the handler of the **Choose Folder** button, which runs on the user-interface thread, the actions for the `displayCompositeBitmap` and `operationCancelled` dataflow blocks also run on the user-interface thread.</span></span>  
  
 <span data-ttu-id="982be-166">Bu örnek, <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> özellik veri akışı bloğu yürütmesini kalıcı olarak iptal ettiği için özelliği ayarlamak yerine paylaşılan bir iptal belirteci kullanır.</span><span class="sxs-lookup"><span data-stu-id="982be-166">This example uses a shared cancellation token instead of setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> property because the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> property permanently cancels dataflow block execution.</span></span> <span data-ttu-id="982be-167">İptal belirteci, kullanıcı bir veya daha fazla işlemi iptal etse bile, bu örneğin aynı veri akışı ağını birden çok kez yeniden kullanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="982be-167">A cancellation token enables this example to reuse the same dataflow network multiple times, even when the user cancels one or more operations.</span></span> <span data-ttu-id="982be-168">Veri akışı bloğunun yürütülmesini kalıcı olarak iptal etmek için kullanan <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> bir örnek için [bkz.](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md)</span><span class="sxs-lookup"><span data-stu-id="982be-168">For an example that uses <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> to permanently cancel the execution of a dataflow block, see [How to: Cancel a Dataflow Block](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md).</span></span>  
  
<a name="ui"></a>
## <a name="connecting-the-dataflow-network-to-the-user-interface"></a><span data-ttu-id="982be-169">Veri Akışı Ağını Kullanıcı Arabirimine Bağlama</span><span class="sxs-lookup"><span data-stu-id="982be-169">Connecting the Dataflow Network to the User Interface</span></span>  
 <span data-ttu-id="982be-170">Bu bölümde, veri akışı ağının kullanıcı arabirimine nasıl bağlanılabildiğini açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="982be-170">This section describes how to connect the dataflow network to the user interface.</span></span> <span data-ttu-id="982be-171">Bileşik görüntünün oluşturulması ve işlemin iptali Klasör **Seç** ve **İptal** düğmelerinden başlatılır.</span><span class="sxs-lookup"><span data-stu-id="982be-171">The creation of the composite image and cancellation of the operation are initiated from the **Choose Folder** and **Cancel** buttons.</span></span> <span data-ttu-id="982be-172">Kullanıcı bu düğmelerden birini seçtiğinde, uygun eylem eşzamanlı bir şekilde başlatılır.</span><span class="sxs-lookup"><span data-stu-id="982be-172">When the user chooses either of these buttons, the appropriate action is initiated in an asynchronous manner.</span></span>  
  
### <a name="to-connect-the-dataflow-network-to-the-user-interface"></a><span data-ttu-id="982be-173">Veri Akışı Ağını Kullanıcı Arabirimine Bağlamak İçin</span><span class="sxs-lookup"><span data-stu-id="982be-173">To Connect the Dataflow Network to the User Interface</span></span>  
  
1. <span data-ttu-id="982be-174">Ana formun form tasarımcısında, **Klasör** seç düğmesi <xref:System.Windows.Forms.ToolStripItem.Click> için olay için bir olay işleyicisi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="982be-174">On the form designer for the main form, create an event handler for the <xref:System.Windows.Forms.ToolStripItem.Click> event for the **Choose Folder** button.</span></span>  
  
2. <span data-ttu-id="982be-175">Klasör <xref:System.Windows.Forms.ToolStripItem.Click> seç düğmesi **Choose Folder** için olayı uygulayın.</span><span class="sxs-lookup"><span data-stu-id="982be-175">Implement the <xref:System.Windows.Forms.ToolStripItem.Click> event for the **Choose Folder** button.</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#6)]  
  
3. <span data-ttu-id="982be-176">Ana formiçin form tasarımcısında, **İptal** düğmesi için <xref:System.Windows.Forms.ToolStripItem.Click> olay için bir olay işleyicisi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="982be-176">On the form designer for the main form, create an event handler for the <xref:System.Windows.Forms.ToolStripItem.Click> event for the **Cancel** button.</span></span>  
  
4. <span data-ttu-id="982be-177">İptal <xref:System.Windows.Forms.ToolStripItem.Click> düğmesi için **Cancel** etkinliği uygulayın.</span><span class="sxs-lookup"><span data-stu-id="982be-177">Implement the <xref:System.Windows.Forms.ToolStripItem.Click> event for the **Cancel** button.</span></span>  
  
     [!code-csharp[TPLDataflow_CompositeImages#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#7)]  
  
<a name="complete"></a>
## <a name="the-complete-example"></a><span data-ttu-id="982be-178">Tam Örnek</span><span class="sxs-lookup"><span data-stu-id="982be-178">The Complete Example</span></span>  
 <span data-ttu-id="982be-179">Aşağıdaki örnek, bu izbin tam kodunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="982be-179">The following example shows the complete code for this walkthrough.</span></span>  
  
 [!code-csharp[TPLDataflow_CompositeImages#100](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_compositeimages/cs/compositeimages/form1.cs#100)]  
  
 <span data-ttu-id="982be-180">Aşağıdaki resimde ortak \Örnek Resimler\ klasörü için tipik çıktı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="982be-180">The following illustration shows typical output for the common \Sample Pictures\ folder.</span></span>  
  
 <span data-ttu-id="982be-181">![Windows Formları Uygulaması](../../../docs/standard/parallel-programming/media/tpldataflow-compositeimages.gif "TPLDataflow_CompositeImages")</span><span class="sxs-lookup"><span data-stu-id="982be-181">![The Windows Forms Application](../../../docs/standard/parallel-programming/media/tpldataflow-compositeimages.gif "TPLDataflow_CompositeImages")</span></span>  

## <a name="see-also"></a><span data-ttu-id="982be-182">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="982be-182">See also</span></span>

- [<span data-ttu-id="982be-183">Veri akışı</span><span class="sxs-lookup"><span data-stu-id="982be-183">Dataflow</span></span>](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md)
