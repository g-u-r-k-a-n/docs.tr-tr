---
title: Kapsayıcıları ve sunucusuz yaklaşımları birleştirme
description: Kapsayıcıları ve Kubernetes 'i sunucusuz yaklaşımlar ile birleştirme
ms.date: 06/30/2019
ms.openlocfilehash: 58aff43adbdd2e629370cc685f32c7b61c25f85e
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/23/2019
ms.locfileid: "71183436"
---
# <a name="combining-containers-and-serverless-approaches"></a><span data-ttu-id="5a2a6-103">Kapsayıcıları ve sunucusuz yaklaşımları birleştirme</span><span class="sxs-lookup"><span data-stu-id="5a2a6-103">Combining containers and serverless approaches</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="5a2a6-104">Genellikle, mikro hizmet tabanlı uygulamalar düğümler arasında iletişim için kapsayıcılar, düzenleme ve ileti geçişini yoğun bir şekilde kullanır.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-104">Frequently, microservices-based applications rely heavily on containers, orchestration, and message-passing for communication between nodes.</span></span> <span data-ttu-id="5a2a6-105">Bu mesajlaşma, Azure Işlevleri için ideal bir görevdir, ancak Kubernetes ve ilgili araçlar kullanılarak yapılandırılan ve dağıtılan uygulamanın geri kalanı ile aynı araç takımı içindeki Azure Işlevleri 'nden faydalanabilir.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-105">This messaging is an ideal task for Azure Functions, but with the rest of the application configured and deployed using Kubernetes and related tools, it would be nice to be able to leverage Azure Functions within this same toolset.</span></span> <span data-ttu-id="5a2a6-106">Neyse ki, Docker kapsayıcılarındaki Azure Işlevlerini kaydırabilirsiniz ve Kubernetes tabanlı uygulamanızın geri kalanı ile aynı işlemleri ve araçları kullanarak bunları dağıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-106">Fortunately, you can wrap Azure Functions in Docker containers and deploy them using the same processes and tools as the rest of your Kubernetes-based app.</span></span>

## <a name="when-does-it-make-sense-to-use-containers-with-serverless"></a><span data-ttu-id="5a2a6-107">Ne zaman sunucusuz ile kapsayıcıları kullanmak mantıklı midir?</span><span class="sxs-lookup"><span data-stu-id="5a2a6-107">When does it make sense to use containers with serverless?</span></span>

<span data-ttu-id="5a2a6-108">Varsayılan olarak, sunucusuz işlevleriniz, çalıştırdıkları platforma ilişkin hiçbir bilgiye sahip değildir.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-108">By default, your serverless functions have no knowledge of the platform on which they'll run.</span></span> <span data-ttu-id="5a2a6-109">Ancak bazı durumlarda, kodunuzun çalışacağı kapsayıcı görüntüsünü özelleştirmenizi sağlayan belirli gereksinimlere sahip olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-109">However, in some cases you may have specific requirements that make it important for you to customize the container image in which your code will run.</span></span> <span data-ttu-id="5a2a6-110">İşleviniz belirli bir dil sürümünü temel aldığından veya varsayılan görüntü tarafından desteklenmeyen bağımlılıklara veya yapılandırma gereksinimlerine sahip olduğundan özel bir görüntü kullanmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-110">You may want to use a custom image because your function relies on a specific language version or has dependencies or configuration requirements that aren't supported by the default image.</span></span> <span data-ttu-id="5a2a6-111">Bu durumlarda, kendi kapsayıcınızı özelleştirmek ve işlevinizi özel bir Docker kapsayıcısında dağıtmak mantıklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-111">In these cases, it may make sense to customize your own container and deploy your function in a custom Docker container.</span></span>

## <a name="when-should-you-avoid-using-containers-with-azure-functions"></a><span data-ttu-id="5a2a6-112">Azure Işlevleri ile kapsayıcıları kullanmaktan kaçınmak ne zaman?</span><span class="sxs-lookup"><span data-stu-id="5a2a6-112">When should you avoid using containers with Azure Functions?</span></span>

<span data-ttu-id="5a2a6-113">İşleviniz için tüketim planı faturalandırma avantajlarından faydalanmayı bekliyorsanız, kendi kapsayıcınızı kullanıyorsanız bunu yapamazsınız.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-113">If you're expecting to benefit from the consumption plan billing for your function, you won't be able to do so if you're using your own container.</span></span> <span data-ttu-id="5a2a6-114">Ne kadar çok bir Docker kapsayıcısı kullanmaktan ve işlevlerinizi kendi Kubernetes kümenize dağıtırsanız, Azure Işlevleri tarafından sunulan yerleşik ölçeklendirmeden artık yararlanabileceksiniz.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-114">What's more, if you go beyond just using a Docker container and deploy your functions to your own Kubernetes cluster, you'll no longer benefit from the built-in scaling provided by Azure Functions.</span></span> <span data-ttu-id="5a2a6-115">Aşağıda açıklanan Kubernetes ' ölçeklendirme özelliklerini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-115">You'll need to use Kubernetes' scaling features, described below.</span></span>

## <a name="how-to-combine-serverless-and-docker-containers"></a><span data-ttu-id="5a2a6-116">Sunucusuz ve Docker kapsayıcılarını birleştirme</span><span class="sxs-lookup"><span data-stu-id="5a2a6-116">How to combine serverless and Docker containers</span></span>

<span data-ttu-id="5a2a6-117">Bir Docker kapsayıcısında bir Azure Işlevini kaydırmak için Azure Functions Core Tools yükleyip aşağıdaki komutu çalıştırın:</span><span class="sxs-lookup"><span data-stu-id="5a2a6-117">To wrap an Azure Function in a Docker container, install the Azure Functions Core Tools and then run the following command:</span></span>

```console
func init ProjectName --docker
```

<span data-ttu-id="5a2a6-118">Aşağıdaki seçeneklerden istediğiniz çalışan çalışma zamanını seçin:</span><span class="sxs-lookup"><span data-stu-id="5a2a6-118">Choose which worker runtime you want from the following options:</span></span>

- <span data-ttu-id="5a2a6-119">`dotnet` (C#)</span><span class="sxs-lookup"><span data-stu-id="5a2a6-119">`dotnet` (C#)</span></span>
- <span data-ttu-id="5a2a6-120">`node` (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="5a2a6-120">`node` (JavaScript)</span></span>
- `python`

<span data-ttu-id="5a2a6-121">Proje oluşturulduğunda, bir Dockerfile içerecektir.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-121">When the project is created, it will include a Dockerfile.</span></span> <span data-ttu-id="5a2a6-122">Şimdi, işlevinizi yerel olarak oluşturup test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-122">Now, you can create and test your function locally.</span></span> <span data-ttu-id="5a2a6-123">`docker build` ve `docker run` komutlarını kullanarak derleyin ve çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-123">Build and run it using the  `docker build` and `docker run` commands.</span></span> <span data-ttu-id="5a2a6-124">Docker desteğiyle Azure Işlevleri oluşturmaya başlamanıza yönelik ayrıntılı adımlar için bkz. [Linux üzerinde bir Işlev oluşturma](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) öğreticisini kullanarak.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-124">For detailed steps to get started building Azure Functions with Docker support, see the [Create a function on Linux using a custom image](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) tutorial.</span></span>

## <a name="how-to-combine-serverless-and-kubernetes-with-keda"></a><span data-ttu-id="5a2a6-125">KEDA ile sunucusuz ve Kubernetes 'i birleştirme</span><span class="sxs-lookup"><span data-stu-id="5a2a6-125">How to combine serverless and Kubernetes with KEDA</span></span>

<span data-ttu-id="5a2a6-126">Azure işlevleri, belirli bir işlevi hedefleyen olayların hızına göre talebi karşılamak için otomatik olarak ölçeklendirilir.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-126">Azure functions scale automatically to meet demand based on the rate of events that are targeting a given function.</span></span> <span data-ttu-id="5a2a6-127">Ayrıca, işlevlerinizi barındırmak için Kubernetes özelliğinden yararlanarak Kubernetes tabanlı olay temelli otomatik ölçeklendirme veya KEDA kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-127">Additionally, you can leverage Kubernetes to host your functions and use Kubernetes-based Event Driven Autoscaling, or KEDA.</span></span> <span data-ttu-id="5a2a6-128">Hiçbir olay gerçekleşmez, KEDA 0 örneğe kadar ölçeklendirebilir ve ardından olaya yanıt olarak, yatay Pod otomatik Scaler kullanarak talebi karşılayacak kapsayıcı sayısını ölçeklendirebilirler.</span><span class="sxs-lookup"><span data-stu-id="5a2a6-128">When no events are occurring, KEDA can scale down to 0 instances, and then in response to events it can scale up the number of containers to meet the demand using its horizontal pod autoscaler.</span></span> <span data-ttu-id="5a2a6-129">[KEDA Ile Azure işlevlerinin ölçeklendirilmesi hakkında daha fazla bilgi edinin](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span><span class="sxs-lookup"><span data-stu-id="5a2a6-129">[Learn more about scaling Azure functions with KEDA](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span></span>

## <a name="references"></a><span data-ttu-id="5a2a6-130">Referanslar</span><span class="sxs-lookup"><span data-stu-id="5a2a6-130">References</span></span>

- [<span data-ttu-id="5a2a6-131">Azure Işlevlerini bir Docker kapsayıcısında çalıştırma</span><span class="sxs-lookup"><span data-stu-id="5a2a6-131">Run Azure Functions in a Docker Container</span></span>](https://markheath.net/post/azure-functions-docker)
- [<span data-ttu-id="5a2a6-132">Linux üzerinde özel görüntü kullanarak bir işlev oluşturma</span><span class="sxs-lookup"><span data-stu-id="5a2a6-132">Create a function on Linux using a custom image</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image)
- [<span data-ttu-id="5a2a6-133">Kubernetes olay odaklı otomatik ölçeklendirmeyle Azure Işlevleri</span><span class="sxs-lookup"><span data-stu-id="5a2a6-133">Azure Functions with Kubernetes Event Driven Autoscaling</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda)

>[!div class="step-by-step"]
><span data-ttu-id="5a2a6-134">[Önceki](leverage-serverless-functions.md)
>[İleri](deploy-containers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="5a2a6-134">[Previous](leverage-serverless-functions.md)
[Next](deploy-containers-azure.md)</span></span>
