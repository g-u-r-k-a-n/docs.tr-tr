---
title: 'Öğretici: model Oluşturucu ile sistem durumu ihlallerini sınıflandırma'
description: Bu öğreticide, San Francisco 'da Restoran sistem durumu ihlali önem derecesine göre sınıflandırmak için ML.NET model Oluşturucu kullanılarak birden çok Lass sınıflandırma modelinin nasıl oluşturulduğu gösterilmektedir.
author: luisquintanilla
ms.author: luquinta
ms.date: 11/21/2019
ms.topic: tutorial
ms.custom: mvc
ms.openlocfilehash: 90abbc9ffe5765880d18d0d29c8e13bc1330ddc3
ms.sourcegitcommit: 30a558d23e3ac5a52071121a52c305c85fe15726
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/25/2019
ms.locfileid: "75341562"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="50358-103">Öğretici: model Oluşturucu ile Restoran sistem durumu ihlallerinin önem derecesini sınıflandırma</span><span class="sxs-lookup"><span data-stu-id="50358-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="50358-104">Sistem durumu incelemeleri sırasında bulunan restoran ihlallerinin risk düzeyini kategorilere ayırmak için model Oluşturucu kullanarak birden çok Lass sınıflandırma modeli oluşturmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="50358-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="50358-105">Bu öğreticide şunların nasıl yapıladığını öğreneceksiniz:</span><span class="sxs-lookup"><span data-stu-id="50358-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="50358-106">Verileri hazırlama ve anlama</span><span class="sxs-lookup"><span data-stu-id="50358-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="50358-107">Senaryo seçin</span><span class="sxs-lookup"><span data-stu-id="50358-107">Choose a scenario</span></span>
> - <span data-ttu-id="50358-108">Veritabanından veri yükleme</span><span class="sxs-lookup"><span data-stu-id="50358-108">Load data from a database</span></span>
> - <span data-ttu-id="50358-109">Modeli eğitme</span><span class="sxs-lookup"><span data-stu-id="50358-109">Train the model</span></span>
> - <span data-ttu-id="50358-110">Modeli değerlendirme</span><span class="sxs-lookup"><span data-stu-id="50358-110">Evaluate the model</span></span>
> - <span data-ttu-id="50358-111">Tahmin için modeli kullanma</span><span class="sxs-lookup"><span data-stu-id="50358-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="50358-112">Model Oluşturucu Şu anda önizleme aşamasındadır.</span><span class="sxs-lookup"><span data-stu-id="50358-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="50358-113">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="50358-113">Prerequisites</span></span>

<span data-ttu-id="50358-114">Önkoşul ve Yükleme yönergelerinin bir listesi için [model Oluşturucu Yükleme Kılavuzu](../how-to-guides/install-model-builder.md)' nu ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="50358-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="50358-115">Model Oluşturucu birden çok Lass sınıflandırmasına genel bakış</span><span class="sxs-lookup"><span data-stu-id="50358-115">Model Builder multiclass classification overview</span></span>

<span data-ttu-id="50358-116">Bu örnek, model C# Oluşturucu ile oluşturulmuş bir makine öğrenimi modeli kullanarak sistem durumu ihlalleri riskini kategorilere ayırır ve bir .NET Core konsol uygulaması oluşturur.</span><span class="sxs-lookup"><span data-stu-id="50358-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="50358-117">Bu öğreticinin kaynak kodunu [DotNet/machinöğrenim-Samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub deposunda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="50358-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="50358-118">Konsol uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="50358-118">Create a console application</span></span>

1. <span data-ttu-id="50358-119">"Restoran antihlalleri" adlı bir  **C# .NET Core konsol uygulaması** oluşturun.</span><span class="sxs-lookup"><span data-stu-id="50358-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span> <span data-ttu-id="50358-120">**Çözümün ve projenin aynı dizine yerleştirdiğinizden** emin **olun (vs** 2019) veya **çözüm için dizin oluşturma** **denetlenir** (vs 2017).</span><span class="sxs-lookup"><span data-stu-id="50358-120">Make sure **Place solution and project in the same directory** is **unchecked** (VS 2019), or **Create directory for solution** is **checked** (VS 2017).</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="50358-121">Verileri hazırlama ve anlama</span><span class="sxs-lookup"><span data-stu-id="50358-121">Prepare and understand the data</span></span>

> <span data-ttu-id="50358-122">Machine Learning modelini eğmekte ve değerlendirmek için kullanılan veri kümesi, başlangıçta [genel sağlık restoranın güvenlik puanlarından oluşan San Francisco departmanından](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span><span class="sxs-lookup"><span data-stu-id="50358-122">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="50358-123">Kolaylık olması için veri kümesi, yalnızca modeli eğmeyle ilgili sütunları içerecek şekilde yoğunlaştırılmış ve tahmin edilebilir.</span><span class="sxs-lookup"><span data-stu-id="50358-123">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="50358-124">[Veri kümesi](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0)hakkında daha fazla bilgi edinmek için aşağıdaki Web sitesini ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="50358-124">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="50358-125">[Restoran güvenlik puanları veri kümesini indirin](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) ve sıkıştırmayı açın.</span><span class="sxs-lookup"><span data-stu-id="50358-125">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="50358-126">Veri kümesindeki her bir satır, sistem durumu departmanından bir inceleme sırasında gözlemlendiği ihlallerle ilgili bilgiler ve bu ihlallerin genel durum ve güvenlik konusunda yer aldığı tehdidi risk değerlendirmesi hakkında bilgi içerir.</span><span class="sxs-lookup"><span data-stu-id="50358-126">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="50358-127">Inspectiontype</span><span class="sxs-lookup"><span data-stu-id="50358-127">InspectionType</span></span> | <span data-ttu-id="50358-128">ViolationDescription</span><span class="sxs-lookup"><span data-stu-id="50358-128">ViolationDescription</span></span> | <span data-ttu-id="50358-129">RiskCategory</span><span class="sxs-lookup"><span data-stu-id="50358-129">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="50358-130">Rutin-zamanlanmamış</span><span class="sxs-lookup"><span data-stu-id="50358-130">Routine - Unscheduled</span></span> | <span data-ttu-id="50358-131">Yetersiz Temizlenen veya ayıklanmış yiyecek iletişim yüzeyleri</span><span class="sxs-lookup"><span data-stu-id="50358-131">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="50358-132">Orta risk</span><span class="sxs-lookup"><span data-stu-id="50358-132">Moderate Risk</span></span> |
| <span data-ttu-id="50358-133">Yeni sahiplik</span><span class="sxs-lookup"><span data-stu-id="50358-133">New Ownership</span></span> | <span data-ttu-id="50358-134">Yüksek riskli Vermin ve daha fazla bildirim</span><span class="sxs-lookup"><span data-stu-id="50358-134">High risk vermin infestation</span></span> | <span data-ttu-id="50358-135">Yüksek riskli</span><span class="sxs-lookup"><span data-stu-id="50358-135">High Risk</span></span> |
| <span data-ttu-id="50358-136">Rutin-zamanlanmamış</span><span class="sxs-lookup"><span data-stu-id="50358-136">Routine - Unscheduled</span></span> | <span data-ttu-id="50358-137">Temizleyen giyme yok veya düzgün şekilde depolanmıyor ya da yetersiz bir temizleme işlemi</span><span class="sxs-lookup"><span data-stu-id="50358-137">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="50358-138">Düşük risk</span><span class="sxs-lookup"><span data-stu-id="50358-138">Low Risk</span></span> |

- <span data-ttu-id="50358-139">**Inspectiontype**: inceleme türü.</span><span class="sxs-lookup"><span data-stu-id="50358-139">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="50358-140">Bu, yeni bir oluşturma, bir denetim, bir şikayet denetimi ve birçok diğer tür için ilk kez inceleme olabilir.</span><span class="sxs-lookup"><span data-stu-id="50358-140">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="50358-141">**ViolationDescription**: İnceleme sırasında bulunan ihlalin bir açıklaması.</span><span class="sxs-lookup"><span data-stu-id="50358-141">**ViolationDescription**: a description of the violation found during inspection.</span></span>
- <span data-ttu-id="50358-142">**RiskCategory**: risk önem derecesi, bir ihlalin genel sistem durumu ve güvenliği doğurur.</span><span class="sxs-lookup"><span data-stu-id="50358-142">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="50358-143">`label`, tahmin etmek istediğiniz sütundur.</span><span class="sxs-lookup"><span data-stu-id="50358-143">The `label` is the column you want to predict.</span></span> <span data-ttu-id="50358-144">Bir sınıflandırma görevi gerçekleştirirken, hedef bir kategori (metin veya sayısal) olarak atanır.</span><span class="sxs-lookup"><span data-stu-id="50358-144">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="50358-145">Bu sınıflandırma senaryosunda, ihlalin önem derecesine düşük, orta veya yüksek riskli değer atanır.</span><span class="sxs-lookup"><span data-stu-id="50358-145">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="50358-146">Bu nedenle, **RiskCategory** etikettir.</span><span class="sxs-lookup"><span data-stu-id="50358-146">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="50358-147">`features`, modele `label`tahmin etmek için verdiğiniz girişlerdir.</span><span class="sxs-lookup"><span data-stu-id="50358-147">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="50358-148">Bu durumda, **ınspectiontype** ve **ViolationDescription** , **RiskCategory**tahmin etmek için özellik veya giriş olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="50358-148">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="50358-149">Senaryo seçin</span><span class="sxs-lookup"><span data-stu-id="50358-149">Choose a scenario</span></span>

![Visual Studio 'da model Oluşturucu Sihirbazı](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="50358-151">Modelinize eğitebilmeniz için, model Oluşturucu tarafından sağlanan kullanılabilir makine öğrenimi senaryoları listesinden seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-151">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="50358-152">Bu durumda senaryo, *sorun sınıflandırması*olur.</span><span class="sxs-lookup"><span data-stu-id="50358-152">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="50358-153">**Çözüm Gezgini**, *Restoran antihlalleri* projesine sağ tıklayın ve > **Ekle** **Machine Learning**' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-153">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="50358-154">Bu örnek için, senaryo birden çok sınıf sınıflandırmasıdır.</span><span class="sxs-lookup"><span data-stu-id="50358-154">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="50358-155">Model oluşturucunun *senaryo* adımında, **sorun sınıflandırması** senaryosunu seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-155">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="50358-156">Verileri yükleme</span><span class="sxs-lookup"><span data-stu-id="50358-156">Load the data</span></span>

<span data-ttu-id="50358-157">Model Oluşturucu `csv` veya `tsv` biçimindeki bir SQL Server veritabanından veya yerel bir dosyadan verileri kabul eder.</span><span class="sxs-lookup"><span data-stu-id="50358-157">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="50358-158">Model Oluşturucu aracının veri adımında veri kaynağı açılır listesinden **SQL Server** ' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-158">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="50358-159">**SQL Server veritabanına Bağlan** metin kutusunun yanındaki düğmeyi seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-159">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="50358-160">**Veri Seç** iletişim kutusunda **Microsoft SQL Server veritabanı dosyası**' nı seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-160">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span>
    1. <span data-ttu-id="50358-161">**Her zaman bu seçimi kullan** onay kutusunu temizleyin ve **devam**' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-161">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="50358-162">**Bağlantı özellikleri** iletişim kutusunda, **Araştır** ' ı seçin ve indirilen *restoranın. mdf* dosyasını seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-162">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="50358-163">Seçin **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="50358-163">Select **OK**.</span></span>
1. <span data-ttu-id="50358-164">**Tablo adı** açılır listesinden **ihlaller** ' i seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-164">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="50358-165">**Tahmin edilecek (etiket)** aşağı açılan sütunda **RiskCategory** öğesini seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-165">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="50358-166">Varsayılan sütun seçimlerini, **ınspectiontype** ve **ViolationDescription** **giriş sütunları (Özellikler)** açılır listesine iade edin.</span><span class="sxs-lookup"><span data-stu-id="50358-166">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="50358-167">Model Oluşturucu 'daki sonraki adıma geçmek için **eğitme** bağlantısını seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-167">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="50358-168">Modeli eğitme</span><span class="sxs-lookup"><span data-stu-id="50358-168">Train the model</span></span>

<span data-ttu-id="50358-169">Bu öğreticide sorun sınıflandırma modelini eğitmek için kullanılan makine öğrenimi görevi birden çok Lass sınıflandırmasıdır.</span><span class="sxs-lookup"><span data-stu-id="50358-169">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="50358-170">Model oluşturma işlemi sırasında model Oluşturucu, veri kümeniz için en iyi işlem modelini bulmak üzere farklı bir çok Lass sınıflandırma algoritması ve ayarı kullanarak modelleri ayrı ayrı işler.</span><span class="sxs-lookup"><span data-stu-id="50358-170">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="50358-171">Modelin eğmesi için gereken süre, veri miktarıyla orantılıdır.</span><span class="sxs-lookup"><span data-stu-id="50358-171">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="50358-172">Model Oluşturucu, veri kaynağınızın boyutuna bağlı olarak, **tren süresi (saniye)** için varsayılan bir değer seçer.</span><span class="sxs-lookup"><span data-stu-id="50358-172">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="50358-173">Model Oluşturucu değeri, " **saniye)** ila 10 saniye arasında bir süre olarak ayarlasa da, 30 saniyeye yükseltin.</span><span class="sxs-lookup"><span data-stu-id="50358-173">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="50358-174">Daha uzun bir süre için eğitim, model oluşturucunun en iyi modeli aramada daha fazla sayıda algoritmaların ve parametrelerin birleşimini keşfetmesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="50358-174">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="50358-175">**Eğitimi Başlat**' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-175">Select **Start Training**.</span></span>

    <span data-ttu-id="50358-176">Eğitim süreci boyunca, ilerleme verileri eğitme adımının `Progress` bölümünde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="50358-176">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="50358-177">**Durum** , eğitim sürecinin tamamlanma durumunu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="50358-177">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="50358-178">**En iyi doğruluk** model Oluşturucu tarafından şu ana kadar bulunan en iyi şekilde oluşan modelin doğruluğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="50358-178">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="50358-179">Daha yüksek doğruluk, modelin test verilerinde daha doğru tahmin edilen anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="50358-179">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="50358-180">**En iyi algoritma** , o ana kadar model Oluşturucu tarafından bulunan en iyi şekilde gerçekleştiren algoritmanın adını gösterir.</span><span class="sxs-lookup"><span data-stu-id="50358-180">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="50358-181">**Son algoritma** modeli eğitmek Için model Oluşturucu tarafından en son kullanılan algoritmanın adını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="50358-181">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="50358-182">Eğitim tamamlandıktan sonra bir sonraki adıma geçmek için bağlantıyı **değerlendir** ' i seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-182">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="50358-183">Modeli değerlendirme</span><span class="sxs-lookup"><span data-stu-id="50358-183">Evaluate the model</span></span>

<span data-ttu-id="50358-184">Eğitim adımının sonucu en iyi performansa sahip bir modeldir.</span><span class="sxs-lookup"><span data-stu-id="50358-184">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="50358-185">Model oluşturucunun değerlendir adımında çıkış bölümü **, en iyi model girişinde en** iyi şekilde kullanılan model tarafından kullanılan algoritmayı ve **En Iyi model doğruluğunun**ölçümlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="50358-185">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="50358-186">Ayrıca, araştırılan en fazla beş model içeren bir Özet tablosu ve bunların ölçümleri görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="50358-186">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="50358-187">Doğruluk ölçümlerinizi tatmin ediyorsanız, model doğruluğunu artırmak için bazı kolay yollar, modelin eğilmesi veya daha fazla veri kullanmak için zaman miktarını artırmaktır.</span><span class="sxs-lookup"><span data-stu-id="50358-187">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="50358-188">Aksi takdirde, model Oluşturucu 'daki son adıma geçmek için **kod** bağlantısını seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-188">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="50358-189">Tahminleri yapmak için kodu ekleyin</span><span class="sxs-lookup"><span data-stu-id="50358-189">Add the code to make predictions</span></span>

<span data-ttu-id="50358-190">Eğitim sürecinin bir sonucu olarak iki proje oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="50358-190">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="50358-191">RestaurantViolationsML. ConsoleApp: model C# eğitimi ve örnek tüketim kodu içeren bir .NET Core konsol uygulaması.</span><span class="sxs-lookup"><span data-stu-id="50358-191">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="50358-192">RestaurantViolationsML. Model: giriş ve çıkış modeli verilerinin şemasını tanımlayan veri modellerini, eğitim sırasında en iyi hale getirme modelinin kaydedilmiş sürümünü ve tahmin etmek için `ConsumeModel` adlı bir yardımcı sınıfı içeren .NET Standard bir sınıf kitaplığı.</span><span class="sxs-lookup"><span data-stu-id="50358-192">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="50358-193">Model oluşturucunun kod adımında, otomatik olarak oluşturulan projeleri çözüme eklemek için **Proje Ekle** ' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="50358-193">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="50358-194">*Program.cs* dosyasını *Losoantihlalleri* projesinde açın.</span><span class="sxs-lookup"><span data-stu-id="50358-194">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="50358-195">*RestaurantViolationsML. model* projesine başvurmak için aşağıdaki using ifadesini ekleyin:</span><span class="sxs-lookup"><span data-stu-id="50358-195">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="50358-196">Modeli kullanarak yeni verileri tahmin etmek için, uygulamanızın `Main` yöntemi içinde `ModelInput` sınıfının yeni bir örneğini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="50358-196">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="50358-197">Risk kategorisinin girişin bir parçası olmadığına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="50358-197">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="50358-198">Bunun nedeni, modelin tahmin oluşturması.</span><span class="sxs-lookup"><span data-stu-id="50358-198">This is because the model generates the prediction for it.</span></span>

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="50358-199">`ConsumeModel` sınıfındaki `Predict` yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="50358-199">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="50358-200">`Predict` yöntemi eğitilen modeli yükler, model için bir [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) oluşturur ve yeni verilerde tahmine dayalı hale getirmek için onu kullanır.</span><span class="sxs-lookup"><span data-stu-id="50358-200">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span>

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="50358-201">Uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="50358-201">Run the application.</span></span>

    <span data-ttu-id="50358-202">Program tarafından oluşturulan çıkış aşağıdaki kod parçacığına benzemelidir:</span><span class="sxs-lookup"><span data-stu-id="50358-202">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="50358-203">Oluşturulan projelere başka bir çözümün içinde daha sonraki bir zamanda başvurmanız gerekirse, bunları `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` dizininde bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="50358-203">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="50358-204">Tebrikler!</span><span class="sxs-lookup"><span data-stu-id="50358-204">Congratulations!</span></span> <span data-ttu-id="50358-205">Model Oluşturucu kullanarak sistem durumu ihlallerinin riskini kategorize etmek için bir makine öğrenimi modelini başarıyla oluşturdunuz.</span><span class="sxs-lookup"><span data-stu-id="50358-205">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="50358-206">Bu öğreticinin kaynak kodunu [DotNet/machinöğrenim-Samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub deposunda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="50358-206">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="50358-207">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="50358-207">Additional resources</span></span>

<span data-ttu-id="50358-208">Bu öğreticide bahsedilen konular hakkında daha fazla bilgi edinmek için aşağıdaki kaynakları ziyaret edin:</span><span class="sxs-lookup"><span data-stu-id="50358-208">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="50358-209">Model Oluşturucu senaryoları</span><span class="sxs-lookup"><span data-stu-id="50358-209">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="50358-210">Birden çok Lass sınıflandırması</span><span class="sxs-lookup"><span data-stu-id="50358-210">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="50358-211">Birden çok Lass sınıflandırma modeli ölçümleri</span><span class="sxs-lookup"><span data-stu-id="50358-211">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#evaluation-metrics-for-multi-class-classification)
