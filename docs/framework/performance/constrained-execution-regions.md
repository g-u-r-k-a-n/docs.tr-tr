---
title: Kısıtlı Yürütme Bölgeleri
ms.date: 03/30/2017
helpviewer_keywords:
- constrained execution regions
- CERs
ms.assetid: 99354547-39c1-4b0b-8553-938e8f8d1808
ms.openlocfilehash: 3161f77399030c287649ee5757814963b6afb7cf
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247733"
---
# <a name="constrained-execution-regions"></a><span data-ttu-id="98036-102">Kısıtlı Yürütme Bölgeleri</span><span class="sxs-lookup"><span data-stu-id="98036-102">Constrained Execution Regions</span></span>
<span data-ttu-id="98036-103">Kısıtlanmış bir yürütme bölgesi (CER), güvenilir yönetilen kod yazma mekanizmalarının bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="98036-103">A constrained execution region (CER) is part of a mechanism for authoring reliable managed code.</span></span> <span data-ttu-id="98036-104">Bir CER, ortak dil çalışma zamanının (CLR), alandaki kodun tamamen yürütülmesini önleyen bant dışı özel durumlar oluşturmamaya sınırlı bir alan tanımlar.</span><span class="sxs-lookup"><span data-stu-id="98036-104">A CER defines an area in which the common language runtime (CLR) is constrained from throwing out-of-band exceptions that would prevent the code in the area from executing in its entirety.</span></span> <span data-ttu-id="98036-105">Bu bölge içinde, Kullanıcı kodu, bant dışı özel durumların oluşmasına neden olacak kodu yürütmenin kısıtlanıyor.</span><span class="sxs-lookup"><span data-stu-id="98036-105">Within that region, user code is constrained from executing code that would result in the throwing of out-of-band exceptions.</span></span> <span data-ttu-id="98036-106"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A>Yöntem bir `try` blok ve işaret `catch` , `finally` , ve `fault` kısıtlamalı yürütme bölgesi olarak bloklara kadar önce gelmelidir.</span><span class="sxs-lookup"><span data-stu-id="98036-106">The <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> method must immediately precede a `try` block and marks `catch`, `finally`, and `fault` blocks as constrained execution regions.</span></span> <span data-ttu-id="98036-107">Kısıtlanmış bölge olarak işaretlendikten sonra, kod yalnızca güçlü güvenilirlik sözleşmeleri ile diğer kodu çağırmalıdır ve kod hatalara hazırlanmaya hazırlanmadığı sürece kodun hazırlanmamış veya güvenilmeyen yöntemlere sanal çağrılar yapması ya da olmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="98036-107">Once marked as a constrained region, code must only call other code with strong reliability contracts, and code should not allocate or make virtual calls to unprepared or unreliable methods unless the code is prepared to handle failures.</span></span> <span data-ttu-id="98036-108">Bir CER içinde yürütülen kod için CLR gecikmeleri iş parçacığı iptal eder.</span><span class="sxs-lookup"><span data-stu-id="98036-108">The CLR delays thread aborts for code that is executing in a CER.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="98036-109">CER yalnızca .NET Framework desteklenir.</span><span class="sxs-lookup"><span data-stu-id="98036-109">CER is only supported in .NET Framework.</span></span> <span data-ttu-id="98036-110">Bu makale .NET Core veya .NET 5 ve üzeri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="98036-110">This article doesn't apply to .NET Core or .NET 5 and above.</span></span>

 <span data-ttu-id="98036-111">Kısıtlanmış yürütme bölgeleri, ek açıklamalı bloğa ek olarak CLR 'de farklı formlarda `try` <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> ve yöntemi kullanılarak yürütülen sınıf ve koddan türetilmiş sınıflarda yürütülen özellikle kritik sonlandırıcılar kullanır <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> .</span><span class="sxs-lookup"><span data-stu-id="98036-111">Constrained execution regions are used in different forms in the CLR in addition to an annotated `try` block, notably critical finalizers executing in classes derived from the <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> class and code executed using the <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> method.</span></span>  
  
## <a name="cer-advance-preparation"></a><span data-ttu-id="98036-112">CER ön hazırlığı</span><span class="sxs-lookup"><span data-stu-id="98036-112">CER Advance Preparation</span></span>  
 <span data-ttu-id="98036-113">CLR, bellek dışı koşulların önüne geçmek için CERs 'i önceden hazırlar.</span><span class="sxs-lookup"><span data-stu-id="98036-113">The CLR prepares CERs in advance to avoid out-of-memory conditions.</span></span> <span data-ttu-id="98036-114">Tam zamanında derleme veya tür yükleme sırasında CLR yetersiz bellek koşuluna neden olmadığından, ön hazırlık gereklidir.</span><span class="sxs-lookup"><span data-stu-id="98036-114">Advance preparation is required so the CLR does not cause an out of memory condition during just-in-time compilation or type loading.</span></span>  
  
 <span data-ttu-id="98036-115">Geliştirici, bir kod bölgesinin bir CER olduğunu göstermek için gereklidir:</span><span class="sxs-lookup"><span data-stu-id="98036-115">The developer is required to indicate that a code region is a CER:</span></span>  
  
- <span data-ttu-id="98036-116">En üst düzey CER bölgesi ve özniteliği uygulanmış olan tam çağrı grafiğindeki Yöntemler <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> önceden hazırlanır.</span><span class="sxs-lookup"><span data-stu-id="98036-116">The top level CER region and methods in the full call graph that have the <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> attribute applied are prepared in advance.</span></span> <span data-ttu-id="98036-117"><xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute>Yalnızca veya için garanti verebilir <xref:System.Runtime.ConstrainedExecution.Cer.Success> <xref:System.Runtime.ConstrainedExecution.Cer.MayFail> .</span><span class="sxs-lookup"><span data-stu-id="98036-117">The <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> can only state guarantees of <xref:System.Runtime.ConstrainedExecution.Cer.Success> or <xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span></span>  
  
- <span data-ttu-id="98036-118">Sanal dağıtım gibi statik olarak belirlenemeyen çağrılar için ön hazırlık gerçekleştirilemiyor.</span><span class="sxs-lookup"><span data-stu-id="98036-118">Advance preparation cannot be performed for calls that cannot be statically determined, such as virtual dispatch.</span></span> <span data-ttu-id="98036-119"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareMethod%2A>Bu durumlarda yöntemini kullanın.</span><span class="sxs-lookup"><span data-stu-id="98036-119">Use the <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareMethod%2A> method in these cases.</span></span> <span data-ttu-id="98036-120"><xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A>Yöntemi kullanılırken, <xref:System.Runtime.ConstrainedExecution.PrePrepareMethodAttribute> özniteliği Temizleme koduna uygulanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="98036-120">When using the <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> method, the <xref:System.Runtime.ConstrainedExecution.PrePrepareMethodAttribute> attribute should be applied to the clean up code.</span></span>  
  
## <a name="constraints"></a><span data-ttu-id="98036-121">Kısıtlamalar</span><span class="sxs-lookup"><span data-stu-id="98036-121">Constraints</span></span>  
 <span data-ttu-id="98036-122">Kullanıcılar, bir CER 'ye yazdıkları kod türünde kısıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="98036-122">Users are constrained in the type of code they can write in a CER.</span></span> <span data-ttu-id="98036-123">Kod, bant dışı bir özel duruma neden olamaz, örneğin, aşağıdaki işlemlerden kaynaklanıyor olabilir:</span><span class="sxs-lookup"><span data-stu-id="98036-123">The code cannot cause an out-of-band exception, such as might result from the following operations:</span></span>  
  
- <span data-ttu-id="98036-124">Açık ayırma.</span><span class="sxs-lookup"><span data-stu-id="98036-124">Explicit allocation.</span></span>  
  
- <span data-ttu-id="98036-125">Lamak.</span><span class="sxs-lookup"><span data-stu-id="98036-125">Boxing.</span></span>  
  
- <span data-ttu-id="98036-126">Kilit alınıyor.</span><span class="sxs-lookup"><span data-stu-id="98036-126">Acquiring a lock.</span></span>  
  
- <span data-ttu-id="98036-127">Hazırlanmamış Yöntemler hemen çağrılıyor.</span><span class="sxs-lookup"><span data-stu-id="98036-127">Calling unprepared methods virtually.</span></span>  
  
- <span data-ttu-id="98036-128">Zayıf veya varolmayan bir güvenilirlik sözleşmesiyle Yöntemler çağırma.</span><span class="sxs-lookup"><span data-stu-id="98036-128">Calling methods with a weak or nonexistent reliability contract.</span></span>  
  
 <span data-ttu-id="98036-129">.NET Framework sürüm 2,0 ' de, bu kısıtlamalar kılavuzlardır.</span><span class="sxs-lookup"><span data-stu-id="98036-129">In the .NET Framework version 2.0, these constraints are guidelines.</span></span> <span data-ttu-id="98036-130">Tanılama, kod analizi araçları aracılığıyla sağlanır.</span><span class="sxs-lookup"><span data-stu-id="98036-130">Diagnostics are provided through code analysis tools.</span></span>  
  
## <a name="reliability-contracts"></a><span data-ttu-id="98036-131">Güvenilirlik sözleşmeleri</span><span class="sxs-lookup"><span data-stu-id="98036-131">Reliability Contracts</span></span>  
 <span data-ttu-id="98036-132">, <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> Güvenilirlik garantilerini ve belirli bir yöntemin bozulma durumunu belgeleyen özel bir özniteliktir.</span><span class="sxs-lookup"><span data-stu-id="98036-132">The <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> is a custom attribute that documents the reliability guarantees and the corruption state of a given method.</span></span>  
  
### <a name="reliability-guarantees"></a><span data-ttu-id="98036-133">Güvenilirlik garantisi</span><span class="sxs-lookup"><span data-stu-id="98036-133">Reliability Guarantees</span></span>  
 <span data-ttu-id="98036-134">Numaralandırma değerlerine göre temsil edilen güvenilirlik garantisi <xref:System.Runtime.ConstrainedExecution.Cer> , belirli bir yöntemin güvenilirlik derecesini belirtir:</span><span class="sxs-lookup"><span data-stu-id="98036-134">Reliability guarantees, represented by <xref:System.Runtime.ConstrainedExecution.Cer> enumeration values, indicate the degree of reliability of a given method:</span></span>  
  
- <span data-ttu-id="98036-135"><xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span><span class="sxs-lookup"><span data-stu-id="98036-135"><xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span></span> <span data-ttu-id="98036-136">Olağanüstü koşullarda, yöntemi başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="98036-136">Under exceptional conditions, the method might fail.</span></span> <span data-ttu-id="98036-137">Bu durumda yöntem, başarılı veya başarısız olsun çağırma yöntemine rapor gönderir.</span><span class="sxs-lookup"><span data-stu-id="98036-137">In this case, the method reports back to the calling method whether it succeeded or failed.</span></span> <span data-ttu-id="98036-138">Dönüş değerini bildirebildiğinden emin olmak için yöntem bir CER içinde bulunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="98036-138">The method must be contained in a CER to ensure that it can report the return value.</span></span>  
  
- <span data-ttu-id="98036-139"><xref:System.Runtime.ConstrainedExecution.Cer.None>.</span><span class="sxs-lookup"><span data-stu-id="98036-139"><xref:System.Runtime.ConstrainedExecution.Cer.None>.</span></span> <span data-ttu-id="98036-140">Yöntem, tür veya derlemenin bir CER kavramı yoktur ve büyük olasılıkla durum bozulması önemli ölçüde azalmadan bir CER içinde çağrı yapmak çok daha güvenli değildir.</span><span class="sxs-lookup"><span data-stu-id="98036-140">The method, type, or assembly has no concept of a CER and is most likely not safe to call within a CER without substantial mitigation from state corruption.</span></span> <span data-ttu-id="98036-141">CER garantisi avantajlarından faydalanır.</span><span class="sxs-lookup"><span data-stu-id="98036-141">It does not take advantage of CER guarantees.</span></span> <span data-ttu-id="98036-142">Bu, aşağıdakileri gösterir:</span><span class="sxs-lookup"><span data-stu-id="98036-142">This implies the following:</span></span>  
  
    1. <span data-ttu-id="98036-143">Olağanüstü koşullarda, yöntemi başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="98036-143">Under exceptional conditions the method might fail.</span></span>  
  
    2. <span data-ttu-id="98036-144">Yöntemi başarısız olmuş olabilir veya rapormayabilir.</span><span class="sxs-lookup"><span data-stu-id="98036-144">The method might or might not report that it failed.</span></span>  
  
    3. <span data-ttu-id="98036-145">Yöntemi, en olası senaryoyu bir CER kullanmak üzere yazılmadı.</span><span class="sxs-lookup"><span data-stu-id="98036-145">The method is not written to use a CER, the most likely scenario.</span></span>  
  
    4. <span data-ttu-id="98036-146">Bir yöntem, tür veya derleme açık bir şekilde başarılı olarak tanımlanmamışsa, örtülü olarak tanımlanır <xref:System.Runtime.ConstrainedExecution.Cer.None> .</span><span class="sxs-lookup"><span data-stu-id="98036-146">If a method, type, or assembly is not explicitly identified to succeed, it is implicitly identified as <xref:System.Runtime.ConstrainedExecution.Cer.None>.</span></span>  
  
- <span data-ttu-id="98036-147"><xref:System.Runtime.ConstrainedExecution.Cer.Success>.</span><span class="sxs-lookup"><span data-stu-id="98036-147"><xref:System.Runtime.ConstrainedExecution.Cer.Success>.</span></span> <span data-ttu-id="98036-148">Olağanüstü koşullarda, yöntemin başarılı olması garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="98036-148">Under exceptional conditions, the method is guaranteed to succeed.</span></span> <span data-ttu-id="98036-149">Bu güvenilirlik düzeyini elde etmek için, CER olmayan bir bölgenin içinden çağrıldığında bile çağrılan yöntemi etrafında her zaman bir CER oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="98036-149">To achieve this level of reliability you should always construct a CER around the method that is called, even when it is called from within a non-CER region.</span></span> <span data-ttu-id="98036-150">Bir yöntem, ne amaçlandığını başarıyorsa başarılı olur, ancak başarı subjecolarak görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="98036-150">A method is successful if it accomplishes what is intended, although success can be viewed subjectively.</span></span> <span data-ttu-id="98036-151">Örneğin, Count `ReliabilityContractAttribute(Cer.Success)` değeri, BIR cer altında çalıştırıldığında, her zaman içindeki öğe sayısının sayısını döndürür <xref:System.Collections.ArrayList> ve iç alanları hiçbir zaman belirlenmemiş bir durumda bırakmaz.</span><span class="sxs-lookup"><span data-stu-id="98036-151">For example, marking Count with `ReliabilityContractAttribute(Cer.Success)` implies that when it is run under a CER, it always returns a count of the number of elements in the <xref:System.Collections.ArrayList> and it can never leave the internal fields in an undetermined state.</span></span>  <span data-ttu-id="98036-152">Ancak, <xref:System.Threading.Interlocked.CompareExchange%2A> Yöntem başarı olarak işaretlenir ve bu da başarıyı anlamak, bir yarış durumu nedeniyle değerin yeni bir değerle değiştirilemedi.</span><span class="sxs-lookup"><span data-stu-id="98036-152">However, the <xref:System.Threading.Interlocked.CompareExchange%2A> method is marked as success as well, with the understanding that success may mean the value could not be replaced with a new value due to a race condition.</span></span>  <span data-ttu-id="98036-153">Anahtar noktası, yöntemin davranışta belgelendiği şekilde davrandığı ve CER kodunun doğru ancak güvenilir olmayan kodun nasıl görüneceğine ilişkin olağandışı davranışları beklemek üzere yazılması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="98036-153">The key point is that the method behaves in the way it is documented to behave, and CER code does not need to be written to expect any unusual behavior beyond what correct but unreliable code would look like.</span></span>  
  
### <a name="corruption-levels"></a><span data-ttu-id="98036-154">Bozulma düzeyleri</span><span class="sxs-lookup"><span data-stu-id="98036-154">Corruption levels</span></span>  
 <span data-ttu-id="98036-155">Sabit listesi değerleriyle temsil edilen bozulma düzeyleri <xref:System.Runtime.ConstrainedExecution.Consistency> , belirli bir ortamda ne kadar durum bozulmuş olabileceğini belirtir:</span><span class="sxs-lookup"><span data-stu-id="98036-155">Corruption levels, represented by <xref:System.Runtime.ConstrainedExecution.Consistency> enumeration values, indicate how much state may be corrupted in a given environment:</span></span>  
  
- <span data-ttu-id="98036-156"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptAppDomain>.</span><span class="sxs-lookup"><span data-stu-id="98036-156"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptAppDomain>.</span></span> <span data-ttu-id="98036-157">Olağanüstü koşullarda, ortak dil çalışma zamanı (CLR) geçerli uygulama etki alanında durum tutarlılığı konusunda hiçbir garanti vermez.</span><span class="sxs-lookup"><span data-stu-id="98036-157">Under exceptional conditions, the common language runtime (CLR) makes no guarantees regarding state consistency in the current application domain.</span></span>  
  
- <span data-ttu-id="98036-158"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptInstance>.</span><span class="sxs-lookup"><span data-stu-id="98036-158"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptInstance>.</span></span> <span data-ttu-id="98036-159">Olağanüstü koşullarda, durum bozulmasını geçerli örnekle sınırlamak için yöntemi garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="98036-159">Under exceptional conditions, the method is guaranteed to limit state corruption to the current instance.</span></span>  
  
- <span data-ttu-id="98036-160"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptProcess>Olağanüstü koşullarda, CLR durum tutarlılığı konusunda garanti vermez; diğer bir deyişle, bu durum işlemi bozmayabilir.</span><span class="sxs-lookup"><span data-stu-id="98036-160"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptProcess>, Under exceptional conditions, the CLR makes no guarantees regarding state consistency; that is, the condition might corrupt the process.</span></span>  
  
- <span data-ttu-id="98036-161"><xref:System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState>.</span><span class="sxs-lookup"><span data-stu-id="98036-161"><xref:System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState>.</span></span> <span data-ttu-id="98036-162">Olağanüstü koşullarda, metodun durumu Bozulmamaları garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="98036-162">Under exceptional conditions, the method is guaranteed not to corrupt state.</span></span>  
  
## <a name="reliability-trycatchfinally"></a><span data-ttu-id="98036-163">Güvenilirlik try/catch/finally</span><span class="sxs-lookup"><span data-stu-id="98036-163">Reliability try/catch/finally</span></span>  
 <span data-ttu-id="98036-164">Güvenilirlik, `try/catch/finally` yönetilmeyen sürümle aynı tahmine dayalı garanti garantisi düzeyine sahip bir özel durum işleme mekanizmasıdır.</span><span class="sxs-lookup"><span data-stu-id="98036-164">The reliability `try/catch/finally` is an exception handling mechanism with the same level of predictability guarantees as the unmanaged version.</span></span> <span data-ttu-id="98036-165">`catch/finally`Blok, cer 'dir.</span><span class="sxs-lookup"><span data-stu-id="98036-165">The `catch/finally` block is the CER.</span></span> <span data-ttu-id="98036-166">Bloktaki yöntemler için ön hazırlık gerekir ve noninterruptible olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="98036-166">Methods in the block require advance preparation and must be noninterruptible.</span></span>  
  
 <span data-ttu-id="98036-167">.NET Framework sürüm 2,0 ' de, kod, bir try bloğundan hemen önce çağırarak çalışma zamanına bir TRY güvenilir olduğunu bildirir <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> .</span><span class="sxs-lookup"><span data-stu-id="98036-167">In the .NET Framework version 2.0, code informs the runtime that a try is reliable by calling <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> immediately preceding a try block.</span></span> <span data-ttu-id="98036-168"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A><xref:System.Runtime.CompilerServices.RuntimeHelpers>, bir derleyici desteği sınıfının üyesidir.</span><span class="sxs-lookup"><span data-stu-id="98036-168"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> is a member of <xref:System.Runtime.CompilerServices.RuntimeHelpers>, a compiler support class.</span></span> <span data-ttu-id="98036-169">Çağrı <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> , derleyiciler aracılığıyla doğrudan kullanılabilirliğini bekliyor.</span><span class="sxs-lookup"><span data-stu-id="98036-169">Call <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> directly pending its availability through compilers.</span></span>  
  
## <a name="noninterruptible-regions"></a><span data-ttu-id="98036-170">Noninterruptible bölgeleri</span><span class="sxs-lookup"><span data-stu-id="98036-170">Noninterruptible Regions</span></span>  
 <span data-ttu-id="98036-171">Bir noninterruptible bölgesi, bir dizi yönergede bir CER öğesine gruplandırır.</span><span class="sxs-lookup"><span data-stu-id="98036-171">A noninterruptible region groups a set of instructions into a CER.</span></span>  
  
 <span data-ttu-id="98036-172">.NET Framework sürüm 2,0 ' de, derleyici desteği aracılığıyla kullanım bekleniyor, Kullanıcı kodu, bir yöntem çağrısının önünde boş bir try/catch bloğu içeren, güvenilir bir try/catch/finally ile kesilebilir olmayan bölgeler oluşturur <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> .</span><span class="sxs-lookup"><span data-stu-id="98036-172">In .NET Framework version 2.0, pending availability through compiler support, user code creates non-interruptible regions with a reliable try/catch/finally that contains an empty try/catch block preceded by a <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> method call.</span></span>  
  
## <a name="critical-finalizer-object"></a><span data-ttu-id="98036-173">Kritik Sonlandırıcı nesnesi</span><span class="sxs-lookup"><span data-stu-id="98036-173">Critical Finalizer Object</span></span>  
 <span data-ttu-id="98036-174"><xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject>Çöp toplamanın sonlandırıcıyı yürütebilmesi güvence altına alınır.</span><span class="sxs-lookup"><span data-stu-id="98036-174">A <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> guarantees that garbage collection will execute the finalizer.</span></span> <span data-ttu-id="98036-175">Ayırma sonrasında Sonlandırıcı ve çağrı grafı önceden hazırlanır.</span><span class="sxs-lookup"><span data-stu-id="98036-175">Upon allocation, the finalizer and its call graph are prepared in advance.</span></span> <span data-ttu-id="98036-176">Sonlandırıcı yöntemi bir CER içinde yürütülür ve CERs ve sonlandırıcılarda tüm kısıtlamalara uymalıdır.</span><span class="sxs-lookup"><span data-stu-id="98036-176">The finalizer method executes in a CER, and must obey all the constraints on CERs and finalizers.</span></span>  
  
 <span data-ttu-id="98036-177">Ve ' den devralan her türlü tür <xref:System.Runtime.InteropServices.SafeHandle> <xref:System.Runtime.InteropServices.CriticalHandle> , bir cer içinde kendi sonlandırıcılarını yürütme garantisi.</span><span class="sxs-lookup"><span data-stu-id="98036-177">Any types inheriting from <xref:System.Runtime.InteropServices.SafeHandle> and <xref:System.Runtime.InteropServices.CriticalHandle> are guaranteed to have their finalizer execute within a CER.</span></span> <span data-ttu-id="98036-178"><xref:System.Runtime.InteropServices.SafeHandle.ReleaseHandle%2A> <xref:System.Runtime.InteropServices.SafeHandle> Tanıtıcıyı serbest bırakmak için gereken herhangi bir kodu yürütmek üzere türetilmiş sınıflarda uygulayın.</span><span class="sxs-lookup"><span data-stu-id="98036-178">Implement <xref:System.Runtime.InteropServices.SafeHandle.ReleaseHandle%2A> in <xref:System.Runtime.InteropServices.SafeHandle> derived classes to execute any code that is required to free the handle.</span></span>  
  
## <a name="code-not-permitted-in-cers"></a><span data-ttu-id="98036-179">CERs içinde koda Izin verilmiyor</span><span class="sxs-lookup"><span data-stu-id="98036-179">Code Not Permitted in CERs</span></span>  
 <span data-ttu-id="98036-180">CERs içinde aşağıdaki işlemlere izin verilmez:</span><span class="sxs-lookup"><span data-stu-id="98036-180">The following operations are not permitted in CERs:</span></span>  
  
- <span data-ttu-id="98036-181">Açık ayırmalar.</span><span class="sxs-lookup"><span data-stu-id="98036-181">Explicit allocations.</span></span>  
  
- <span data-ttu-id="98036-182">Kilit alınıyor.</span><span class="sxs-lookup"><span data-stu-id="98036-182">Acquiring a lock.</span></span>  
  
- <span data-ttu-id="98036-183">Lamak.</span><span class="sxs-lookup"><span data-stu-id="98036-183">Boxing.</span></span>  
  
- <span data-ttu-id="98036-184">Çok boyutlu dizi erişimi.</span><span class="sxs-lookup"><span data-stu-id="98036-184">Multidimensional array access.</span></span>  
  
- <span data-ttu-id="98036-185">Yöntemi yansıma aracılığıyla çağırır.</span><span class="sxs-lookup"><span data-stu-id="98036-185">Method calls through reflection.</span></span>  
  
- <span data-ttu-id="98036-186"><xref:System.Threading.Monitor.Enter%2A> veya <xref:System.IO.FileStream.Lock%2A>.</span><span class="sxs-lookup"><span data-stu-id="98036-186"><xref:System.Threading.Monitor.Enter%2A> or <xref:System.IO.FileStream.Lock%2A>.</span></span>  
  
- <span data-ttu-id="98036-187">Güvenlik denetimleri.</span><span class="sxs-lookup"><span data-stu-id="98036-187">Security checks.</span></span> <span data-ttu-id="98036-188">Talepler gerçekleştirmeyin, yalnızca bağlantı taleplerine ihtiyaç kalmaz.</span><span class="sxs-lookup"><span data-stu-id="98036-188">Do not perform demands, only link demands.</span></span>  
  
- <span data-ttu-id="98036-189"><xref:System.Reflection.Emit.OpCodes.Isinst>ve <xref:System.Reflection.Emit.OpCodes.Castclass> com nesneleri ve proxy 'leri için</span><span class="sxs-lookup"><span data-stu-id="98036-189"><xref:System.Reflection.Emit.OpCodes.Isinst> and <xref:System.Reflection.Emit.OpCodes.Castclass> for COM objects and proxies</span></span>  
  
- <span data-ttu-id="98036-190">Saydam bir ara sunucuda alanlar alma veya ayarlama.</span><span class="sxs-lookup"><span data-stu-id="98036-190">Getting or setting fields on a transparent proxy.</span></span>  
  
- <span data-ttu-id="98036-191">Getir.</span><span class="sxs-lookup"><span data-stu-id="98036-191">Serialization.</span></span>  
  
- <span data-ttu-id="98036-192">İşlev işaretçileri ve temsilciler.</span><span class="sxs-lookup"><span data-stu-id="98036-192">Function pointers and delegates.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="98036-193">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="98036-193">See also</span></span>

- [<span data-ttu-id="98036-194">Güvenilirlik En İyi Yöntemleri</span><span class="sxs-lookup"><span data-stu-id="98036-194">Reliability Best Practices</span></span>](reliability-best-practices.md)
