---
title: Özel akış denetimi etkinlikleri oluşturma
ms.date: 03/30/2017
ms.assetid: 27f409f6-2d1d-4cfb-9765-93eb2ad667d5
ms.openlocfilehash: 92d98d33b10e431248c4c482fcd26f3036c4c330
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96242077"
---
# <a name="creating-custom-flow-control-activities"></a><span data-ttu-id="07696-102">Özel akış denetimi etkinlikleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="07696-102">Creating custom flow control activities</span></span>

<span data-ttu-id="07696-103">.NET Framework, soyut programlama yapılarına (gibi <xref:System.Activities.Statements.Flowchart> ) veya standart programlama ifadelerine (gibi) benzer şekilde işlev gösteren çeşitli akış denetimi etkinlikleri içerir <xref:System.Activities.Statements.If> .</span><span class="sxs-lookup"><span data-stu-id="07696-103">The .NET Framework contains a variety of flow-control activities that function similarly to abstract programming structures (such as <xref:System.Activities.Statements.Flowchart>)   or to standard programming statements (such as <xref:System.Activities.Statements.If>).</span></span> <span data-ttu-id="07696-104">Bu konu, [genel olmayan foreach](./samples/non-generic-foreach.md), örnek projelerden birinin mimarisini açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="07696-104">This topic discusses the architecture of one of the sample projects, [Non-Generic ForEach](./samples/non-generic-foreach.md).</span></span>  
  
## <a name="creating-the-custom-class"></a><span data-ttu-id="07696-105">Özel sınıf oluşturma</span><span class="sxs-lookup"><span data-stu-id="07696-105">Creating the custom class</span></span>  

 <span data-ttu-id="07696-106">Genel olmayan ForEach sınıfının alt etkinlikleri zamanlaması gerektiğinden, öğesinden türettikleri <xref:System.Activities.NativeActivity> Etkinlikler <xref:System.Workflow.Activities.CodeActivity> Bu işlevselliğe sahip olmadığından öğesinden türetilmelidir.</span><span class="sxs-lookup"><span data-stu-id="07696-106">Since the Non-Generic ForEach class will need to schedule child activities, it will need to derive from <xref:System.Activities.NativeActivity>, since activities that derive from <xref:System.Workflow.Activities.CodeActivity> do not have this functionality.</span></span>  
  
```csharp  
public sealed class ForEach : NativeActivity  
{
}
```  
  
 <span data-ttu-id="07696-107">Özel sınıf, etkinlik tarafından kullanılan verileri depolamak ve etkinliğin alt etkinliklerini yürütmek için işlevsellik sağlamak üzere çeşitli Üyeler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="07696-107">The custom class requires several members to store data being used by the activity, and to provide functionality to execute the activity’s child activities.</span></span> <span data-ttu-id="07696-108">Bu Üyeler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="07696-108">These members include:</span></span>  
  
- <span data-ttu-id="07696-109">`valueEnumerator`: <xref:System.Activities.Variable%601> <xref:System.Collections.IEnumerator> Öğe koleksiyonunu yinelemek için kullanılan tür genel olmayan türü.</span><span class="sxs-lookup"><span data-stu-id="07696-109">`valueEnumerator`: The non-public <xref:System.Activities.Variable%601> of type <xref:System.Collections.IEnumerator> used to iterate over the collection of items.</span></span> <span data-ttu-id="07696-110">Bu üye, <xref:System.Activities.Variable%601> Bu nesnenin etkinlik dışında bir kaynağı olması durumunda kullanılacak bir bağımsız değişken veya public özelliği değil, etkinlikte dahili olarak kullanıldığı için türündedir.</span><span class="sxs-lookup"><span data-stu-id="07696-110">This member is of type <xref:System.Activities.Variable%601> because it is used internally in the activity, rather than an argument or public property, which would be used if this object were to have an origin outside the activity.</span></span>  
  
- <span data-ttu-id="07696-111">`OnChildComplete`: <xref:System.Activities.CompletionCallback> Her alt öğe yürütmeyi tamamladığında yürütülen ortak özellik.</span><span class="sxs-lookup"><span data-stu-id="07696-111">`OnChildComplete`: The public <xref:System.Activities.CompletionCallback> property that executes when each child completes execution.</span></span> <span data-ttu-id="07696-112">Bu üye bir CLR özelliği olarak tanımlanır, çünkü değeri etkinliğin farklı örnekleri için değişmeyecektir.</span><span class="sxs-lookup"><span data-stu-id="07696-112">This member is defined as a CLR property, since its value will not change for different instances of the activity.</span></span>  
  
- <span data-ttu-id="07696-113">`Values`: Alt etkinliğin yinelemeleri için kullanılan giriş koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="07696-113">`Values`: The collection of inputs used for the iterations of the child activity.</span></span> <span data-ttu-id="07696-114">Bu üye <xref:System.Activities.InArgument%601> , verilerin kaynağı etkinliğin dışında olduğundan, ancak koleksiyonun içeriklerinin etkinliğin yürütülmesi sırasında değiştirilmesi beklenmediğinden, bu üye türündedir.</span><span class="sxs-lookup"><span data-stu-id="07696-114">This member is of type <xref:System.Activities.InArgument%601>, since the origin of the data is outside the activity, but the contents of the collection is not expected to change during the execution of the activity.</span></span> <span data-ttu-id="07696-115">Etkinlik, etkinlik yürütülürken bu koleksiyonun içeriğini değiştirmek için gereken işlevselliği içeriyorsa (örneğin, etkinlik eklemek veya kaldırmak için), bu üye bir olarak tanımlanır <xref:System.Activities.ActivityAction> ve bu nedenle, değişiklikler etkinlik tarafından kullanılabilir hale gelir.</span><span class="sxs-lookup"><span data-stu-id="07696-115">If the activity needed the functionality to change the contents of this collection while the activity was executing (to add or remove activities, for instance), this member would have been defined as an <xref:System.Activities.ActivityAction>, which then would have been evaluated every time it was accessed, so that changes would be available to the activity.</span></span>  
  
- <span data-ttu-id="07696-116">`Body`: Bu üye koleksiyondaki her öğe için yürütülecek etkinliği tanımlar `Values` .</span><span class="sxs-lookup"><span data-stu-id="07696-116">`Body`: This member defines the activity to be executed for each item in the `Values` collection.</span></span> <span data-ttu-id="07696-117">Bu üye <xref:System.Activities.ActivityAction> , her erişildiği sırada değerlendirilmek üzere bir olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="07696-117">This member is defined as an <xref:System.Activities.ActivityAction> so that it is evaluated every time it is accessed.</span></span>  
  
- <span data-ttu-id="07696-118">`Execute`: Bu yöntem, `InternalExecute` `OnForEachComplete` `GetStateAndExecute` yürütmeyi zamanlamak ve gövde üyesinde tanımlanan alt etkinliğin tamamlanma işleyicisini atamak için, ve ortak olmayan üyeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07696-118">`Execute`: This method uses the `InternalExecute`, `OnForEachComplete`, and `GetStateAndExecute` non-public members to schedule the execution and assign the completion handler of the child activity defined in the Body member.</span></span>  
  
- <span data-ttu-id="07696-119">`CacheMetadata`: Bu üye, etkinliği yürütmek için gereken bilgileri çalışma zamanına sağlar.</span><span class="sxs-lookup"><span data-stu-id="07696-119">`CacheMetadata`: This member provides the runtime with the information it needs to execute the activity.</span></span> <span data-ttu-id="07696-120">Varsayılan olarak, etkinliğin `CacheMetadata` Yöntemi etkinliğin tüm genel üyelerinin çalışma zamanını bilgilendirir, ancak bu etkinlik bazı işlevler için özel Üyeler kullandığından, çalışma zamanının, çalışma zamanının farkında olması için kendi çalışma zamanına bildirmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="07696-120">By default, an activity’s `CacheMetadata` method will inform the runtime of all public members of the activity, but since this activity uses private members for some functionality, it needs to inform the runtime of their existence so that the runtime can be aware of them.</span></span> <span data-ttu-id="07696-121">Bu durumda, `CacheMetadata` özel üyeye erişilebilmesi için işlev geçersiz kılınır `valueEnumerator` .</span><span class="sxs-lookup"><span data-stu-id="07696-121">In this case, the `CacheMetadata` function is overridden so that the private `valueEnumerator` member can be accessed.</span></span> <span data-ttu-id="07696-122">Bu üye, yürütme sırasında etkinliğe geçirilebilmeleri için etkinliğin değerleri için bir bağımsız değişken oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07696-122">This member also creates an argument for the values for the activity so that they can be passed in to the activity during execution.</span></span>
