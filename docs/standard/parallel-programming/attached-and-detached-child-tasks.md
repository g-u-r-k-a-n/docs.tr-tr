---
title: Eklenen ve Ayrılan Alt Görevler
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- tasks, child tasks
ms.assetid: c95788bf-90a6-4e96-b7bc-58e36a228cc5
ms.openlocfilehash: 8f15ee4f136e3e2df1a4e1c7683467f2a4bc9bc0
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "73123180"
---
# <a name="attached-and-detached-child-tasks"></a><span data-ttu-id="b23af-102">Eklenen ve Ayrılan Alt Görevler</span><span class="sxs-lookup"><span data-stu-id="b23af-102">Attached and Detached Child Tasks</span></span>
<span data-ttu-id="b23af-103">Alt *görev* (veya iç içe <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> *görev)* üst *görev*olarak bilinen başka bir görevin kullanıcı temsilcisinde oluşturulan bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="b23af-103">A *child task* (or *nested task*) is a <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> instance that is created in the user delegate of another task, which is known as the *parent task*.</span></span> <span data-ttu-id="b23af-104">Bir alt görev ayrılabilir veya eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-104">A child task can be either detached or attached.</span></span> <span data-ttu-id="b23af-105">*Ayrılmış alt görev,* üst öğesinden bağımsız olarak yürüten bir görevdir.</span><span class="sxs-lookup"><span data-stu-id="b23af-105">A *detached child task* is a task that executes independently of its parent.</span></span> <span data-ttu-id="b23af-106">*Ekli alt görev,* üst öğesi açıkça veya <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> varsayılan olarak eklenmesini yasaklayan seçenekle oluşturulan iç içe yönelik bir görevdir.</span><span class="sxs-lookup"><span data-stu-id="b23af-106">An *attached child task* is a nested task that is created with the <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> option whose parent does not explicitly or by default prohibit it from being attached.</span></span> <span data-ttu-id="b23af-107">Bir görev, yalnızca sistem kaynaklarıyla sınırlı olan, herhangi bir sayıda eklenmiş ve ayrılmış alt görev oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-107">A task may create any number of attached and detached child tasks, limited only by system resources.</span></span>  
  
 <span data-ttu-id="b23af-108">Aşağıdaki tabloda, iki tür alt görev arasındaki temel farklar listelenir.</span><span class="sxs-lookup"><span data-stu-id="b23af-108">The following table lists the basic differences between the two kinds of child tasks.</span></span>  
  
|<span data-ttu-id="b23af-109">Kategori</span><span class="sxs-lookup"><span data-stu-id="b23af-109">Category</span></span>|<span data-ttu-id="b23af-110">Ayrılmış alt görevler</span><span class="sxs-lookup"><span data-stu-id="b23af-110">Detached child tasks</span></span>|<span data-ttu-id="b23af-111">Ekli alt görevler</span><span class="sxs-lookup"><span data-stu-id="b23af-111">Attached child tasks</span></span>|  
|--------------|--------------------------|--------------------------|  
|<span data-ttu-id="b23af-112">Üst öğe alt görevlerin tamamlanmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="b23af-112">Parent waits for child tasks to complete.</span></span>|<span data-ttu-id="b23af-113">Hayır</span><span class="sxs-lookup"><span data-stu-id="b23af-113">No</span></span>|<span data-ttu-id="b23af-114">Evet</span><span class="sxs-lookup"><span data-stu-id="b23af-114">Yes</span></span>|  
|<span data-ttu-id="b23af-115">Üst öğe, alt görevler tarafından atılan özel durumları yayır.</span><span class="sxs-lookup"><span data-stu-id="b23af-115">Parent propagates exceptions thrown by child tasks.</span></span>|<span data-ttu-id="b23af-116">Hayır</span><span class="sxs-lookup"><span data-stu-id="b23af-116">No</span></span>|<span data-ttu-id="b23af-117">Evet</span><span class="sxs-lookup"><span data-stu-id="b23af-117">Yes</span></span>|  
|<span data-ttu-id="b23af-118">Ebeveynin durumu çocuğun durumuna bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="b23af-118">Status of parent depends on status of child.</span></span>|<span data-ttu-id="b23af-119">Hayır</span><span class="sxs-lookup"><span data-stu-id="b23af-119">No</span></span>|<span data-ttu-id="b23af-120">Evet</span><span class="sxs-lookup"><span data-stu-id="b23af-120">Yes</span></span>|  
  
 <span data-ttu-id="b23af-121">Çoğu senaryoda, diğer görevlerle ilişkileri daha az karmaşık olduğundan, ayrılmış alt görevleri kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="b23af-121">In most scenarios, we recommend that you use detached child tasks, because their relationships with other tasks are less complex.</span></span> <span data-ttu-id="b23af-122">Bu nedenle, üst görevler içinde oluşturulan görevler varsayılan olarak ayrılmıştır ve ekli bir alt görev oluşturma <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> seçeneğini açıkça belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b23af-122">That is why tasks created inside parent tasks are detached by default, and you must explicitly specify the <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> option to create an attached child task.</span></span>  
  
## <a name="detached-child-tasks"></a><span data-ttu-id="b23af-123">Ayrılmış alt görevler</span><span class="sxs-lookup"><span data-stu-id="b23af-123">Detached child tasks</span></span>  
 <span data-ttu-id="b23af-124">Bir alt görev bir üst görev tarafından oluşturulsa da, varsayılan olarak üst görevden bağımsızdır.</span><span class="sxs-lookup"><span data-stu-id="b23af-124">Although a child task is created by a parent task, by default it is independent of the parent task.</span></span> <span data-ttu-id="b23af-125">Aşağıdaki örnekte, bir üst görev basit bir alt görev oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b23af-125">In the following example, a parent task creates one simple child task.</span></span> <span data-ttu-id="b23af-126">Örnek kodu birden çok kez çalıştırırsanız, örnekteki çıktının gösterilenden farklı olduğunu ve kodu her çalıştırdığınızda çıktının değişebileceğini fark edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-126">If you run the example code multiple times, you may notice that the output from the example differs from that shown, and also that the output may change each time you run the code.</span></span> <span data-ttu-id="b23af-127">Bu, üst görev ve alt görevlerin birbirinden bağımsız olarak yürütülmesinden oluşur; çocuk müstakil bir görevdir.</span><span class="sxs-lookup"><span data-stu-id="b23af-127">This occurs because the parent task and child tasks execute independently of each other; the child is a detached task.</span></span> <span data-ttu-id="b23af-128">Örnek yalnızca üst görevin tamamlanmasını bekler ve alt görev konsol uygulaması sona ermeden önce yürütülmeyebilir veya tamamlayamayabilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-128">The example waits only for the parent task to complete, and the child task may not execute or complete before the console app terminates.</span></span>  
  
 [!code-csharp[TPL_ChildTasks#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_childtasks/cs/nested1.cs#1)]
 [!code-vb[TPL_ChildTasks#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_childtasks/vb/nested1.vb#1)]  
  
 <span data-ttu-id="b23af-129">Alt görev bir nesne yerine <xref:System.Threading.Tasks.Task%601> bir <xref:System.Threading.Tasks.Task> nesne tarafından temsil edilirse, ana görevin, ayrılmış bir alt <xref:System.Threading.Tasks.Task%601.Result%2A?displayProperty=nameWithType> görev olsa bile çocuğun özelliğine erişerek çocuğun tamamlanmasını bekleyeceğinden emin olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-129">If the child task is represented by a <xref:System.Threading.Tasks.Task%601> object rather than a <xref:System.Threading.Tasks.Task> object, you can ensure that the parent task will wait for the child to complete by accessing the <xref:System.Threading.Tasks.Task%601.Result%2A?displayProperty=nameWithType> property of the child even if it is a detached child task.</span></span> <span data-ttu-id="b23af-130">Aşağıdaki <xref:System.Threading.Tasks.Task%601.Result%2A> örnekte görüldüğü gibi, görevi tamamlanana kadar özellik engeller.</span><span class="sxs-lookup"><span data-stu-id="b23af-130">The <xref:System.Threading.Tasks.Task%601.Result%2A> property blocks until its task completes, as the following example shows.</span></span>  
  
 [!code-csharp[TPL_ChildTasks#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_childtasks/cs/childtasks.cs#4)]
 [!code-vb[TPL_ChildTasks#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_childtasks/vb/tpl_childtasks.vb#4)]  
  
## <a name="attached-child-tasks"></a><span data-ttu-id="b23af-131">Ekli alt görevler</span><span class="sxs-lookup"><span data-stu-id="b23af-131">Attached child tasks</span></span>  
 <span data-ttu-id="b23af-132">Ayrılmış alt görevlerin aksine, eklenen alt görevler üst öğeyle yakından eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="b23af-132">Unlike detached child tasks, attached child tasks are closely synchronized with the parent.</span></span> <span data-ttu-id="b23af-133">Önceki örnekteki ayrılmış alt görevi, aşağıdaki örnekte gösterildiği gibi <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> görev oluşturma deyimindeki seçeneği kullanarak ekli alt görev olarak değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-133">You can change the detached child task in the previous example to an attached child task by using the <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> option in the task creation statement, as shown in the following example.</span></span> <span data-ttu-id="b23af-134">Bu kodda, ekli alt görev üst önce tamamlar.</span><span class="sxs-lookup"><span data-stu-id="b23af-134">In this code, the attached child task completes before its parent.</span></span> <span data-ttu-id="b23af-135">Sonuç olarak, kodu her çalıştırdığınızda örnekteki çıktı aynıdır.</span><span class="sxs-lookup"><span data-stu-id="b23af-135">As a result, the output from the example is the same each time you run the code.</span></span>  
  
 [!code-csharp[TPL_ChildTasks#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_childtasks/cs/child1.cs#2)]
 [!code-vb[TPL_ChildTasks#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_childtasks/vb/child1.vb#2)]  
  
 <span data-ttu-id="b23af-136">Eşzamanlı işlemlerin sıkı bir şekilde senkronize edilmiş grafiklerini oluşturmak için ekli alt görevleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-136">You can use attached child tasks to create tightly synchronized graphs of asynchronous operations.</span></span>  
  
 <span data-ttu-id="b23af-137">Ancak, bir alt görev yalnızca üst öğesi eklenmiş alt görevleri yasaklamazsa, üst öğesine eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-137">However, a child task can attach to its parent only if its parent does not prohibit attached child tasks.</span></span> <span data-ttu-id="b23af-138">Üst görevler, üst görevin sınıf oluşturucusunda <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType> veya yönteminde seçeneği belirterek alt <xref:System.Threading.Tasks.TaskFactory.StartNew%2A?displayProperty=nameWithType> görevlerin bunlara eklenmesini açıkça engelleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-138">Parent tasks can explicitly prevent child tasks from attaching to them by specifying the <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType> option in the parent task's class constructor or the <xref:System.Threading.Tasks.TaskFactory.StartNew%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="b23af-139">Üst görevler, yöntem çağırılarak oluşturulduklarında alt görevlerin bunlara bağlanmasını <xref:System.Threading.Tasks.Task.Run%2A?displayProperty=nameWithType> dolaylı olarak engeller.</span><span class="sxs-lookup"><span data-stu-id="b23af-139">Parent tasks implicitly prevent child tasks from attaching to them if they are created by calling the <xref:System.Threading.Tasks.Task.Run%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="b23af-140">Aşağıdaki örnek bunu göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="b23af-140">The following example illustrates this.</span></span> <span data-ttu-id="b23af-141">Ana görevin <xref:System.Threading.Tasks.Task.Run%28System.Action%29?displayProperty=nameWithType> <xref:System.Threading.Tasks.TaskFactory.StartNew%28System.Action%29?displayProperty=nameWithType> yöntem yerine yöntem çağırılarak oluşturulması dışında, önceki örnekle aynıdır.</span><span class="sxs-lookup"><span data-stu-id="b23af-141">It is identical to the previous example, except that the parent task is created by calling the <xref:System.Threading.Tasks.Task.Run%28System.Action%29?displayProperty=nameWithType> method rather than the <xref:System.Threading.Tasks.TaskFactory.StartNew%28System.Action%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="b23af-142">Alt görev üst öğesine eklenemediğiiçin, örnekten çıktı öngörülemez.</span><span class="sxs-lookup"><span data-stu-id="b23af-142">Because the child task is not able to attach to its parent, the output from the example is unpredictable.</span></span> <span data-ttu-id="b23af-143"><xref:System.Threading.Tasks.Task.Run%2A?displayProperty=nameWithType> Aşırı yüklemeler için varsayılan görev <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType>oluşturma seçenekleri içerdiğinden, bu örnek işlevsel olarak "Ayrılmış alt görevler" bölümündeki ilk örneğe eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="b23af-143">Because the default task creation options for the <xref:System.Threading.Tasks.Task.Run%2A?displayProperty=nameWithType> overloads include <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType>, this example is functionally equivalent to the first example in the "Detached child tasks" section.</span></span>  
  
 [!code-csharp[TPL_ChildTasks#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_childtasks/cs/child1a.cs#3)]
 [!code-vb[TPL_ChildTasks#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_childtasks/vb/child1a.vb#3)]  
  
## <a name="exceptions-in-child-tasks"></a><span data-ttu-id="b23af-144">Alt görevlerdeki özel durumlar</span><span class="sxs-lookup"><span data-stu-id="b23af-144">Exceptions in child tasks</span></span>  
 <span data-ttu-id="b23af-145">Ayrılmış bir alt görev bir özel durum atarsa, bu özel durum iç içe olmayan herhangi bir görevde olduğu gibi doğrudan ana görevde izlenmeli veya işlenmelidir.</span><span class="sxs-lookup"><span data-stu-id="b23af-145">If a detached child task throws an exception, that exception must be observed or handled directly in the parent task just as with any non-nested task.</span></span> <span data-ttu-id="b23af-146">Ekli bir alt görev özel durum atarsa, özel durum otomatik olarak üst göreve yayılır ve görevin <xref:System.Threading.Tasks.Task%601.Result%2A?displayProperty=nameWithType> özelliğini bekleyen veya erişmeye çalışan iş parçacığına geri döner.</span><span class="sxs-lookup"><span data-stu-id="b23af-146">If an attached child task throws an exception, the exception is automatically propagated to the parent task and back to the thread that waits or tries to access the task's <xref:System.Threading.Tasks.Task%601.Result%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="b23af-147">Bu nedenle, ekli alt görevleri kullanarak, arama iş parçacığı için arama <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> nın yalnızca bir noktasında tüm özel durumları işleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-147">Therefore, by using attached child tasks, you can handle all exceptions at just one point in the call to <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> on the calling thread.</span></span> <span data-ttu-id="b23af-148">Daha fazla bilgi için [bkz.](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md)</span><span class="sxs-lookup"><span data-stu-id="b23af-148">For more information, see [Exception Handling](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md).</span></span>  
  
## <a name="cancellation-and-child-tasks"></a><span data-ttu-id="b23af-149">İptal ve alt görevler</span><span class="sxs-lookup"><span data-stu-id="b23af-149">Cancellation and child tasks</span></span>  
 <span data-ttu-id="b23af-150">Görev iptali işbirliğidir.</span><span class="sxs-lookup"><span data-stu-id="b23af-150">Task cancellation is cooperative.</span></span> <span data-ttu-id="b23af-151">Diğer bir gelimi, iptal edilebilmek için, ekli veya ayrılmış her alt görevin iptal jetonunun durumunu izlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b23af-151">That is, to be cancelable, every attached or detached child task must monitor the status of the cancellation token.</span></span> <span data-ttu-id="b23af-152">Bir üst öğeyi ve tüm alt larını bir iptal isteği kullanarak iptal etmek istiyorsanız, tüm görevlere bağımsız değişken olarak aynı belirteci geçer ve her görevde isteğe yanıt verme mantığını sağlarsınız.</span><span class="sxs-lookup"><span data-stu-id="b23af-152">If you want to cancel a parent and all its children by using one cancellation request, you pass the same token as an argument to all tasks and provide in each task the logic to respond to the request in each task.</span></span> <span data-ttu-id="b23af-153">Daha fazla bilgi için görev [iptali](../../../docs/standard/parallel-programming/task-cancellation.md) ve nasıl yapılacağını görmek [için: Bir Görevi ve Çocuklarını İptal Et.](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md)</span><span class="sxs-lookup"><span data-stu-id="b23af-153">For more information, see [Task Cancellation](../../../docs/standard/parallel-programming/task-cancellation.md) and [How to: Cancel a Task and Its Children](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md).</span></span>  
  
### <a name="when-the-parent-cancels"></a><span data-ttu-id="b23af-154">Üst öğe iptal ettiğinde</span><span class="sxs-lookup"><span data-stu-id="b23af-154">When the parent cancels</span></span>  
 <span data-ttu-id="b23af-155">Bir üst öğe, alt görevi başlamadan önce kendisini iptal ederse, alt öğe hiç başlamaz.</span><span class="sxs-lookup"><span data-stu-id="b23af-155">If a parent cancels itself before its child task is started, the child never starts.</span></span> <span data-ttu-id="b23af-156">Bir üst öğe, alt görevi zaten başladıktan sonra kendisini iptal ederse, kendi iptal mantığı yoksa alt öğe tamamlanmak üzere çalışır.</span><span class="sxs-lookup"><span data-stu-id="b23af-156">If a parent cancels itself after its child task has already started, the child runs to completion unless it has its own cancellation logic.</span></span> <span data-ttu-id="b23af-157">Daha fazla bilgi için [Görev İptal'e](../../../docs/standard/parallel-programming/task-cancellation.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="b23af-157">For more information, see [Task Cancellation](../../../docs/standard/parallel-programming/task-cancellation.md).</span></span>  
  
### <a name="when-a-detached-child-task-cancels"></a><span data-ttu-id="b23af-158">Ayrılmış bir alt görev iptal ettiğinde</span><span class="sxs-lookup"><span data-stu-id="b23af-158">When a detached child task cancels</span></span>  
 <span data-ttu-id="b23af-159">Ayrılmış bir alt görev, ebeveyne geçirilen aynı belirteci kullanarak kendisini iptal ederse ve ebeveyn alt görevi beklemezse, özel durum iyi huylu işbirliği iptali olarak kabul edildiğinden, hiçbir istisna yayılır.</span><span class="sxs-lookup"><span data-stu-id="b23af-159">If a detached child task cancels itself by using the same token that was passed to the parent, and the parent does not wait for the child task, no exception is propagated, because the exception is treated as benign cooperation cancellation.</span></span> <span data-ttu-id="b23af-160">Bu davranış, herhangi bir üst düzey görevile aynıdır.</span><span class="sxs-lookup"><span data-stu-id="b23af-160">This behavior is the same as that of any top-level task.</span></span>  
  
### <a name="when-an-attached-child-task-cancels"></a><span data-ttu-id="b23af-161">Ekli bir alt görev iptal ettiğinde</span><span class="sxs-lookup"><span data-stu-id="b23af-161">When an attached child task cancels</span></span>  
 <span data-ttu-id="b23af-162">Ekli bir alt görev, üst görevine geçirilen aynı belirteç kullanılarak kendini <xref:System.Threading.Tasks.TaskCanceledException> iptal ettiğinde, bir <xref:System.AggregateException>' in içindeki birleştirme iş parçacığına yayılır.</span><span class="sxs-lookup"><span data-stu-id="b23af-162">When an attached child task cancels itself by using the same token that was passed to its parent task, a <xref:System.Threading.Tasks.TaskCanceledException> is propagated to the joining thread inside an <xref:System.AggregateException>.</span></span> <span data-ttu-id="b23af-163">Ekli alt görevlerin grafiğinde yayılan tüm hatalı özel durumlara ek olarak tüm iyi huylu özel durumları işleyebilir, böylece üst görevi beklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b23af-163">You must wait for the parent task so that you can handle all benign exceptions in addition to all faulting exceptions that are propagated up through a graph of attached child tasks.</span></span>  
  
 <span data-ttu-id="b23af-164">Daha fazla bilgi için [bkz.](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md)</span><span class="sxs-lookup"><span data-stu-id="b23af-164">For more information, see [Exception Handling](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md).</span></span>  
  
## <a name="preventing-a-child-task-from-attaching-to-its-parent"></a><span data-ttu-id="b23af-165">Alt görevin üst öğesine bağlanmasını engelleme</span><span class="sxs-lookup"><span data-stu-id="b23af-165">Preventing a child task from attaching to its parent</span></span>  
 <span data-ttu-id="b23af-166">Alt görev tarafından atılan işlenmemiş bir özel durum üst göreve yayılır.</span><span class="sxs-lookup"><span data-stu-id="b23af-166">An unhandled exception that is thrown by a child task is propagated to the parent task.</span></span> <span data-ttu-id="b23af-167">Bu davranışı, görev ler ağacını geçmek yerine tek bir kök görevden tüm alt görev özel durumlarını gözlemlemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-167">You can use this behavior to observe all child task exceptions from one root task instead of traversing a tree of tasks.</span></span> <span data-ttu-id="b23af-168">Ancak, bir üst görev diğer kodlardan ek beklemediğinde, özel durum yayılımı sorunlu olabilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-168">However, exception propagation can be problematic when a parent task does not expect attachment from other code.</span></span> <span data-ttu-id="b23af-169">Örneğin, bir <xref:System.Threading.Tasks.Task> nesneden üçüncü taraf kitaplık bileşeni çağıran bir uygulama düşünün.</span><span class="sxs-lookup"><span data-stu-id="b23af-169">For example, consider an app that calls a third-party library component from a <xref:System.Threading.Tasks.Task> object.</span></span> <span data-ttu-id="b23af-170">Üçüncü taraf kitaplık bileşeni de <xref:System.Threading.Tasks.Task> bir nesne oluşturur <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> ve üst göreve eklemek için belirtir, alt görev meydana gelen tüm işlenmemiş özel durumlar üst yayMak.</span><span class="sxs-lookup"><span data-stu-id="b23af-170">If the third-party library component also creates a <xref:System.Threading.Tasks.Task> object and specifies <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> to attach it to the parent task, any unhandled exceptions that occur in the child task propagate to the parent.</span></span> <span data-ttu-id="b23af-171">Bu, ana uygulamada beklenmeyen davranışlara yol açabilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-171">This could lead to unexpected behavior in the main app.</span></span>  
  
 <span data-ttu-id="b23af-172">Alt görevin üst göreve eklenmesini önlemek için, üst <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType> <xref:System.Threading.Tasks.Task> veya <xref:System.Threading.Tasks.Task%601> nesneoluştururken seçeneği belirtin.</span><span class="sxs-lookup"><span data-stu-id="b23af-172">To prevent a child task from attaching to its parent task, specify the <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType> option when you create the parent <xref:System.Threading.Tasks.Task> or <xref:System.Threading.Tasks.Task%601> object.</span></span> <span data-ttu-id="b23af-173">Bir görev üst öğesine iliştirmeye çalıştığında <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType> ve üst öğe seçeneği belirttiğinde, alt görev bir üst öğeye eklenemez ve <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> seçenek belirtilmemiş gibi yürütülür.</span><span class="sxs-lookup"><span data-stu-id="b23af-173">When a task tries to attach to its parent and the parent specifies the <xref:System.Threading.Tasks.TaskCreationOptions.DenyChildAttach?displayProperty=nameWithType> option, the child task will not be able to attach to a parent and will execute just as if the <xref:System.Threading.Tasks.TaskCreationOptions.AttachedToParent?displayProperty=nameWithType> option was not specified.</span></span>  
  
 <span data-ttu-id="b23af-174">Ayrıca, alt görev zamanında bitmediğinde bir alt görevin üst öğesine bağlanmasını da engelleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b23af-174">You might also want to prevent a child task from attaching to its parent when the child task does not finish in a timely manner.</span></span> <span data-ttu-id="b23af-175">Bir üst görev tüm alt görevler bitene kadar bitmedığından, uzun süren bir alt görev genel uygulamanın kötü performans göstermesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="b23af-175">Because a parent task does not finish until all child tasks finish, a long-running child task can cause the overall app to perform poorly.</span></span> <span data-ttu-id="b23af-176">Bir görevin üst görevine eklenmesini engelleyerek uygulama performansını nasıl artırılabildiğini gösteren bir örnek için [bkz.](../../../docs/standard/parallel-programming/how-to-prevent-a-child-task-from-attaching-to-its-parent.md)</span><span class="sxs-lookup"><span data-stu-id="b23af-176">For an example that shows how to improve app performance by preventing a task from attaching to its parent task, see [How to: Prevent a Child Task from Attaching to its Parent](../../../docs/standard/parallel-programming/how-to-prevent-a-child-task-from-attaching-to-its-parent.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b23af-177">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="b23af-177">See also</span></span>

- [<span data-ttu-id="b23af-178">Paralel Programlama</span><span class="sxs-lookup"><span data-stu-id="b23af-178">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)
- [<span data-ttu-id="b23af-179">Veri Paralelliği</span><span class="sxs-lookup"><span data-stu-id="b23af-179">Data Parallelism</span></span>](../../../docs/standard/parallel-programming/data-parallelism-task-parallel-library.md)
