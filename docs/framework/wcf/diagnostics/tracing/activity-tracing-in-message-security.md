---
description: "Daha fazla bilgi edinin: Ileti güvenliği 'nde etkinlik Izleme"
title: İleti Güvenliğinde Etkinlik İzleme
ms.date: 03/30/2017
ms.assetid: 68862534-3b2e-4270-b097-8121b12a2c97
ms.openlocfilehash: 94fb6f60539465dd16e09a968679567e94d6cd24
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99770865"
---
# <a name="activity-tracing-in-message-security"></a><span data-ttu-id="4b484-103">İleti Güvenliğinde Etkinlik İzleme</span><span class="sxs-lookup"><span data-stu-id="4b484-103">Activity Tracing in Message Security</span></span>

<span data-ttu-id="4b484-104">Bu konu, aşağıdaki üç aşamada gerçekleşen güvenlik işleme için Etkinlik izlemeyi açıklar.</span><span class="sxs-lookup"><span data-stu-id="4b484-104">This topic describes activity tracing for security processing, which happens in the following three phases.</span></span>  
  
- <span data-ttu-id="4b484-105">Anlaşma/SCT değişimi.</span><span class="sxs-lookup"><span data-stu-id="4b484-105">Negotiation/SCT exchange.</span></span> <span data-ttu-id="4b484-106">Bu, aktarımda daha sonra (ikili veri değişimi aracılığıyla) veya ileti katmanında (SOAP ileti alışverişi aracılığıyla) oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="4b484-106">This can happen at the transport later (through binary data exchange) or message layer (through SOAP message exchanges).</span></span>  
  
- <span data-ttu-id="4b484-107">İmza doğrulama ve kimlik doğrulama ile ileti şifreleme/şifre çözme.</span><span class="sxs-lookup"><span data-stu-id="4b484-107">Message encryption/decryption, with signature verification and authentication.</span></span> <span data-ttu-id="4b484-108">İzlemeler, genellikle "Işlem eylemi" çevresel etkinlikte görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="4b484-108">Traces appear in the ambient activity, typically "Process Action."</span></span>  
  
- <span data-ttu-id="4b484-109">Yetkilendirme ve doğrulama.</span><span class="sxs-lookup"><span data-stu-id="4b484-109">Authorization and verification.</span></span> <span data-ttu-id="4b484-110">Bu durum yerel olarak veya uç noktalar arasında iletişim kurulurken gerçekleşebilir.</span><span class="sxs-lookup"><span data-stu-id="4b484-110">This can happen locally or when communicating between endpoints.</span></span>  
  
## <a name="negotiationsct-exchange"></a><span data-ttu-id="4b484-111">Anlaşma/SCT değişimi</span><span class="sxs-lookup"><span data-stu-id="4b484-111">Negotiation/SCT exchange</span></span>  

 <span data-ttu-id="4b484-112">Anlaşma/SCT değişim aşamasında, istemcide iki etkinlik türü oluşturulur: "güvenli oturum ayarla" ve "güvenli oturumu Kapat".</span><span class="sxs-lookup"><span data-stu-id="4b484-112">In the negotiation/SCT exchange phase, two activity types are created on the client: "Set up Secure Session" and "Close Secure Session."</span></span> <span data-ttu-id="4b484-113">' Güvenli oturum ayarlama ", RST/RSTR/SCT ileti değişimlerinin izlerini kapsar," güvenli oturumu Kapat ", Iptal iletisi için izlemeleri içerir.</span><span class="sxs-lookup"><span data-stu-id="4b484-113">"Set up Secure Session" encompasses traces for the RST/RSTR/SCT message exchanges, while "Close Secure Session" includes traces for the Cancel message.</span></span>  
  
 <span data-ttu-id="4b484-114">Sunucusunda, RST/RSTR/SCT için her istek/yanıt kendi etkinliğinde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="4b484-114">On the server, each request/reply for the RST/RSTR/SCT appears in its own activity.</span></span> <span data-ttu-id="4b484-115">`propagateActivity` = `true` Hem sunucu hem de istemcide, sunucudaki etkinliklerin kimliği aynı olmalıdır ve hizmet izleme Görüntüleyicisi aracılığıyla görüntülendiğinde "güvenli oturum ayarla" bölümünde birlikte görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="4b484-115">If `propagateActivity`=`true` on both the server and client, activities on the server have the same ID, and appear together in the "Setup Secure Session" when viewed through Service Trace Viewer.</span></span>  
  
 <span data-ttu-id="4b484-116">Bu etkinlik izleme modeli Kullanıcı adı/parola kimlik doğrulaması, sertifika kimlik doğrulaması ve NTLM kimlik doğrulaması için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="4b484-116">This activity tracing model is valid for user name/password authentication, certificate authentication, and NTLM authentication.</span></span>  
  
 <span data-ttu-id="4b484-117">Aşağıdaki tabloda, anlaşma ve SCT alışverişi için etkinlikler ve izlemeler listelenmektedir.</span><span class="sxs-lookup"><span data-stu-id="4b484-117">The following table lists the activities and traces for negotiation and SCT exchange.</span></span>  
  
||<span data-ttu-id="4b484-118">Anlaşmanın/SCT değişiminin meydana geldiğinde geçen süre</span><span class="sxs-lookup"><span data-stu-id="4b484-118">Time when Negotiation/SCT exchange happens</span></span>|<span data-ttu-id="4b484-119">Etkinlikler</span><span class="sxs-lookup"><span data-stu-id="4b484-119">Activities</span></span>|<span data-ttu-id="4b484-120">İzlemeler</span><span class="sxs-lookup"><span data-stu-id="4b484-120">Traces</span></span>|  
|-|-------------------------------------------------|----------------|------------|  
|<span data-ttu-id="4b484-121">Güvenli aktarım</span><span class="sxs-lookup"><span data-stu-id="4b484-121">Secure Transport</span></span><br /><br /> <span data-ttu-id="4b484-122">(HTTPS, SSL)</span><span class="sxs-lookup"><span data-stu-id="4b484-122">(HTTPS, SSL)</span></span>|<span data-ttu-id="4b484-123">Alınan ilk ileti.</span><span class="sxs-lookup"><span data-stu-id="4b484-123">On first message received.</span></span>|<span data-ttu-id="4b484-124">İzlemeler çevresel etkinlikte dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="4b484-124">Traces are emitted in the ambient activity.</span></span>|<span data-ttu-id="4b484-125">-Exchange izlemeleri</span><span class="sxs-lookup"><span data-stu-id="4b484-125">-   Exchange traces</span></span><br /><span data-ttu-id="4b484-126">-Güvenli kanal oluşturuldu</span><span class="sxs-lookup"><span data-stu-id="4b484-126">-   Secure channel established</span></span><br /><span data-ttu-id="4b484-127">-Share gizli dizileri alındı.</span><span class="sxs-lookup"><span data-stu-id="4b484-127">-   Share secrets obtained.</span></span>|  
|<span data-ttu-id="4b484-128">Güvenli Ileti katmanı</span><span class="sxs-lookup"><span data-stu-id="4b484-128">Secure Message Layer</span></span><br /><br /> <span data-ttu-id="4b484-129">(WSHTTP)</span><span class="sxs-lookup"><span data-stu-id="4b484-129">(WSHTTP)</span></span>|<span data-ttu-id="4b484-130">Alınan ilk ileti.</span><span class="sxs-lookup"><span data-stu-id="4b484-130">On first message received.</span></span>|<span data-ttu-id="4b484-131">İstemcide:</span><span class="sxs-lookup"><span data-stu-id="4b484-131">On the client:</span></span><br /><br /> <span data-ttu-id="4b484-132">-RST/RSTR/SCT için her istek/yanıt için, bu ilk iletinin "Işlem eylemi" için "güvenli oturum ayarla" ayarı.</span><span class="sxs-lookup"><span data-stu-id="4b484-132">-   "Setup Secure Session" out of "Process Action" of that first message, for each request/reply for RST/RSTR/SCT.</span></span><br /><span data-ttu-id="4b484-133">-"Proxy 'yi kapat etkinliği" dışında, Exchange Iptal için "güvenli oturumu Kapat".</span><span class="sxs-lookup"><span data-stu-id="4b484-133">-   "Close Secure Session" for the CANCEL exchange, out of the "Close Proxy activity."</span></span> <span data-ttu-id="4b484-134">Bu etkinlik, güvenli oturumun ne zaman kapandığına bağlı olarak diğer bazı çevresel etkinlikten kaynaklanabilir.</span><span class="sxs-lookup"><span data-stu-id="4b484-134">This activity may happen out of some other ambient activity, depending on when the secure session is closed.</span></span><br /><br /> <span data-ttu-id="4b484-135">Sunucusunda:</span><span class="sxs-lookup"><span data-stu-id="4b484-135">On the server:</span></span><br /><br /> <span data-ttu-id="4b484-136">-Sunucu üzerinde RST/SCT/Cancel için her istek/yanıt için bir "Işlem eylemi" etkinliği.</span><span class="sxs-lookup"><span data-stu-id="4b484-136">-   One "Process Action" activity for each request/reply for RST/SCT/Cancel on the server.</span></span> <span data-ttu-id="4b484-137">`propagateActivity` = `true` , RST/RSTR/SCT etkinlikleri "güvenlik oturumu ayarla" ile birleştirilir ve iptal, istemciden "Kapat" etkinliğiyle birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="4b484-137">If `propagateActivity`=`true`, RST/RSTR/SCT activities are merged with "Set up Security Session", and Cancel is merged with the "Close" activity from the client.</span></span><br /><br /> <span data-ttu-id="4b484-138">"Güvenli oturum ayarlama" için iki aşama vardır:</span><span class="sxs-lookup"><span data-stu-id="4b484-138">There are two stages for "Set up Secure Session":</span></span><br /><br /> <span data-ttu-id="4b484-139">1. kimlik doğrulama anlaşması.</span><span class="sxs-lookup"><span data-stu-id="4b484-139">1.  Authentication negotiation.</span></span> <span data-ttu-id="4b484-140">İstemci zaten uygun kimlik bilgilerine sahipse bu isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="4b484-140">This is optional if the client already has the proper credentials.</span></span> <span data-ttu-id="4b484-141">Bu aşama, güvenli aktarım veya ileti alışverişi aracılığıyla yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="4b484-141">This phase can be done through secure transport, or through message exchanges.</span></span> <span data-ttu-id="4b484-142">İkinci durumda, 1 veya 2 RST/RSTR alışverişi meydana gelebilir.</span><span class="sxs-lookup"><span data-stu-id="4b484-142">In the latter case, 1 or 2 RST/RSTR exchanges can happen.</span></span> <span data-ttu-id="4b484-143">Bu alışverişlerde, izlemeler daha önce tasarlandıkları gibi yeni istek/yanıt etkinliklerine dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="4b484-143">For these exchanges, traces are emitted in new request/reply activities as previously designed.</span></span><br /><span data-ttu-id="4b484-144">2. bir RST/RSTR Exchange 'in burada bulunduğu güvenli oturum oluşturma (SCT).</span><span class="sxs-lookup"><span data-stu-id="4b484-144">2.  Secure session establishment (SCT), in which one RST/RSTR exchange happens here.</span></span> <span data-ttu-id="4b484-145">Bu, daha önce açıklandığı gibi aynı çevresel etkinliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="4b484-145">This has the same ambient activities as described previously.</span></span>|<span data-ttu-id="4b484-146">-Exchange izlemeleri</span><span class="sxs-lookup"><span data-stu-id="4b484-146">-   Exchange traces</span></span><br /><span data-ttu-id="4b484-147">-Güvenli kanal oluşturuldu</span><span class="sxs-lookup"><span data-stu-id="4b484-147">-   Secure channel established</span></span><br /><span data-ttu-id="4b484-148">-Share gizli dizileri alındı.</span><span class="sxs-lookup"><span data-stu-id="4b484-148">-   Share secrets obtained.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="4b484-149">Karma güvenlik modunda, anlaşma kimlik doğrulaması ikili değişimlerle yapılır, ancak ileti değişimi 'nde SCT oluşur.</span><span class="sxs-lookup"><span data-stu-id="4b484-149">In mixed security mode, negotiation authentication happens in binary exchanges, but SCT happens in message exchange.</span></span> <span data-ttu-id="4b484-150">Saf Aktarım modunda, anlaşma yalnızca ek etkinlik olmadan aktarımda yapılır.</span><span class="sxs-lookup"><span data-stu-id="4b484-150">In pure transport mode, negotiation happens only in transport with no additional activities.</span></span>  
  
## <a name="message-encryption-and-decryption"></a><span data-ttu-id="4b484-151">İleti şifreleme ve şifre çözme</span><span class="sxs-lookup"><span data-stu-id="4b484-151">Message Encryption and Decryption</span></span>  

 <span data-ttu-id="4b484-152">Aşağıdaki tabloda ileti şifreleme/şifre çözme işlemleri ve imza kimlik doğrulaması için etkinlikler ve izlemeler listelenmektedir.</span><span class="sxs-lookup"><span data-stu-id="4b484-152">The following table lists the activities and traces for message encryption/decryption, as well as signature authentication.</span></span>  
  
||<span data-ttu-id="4b484-153">Güvenli aktarım</span><span class="sxs-lookup"><span data-stu-id="4b484-153">Secure Transport</span></span><br /><br /> <span data-ttu-id="4b484-154">(HTTPS, SSL) ve güvenli Ileti katmanı</span><span class="sxs-lookup"><span data-stu-id="4b484-154">(HTTPS, SSL) and Secure Message Layer</span></span><br /><br /> <span data-ttu-id="4b484-155">(WSHTTP)</span><span class="sxs-lookup"><span data-stu-id="4b484-155">(WSHTTP)</span></span>|  
|-|---------------------------------------------------------------------------------|  
|<span data-ttu-id="4b484-156">İleti şifreleme/şifre çözme işleminin yanı sıra imza kimlik doğrulaması gerçekleştiğinde geçen süre</span><span class="sxs-lookup"><span data-stu-id="4b484-156">Time when message encryption/decryption, as well as signature authentication happens</span></span>|<span data-ttu-id="4b484-157">Alınan ileti</span><span class="sxs-lookup"><span data-stu-id="4b484-157">On message received</span></span>|  
|<span data-ttu-id="4b484-158">Etkinlikler</span><span class="sxs-lookup"><span data-stu-id="4b484-158">Activities</span></span>|<span data-ttu-id="4b484-159">İzlemeler, istemci ve sunucu üzerindeki ProcessAction etkinliğinde yayınlanır.</span><span class="sxs-lookup"><span data-stu-id="4b484-159">Traces are emitted in the ProcessAction activity on the client and server.</span></span>|  
|<span data-ttu-id="4b484-160">İzlemeler</span><span class="sxs-lookup"><span data-stu-id="4b484-160">Traces</span></span>|<span data-ttu-id="4b484-161">-sendSecurityHeader (Gönderen):</span><span class="sxs-lookup"><span data-stu-id="4b484-161">-   sendSecurityHeader (sender):</span></span><br /><span data-ttu-id="4b484-162">-İletiyi imzala</span><span class="sxs-lookup"><span data-stu-id="4b484-162">-   Sign message</span></span><br /><span data-ttu-id="4b484-163">-İstek verilerini şifreleyin</span><span class="sxs-lookup"><span data-stu-id="4b484-163">-   Encrypt request data</span></span><br /><span data-ttu-id="4b484-164">-receiveSecurityHeader (alıcı):</span><span class="sxs-lookup"><span data-stu-id="4b484-164">-   receiveSecurityHeader (receiver):</span></span><br /><span data-ttu-id="4b484-165">-İmzayı Doğrula</span><span class="sxs-lookup"><span data-stu-id="4b484-165">-   Verify signature</span></span><br /><span data-ttu-id="4b484-166">-Yanıt verilerinin şifresini çözün</span><span class="sxs-lookup"><span data-stu-id="4b484-166">-   Decrypt response data</span></span><br /><span data-ttu-id="4b484-167">-Kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="4b484-167">-   Authentication</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="4b484-168">Saf Aktarım modunda, ileti şifreleme/şifre çözme yalnızca ek etkinlik olmadan aktarımda olur.</span><span class="sxs-lookup"><span data-stu-id="4b484-168">In pure transport mode, message encryption/decryption happens only in transport with no additional activities.</span></span>  
  
## <a name="authorization-and-verification"></a><span data-ttu-id="4b484-169">Yetkilendirme ve doğrulama</span><span class="sxs-lookup"><span data-stu-id="4b484-169">Authorization and Verification</span></span>  

 <span data-ttu-id="4b484-170">Aşağıdaki tabloda yetkilendirme için etkinlikler ve izlemeler listelenmektedir.</span><span class="sxs-lookup"><span data-stu-id="4b484-170">The following table lists the activities and traces for authorization.</span></span>  
  
||<span data-ttu-id="4b484-171">Yetkilendirme gerçekleştiğinde geçen süre</span><span class="sxs-lookup"><span data-stu-id="4b484-171">Time when authorization happens</span></span>|<span data-ttu-id="4b484-172">Etkinlikler</span><span class="sxs-lookup"><span data-stu-id="4b484-172">Activities</span></span>|<span data-ttu-id="4b484-173">İzlemeler</span><span class="sxs-lookup"><span data-stu-id="4b484-173">Traces</span></span>|  
|-|-------------------------------------|----------------|------------|  
|<span data-ttu-id="4b484-174">Yerel (varsayılan)</span><span class="sxs-lookup"><span data-stu-id="4b484-174">Local (default)</span></span>|<span data-ttu-id="4b484-175">İletinin şifresi sunucuda çözülür</span><span class="sxs-lookup"><span data-stu-id="4b484-175">After the message is decrypted on the server</span></span>|<span data-ttu-id="4b484-176">İzlemeler, sunucudaki ProcessAction etkinliğinde dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="4b484-176">Traces are emitted in the ProcessAction activity at the server.</span></span>|<span data-ttu-id="4b484-177">Kullanıcı yetkilendirildi.</span><span class="sxs-lookup"><span data-stu-id="4b484-177">User authorized.</span></span>|  
|<span data-ttu-id="4b484-178">Uzak</span><span class="sxs-lookup"><span data-stu-id="4b484-178">Remote</span></span>|<span data-ttu-id="4b484-179">İletinin şifresi sunucuda çözülür</span><span class="sxs-lookup"><span data-stu-id="4b484-179">After the message is decrypted on the server</span></span>|<span data-ttu-id="4b484-180">İzlemeler, ProcessAction etkinliği tarafından çağrılan yeni bir etkinlikte yayınlanır.</span><span class="sxs-lookup"><span data-stu-id="4b484-180">Traces are emitted in a new activity invoked by the ProcessAction activity.</span></span>|<span data-ttu-id="4b484-181">Kullanıcı yetkilendirildi.</span><span class="sxs-lookup"><span data-stu-id="4b484-181">User authorized.</span></span>|
