---
title: anahtar ifadesi - C# başvurusu
description: Desen eşleştirme ve diğer veri içgözlemleri için C# anahtarı ifadesini nasıl kullanacağınızı öğrenin
ms.date: 03/19/2020
ms.openlocfilehash: 9e609bcea0f92f492b5f9b07840e47f75c1b71e4
ms.sourcegitcommit: 99b153b93bf94d0fecf7c7bcecb58ac424dfa47c
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/25/2020
ms.locfileid: "80249790"
---
# <a name="switch-expression-c-reference"></a><span data-ttu-id="ac9cf-103">anahtar ifadesi (C# başvurusu)</span><span class="sxs-lookup"><span data-stu-id="ac9cf-103">switch expression (C# reference)</span></span>

<span data-ttu-id="ac9cf-104">Bu makale, `switch` C# 8.0'da tanıtılan ifadeyi kapsar.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-104">This article covers the `switch` expression, introduced in C# 8.0.</span></span> <span data-ttu-id="ac9cf-105">İfade yle `switch` ilgili bilgi [için, deyimler](../keywords/index.md) bölümündeki [ `switch` ifadeyle](../keywords/switch.md) ilgili makaleye bakın.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-105">For information on the `switch` statement, see the article on the [`switch` statement](../keywords/switch.md) in the [statements](../keywords/index.md) section.</span></span>

## <a name="basic-example"></a><span data-ttu-id="ac9cf-106">Temel örnek</span><span class="sxs-lookup"><span data-stu-id="ac9cf-106">Basic example</span></span>

<span data-ttu-id="ac9cf-107">İfade, `switch` bir `switch`ifade bağlamında -benzeri anlambilimsağlar.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-107">The `switch` expression provides for `switch`-like semantics in an expression context.</span></span> <span data-ttu-id="ac9cf-108">Anahtar kolları bir değer ürettiğinde kısa bir sözdizimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-108">It provides a concise syntax when the switch arms produce a value.</span></span> <span data-ttu-id="ac9cf-109">Aşağıdaki örnekte bir anahtar ifadesinin yapısı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-109">The following example shows the structure of a switch expression.</span></span> <span data-ttu-id="ac9cf-110">Çevrimiçi haritada temsil `enum` eden görsel yönlerden ilgili kardinal istikametine değerleri çevirir:</span><span class="sxs-lookup"><span data-stu-id="ac9cf-110">It translates values from an `enum` representing visual directions in an online map to the corresponding cardinal direction:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetBasicStructure":::

<span data-ttu-id="ac9cf-111">Önceki örnek, bir anahtar ifadesinin temel öğelerini gösterir:</span><span class="sxs-lookup"><span data-stu-id="ac9cf-111">The preceding sample shows the basic elements of a switch expression:</span></span>

- <span data-ttu-id="ac9cf-112">*Aralık ifadesi*: Önceki örnek, `direction` aralık ifadesi olarak değişkeni kullanır.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-112">The *range expression*: The preceding example uses the variable `direction` as the range expression.</span></span>
- <span data-ttu-id="ac9cf-113">*Anahtar ifade kolları*: Her anahtar ifade kolu bir *desen,* isteğe bağlı *bir servis talebi koruma,* `=>` belirteç ve bir *ifade*içerir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-113">The *switch expression arms*: Each switch expression arm contains a *pattern*, an optional *case guard*, the `=>` token, and an *expression*.</span></span>

<span data-ttu-id="ac9cf-114">*Anahtar ifadesinin* sonucu, *desen* *aralık ifadesiyle* eşleşen ve *neden koruma*alanı , varsa `true`, değerlenen ilk anahtar ifade *kolunun* ifadesinin değeridir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-114">The result of the *switch expression* is the value of the expression of the first *switch expression arm* whose *pattern* matches the *range expression* and whose *cause guard*, if present, evaluates to `true`.</span></span> <span data-ttu-id="ac9cf-115">Belirteç `=>` sağdaki *ifade* bir ifade deyimi olamaz.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-115">The *expression* on the right of the `=>` token can't be an expression statement.</span></span>

<span data-ttu-id="ac9cf-116">*Anahtar ifade kolları* metin sırasına göre değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-116">The *switch expression arms* are evaluated in text order.</span></span> <span data-ttu-id="ac9cf-117">Derleyici, daha yüksek bir *anahtar ifade kolu* tüm değerleriyle eşleştiğinden, daha düşük bir anahtar ifade *kolu* seçilemediği zaman bir hata verir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-117">The compiler issues an error when a lower *switch expression arm* can't be chosen because a higher *switch expression arm* matches all its values.</span></span>

## <a name="patterns-and-case-guards"></a><span data-ttu-id="ac9cf-118">Desenler ve dava korumaları</span><span class="sxs-lookup"><span data-stu-id="ac9cf-118">Patterns and case guards</span></span>

<span data-ttu-id="ac9cf-119">Anahtar ifade kollarında birçok desen desteklenir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-119">Many patterns are supported in switch expression arms.</span></span> <span data-ttu-id="ac9cf-120">Önceki örnekte bir *değer deseni*kullanılmıştır.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-120">The preceding example used a *value pattern*.</span></span> <span data-ttu-id="ac9cf-121">*Değer deseni,* aralık ifadesini bir değerle karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-121">A *value pattern* compares the range expression to a value.</span></span> <span data-ttu-id="ac9cf-122">Bu değer derleme zaman sabiti olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-122">That value must be a compile time constant.</span></span> <span data-ttu-id="ac9cf-123">*Tür deseni,* aralık ifadesini bilinen bir türle karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-123">The *type pattern* compares the range expression to a known type.</span></span> <span data-ttu-id="ac9cf-124">Aşağıdaki örnek, bir diziden üçüncü öğeyi alır.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-124">The following example retrieves the third element from a sequence.</span></span> <span data-ttu-id="ac9cf-125">Sıranın türüne göre farklı yöntemler kullanır:</span><span class="sxs-lookup"><span data-stu-id="ac9cf-125">It uses different methods based on the type of the sequence:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetTypePattern":::

<span data-ttu-id="ac9cf-126">Desenler özyinelemeli olabilir, burada bir desen bir türü sınar ve bu tür eşleşirse, desen aralık ifadesinde bir veya daha fazla özellik değerleriyle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-126">Patterns can be recursive, where a pattern tests a type, and if that type matches, the pattern matches one or more property values on the range expression.</span></span> <span data-ttu-id="ac9cf-127">Önceki örneği genişletmek için özyinelemeli desenler kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-127">You can use recursive patterns to extend the preceding example.</span></span> <span data-ttu-id="ac9cf-128">3'ten az öğeye sahip diziler için geçiş ifade kolları eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-128">You add switch expression arms for arrays that have fewer than 3 elements.</span></span> <span data-ttu-id="ac9cf-129">Özyinelemeli desenler aşağıdaki örnekte gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="ac9cf-129">Recursive patterns are shown in the following example:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetRecursivePattern":::

<span data-ttu-id="ac9cf-130">Özyinelemeli desenler aralık ifadesinin özelliklerini inceleyebilir, ancak rasgele kod yürütemez.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-130">Recursive patterns can examine properties of the range expression, but can't execute arbitrary code.</span></span> <span data-ttu-id="ac9cf-131">Diğer sıra *case guard*türleri için benzer `when` denetimler sağlamak için bir yan tümcede belirtilen bir servis talebi koruması kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="ac9cf-131">You can use a *case guard*, specified in a `when` clause, to provide similar checks for other sequence types:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetGuardCase":::

<span data-ttu-id="ac9cf-132">Son olarak, başka `_` bir `null` anahtar ifade kolu tarafından işlenmemiş bağımsız değişkenleri yakalamak için desen ve desen ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-132">Finally, you can add the `_` pattern and the `null` pattern to catch arguments that aren't processed by any other switch expression arm.</span></span> <span data-ttu-id="ac9cf-133">Bu, anahtar ifadesini *kapsamlı*yapar, yani aralık ifadesinin olası herhangi bir değeri işlenir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-133">That makes the switch expression *exhaustive*, meaning any possible value of the range expression is handled.</span></span> <span data-ttu-id="ac9cf-134">Aşağıdaki örnek, bu ifade silah ekler:</span><span class="sxs-lookup"><span data-stu-id="ac9cf-134">The following example adds those expression arms:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetExhaustive":::

<span data-ttu-id="ac9cf-135">Önceki örnek bir `null` desen ekler ve `IEnumerable<T>` tür deseni bir `_` desen değiştirir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-135">The preceding example adds a `null` pattern, and changes the `IEnumerable<T>` type pattern to a `_` pattern.</span></span> <span data-ttu-id="ac9cf-136">Desen, `null` anahtar ifade kolu olarak null denetimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-136">The `null` pattern provides a null check as a switch expression arm.</span></span> <span data-ttu-id="ac9cf-137">Bu kol için ifade <xref:System.ArgumentNullException>bir atar .</span><span class="sxs-lookup"><span data-stu-id="ac9cf-137">The expression for that arm throws an <xref:System.ArgumentNullException>.</span></span> <span data-ttu-id="ac9cf-138">Desen, `_` önceki kollarla eşleşmemiş tüm girişler ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-138">The `_` pattern matches all inputs that haven't been matched by previous arms.</span></span> <span data-ttu-id="ac9cf-139">Çekten `null` sonra gelmesi gerekir, yoksa `null` girişleri eşleşir.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-139">It must come after the `null` check, or it would match `null` inputs.</span></span>

<span data-ttu-id="ac9cf-140">[Özyinelemeli desenler](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression)için C# dil spec önerisi daha fazla okuyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-140">You can read more in the C# language spec proposal for [recursive patterns](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span></span>

## <a name="see-also"></a><span data-ttu-id="ac9cf-141">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="ac9cf-141">See also</span></span>

- [<span data-ttu-id="ac9cf-142">C# başvurusu</span><span class="sxs-lookup"><span data-stu-id="ac9cf-142">C# reference</span></span>](../index.md)
- [<span data-ttu-id="ac9cf-143">C# işleçleri</span><span class="sxs-lookup"><span data-stu-id="ac9cf-143">C# operators</span></span>](index.md)
- [<span data-ttu-id="ac9cf-144">Desen eşleştirme</span><span class="sxs-lookup"><span data-stu-id="ac9cf-144">Pattern matching</span></span>](../../pattern-matching.md)
