---
title: macOS Catalina Noterizasyonu ile çalışma
description: .NET Core çalışma zamanı, SDK ve .NET Core ile oluşturulmuş uygulamaları yüklerken macOS ile noterizasyon ve sertifika sorunları nasıl işlenir.
author: thraka
ms.author: adegeo
ms.date: 02/14/2020
ms.openlocfilehash: be39c1ea56699f84736a2b37bc958507b16e826b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "79146755"
---
# <a name="macos-catalina-notarization-and-the-impact-on-net-core-downloads-and-projects"></a><span data-ttu-id="e6eb7-103">macOS Catalina Noterizasyon ve .NET Core indirme ve projeleri üzerindeki etkisi</span><span class="sxs-lookup"><span data-stu-id="e6eb7-103">macOS Catalina Notarization and the impact on .NET Core downloads and projects</span></span>

<span data-ttu-id="e6eb7-104">MACOS Catalina (sürüm 10.15) ile başlayarak, 1 Haziran 2019'dan sonra üretilen ve Geliştirici Kimliği ile dağıtılan tüm yazılımların noter tasdikli olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-104">Beginning with macOS Catalina (version 10.15), all software built after June 1, 2019, and distributed with Developer ID, must be notarized.</span></span> <span data-ttu-id="e6eb7-105">Bu gereksinim .NET Core çalışma zamanı, .NET Core SDK ve .NET Core ile oluşturulan yazılımlar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-105">This requirement applies to the .NET Core runtime, .NET Core SDK, and software created with .NET Core.</span></span> <span data-ttu-id="e6eb7-106">Bu makalede, .NET Core ve macOS noterizasyonu ile karşılaşabileceğiniz yaygın senaryolar açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-106">This article describes the common scenarios you may face with .NET Core and macOS notarization.</span></span>

## <a name="installing-net-core"></a><span data-ttu-id="e6eb7-107">.NET Core kurulumu</span><span class="sxs-lookup"><span data-stu-id="e6eb7-107">Installing .NET Core</span></span>

<span data-ttu-id="e6eb7-108">.NET Core (hem çalışma süresi hem de SDK) 3.1, 3.0 ve 2.1 sürümlerinin yükleyicileri 18 Şubat 2020'den beri noter olarak noterolarak verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-108">The installers for .NET Core (both runtime and SDK) versions 3.1, 3.0, and 2.1, have been notarized since February 18, 2020.</span></span> <span data-ttu-id="e6eb7-109">Önceki sürümler noter onaylı değildir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-109">Prior released versions aren't notarized.</span></span> <span data-ttu-id="e6eb7-110">Önce yükleyiciyi indirip sonra komutu `sudo installer` kullanarak .NET Core'un noter onaylı olmayan bir sürümünü el ile yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-110">You can manually install a non-notarized version of .NET Core by first downloading the installer, and then using the `sudo installer` command.</span></span> <span data-ttu-id="e6eb7-111">Daha fazla bilgi için [macOS için İndir ve el ile yükleyin'](sdk.md?pivots=os-macos#download-and-manually-install)e bakın.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-111">For more information, see [Download and manually install for macOS](sdk.md?pivots=os-macos#download-and-manually-install).</span></span>

<span data-ttu-id="e6eb7-112">Aşağıdaki sürümlerden başlayarak,.NET Core yükleyiciler noter tasdiklidir:</span><span class="sxs-lookup"><span data-stu-id="e6eb7-112">Beginning with the following versions, the .NET Core installers are notarized:</span></span>

- <span data-ttu-id="e6eb7-113">.NET Core Runtime</span><span class="sxs-lookup"><span data-stu-id="e6eb7-113">.NET Core Runtime</span></span>
  - <span data-ttu-id="e6eb7-114">2.1.16</span><span class="sxs-lookup"><span data-stu-id="e6eb7-114">2.1.16</span></span>
  - <span data-ttu-id="e6eb7-115">3.0.3</span><span class="sxs-lookup"><span data-stu-id="e6eb7-115">3.0.3</span></span>
  - <span data-ttu-id="e6eb7-116">3.1.2</span><span class="sxs-lookup"><span data-stu-id="e6eb7-116">3.1.2</span></span>

- <span data-ttu-id="e6eb7-117">.NET Core SDK</span><span class="sxs-lookup"><span data-stu-id="e6eb7-117">.NET Core SDK</span></span>
  - <span data-ttu-id="e6eb7-118">2.1.512</span><span class="sxs-lookup"><span data-stu-id="e6eb7-118">2.1.512</span></span>
  - <span data-ttu-id="e6eb7-119">3.0.103</span><span class="sxs-lookup"><span data-stu-id="e6eb7-119">3.0.103</span></span>
  - <span data-ttu-id="e6eb7-120">3.1.102</span><span class="sxs-lookup"><span data-stu-id="e6eb7-120">3.1.102</span></span>

## <a name="apphost-is-disabled-by-default"></a><span data-ttu-id="e6eb7-121">appHost varsayılan olarak devre dışı bırakılır</span><span class="sxs-lookup"><span data-stu-id="e6eb7-121">appHost is disabled by default</span></span>

<span data-ttu-id="e6eb7-122">Varsayılan olarak, .NET Core SDK 3.0 ve üzeri noter onaylı olmayan sürümleri, projeniz derlendiğinde, yayımladığında veya çalıştırıldığında yerel bir Mach-O çalıştırılabilir **(appHost**olarak da bilinir) üretir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-122">By default, non-notarized versions of the .NET Core SDK 3.0 and above produce a native Mach-O executable (known as the **appHost**) when your project compiles, publishes, or is run.</span></span> <span data-ttu-id="e6eb7-123">Bu yürütülebilir uygulamanızı çalıştırmak için kullanışlı bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-123">This executable is a convenient way to run your app.</span></span> <span data-ttu-id="e6eb7-124">Aksi takdirde, uygulamanız çalıştırılarak `dotnet <filename.dll>`başlatılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-124">Otherwise, your app must be started by running `dotnet <filename.dll>`.</span></span> <span data-ttu-id="e6eb7-125">appHost etkinleştirildiğinde, `dotnet run` komut appHost bağlamında çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-125">When the appHost is enabled, the `dotnet run` command is invoked in the context of the appHost.</span></span> <span data-ttu-id="e6eb7-126">Daha fazla bilgi için [appHost Bağlamı'na](#context-of-the-apphost)bakın.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-126">For more information, see [Context of the appHost](#context-of-the-apphost).</span></span>

<span data-ttu-id="e6eb7-127">.NET Core SDK 3.0 ve üzeri noter onaylı sürümlerden başlayarak, appHost çalıştırılabilir varsayılan olarak oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-127">Starting with the notarized versions of the .NET Core SDK 3.0 and above, the appHost executable isn't generated by default.</span></span> <span data-ttu-id="e6eb7-128">Proje dosyasındaki [`UseAppHost`](../project-sdk/msbuild-props.md#useapphost) boolean ayarı ile appHost oluşturma açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-128">You can turn on appHost generation with the [`UseAppHost`](../project-sdk/msbuild-props.md#useapphost) boolean setting in the project file.</span></span> <span data-ttu-id="e6eb7-129">Ayrıca, çalıştırdığınız belirli `-p:UseAppHost` `dotnet` komut için komut satırında parametre ile appHost geçiş yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="e6eb7-129">You can also toggle the appHost with the `-p:UseAppHost` parameter on the command line for the specific `dotnet` command you run:</span></span>

- <span data-ttu-id="e6eb7-130">Proje dosyası</span><span class="sxs-lookup"><span data-stu-id="e6eb7-130">Project file</span></span>

  ```xml
  <PropertyGroup>
    <UseAppHost>true</UseAppHost>
  </PropertyGroup>
  ```

- <span data-ttu-id="e6eb7-131">Komut satırı parametresi</span><span class="sxs-lookup"><span data-stu-id="e6eb7-131">Command-line parameter</span></span>

  ```dotnetcli
  dotnet run -p:UseAppHost=true
  ```

<span data-ttu-id="e6eb7-132">Uygulamanızı [bağımsız](../deploying/index.md#publish-self-contained)olarak yayımladığınızda her zaman bir appHost oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-132">An appHost is always created when you publish your app [self-contained](../deploying/index.md#publish-self-contained).</span></span>

<span data-ttu-id="e6eb7-133">`UseAppHost` Ayar hakkında daha fazla bilgi için [Microsoft.NET.Sdk için MSBuild özelliklerine](../project-sdk/msbuild-props.md#useapphost)bakın.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-133">For more information about the `UseAppHost` setting, see [MSBuild properties for Microsoft.NET.Sdk](../project-sdk/msbuild-props.md#useapphost).</span></span>

### <a name="context-of-the-apphost"></a><span data-ttu-id="e6eb7-134">appHost bağlamı</span><span class="sxs-lookup"><span data-stu-id="e6eb7-134">Context of the appHost</span></span>

<span data-ttu-id="e6eb7-135">Projenizde appHost etkinleştirildiğinde ve uygulamanızı `dotnet run` çalıştırmak için komutu kullandığınızda, uygulama varsayılan ana bilgisayar (varsayılan ana bilgisayar `dotnet` komutudur) değil, appHost bağlamında çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-135">When the appHost is enabled in your project, and you use the `dotnet run` command to run your app, the app is invoked in the context of the appHost and not the default host (the default host is the `dotnet` command).</span></span> <span data-ttu-id="e6eb7-136">AppHost projenizde devre dışı bırakılırsa, `dotnet run` komut varsayılan ana bilgisayar bağlamında uygulamanızı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-136">If the appHost is disabled in your project, the `dotnet run` command runs your app in the context of the default host.</span></span> <span data-ttu-id="e6eb7-137">appHost devre dışı bırakılmış olsa bile, uygulamanızı bağımsız olarak yayımlamak yürütülebilir bir appHost oluşturur ve kullanıcılar uygulamanızı çalıştırmak için bu yürütülebilir kullanır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-137">Even if the appHost is disabled, publishing your app as self-contained generates an appHost executable, and users use that executable to run your app.</span></span> <span data-ttu-id="e6eb7-138">Uygulamanızı varsayılan `dotnet <filename.dll>` ana bilgisayar, paylaşılan çalışma süresi ile çağırır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-138">Running your app with `dotnet <filename.dll>` invokes the app with the default host, the shared runtime.</span></span>

<span data-ttu-id="e6eb7-139">appHost'u kullanan bir uygulama çağrıldığında, uygulama tarafından erişilen sertifika bölümü noter onaylı varsayılan ana bilgisayardan farklıdır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-139">When an app using the appHost is invoked, the certificate partition accessed by the app is different from the notarized default host.</span></span> <span data-ttu-id="e6eb7-140">Uygulamanızın varsayılan ana bilgisayar aracılığıyla yüklenen sertifikalara erişmesi gerekiyorsa, uygulamanızı proje dosyasından çalıştırmak için `dotnet run` komutu kullanın veya uygulamayı doğrudan başlatmak için komutu `dotnet <filename.dll>` kullanın.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-140">If your app must access the certificates installed through the default host, use the `dotnet run` command to run your app from its project file, or use the `dotnet <filename.dll>` command to start the app directly.</span></span>

<span data-ttu-id="e6eb7-141">Bu senaryo hakkında daha fazla bilgi [ASP.NET Core ve macOS ve sertifikalar](#aspnet-core-and-macos-and-certificates) bölümünde sağlanır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-141">More information about this scenario is provided in the [ASP.NET Core and macOS and certificates](#aspnet-core-and-macos-and-certificates) section.</span></span>

## <a name="aspnet-core-and-macos-and-certificates"></a><span data-ttu-id="e6eb7-142">ASP.NET Core ve macOS ve sertifikalar</span><span class="sxs-lookup"><span data-stu-id="e6eb7-142">ASP.NET Core and macOS and certificates</span></span>

<span data-ttu-id="e6eb7-143">.NET Core, macOS Anahtarzinciri'ndeki sertifikaları <xref:System.Security.Cryptography.X509Certificates> sınıfla birlikte yönetme olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-143">.NET Core provides the ability to manage certificates in the macOS Keychain with the <xref:System.Security.Cryptography.X509Certificates> class.</span></span> <span data-ttu-id="e6eb7-144">macOS Anahtar zincirine erişim, hangi bölümün göz önünde bulundurulacağına karar verirken uygulama kimliğini birincil anahtar olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-144">Access to the macOS Keychain uses the applications identity as the primary key when deciding which partition to consider.</span></span> <span data-ttu-id="e6eb7-145">Örneğin, imzasız uygulamalar gizli bölümleri depolar, ancak imzalı uygulamalar sırlarını yalnızca erişebilecekleri bölümlerde saklar.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-145">For example, unsigned applications store secrets in the unsigned partition, but signed applications store their secrets in partitions only they can access.</span></span> <span data-ttu-id="e6eb7-146">Uygulamanızı çağıran yürütme kaynağı, hangi bölümün kullanılacağına karar verir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-146">The source of execution that invokes your app decides which partition to use.</span></span>

<span data-ttu-id="e6eb7-147">.NET Core üç yürütme kaynağı sağlar: [appHost,](#apphost-is-disabled-by-default)varsayılan ana bilgisayar `dotnet` (komut) ve özel bir ana bilgisayar.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-147">.NET Core provides three sources of execution: [appHost](#apphost-is-disabled-by-default), default host (the `dotnet` command), and a custom host.</span></span> <span data-ttu-id="e6eb7-148">Her yürütme modeli, imzalı veya imzasız farklı kimliklere sahip olabilir ve Anahtarzinciri içindeki farklı bölümlere erişebilir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-148">Each execution model may have different identities, either signed or unsigned, and has access to different partitions within the Keychain.</span></span> <span data-ttu-id="e6eb7-149">Bir mod tarafından alınan sertifikalara başka bir moddan erişilemeyebilir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-149">Certificates imported by one mode may not be accessible from another.</span></span> <span data-ttu-id="e6eb7-150">Örneğin, .NET Core'un noter onaylı sürümlerinde imzalanmış varsayılan bir ana bilgisayar vardır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-150">For example, the notarized versions of .NET Core have a default host that is signed.</span></span> <span data-ttu-id="e6eb7-151">Sertifikalar, kimliğine göre güvenli bir bölüme aktarılır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-151">Certificates are imported into a secure partition based on its identity.</span></span> <span data-ttu-id="e6eb7-152">AppHost imzasız olduğundan, bu sertifikalara oluşturulan bir appHost'tan erişilemez.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-152">These certificates aren't accessible from a generated appHost, as the appHost is unsigned.</span></span>

<span data-ttu-id="e6eb7-153">Başka bir örnek, varsayılan olarak, ASP.NET Core varsayılan ana bilgisayar aracılığıyla varsayılan bir SSL sertifikası alır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-153">Another example, by default, ASP.NET Core imports a default SSL certificate through the default host.</span></span> <span data-ttu-id="e6eb7-154">ASP.NET AppHost kullanan Çekirdek uygulamaları bu sertifikaya erişemez ve .NET Core sertifikaya erişilemediğini algıladığında bir hata alır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-154">ASP.NET Core applications that use an appHost won't have access to this certificate and will receive an error when .NET Core detects the certificate isn't accessible.</span></span> <span data-ttu-id="e6eb7-155">Hata iletisi, bu sorunun nasıl düzeltilene ilişkin yönergeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-155">The error message provides instructions on how to fix this problem.</span></span>

<span data-ttu-id="e6eb7-156">Sertifika paylaşımı gerekiyorsa, macOS `security` yardımcı programla yapılandırma seçenekleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-156">If certificate sharing is required, macOS provides configuration options with the `security` utility.</span></span>

<span data-ttu-id="e6eb7-157">ASP.NET Core sertifika sorunlarıyla ilgili daha fazla bilgi için ASP.NET [Core'da HTTPS'yi zorla'ya](/aspnet/core/security/enforcing-ssl?view=aspnetcore-3.1&tabs=visual-studio#troubleshoot-certificate-problems)bakın.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-157">For more information on how to troubleshoot ASP.NET Core certificate issues, see [Enforce HTTPS in ASP.NET Core](/aspnet/core/security/enforcing-ssl?view=aspnetcore-3.1&tabs=visual-studio#troubleshoot-certificate-problems).</span></span>

## <a name="default-entitlements"></a><span data-ttu-id="e6eb7-158">Varsayılan haklar</span><span class="sxs-lookup"><span data-stu-id="e6eb7-158">Default entitlements</span></span>

<span data-ttu-id="e6eb7-159">.NET Core'un varsayılan `dotnet` ana bilgisayarı (komut) varsayılan yetkilendirmeler kümesine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-159">.NET Core’s default host (the `dotnet` command) has a set of default entitlements.</span></span> <span data-ttu-id="e6eb7-160">Bu haklar .NET Core'un düzgün çalışması için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-160">These entitlements are required for proper operation of .NET Core.</span></span> <span data-ttu-id="e6eb7-161">Uygulamanızın ek haklara ihtiyacı olabilir, bu durumda bir [appHost](#apphost-is-disabled-by-default) oluşturmanız ve kullanmanız ve gerekli yetkileri yerel olarak eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-161">It's possible that your application may need additional entitlements, in which case you'll need to generate and use an [appHost](#apphost-is-disabled-by-default) and then add the necessary entitlements locally.</span></span>

<span data-ttu-id="e6eb7-162">.NET Core için varsayılan yetkilendirme kümesi:</span><span class="sxs-lookup"><span data-stu-id="e6eb7-162">Default set of entitlements for .NET Core:</span></span>

- `com.apple.security.cs.allow-jit`
- `com.apple.security.cs.allow-unsigned-executable-memory`
- `com.apple.security.cs.allow-dyld-environment-variables`
- `com.apple.security.cs.disable-library-validation`

## <a name="notarize-a-net-core-app"></a><span data-ttu-id="e6eb7-163">Notarize bir .NET Core uygulaması</span><span class="sxs-lookup"><span data-stu-id="e6eb7-163">Notarize a .NET Core app</span></span>

<span data-ttu-id="e6eb7-164">Uygulamanızın macOS Catalina (sürüm 10.15) veya daha yüksek bir sürümde çalışmasını istiyorsanız, uygulamanızı notarize etmek istersiniz.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-164">If you want your application to run on macOS Catalina (version 10.15) or higher, you'll want to notarize your app.</span></span> <span data-ttu-id="e6eb7-165">Noterleştirme için başvurunuzla birlikte gönderdiğiniz appHost en azından .NET Core için aynı [varsayılan haklarla](#default-entitlements) kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="e6eb7-165">The appHost you submit with your application for notarization should be used with at least the same [default entitlements](#default-entitlements) for .NET Core.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e6eb7-166">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="e6eb7-166">Next steps</span></span>

- <span data-ttu-id="e6eb7-167">[.NET Temel bağımlılıklar ve gereksinimler.](dependencies.md)</span><span class="sxs-lookup"><span data-stu-id="e6eb7-167">[.NET Core dependencies and requirements](dependencies.md).</span></span>
- <span data-ttu-id="e6eb7-168">[.NET Çekirdek SDK'yı yükleyin.](sdk.md)</span><span class="sxs-lookup"><span data-stu-id="e6eb7-168">[Install the .NET Core SDK](sdk.md).</span></span>
- [<span data-ttu-id="e6eb7-169">.NET Çekirdek Çalışma Süresini Yükleyin</span><span class="sxs-lookup"><span data-stu-id="e6eb7-169">Install the .NET Core Runtime</span></span>](runtime.md)
