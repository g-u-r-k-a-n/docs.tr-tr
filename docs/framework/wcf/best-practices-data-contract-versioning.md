---
title: 'En İyi Yöntemler: Veri Sözleşmesi Sürümü Oluşturma'
ms.date: 03/30/2017
helpviewer_keywords:
- data contracts
- service contracts
- best practices [WCF], data contract versioning
- Windows Communication Foundation, data contracts
ms.assetid: bf0ab338-4d36-4e12-8002-8ebfdeb346cb
ms.openlocfilehash: d6a1eef949e30a1a6d9a1c5971d33c788cc548b9
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96277913"
---
# <a name="best-practices-data-contract-versioning"></a><span data-ttu-id="217a6-102">En İyi Yöntemler: Veri Sözleşmesi Sürümü Oluşturma</span><span class="sxs-lookup"><span data-stu-id="217a6-102">Best Practices: Data Contract Versioning</span></span>

<span data-ttu-id="217a6-103">Bu konuda, zaman içinde kolayca gelişelebilen veri sözleşmeleri oluşturmak için en iyi yöntemler listelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="217a6-103">This topic lists the best practices for creating data contracts that can evolve easily over time.</span></span> <span data-ttu-id="217a6-104">Veri sözleşmeleri hakkında daha fazla bilgi için bkz. [veri sözleşmeleri kullanma](./feature-details/using-data-contracts.md)konuları.</span><span class="sxs-lookup"><span data-stu-id="217a6-104">For more information about data contracts, see the topics in [Using Data Contracts](./feature-details/using-data-contracts.md).</span></span>  
  
## <a name="note-on-schema-validation"></a><span data-ttu-id="217a6-105">Şema doğrulamasında göz önünde</span><span class="sxs-lookup"><span data-stu-id="217a6-105">Note on Schema Validation</span></span>  

 <span data-ttu-id="217a6-106">Veri anlaşması sürümü oluşturma bölümünde, Windows Communication Foundation (WCF) tarafından dışarıya alınan veri sözleşmesi şemasının, öğelerin varsayılan olarak isteğe bağlı olarak işaretlenmesinden başka bir sürüm desteği olmadığından emin olmanız önemlidir.</span><span class="sxs-lookup"><span data-stu-id="217a6-106">In discussing data contract versioning, it is important to note that the data contract schema exported by Windows Communication Foundation (WCF) does not have any versioning support, other than the fact that elements are marked as optional by default.</span></span>  
  
 <span data-ttu-id="217a6-107">Bu, yeni bir veri üyesi ekleme gibi en yaygın sürüm oluşturma senaryosunun belirli bir şemaya göre sorunsuz şekilde uygulanamamasıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-107">This means that even the most common versioning scenario, such as adding a new data member, cannot be implemented in a way that is seamless with regard to a given schema.</span></span> <span data-ttu-id="217a6-108">Bir veri sözleşmesinin daha yeni sürümleri (örneğin, yeni bir veri üyesi ile) eski şemayı kullanarak doğrulamaz.</span><span class="sxs-lookup"><span data-stu-id="217a6-108">The newer versions of a data contract (with a new data member, for example) do not validate using the old schema.</span></span>  
  
 <span data-ttu-id="217a6-109">Ancak, kesin şema uyumluluğuna gerek duyulmayan birçok senaryo vardır.</span><span class="sxs-lookup"><span data-stu-id="217a6-109">However, there are many scenarios in which strict schema compliance is not required.</span></span> <span data-ttu-id="217a6-110">ASP.NET kullanılarak oluşturulan WCF ve XML Web Hizmetleri gibi birçok Web hizmeti platformu, varsayılan olarak şema doğrulaması gerçekleştirmez ve bu nedenle şema tarafından açıklanmayan ek öğeleri kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="217a6-110">Many Web services platforms, including WCF and XML Web services created using ASP.NET, do not perform schema validation by default and therefore tolerate extra elements that are not described by the schema.</span></span> <span data-ttu-id="217a6-111">Bu tür platformlar ile çalışırken birçok sürüm oluşturma senaryosunun uygulanması daha kolay olur.</span><span class="sxs-lookup"><span data-stu-id="217a6-111">When working with such platforms, many versioning scenarios are easier to implement.</span></span>  
  
 <span data-ttu-id="217a6-112">Bu nedenle, iki veri anlaşması oluşturma kılavuzu kümesi vardır: katı şema geçerliliği önemli olan senaryolar için bir küme ve ne zaman olmadığında farklı senaryolar için bir küme.</span><span class="sxs-lookup"><span data-stu-id="217a6-112">Thus, there are two sets of data contract versioning guidelines: one set for scenarios where strict schema validity is important, and another set for scenarios when it is not.</span></span>  
  
## <a name="versioning-when-schema-validation-is-required"></a><span data-ttu-id="217a6-113">Şema doğrulaması gerektiğinde sürüm oluşturma</span><span class="sxs-lookup"><span data-stu-id="217a6-113">Versioning When Schema Validation Is Required</span></span>  

 <span data-ttu-id="217a6-114">Tüm yönlerdeki kesin şema geçerliliği gerekliyse (yeni-eski ve eski-yeni) veri sözleşmeleri sabit kabul edilmelidir.</span><span class="sxs-lookup"><span data-stu-id="217a6-114">If strict schema validity is required in all directions (new-to-old and old-to-new), data contracts should be considered immutable.</span></span> <span data-ttu-id="217a6-115">Sürüm oluşturma gerekliyse, farklı bir ad veya ad alanı ile yeni bir veri sözleşmesinin oluşturulması gerekir ve veri türünü kullanan hizmet sözleşmesinin sürümü buna uygun olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-115">If versioning is required, a new data contract should be created, with a different name or namespace, and the service contract using the data type should be versioned accordingly.</span></span>  
  
 <span data-ttu-id="217a6-116">Örneğin, bir işlemle adlandırılmış bir satın alma siparişi işleme hizmeti sözleşmesi, bir `PoProcessing` `PostPurchaseOrder` veri sözleşmesine uygun bir parametre alır `PurchaseOrder` .</span><span class="sxs-lookup"><span data-stu-id="217a6-116">For example, a purchase order processing service contract named `PoProcessing` with a `PostPurchaseOrder` operation takes a parameter that conforms to a `PurchaseOrder` data contract.</span></span> <span data-ttu-id="217a6-117">`PurchaseOrder`Sözleşmenin değiştirilmesi gerekiyorsa, bu değişiklikler dahil olmak üzere yeni bir veri sözleşmesi oluşturmanız gerekir `PurchaseOrder2` .</span><span class="sxs-lookup"><span data-stu-id="217a6-117">If the `PurchaseOrder` contract has to change, you must create a new data contract, that is, `PurchaseOrder2`, which includes the changes.</span></span> <span data-ttu-id="217a6-118">Daha sonra hizmet sözleşmesi düzeyinde sürüm oluşturmayı işlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="217a6-118">You must then handle the versioning at the service contract level.</span></span> <span data-ttu-id="217a6-119">Örneğin, `PostPurchaseOrder2` parametresini alan bir işlem oluşturarak `PurchaseOrder2` veya `PoProcessing2` `PostPurchaseOrder` işlemin bir veri sözleşmesi aldığı bir hizmet sözleşmesi oluşturarak `PurchaseOrder2` .</span><span class="sxs-lookup"><span data-stu-id="217a6-119">For example, by creating a `PostPurchaseOrder2` operation that takes the `PurchaseOrder2` parameter, or by creating a `PoProcessing2` service contract where the `PostPurchaseOrder` operation takes a `PurchaseOrder2` data contract.</span></span>  
  
 <span data-ttu-id="217a6-120">Diğer veri sözleşmeleri tarafından başvurulan veri sözleşmeleri değişikliklerinin de hizmet modeli katmanına genişlediğine unutmayın.</span><span class="sxs-lookup"><span data-stu-id="217a6-120">Note that changes in data contracts that are referenced by other data contracts also extend to the service model layer.</span></span> <span data-ttu-id="217a6-121">Örneğin, önceki senaryoda `PurchaseOrder` veri sözleşmesinin değiştirilmesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="217a6-121">For example, in the previous scenario the `PurchaseOrder` data contract does not need to change.</span></span> <span data-ttu-id="217a6-122">Ancak, veri sözleşmesinin bir veri üyesini içerir ve bu da `Customer` değiştirilmesi gereken veri sözleşmesinin bir veri üyesini içerir `Address` .</span><span class="sxs-lookup"><span data-stu-id="217a6-122">However, it contains a data member of a `Customer` data contract, which in turn contained a data member of the `Address` data contract, which does need to be changed.</span></span> <span data-ttu-id="217a6-123">Bu durumda, `Address2` gerekli değişikliklerle, veri `Customer2` üyesini içeren bir veri sözleşmesine `Address2` ve `PurchaseOrder2` `Customer2` veri üyesini içeren bir veri sözleşmesine sahip bir veri sözleşmesi oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="217a6-123">In that case, you would need to create an `Address2` data contract with the required changes, a `Customer2` data contract that contains the `Address2` data member, and a `PurchaseOrder2` data contract that contains a `Customer2` data member.</span></span> <span data-ttu-id="217a6-124">Önceki durumda olduğu gibi, hizmet sözleşmesinin da sürümü oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="217a6-124">As in the previous case, the service contract would have to be versioned as well.</span></span>  
  
 <span data-ttu-id="217a6-125">Bu örneklerin adları değiştirilse de (bir "2" eklenerek), bir sürüm numarası veya tarih ile yeni ad alanları ekleyerek adlar yerine ad alanlarını değiştirmelerdir.</span><span class="sxs-lookup"><span data-stu-id="217a6-125">Although in these examples names are changed (by appending a "2"), the recommendation is to change namespaces instead of names by appending new namespaces with a version number or a date.</span></span> <span data-ttu-id="217a6-126">Örneğin, `http://schemas.contoso.com/2005/05/21/PurchaseOrder` veri sözleşmesi `http://schemas.contoso.com/2005/10/14/PurchaseOrder` veri sözleşmesine değişir.</span><span class="sxs-lookup"><span data-stu-id="217a6-126">For example, the `http://schemas.contoso.com/2005/05/21/PurchaseOrder` data contract would change to the `http://schemas.contoso.com/2005/10/14/PurchaseOrder` data contract.</span></span>  
  
 <span data-ttu-id="217a6-127">Daha fazla bilgi için bkz. En Iyi uygulamalar: [hizmet sürümü oluşturma](service-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="217a6-127">For more information, see Best Practices: [Service Versioning](service-versioning.md).</span></span>  
  
 <span data-ttu-id="217a6-128">Bazen, uygulamanız tarafından gönderilen iletiler için katı şema uyumluluğunu güvence altına almanız gerekir, ancak gelen iletilere tamamen şemaya uyumlu olacak şekilde güvenemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="217a6-128">Occasionally, you must guarantee strict schema compliance for messages sent by your application, but cannot rely on the incoming messages to be strictly schema-compliant.</span></span> <span data-ttu-id="217a6-129">Bu durumda, gelen bir iletinin gereksiz veriler içerebileceğini belirten bir tehlike vardır.</span><span class="sxs-lookup"><span data-stu-id="217a6-129">In this case, there is a danger that an incoming message might contain extraneous data.</span></span> <span data-ttu-id="217a6-130">Gereksiz değerler WCF tarafından depolanır ve döndürülür ve bu nedenle, şemaya geçersiz iletiler gönderilmesine neden olur.</span><span class="sxs-lookup"><span data-stu-id="217a6-130">The extraneous values are stored and returned by WCF and thus results in schema-invalid messages being sent.</span></span> <span data-ttu-id="217a6-131">Bu sorundan kaçınmak için, gidiş-dönüşü özelliğinin kapalı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="217a6-131">To avoid this problem, the round-tripping feature should be turned off.</span></span> <span data-ttu-id="217a6-132">Bunu yapmanın iki yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="217a6-132">There are two ways to do this.</span></span>  
  
- <span data-ttu-id="217a6-133"><xref:System.Runtime.Serialization.IExtensibleDataObject>Arabirimini herhangi bir türünden uygulamayın.</span><span class="sxs-lookup"><span data-stu-id="217a6-133">Do not implement the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface on any of your types.</span></span>  
  
- <span data-ttu-id="217a6-134"><xref:System.ServiceModel.ServiceBehaviorAttribute>Özelliği olarak ayarlanmış olan hizmet sözleşmeniz için bir öznitelik uygulayın <xref:System.ServiceModel.ServiceBehaviorAttribute.IgnoreExtensionDataObject%2A> `true` .</span><span class="sxs-lookup"><span data-stu-id="217a6-134">Apply a <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute to your service contract with the <xref:System.ServiceModel.ServiceBehaviorAttribute.IgnoreExtensionDataObject%2A> property set to `true`.</span></span>  
  
 <span data-ttu-id="217a6-135">Gidiş dönüşü hakkında daha fazla bilgi için bkz. [Forward-uyumlu veri sözleşmeleri](./feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="217a6-135">For more information about round-tripping, see [Forward-Compatible Data Contracts](./feature-details/forward-compatible-data-contracts.md).</span></span>  
  
## <a name="versioning-when-schema-validation-is-not-required"></a><span data-ttu-id="217a6-136">Şema doğrulaması gerekli olmadığında sürüm oluşturma</span><span class="sxs-lookup"><span data-stu-id="217a6-136">Versioning When Schema Validation Is Not Required</span></span>  

 <span data-ttu-id="217a6-137">Katı şema uyumluluğu nadiren gereklidir.</span><span class="sxs-lookup"><span data-stu-id="217a6-137">Strict schema compliance is rarely required.</span></span> <span data-ttu-id="217a6-138">Birçok platform, bir şema tarafından açıklanmayan ek öğelere tolerans.</span><span class="sxs-lookup"><span data-stu-id="217a6-138">Many platforms tolerate extra elements not described by a schema.</span></span> <span data-ttu-id="217a6-139">Bu toleranslı olduğu sürece, [veri anlaşması sürümü oluşturma](./feature-details/data-contract-versioning.md) ve [Ileri uyumlu veri sözleşmeleri](./feature-details/forward-compatible-data-contracts.md) ' nde açıklanan özelliklerin tam kümesi kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-139">As long as this is tolerated, the full set of features described in [Data Contract Versioning](./feature-details/data-contract-versioning.md) and [Forward-Compatible Data Contracts](./feature-details/forward-compatible-data-contracts.md) can be used.</span></span> <span data-ttu-id="217a6-140">Aşağıdaki kılavuzlar önerilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-140">The following guidelines are recommended.</span></span>  
  
 <span data-ttu-id="217a6-141">Daha eski bir türün beklenildiği bir türün yeni sürümlerini gönderebilmesi veya yeni bir tane beklendiğinde eski bir tane gönderilmesi için bazı yönergelerin tam olarak izlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="217a6-141">Some of the guidelines must be followed exactly in order to send new versions of a type where an older one is expected or send an old one where the new one is expected.</span></span> <span data-ttu-id="217a6-142">Diğer yönergeler kesinlikle gerekli değildir, ancak şema sürümü oluşturma işleminden etkilenmedikleri için burada listelenir.</span><span class="sxs-lookup"><span data-stu-id="217a6-142">Other guidelines are not strictly required, but are listed here because they may be affected by the future of schema versioning.</span></span>  
  
1. <span data-ttu-id="217a6-143">Veri Sözleşmelerini tür devralmayla aynı sürüme denemeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-143">Do not attempt to version data contracts by type inheritance.</span></span> <span data-ttu-id="217a6-144">Sonraki sürümler oluşturmak için, mevcut bir türdeki veri sözleşmesini değiştirin veya yeni bir ilişkisiz tür oluşturun.</span><span class="sxs-lookup"><span data-stu-id="217a6-144">To create later versions, either change the data contract on an existing type or create a new unrelated type.</span></span>  
  
2. <span data-ttu-id="217a6-145">Devralma bir sürüm oluşturma mekanizması olarak kullanılmadığından ve belirli kuralların izlendiði için, veri sözleşmeleri ile birlikte devralma kullanılmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-145">The use of inheritance together with data contracts is allowed, provided that inheritance is not used as a versioning mechanism and that certain rules are followed.</span></span> <span data-ttu-id="217a6-146">Bir tür belirli bir temel türden türetildiğinden, daha sonraki bir sürümde (aynı veri sözleşmesine sahip olmadığı takdirde) farklı bir temel türden türemez.</span><span class="sxs-lookup"><span data-stu-id="217a6-146">If a type derives from a certain base type, do not make it derive from a different base type in a future version (unless it has the same data contract).</span></span> <span data-ttu-id="217a6-147">Bunun için bir özel durum vardır: bir veri anlaşması türü ve temel türü arasında hiyerarşiye bir tür ekleyebilirsiniz, ancak bu, hiyerarşideki diğer türlerin olası sürümlerindeki diğer üyelerle aynı ada sahip veri üyeleri içermiyorsa.</span><span class="sxs-lookup"><span data-stu-id="217a6-147">There is one exception to this: you can insert a type into the hierarchy between a data contract type and its base type, but only if it does not contain data members with the same names as other members in any possible versions of the other types in the hierarchy.</span></span> <span data-ttu-id="217a6-148">Genel olarak, aynı ada sahip veri üyelerini aynı devralma hiyerarşisinin farklı düzeylerinde kullanmak önemli sürüm sorunlarına yol açabilir ve kaçınılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-148">In general, using data members with the same names at different levels of the same inheritance hierarchy can lead to serious versioning problems and should be avoided.</span></span>  
  
3. <span data-ttu-id="217a6-149">Bir veri sözleşmesinin ilk sürümünden itibaren, her zaman <xref:System.Runtime.Serialization.IExtensibleDataObject> gidiş-dönüşü etkinleştirmek için uygulamasını uygulayın.</span><span class="sxs-lookup"><span data-stu-id="217a6-149">Starting with the first version of a data contract, always implement <xref:System.Runtime.Serialization.IExtensibleDataObject> to enable round-tripping.</span></span> <span data-ttu-id="217a6-150">Daha fazla bilgi için bkz. [Ileri uyumlu veri sözleşmeleri](./feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="217a6-150">For more information, see [Forward-Compatible Data Contracts](./feature-details/forward-compatible-data-contracts.md).</span></span> <span data-ttu-id="217a6-151">Bu arabirimi uygulamadan bir veya daha fazla tür sürümü yayımladıysanız, bunu türün bir sonraki sürümünde uygulayın.</span><span class="sxs-lookup"><span data-stu-id="217a6-151">If you have released one or more versions of a type without implementing this interface, implement it in the next version of the type.</span></span>  
  
4. <span data-ttu-id="217a6-152">Sonraki sürümlerde, veri sözleşmesi adını veya ad alanını değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-152">In later versions, do not change the data contract name or namespace.</span></span> <span data-ttu-id="217a6-153">Veri sözleşmesini temel alan türün adını veya ad alanını değiştiriyorsanız, özelliği gibi uygun mekanizmaları kullanarak veri sözleşmesi adını ve ad alanını koruduğunuzdan emin olun <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> <xref:System.Runtime.Serialization.DataContractAttribute> .</span><span class="sxs-lookup"><span data-stu-id="217a6-153">If changing the name or namespace of the type underlying the data contract, be sure to preserve the data contract name and namespace by using the appropriate mechanisms, such as the <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> property of the <xref:System.Runtime.Serialization.DataContractAttribute>.</span></span> <span data-ttu-id="217a6-154">Adlandırma hakkında daha fazla bilgi için bkz. [veri sözleşmesi adları](./feature-details/data-contract-names.md).</span><span class="sxs-lookup"><span data-stu-id="217a6-154">For more information about naming, see [Data Contract Names](./feature-details/data-contract-names.md).</span></span>  
  
5. <span data-ttu-id="217a6-155">Sonraki sürümlerde, herhangi bir veri üyesinin adlarını değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-155">In later versions, do not change the names of any data members.</span></span> <span data-ttu-id="217a6-156">Veri üyesini temel alan alanın, özelliğin veya olayın adını değiştiriyorsanız, `Name` <xref:System.Runtime.Serialization.DataMemberAttribute> var olan veri üyesi adını korumak için öğesinin özelliğini kullanın.</span><span class="sxs-lookup"><span data-stu-id="217a6-156">If changing the name of the field, property, or event underlying the data member, use the `Name` property of the <xref:System.Runtime.Serialization.DataMemberAttribute> to preserve the existing data member name.</span></span>  
  
6. <span data-ttu-id="217a6-157">Sonraki sürümlerde, bir veri üyesini temel alan herhangi bir alanın, özelliğin veya olayın türünü, bu veri üyesine yönelik sonuç veri sözleşmesinin değiştiği şekilde değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-157">In later versions, do not change the type of any field, property, or event underlying a data member such that the resulting data contract for that data member changes.</span></span> <span data-ttu-id="217a6-158">Beklenen veri sözleşmesinin belirlenmesi amacıyla arabirim türlerinin ile eşdeğer olduğunu aklınızda bulundurun <xref:System.Object> .</span><span class="sxs-lookup"><span data-stu-id="217a6-158">Keep in mind that interface types are equivalent to <xref:System.Object> for the purposes of determining the expected data contract.</span></span>  
  
7. <span data-ttu-id="217a6-159">Sonraki sürümlerde, özniteliğinin özelliğini ayarlayarak mevcut veri üyelerinin sırasını değiştirmeyin <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> <xref:System.Runtime.Serialization.DataMemberAttribute> .</span><span class="sxs-lookup"><span data-stu-id="217a6-159">In later versions, do not change the order of the existing data members by adjusting the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute.</span></span>  
  
8. <span data-ttu-id="217a6-160">Sonraki sürümlerde yeni veri üyeleri eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-160">In later versions, new data members can be added.</span></span> <span data-ttu-id="217a6-161">Her zaman bu kurallara uymalıdır:</span><span class="sxs-lookup"><span data-stu-id="217a6-161">They should always follow these rules:</span></span>  
  
    1. <span data-ttu-id="217a6-162"><xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A>Özelliği her zaman varsayılan değerinde bırakılmalıdır `false` .</span><span class="sxs-lookup"><span data-stu-id="217a6-162">The <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property should always be left at its default value of `false`.</span></span>  
  
    2. <span data-ttu-id="217a6-163">`null`Üye için varsayılan değeri veya sıfır kabul edilemez ise, <xref:System.Runtime.Serialization.OnDeserializingAttribute> üyenin gelen akışta olmaması durumunda mantıklı bir varsayılan sağlamak için kullanılarak bir geri çağırma yöntemi sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-163">If a default value of `null` or zero for the member is unacceptable, a callback method should be provided using the <xref:System.Runtime.Serialization.OnDeserializingAttribute> to provide a reasonable default in case the member is not present in the incoming stream.</span></span> <span data-ttu-id="217a6-164">Geri çağırma hakkında daha fazla bilgi için bkz. [Sürüm dayanıklı serileştirme geri çağırmaları](./feature-details/version-tolerant-serialization-callbacks.md).</span><span class="sxs-lookup"><span data-stu-id="217a6-164">For more information about the callback, see [Version-Tolerant Serialization Callbacks](./feature-details/version-tolerant-serialization-callbacks.md).</span></span>  
  
    3. <span data-ttu-id="217a6-165"><xref:System.Runtime.Serialization.DataMemberAttribute.Order?displayProperty=nameWithType>Özelliği, yeni eklenen veri üyelerinin tümünün mevcut veri üyelerinden sonra göründüğünden emin olmak için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-165">The <xref:System.Runtime.Serialization.DataMemberAttribute.Order?displayProperty=nameWithType> property should be used to make sure that all of the newly added data members appear after the existing data members.</span></span> <span data-ttu-id="217a6-166">Bunu yapmanın önerilen yolu aşağıdaki gibidir: veri sözleşmesinin ilk sürümündeki veri üyelerinin hiçbirinin `Order` özelliği ayarlanmış olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-166">The recommended way of doing this is as follows: None of the data members in the first version of the data contract should have their `Order` property set.</span></span> <span data-ttu-id="217a6-167">Veri sözleşmesinin 2. sürümünde eklenen tüm veri üyelerinin `Order` özelliği 2 olarak ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-167">All of the data members added in version 2 of the data contract should have their `Order` property set to 2.</span></span> <span data-ttu-id="217a6-168">Veri sözleşmesinin 3. sürümü içinde eklenen tüm veri üyelerinin `Order` , 3 ' e ayarlanmış olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="217a6-168">All of the data members added in version 3 of the data contract should have their `Order` set to 3, and so on.</span></span> <span data-ttu-id="217a6-169">Aynı numaraya ayarlanmış birden fazla veri üyesine sahip olmak için izin verilir `Order` .</span><span class="sxs-lookup"><span data-stu-id="217a6-169">It is permissible to have more than one data member set to the same `Order` number.</span></span>  
  
9. <span data-ttu-id="217a6-170"><xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A>Özelliği önceki sürümlerde öğesinin varsayılan özelliğinde bırakılmış olsa bile sonraki sürümlerde veri üyelerini kaldırmayın `false` .</span><span class="sxs-lookup"><span data-stu-id="217a6-170">Do not remove data members in later versions, even if the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property was left at its default property of `false` in prior versions.</span></span>  
  
10. <span data-ttu-id="217a6-171">`IsRequired`Var olan herhangi bir veri üyesinin özelliğini sürümden sürümüne değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-171">Do not change the `IsRequired` property on any existing data members from version to version.</span></span>  
  
11. <span data-ttu-id="217a6-172">Gerekli veri üyeleri (nerede `IsRequired` ) için `true` , `EmitDefaultValue` özelliği sürümden sürümüne değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-172">For required data members (where `IsRequired` is `true`), do not change the `EmitDefaultValue` property from version to version.</span></span>  
  
12. <span data-ttu-id="217a6-173">Dallandırılmış sürüm hiyerarşileri oluşturmayı denemeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-173">Do not attempt to create branched versioning hierarchies.</span></span> <span data-ttu-id="217a6-174">Yani, her zaman yalnızca bu yönergelerin izin verdiği değişiklikler kullanılarak herhangi bir sürümden diğer bir sürüme en az bir yönde yol olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-174">That is, there should always be a path in at least one direction from any version to any other version using only the changes permitted by these guidelines.</span></span>  
  
     <span data-ttu-id="217a6-175">Örneğin, bir kişi veri sözleşmesinin sürüm 1 ' i yalnızca ad veri üyesini içeriyorsa, yalnızca yaş üyesini ve sürüm 2B yalnızca adres üyesini ekleyerek sözleşmenin sürüm 2A 'yı oluşturmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-175">For example, if version 1 of a Person data contract contains only the Name data member, you should not create version 2a of the contract adding only the Age member and version 2b adding only the Address member.</span></span> <span data-ttu-id="217a6-176">2A 'dan 2B 'ye geçmek, yaşı kaldırmak ve adres eklemek içerir; diğer yönden sonra, adresi kaldırma ve yaş ekleme sıraya alındı.</span><span class="sxs-lookup"><span data-stu-id="217a6-176">Going from 2a to 2b would involve removing Age and adding Address; going in the other direction would entail removing Address and adding Age.</span></span> <span data-ttu-id="217a6-177">Bu yönergeler tarafından üyelerin kaldırılmasına izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="217a6-177">Removing members is not permitted by these guidelines.</span></span>  
  
13. <span data-ttu-id="217a6-178">Uygulamanızın yeni bir sürümünde, var olan veri sözleşme türlerinin yeni alt türlerini genellikle oluşturmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-178">You should generally not create new subtypes of existing data contract types in a new version of your application.</span></span> <span data-ttu-id="217a6-179">Benzer şekilde, nesne veya arabirim türleri olarak belirtilen veri üyeleri yerine kullanılan yeni veri sözleşmeleri oluşturmamalısınız.</span><span class="sxs-lookup"><span data-stu-id="217a6-179">Likewise, you should not create new data contracts that are used in place of data members declared as Object or as interface types.</span></span> <span data-ttu-id="217a6-180">Bu yeni sınıfların oluşturulmasına yalnızca, eski uygulamanızın tüm örneklerinin bilinen türler listesine yeni türleri ekleyebileceğinizi bildiğiniz durumlarda izin verilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-180">Creating these new classes is allowed only when you know that you can add the new types to the known types list of all instances of your old application.</span></span> <span data-ttu-id="217a6-181">Örneğin, uygulamanızın 1. sürümünde, kitap ve gazete veri sözleşmesi alt türleri ile LibraryItem veri sözleşme türüne sahip olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="217a6-181">For example, in version 1 of your application, you may have the LibraryItem data contract type with the Book and Newspaper data contract subtypes.</span></span> <span data-ttu-id="217a6-182">Daha sonra LibraryItem, kitap ve gazete içeren bilinen bir türler listesine sahip olur.</span><span class="sxs-lookup"><span data-stu-id="217a6-182">LibraryItem would then have a known types list that contains Book and Newspaper.</span></span> <span data-ttu-id="217a6-183">Artık LibraryItem öğesinin bir alt türü olan sürüm 2 ' de bir dergi türü eklediğinizi varsayalım.</span><span class="sxs-lookup"><span data-stu-id="217a6-183">Suppose you now add a Magazine type in version 2 which is a subtype of LibraryItem.</span></span> <span data-ttu-id="217a6-184">Sürüm 2 ' den sürüm 1 ' e bir dergi örneği gönderirseniz, dergi veri sözleşmesi bilinen türler listesinde bulunmadı ve bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="217a6-184">If you send a Magazine instance from version 2 to version 1, the Magazine data contract is not found in the list of known types and an exception is thrown.</span></span>  
  
14. <span data-ttu-id="217a6-185">Sürümler arasında numaralandırma üyesi eklememelisiniz veya kaldırmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="217a6-185">You should not add or remove enumeration members between versions.</span></span> <span data-ttu-id="217a6-186">Aynı zamanda, `EnumMemberAttribute` veri anlaşması modelinde adlarını aynı tutmak için özniteliğinde Name özelliğini kullanmadığınız durumlar dışında, numaralandırma üyelerini de yeniden adlandırmalısınız.</span><span class="sxs-lookup"><span data-stu-id="217a6-186">You should also not rename enumeration members, unless you use the Name property on the `EnumMemberAttribute` attribute to keep their names in the data contract model the same.</span></span>  
  
15. <span data-ttu-id="217a6-187">Koleksiyonlar, veri [sözleşmeleri Içindeki koleksiyon türleri](./feature-details/collection-types-in-data-contracts.md)bölümünde açıklandığı gibi veri sözleşmesi modelinde değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-187">Collections are interchangeable in the data contract model as described in [Collection Types in Data Contracts](./feature-details/collection-types-in-data-contracts.md).</span></span> <span data-ttu-id="217a6-188">Bu, büyük ölçüde esneklik sağlar.</span><span class="sxs-lookup"><span data-stu-id="217a6-188">This allows for a great degree of flexibility.</span></span> <span data-ttu-id="217a6-189">Bununla birlikte, bir koleksiyon türünü yanlışlıkla sürümden sürüme, farklı olmayan bir şekilde değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-189">However, make sure that you do not inadvertently change a collection type in a non-interchangeable way from version to version.</span></span> <span data-ttu-id="217a6-190">Örneğin, özelleştirilmeyen bir koleksiyondan (özniteliği olmayan) özelleştirilmiş bir koleksiyonun veya özelleştirilmiş bir koleksiyonun özelleştirilmemiş bir `CollectionDataContractAttribute` koleksiyonuna değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-190">For example, do not change from a non-customized collection (that is, without the `CollectionDataContractAttribute` attribute) to a customized one or a customized collection to a non-customized one.</span></span> <span data-ttu-id="217a6-191">Ayrıca, `CollectionDataContractAttribute` from sürümündeki özellikleri sürümüne değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="217a6-191">Also, do not change the properties on the `CollectionDataContractAttribute` from version to version.</span></span> <span data-ttu-id="217a6-192">İzin verilen tek değişiklik, temeldeki koleksiyon türünün adı veya ad alanı değiştiyse ve veri sözleşmesi adını ve ad alanını önceki bir sürümde aynı şekilde yapmanız gerekiyorsa ad veya ad alanı özelliği ekliyor.</span><span class="sxs-lookup"><span data-stu-id="217a6-192">The only allowed change is adding a Name or Namespace property if the underlying collection type's name or namespace has changed and you need to make its data contract name and namespace the same as in a previous version.</span></span>  
  
 <span data-ttu-id="217a6-193">Burada listelenen yönergelerin bazıları, özel koşullar uygulandığı zaman güvenle yoksayılabilir.</span><span class="sxs-lookup"><span data-stu-id="217a6-193">Some of the guidelines listed here can be safely ignored when special circumstances apply.</span></span> <span data-ttu-id="217a6-194">Kılavuzlardan sapmadan önce dahil olan serileştirme, seri durumdan çıkarma ve şema mekanizmalarını tam olarak anladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="217a6-194">Make sure you fully understand the serialization, deserialization, and schema mechanisms involved before deviating from the guidelines.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="217a6-195">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="217a6-195">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A>
- <xref:System.Runtime.Serialization.DataContractAttribute>
- <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A>
- <xref:System.Runtime.Serialization.IExtensibleDataObject>
- <xref:System.ServiceModel.ServiceBehaviorAttribute>
- <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A>
- <xref:System.Runtime.Serialization.ExtensionDataObject>
- <xref:System.Runtime.Serialization.OnDeserializingAttribute>
- [<span data-ttu-id="217a6-196">Veri Sözleşmelerini Kullanma</span><span class="sxs-lookup"><span data-stu-id="217a6-196">Using Data Contracts</span></span>](./feature-details/using-data-contracts.md)
- [<span data-ttu-id="217a6-197">Veri Sözleşmesi Sürümü Oluşturma</span><span class="sxs-lookup"><span data-stu-id="217a6-197">Data Contract Versioning</span></span>](./feature-details/data-contract-versioning.md)
- [<span data-ttu-id="217a6-198">Veri Sözleşmesi Adları</span><span class="sxs-lookup"><span data-stu-id="217a6-198">Data Contract Names</span></span>](./feature-details/data-contract-names.md)
- [<span data-ttu-id="217a6-199">İleri Uyumlu Veri Sözleşmeleri</span><span class="sxs-lookup"><span data-stu-id="217a6-199">Forward-Compatible Data Contracts</span></span>](./feature-details/forward-compatible-data-contracts.md)
- [<span data-ttu-id="217a6-200">Sürüm Toleranslı Seri Hale Getirme Geri Çağrıları</span><span class="sxs-lookup"><span data-stu-id="217a6-200">Version-Tolerant Serialization Callbacks</span></span>](./feature-details/version-tolerant-serialization-callbacks.md)
