---
title: Sunucusuz işlevlerden yararlanma
description: Bulutta yerel uygulamalarda sunucusuz ve Azure Işlevlerini kullanma
ms.date: 05/13/2020
ms.openlocfilehash: 8e5c60d29cd8d635f79f42c232b33f060949e2b5
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/24/2020
ms.locfileid: "91155373"
---
# <a name="leveraging-serverless-functions"></a><span data-ttu-id="83355-103">Sunucusuz işlevlerden yararlanma</span><span class="sxs-lookup"><span data-stu-id="83355-103">Leveraging serverless functions</span></span>

<span data-ttu-id="83355-104">Bulut yeteneklerini kullanmak için fiziksel makineleri yönetme ucundan, sunucusuz çok daha az çaba yaşar.</span><span class="sxs-lookup"><span data-stu-id="83355-104">In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at the extreme end.</span></span> <span data-ttu-id="83355-105">Yalnızca sizin sorumluluğunuzdadır ve kodunuz çalışırken ödeyin.</span><span class="sxs-lookup"><span data-stu-id="83355-105">Your only responsibility is your code, and you only pay when your code runs.</span></span> <span data-ttu-id="83355-106">Azure Işlevleri, bulutta yerel uygulamalarınız için sunucusuz yetenekler oluşturmanın bir yolunu sunar.</span><span class="sxs-lookup"><span data-stu-id="83355-106">Azure Functions provides a way to build serverless capabilities into your cloud-native applications.</span></span>

## <a name="what-is-serverless"></a><span data-ttu-id="83355-107">Sunucusuz nedir?</span><span class="sxs-lookup"><span data-stu-id="83355-107">What is serverless?</span></span>

<span data-ttu-id="83355-108">Sunucusuz, bulut bilgi işlemin görece yeni bir hizmet modelidir.</span><span class="sxs-lookup"><span data-stu-id="83355-108">Serverless is a relatively new service model of cloud computing.</span></span> <span data-ttu-id="83355-109">Bu, sunucuların isteğe bağlı olduğu anlamına gelmez; kodunuz bir yerde sunucu üzerinde hala çalışır.</span><span class="sxs-lookup"><span data-stu-id="83355-109">It doesn't mean that servers are optional - your code still runs on a server somewhere.</span></span> <span data-ttu-id="83355-110">Ayrım, uygulama ekibinin sunucu altyapısını yönetme ile artık ilgilenmesidir.</span><span class="sxs-lookup"><span data-stu-id="83355-110">The distinction is that the application team no longer concerns itself with managing server infrastructure.</span></span> <span data-ttu-id="83355-111">Bunun yerine, bulut satıcısı bu sorumluluğa aittir.</span><span class="sxs-lookup"><span data-stu-id="83355-111">Instead, the cloud vendor own this responsibility.</span></span> <span data-ttu-id="83355-112">Geliştirme ekibi, müşterilere iş çözümleri sunarak üretkenliğini artırır.</span><span class="sxs-lookup"><span data-stu-id="83355-112">The development team increases its productivity by delivering business solutions to customers, not plumbing.</span></span>

<span data-ttu-id="83355-113">Sunucusuz bilgi işlem, hizmetlerinizi barındırmak için olay tarafından tetiklenen durum bilgisi olmayan kapsayıcılar kullanır.</span><span class="sxs-lookup"><span data-stu-id="83355-113">Serverless computing uses event-triggered stateless containers to host your services.</span></span> <span data-ttu-id="83355-114">Gerektiğinde, talebe göre ve isteğe bağlı olarak uygun şekilde ölçeklenebilirler.</span><span class="sxs-lookup"><span data-stu-id="83355-114">They can scale out and in to meet demand as-needed.</span></span> <span data-ttu-id="83355-115">Azure Işlevleri gibi sunucusuz platformlar, kuyruklar, olaylar ve depolama gibi diğer Azure hizmetleriyle sıkı bir tümleştirme özelliğine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="83355-115">Serverless platforms like Azure Functions have tight integration with other Azure services like queues, events, and storage.</span></span>

## <a name="what-challenges-are-solved-by-serverless"></a><span data-ttu-id="83355-116">Sunucusuz tarafından hangi sorunlar çözüldü?</span><span class="sxs-lookup"><span data-stu-id="83355-116">What challenges are solved by serverless?</span></span>

<span data-ttu-id="83355-117">Sunucusuz platformlar, zaman alan ve pahalı kaygıların çoğunu ele alır:</span><span class="sxs-lookup"><span data-stu-id="83355-117">Serverless platforms address many time-consuming and expensive concerns:</span></span>

- <span data-ttu-id="83355-118">Makineler ve yazılım lisansları satın alma</span><span class="sxs-lookup"><span data-stu-id="83355-118">Purchasing machines and software licenses</span></span>
- <span data-ttu-id="83355-119">Makineleri ve bunların ağ, güç ve A/C gereksinimlerini Muhafazası, güvenli hale getirme, yapılandırma ve sürdürme</span><span class="sxs-lookup"><span data-stu-id="83355-119">Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements</span></span>
- <span data-ttu-id="83355-120">İşletim sistemlerini ve yazılımlarını düzeltme ve yükseltme</span><span class="sxs-lookup"><span data-stu-id="83355-120">Patching and upgrading operating systems and software</span></span>
- <span data-ttu-id="83355-121">Web sunucularını veya makine hizmetlerini uygulama yazılımını barındıracak şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="83355-121">Configuring web servers or machine services to host application software</span></span>
- <span data-ttu-id="83355-122">Uygulama yazılımını platformu içinde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="83355-122">Configuring application software within its platform</span></span>

<span data-ttu-id="83355-123">Birçok şirket, donanım altyapısı sorunlarını desteklemek için büyük bütçeler ayırır.</span><span class="sxs-lookup"><span data-stu-id="83355-123">Many companies allocate large budgets to support hardware infrastructure concerns.</span></span> <span data-ttu-id="83355-124">Buluta geçiş bu maliyetlerin azalmasına yardımcı olabilir; uygulamaları sunucusuz olarak kaydırma, bunları ortadan kaldırmaya yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-124">Moving to the cloud can help reduce these costs; shifting applications to serverless can help eliminate them.</span></span>

## <a name="what-is-the-difference-between-a-microservice-and-a-serverless-function"></a><span data-ttu-id="83355-125">Mikro hizmet ve sunucusuz bir işlev arasındaki fark nedir?</span><span class="sxs-lookup"><span data-stu-id="83355-125">What is the difference between a microservice and a serverless function?</span></span>

<span data-ttu-id="83355-126">Genellikle, bir mikro hizmet, çevrimiçi bir eticaret sitesi için bir alışveriş sepeti gibi iş yeteneklerini kapsar.</span><span class="sxs-lookup"><span data-stu-id="83355-126">Typically, a microservice encapsulates a business capability, such as a shopping cart for an online eCommerce site.</span></span> <span data-ttu-id="83355-127">Kullanıcının kendi alışveriş deneyimlerini yönetmesini sağlayan birden çok işlem sunar.</span><span class="sxs-lookup"><span data-stu-id="83355-127">It exposes multiple operations that enable a user to manage their shopping experience.</span></span> <span data-ttu-id="83355-128">Ancak, bir işlev, bir olaya yanıt olarak tek amaçlı bir işlem yürüten küçük, hafif bir kod bloğudur.</span><span class="sxs-lookup"><span data-stu-id="83355-128">A function, however, is a small, lightweight block of code that executes a single-purpose operation in response to an event.</span></span>
<span data-ttu-id="83355-129">Mikro hizmetler genellikle isteklere, genellikle bir arabirimden yanıt vermek için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="83355-129">Microservices are typically constructed to respond to requests, often from an interface.</span></span> <span data-ttu-id="83355-130">İstekler HTTP REST veya gRPC tabanlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-130">Requests can be HTTP Rest- or gRPC-based.</span></span> <span data-ttu-id="83355-131">Sunucusuz hizmetler olaylara yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="83355-131">Serverless services respond to events.</span></span> <span data-ttu-id="83355-132">Olay odaklı mimari, kısa süreli çalışan, arka plan görevlerini işlemek için idealdir.</span><span class="sxs-lookup"><span data-stu-id="83355-132">Its event-driven architecture is ideal for processing short-running, background tasks.</span></span>

## <a name="what-scenarios-are-appropriate-for-serverless"></a><span data-ttu-id="83355-133">Sunucusuz için hangi senaryolar uygun?</span><span class="sxs-lookup"><span data-stu-id="83355-133">What scenarios are appropriate for serverless?</span></span>

<span data-ttu-id="83355-134">Sunucusuz, bir tetikleyiciye yanıt olarak çağrılan tek başına kısa süreli işlevleri kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="83355-134">Serverless exposes individual short-running functions that are invoked in response to a trigger.</span></span> <span data-ttu-id="83355-135">Bu, arka plan görevlerinin işlenmesi için ideal hale getirir.</span><span class="sxs-lookup"><span data-stu-id="83355-135">This makes them ideal for processing background tasks.</span></span>

<span data-ttu-id="83355-136">Bir uygulamanın bir iş akışında bir adım olarak e-posta gönderebilmesi gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-136">An application might need to send an email as a step in a workflow.</span></span> <span data-ttu-id="83355-137">Bildirimi, mikro hizmet isteğinin bir parçası olarak göndermek yerine, ileti ayrıntılarını bir kuyruğa yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="83355-137">Instead of sending the notification as part of a microservice request, place the message details onto a queue.</span></span> <span data-ttu-id="83355-138">Bir Azure Işlevi iletiyi sıradan alabilir ve e-postayı zaman uyumsuz olarak gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-138">An Azure Function can dequeue the message and asynchronously send the email.</span></span> <span data-ttu-id="83355-139">Bunun yapılması, mikro hizmetin performansını ve ölçeklenebilirliğini iyileştirebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-139">Doing so could improve the performance and scalability of the microservice.</span></span> <span data-ttu-id="83355-140">E-postaların gönderilmesi ile ilgili performans sorunlarını önlemek için [kuyruk tabanlı yük dengeleme](/azure/architecture/patterns/queue-based-load-leveling) uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-140">[Queue-based load leveling](/azure/architecture/patterns/queue-based-load-leveling) can be implemented to avoid bottlenecks related to sending the emails.</span></span> <span data-ttu-id="83355-141">Ayrıca, bu tek başına hizmet birçok farklı uygulama üzerinde yardımcı program olarak yeniden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-141">Additionally, this stand-alone service could be reused as a utility across many different applications.</span></span>

<span data-ttu-id="83355-142">Kuyruklardan ve konulardan zaman uyumsuz mesajlaşma, sunucusuz işlevleri tetiklemek için kullanılan yaygın bir modeldir.</span><span class="sxs-lookup"><span data-stu-id="83355-142">Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions.</span></span> <span data-ttu-id="83355-143">Ancak Azure Işlevleri, Azure Blob depolamada yapılan değişiklikler gibi diğer olaylar tarafından tetiklenebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-143">However, Azure Functions can be triggered by other events, such as changes to Azure Blob Storage.</span></span> <span data-ttu-id="83355-144">Görüntü yüklemelerini destekleyen bir hizmetin, görüntü boyutunu iyileştirmekten sorumlu bir Azure Işlevi olabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-144">A service that supports image uploads could have an Azure Function responsible for optimizing the image size.</span></span> <span data-ttu-id="83355-145">İşlev, Azure Blob depolama alanına eklenerek doğrudan tetiklenebilir ve mikro hizmet işlemlerinden karmaşıklığı ortadan kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-145">The function could be triggered directly by inserts into Azure Blob Storage, keeping complexity out of the microservice operations.</span></span>

<span data-ttu-id="83355-146">Birçok hizmet, iş akışlarının bir parçası olarak uzun süredir çalışan işlemlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="83355-146">Many services have long-running processes as part of their workflows.</span></span> <span data-ttu-id="83355-147">Genellikle bu görevler, kullanıcının uygulamayla etkileşimi kapsamında yapılır.</span><span class="sxs-lookup"><span data-stu-id="83355-147">Often these tasks are done as part of the user's interaction with the application.</span></span> <span data-ttu-id="83355-148">Bu görevler, kullanıcıyı beklemeye zorlayabilir, deneyimlerini olumsuz yönde etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-148">These tasks can force the user to wait, negatively impacting their experience.</span></span> <span data-ttu-id="83355-149">Sunucusuz bilgi işlem, daha yavaş görevleri Kullanıcı etkileşimi döngüsünün dışına taşımak için harika bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="83355-149">Serverless computing provides a great way to move slower tasks outside of the user interaction loop.</span></span> <span data-ttu-id="83355-150">Bu görevler, tüm uygulamanın ölçeklendirilmesi gerekmeden talebe göre ölçeklendirebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-150">These tasks can scale with demand without requiring the entire application to scale.</span></span>

## <a name="when-should-you-avoid-serverless"></a><span data-ttu-id="83355-151">Sunucusuz ne zaman kaçınmalıyım?</span><span class="sxs-lookup"><span data-stu-id="83355-151">When should you avoid serverless?</span></span>

<span data-ttu-id="83355-152">Sunucusuz çözümler sağlama ve isteğe bağlı ölçekleme.</span><span class="sxs-lookup"><span data-stu-id="83355-152">Serverless solutions provision and scale on demand.</span></span> <span data-ttu-id="83355-153">Yeni bir örnek çağrıldığında, soğuk başlar yaygın bir sorundur.</span><span class="sxs-lookup"><span data-stu-id="83355-153">When a new instance is invoked, cold starts are a common issue.</span></span> <span data-ttu-id="83355-154">Soğuk bir başlangıç, bu örneği sağlamak için gereken süredir.</span><span class="sxs-lookup"><span data-stu-id="83355-154">A cold start is the period of time it takes to provision this instance.</span></span> <span data-ttu-id="83355-155">Normalde, bu gecikme birkaç saniye olabilir, ancak çeşitli faktörlere bağlı olarak daha fazla olabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-155">Normally, this delay might be a few seconds, but can be longer depending on various factors.</span></span> <span data-ttu-id="83355-156">Sağlandıktan sonra, tek bir örnek, düzenli istekleri aldığı sürece etkin tutulur.</span><span class="sxs-lookup"><span data-stu-id="83355-156">Once provisioned, a single instance is kept alive as long as it receives periodic requests.</span></span> <span data-ttu-id="83355-157">Ancak, bir hizmet daha az sıklıkta çağrılırsa Azure bu hizmeti bellekten kaldırabilir ve yeniden çağrıldığında soğuk bir başlatma gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-157">But, if a service is called less frequently, Azure may remove it from memory and require a cold start when reinvoked.</span></span> <span data-ttu-id="83355-158">Bir işlev yeni bir örneğe ölçeklendirilirken soğuk başlar de gereklidir.</span><span class="sxs-lookup"><span data-stu-id="83355-158">Cold starts are also required when a function scales out to a new instance.</span></span>

<span data-ttu-id="83355-159">Şekil 3-10, soğuk başlangıç modelini gösterir.</span><span class="sxs-lookup"><span data-stu-id="83355-159">Figure 3-10 shows a cold-start pattern.</span></span> <span data-ttu-id="83355-160">Uygulama soğuk olduğunda gereken ek adımlara göz önünde edin.</span><span class="sxs-lookup"><span data-stu-id="83355-160">Note the extra steps required when the app is cold.</span></span>

<span data-ttu-id="83355-161">![Soğuk, sıcak başlangıç ](./media/cold-start-warm-start.png)
 **şekli 3-10**.</span><span class="sxs-lookup"><span data-stu-id="83355-161">![Cold versus warm start](./media/cold-start-warm-start.png)
**Figure 3-10**.</span></span> <span data-ttu-id="83355-162">Soğuk başlatma ve sıcak başlangıç.</span><span class="sxs-lookup"><span data-stu-id="83355-162">Cold start versus warm start.</span></span>

<span data-ttu-id="83355-163">Soğuk tamamen başlamasını önlemek için bir [Tüketim planından adanmış plana](https://azure.microsoft.com/blog/understanding-serverless-cold-start/)geçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="83355-163">To avoid cold starts entirely, you might switch from a [consumption plan to a dedicated plan](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span></span> <span data-ttu-id="83355-164">Premium plan yükseltmesine sahip bir veya daha fazla [önceden çarpımış örnek](/azure/azure-functions/functions-premium-plan#pre-warmed-instances) de yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="83355-164">You can also configure one or more [pre-warmed instances](/azure/azure-functions/functions-premium-plan#pre-warmed-instances) with the premium plan upgrade.</span></span> <span data-ttu-id="83355-165">Bu durumlarda, başka bir örnek eklemeniz gerektiğinde, zaten çalışır durumda ve gönderilmeye hazırız.</span><span class="sxs-lookup"><span data-stu-id="83355-165">In these cases, when you need to add another instance, it's already up and ready to go.</span></span> <span data-ttu-id="83355-166">Bu seçenekler, sunucusuz bilgi işlem ile ilişkili soğuk başlatma sorununu azaltmaya yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-166">These options can help mitigate the cold start issue associated with serverless computing.</span></span>

<span data-ttu-id="83355-167">Bulut sağlayıcıları, işlem yürütme süresi ve tüketilen bellek temelinde sunucusuz için faturalandırılır.</span><span class="sxs-lookup"><span data-stu-id="83355-167">Cloud providers bill for serverless based on compute execution time and consumed memory.</span></span> <span data-ttu-id="83355-168">Uzun süre çalışan işlemler veya yüksek bellek tüketim iş yükleri sunucusuz için her zaman en iyi adaydır.</span><span class="sxs-lookup"><span data-stu-id="83355-168">Long running operations or high memory consumption workloads aren't always the best candidates for serverless.</span></span> <span data-ttu-id="83355-169">Sunucusuz işlevler hızla tamamlayabilirler küçük iş öbeklerini tercih edebilir.</span><span class="sxs-lookup"><span data-stu-id="83355-169">Serverless functions favor small chunks of work that can complete quickly.</span></span> <span data-ttu-id="83355-170">Çoğu sunucusuz platform, birkaç dakika içinde tek tek işlevlerin tamamlanmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="83355-170">Most serverless platforms require individual functions to complete within a few minutes.</span></span> <span data-ttu-id="83355-171">Azure Işlevleri varsayılan olarak 5 dakikalık bir zaman aşımı süresine sahiptir ve bu süre 10 dakikaya kadar yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-171">Azure Functions defaults to a 5-minute time-out duration, which can be configured up to 10 minutes.</span></span> <span data-ttu-id="83355-172">Azure Işlevleri Premium planı, bu sorunu da hafifletmenize olanak sağlar. bu da, yapılandırılan zaman aşımı süresini, sınırsız daha yüksek bir sınıra sahip 30 dakikaya kadar azaltır.</span><span class="sxs-lookup"><span data-stu-id="83355-172">The Azure Functions premium plan can mitigate this issue as well, defaulting time-outs to 30 minutes with an unbounded higher limit that can be configured.</span></span> <span data-ttu-id="83355-173">İşlem süresi takvim zamanı değil.</span><span class="sxs-lookup"><span data-stu-id="83355-173">Compute time isn't calendar time.</span></span> <span data-ttu-id="83355-174">[Azure dayanıklı işlevler çerçevesini](/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) kullanan daha gelişmiş işlevler, yürütmeyi birkaç güne ait bir kurs üzerinden duraklatabilir.</span><span class="sxs-lookup"><span data-stu-id="83355-174">More advanced functions using the [Azure Durable Functions framework](/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) may pause execution over a course of several days.</span></span> <span data-ttu-id="83355-175">Faturalandırma gerçek yürütme zamanına göre yapılır-işlev ne zaman uyandırılır ve işlemeyi sürdürür.</span><span class="sxs-lookup"><span data-stu-id="83355-175">The billing is based on actual execution time - when the function wakes up and resumes processing.</span></span>

<span data-ttu-id="83355-176">Son olarak, uygulama görevleri için Azure Işlevleri 'nden yararlanmak karmaşıklık sağlar.</span><span class="sxs-lookup"><span data-stu-id="83355-176">Finally, leveraging Azure Functions for application tasks adds complexity.</span></span> <span data-ttu-id="83355-177">Uygulamanızı modüler ve gevşek olarak bağlanmış bir tasarımla ilk kez mimarın.</span><span class="sxs-lookup"><span data-stu-id="83355-177">It's wise to first architect your application with a modular, loosely coupled design.</span></span> <span data-ttu-id="83355-178">Daha sonra, avantajlar sunucusuz olup olmadığını ve ek karmaşıklığın nasıl olacağını belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="83355-178">Then, identify if there are benefits serverless would offer that justify the additional complexity.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="83355-179">[Önceki](leverage-containers-orchestrators.md) 
> [Sonraki](combine-containers-serverless-approaches.md)</span><span class="sxs-lookup"><span data-stu-id="83355-179">[Previous](leverage-containers-orchestrators.md)
[Next](combine-containers-serverless-approaches.md)</span></span>
