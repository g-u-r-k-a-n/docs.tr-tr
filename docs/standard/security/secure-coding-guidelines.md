---
title: .NET için güvenli kodlama yönergeleri
description: Çalışmak için tasarım kodu. Kötü amaçlı kodların verilere erişmesini veya diğer eylemleri gerçekleştirmesini önlemeye yardımcı olmak için NET tarafından uygulanan izinler ve diğer zorlamalar.
ms.date: 06/28/2018
helpviewer_keywords:
- managed wrapper to native code implementation
- secure coding
- reusable components
- library code that exposes protected resources
- code, security
- code security
- secure coding, options
- components [.NET], security
- code security, options
- security-neutral code
- security [.NET], coding guidelines
ms.assetid: 4f882d94-262b-4494-b0a6-ba9ba1f5f177
ms.openlocfilehash: 05f7e039ecdc0cd33baa015872924fb9e1f078aa
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187724"
---
# <a name="secure-coding-guidelines"></a><span data-ttu-id="422cd-103">Güvenli kodlama yönergeleri</span><span class="sxs-lookup"><span data-stu-id="422cd-103">Secure coding guidelines</span></span>

<span data-ttu-id="422cd-104">Kanıta dayalı güvenlik ve kod erişim güvenliği, güvenliği uygulamak için çok güçlü ve açık mekanizmalar sağlar.</span><span class="sxs-lookup"><span data-stu-id="422cd-104">Evidence-based security and code access security provide very powerful, explicit mechanisms to implement security.</span></span> <span data-ttu-id="422cd-105">Çoğu uygulama kodu sadece .NET tarafından uygulanan altyapık kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="422cd-105">Most application code can simply use the infrastructure implemented by .NET.</span></span> <span data-ttu-id="422cd-106">Bazı durumlarda, güvenlik sistemini genişleterek veya yeni geçici yöntemler kullanılarak oluşturulmuş ek uygulamaya özgü güvenlik gerekir.</span><span class="sxs-lookup"><span data-stu-id="422cd-106">In some cases, additional application-specific security is required, built either by extending the security system or by using new ad hoc methods.</span></span>

<span data-ttu-id="422cd-107">Kodunuzda .NET zorunlu izinleri ve diğer zorlamaları kullanarak, kötü amaçlı kodun sahip olmasını istemediğiniz bilgilere erişmesini veya diğer istenmeyen eylemleri gerçekleştirmesini engellemek için engeller getirmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="422cd-107">Using .NET enforced permissions and other enforcement in your code, you should erect barriers to prevent malicious code from accessing information that you don't want it to have or performing other undesirable actions.</span></span> <span data-ttu-id="422cd-108">Ayrıca, güvenilen kodu kullanarak beklenen tüm senaryolarda güvenlik ve kullanılabilirlik arasında bir denge kurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="422cd-108">Additionally, you must strike a balance between security and usability in all the expected scenarios using trusted code.</span></span>

<span data-ttu-id="422cd-109">Bu genel bakış, kodun güvenlik sistemiyle çalışmak üzere tasarlanabileceği farklı yolları açıklar.</span><span class="sxs-lookup"><span data-stu-id="422cd-109">This overview describes the different ways code can be designed to work with the security system.</span></span>

## <a name="securing-resource-access"></a><span data-ttu-id="422cd-110">Kaynak erişimini sağlama</span><span class="sxs-lookup"><span data-stu-id="422cd-110">Securing resource access</span></span>

<span data-ttu-id="422cd-111">Kodunuzu tasarlarken ve yazarken, özellikle kaynağı bilinmeyen kodu kullanırken veya çağırırken, bu kodun kaynaklara erişimini korumanız ve sınırlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="422cd-111">When designing and writing your code, you need to protect and limit the access that code has to resources, especially when using or invoking code of unknown origin.</span></span> <span data-ttu-id="422cd-112">Bu nedenle, kodunuzu güvenli olduğundan emin olmak için aşağıdaki teknikleri aklınızda bulundurun:</span><span class="sxs-lookup"><span data-stu-id="422cd-112">So, keep in mind the following techniques to ensure your code is secure:</span></span>

- <span data-ttu-id="422cd-113">Kod Erişim Güvenliği (CAS) kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-113">Do not use Code Access Security (CAS).</span></span>

- <span data-ttu-id="422cd-114">Kısmi güvenilir kod kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-114">Do not use partial trusted code.</span></span>

- <span data-ttu-id="422cd-115">[AllowPartiallyTrustedCaller](xref:System.Security.AllowPartiallyTrustedCallersAttribute) özniteliğini (APTCA) kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-115">Do not use the [AllowPartiallyTrustedCaller](xref:System.Security.AllowPartiallyTrustedCallersAttribute) attribute (APTCA).</span></span>

- <span data-ttu-id="422cd-116">.NET Remoting kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-116">Do not use .NET Remoting.</span></span>

- <span data-ttu-id="422cd-117">Dağıtılmış Bileşen Nesne Modeli (DCOM) kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-117">Do not use Distributed Component Object Model (DCOM).</span></span>

- <span data-ttu-id="422cd-118">İkili formatters kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-118">Do not use binary formatters.</span></span>

<span data-ttu-id="422cd-119">Kod Erişim Güvenliği ve Güvenlik Saydam Kodu, kısmen güvenilen koda sahip bir güvenlik sınırı olarak desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="422cd-119">Code Access Security and Security-Transparent Code are not supported as a security boundary with partially trusted code.</span></span> <span data-ttu-id="422cd-120">Bilinmeyen kaynaklardan gelen kodların, alternatif güvenlik önlemleri alınmadan yüklenmesi ve yürütülmesi önerilmez.</span><span class="sxs-lookup"><span data-stu-id="422cd-120">We advise against loading and executing code of unknown origins without putting alternative security measures in place.</span></span> <span data-ttu-id="422cd-121">Alternatif güvenlik önlemleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="422cd-121">The alternative security measures are:</span></span>

- <span data-ttu-id="422cd-122">Sanallaştırma</span><span class="sxs-lookup"><span data-stu-id="422cd-122">Virtualization</span></span>

- <span data-ttu-id="422cd-123">AppContainers</span><span class="sxs-lookup"><span data-stu-id="422cd-123">AppContainers</span></span>

- <span data-ttu-id="422cd-124">İşletim sistemi (OS) kullanıcıları ve izinleri</span><span class="sxs-lookup"><span data-stu-id="422cd-124">Operating system (OS) users and permissions</span></span>

- <span data-ttu-id="422cd-125">Hyper-V konteynerler</span><span class="sxs-lookup"><span data-stu-id="422cd-125">Hyper-V containers</span></span>

## <a name="security-neutral-code"></a><span data-ttu-id="422cd-126">Güvenlik-nötr kodu</span><span class="sxs-lookup"><span data-stu-id="422cd-126">Security-neutral code</span></span>

<span data-ttu-id="422cd-127">Güvenlikten bağımsız kod, güvenlik sisteminde açık bir şey yapmaz.</span><span class="sxs-lookup"><span data-stu-id="422cd-127">Security-neutral code does nothing explicit with the security system.</span></span> <span data-ttu-id="422cd-128">Aldığı izinlerle çalışır.</span><span class="sxs-lookup"><span data-stu-id="422cd-128">It runs with whatever permissions it receives.</span></span> <span data-ttu-id="422cd-129">Korumalı işlemlerle ilişkili güvenlik özel durumlarını yakalayamayan uygulamalar (dosya kullanma, ağ vb. gibi) işlenmemiş bir özel durumla sonuçlanabilir, ancak güvenlikten bağımsız kod yine de .NET'teki güvenlik teknolojilerinden yararlanır .</span><span class="sxs-lookup"><span data-stu-id="422cd-129">Although applications that fail to catch security exceptions associated with protected operations (such as using files, networking, and so on) can result in an unhandled exception, security-neutral code still takes advantage of the security technologies in .NET.</span></span>

<span data-ttu-id="422cd-130">Güvenlik-nötr kitaplık anlamanız gereken özel özelliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="422cd-130">A security-neutral library has special characteristics that you should understand.</span></span> <span data-ttu-id="422cd-131">Kitaplığınızın dosyaları kullanan veya yönetilmeyen kod çağrısında kullanılan API öğeleri sağladığını varsayalım.</span><span class="sxs-lookup"><span data-stu-id="422cd-131">Suppose your library provides API elements that use files or call unmanaged code.</span></span> <span data-ttu-id="422cd-132">Kodunuz ilgili izine sahip değilse, açıklandığı gibi çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="422cd-132">If your code doesn't have the corresponding permission, it won't run as described.</span></span> <span data-ttu-id="422cd-133">Ancak, kod izinolsa bile, kodu çağıran herhangi bir uygulama kodunun çalışabilmesi için aynı izne sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="422cd-133">However, even if the code has the permission, any application code that calls it must have the same permission in order to work.</span></span> <span data-ttu-id="422cd-134">Arama kodu doğru izine sahip değilse, <xref:System.Security.SecurityException> kod erişim güvenlik yığını yürüyüşünün bir sonucu olarak bir görüntü görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="422cd-134">If the calling code doesn't have the right permission, a <xref:System.Security.SecurityException> appears as a result of the code access security stack walk.</span></span>

## <a name="application-code-that-isnt-a-reusable-component"></a><span data-ttu-id="422cd-135">Yeniden kullanılabilir bir bileşen olmayan uygulama kodu</span><span class="sxs-lookup"><span data-stu-id="422cd-135">Application code that isn't a reusable component</span></span>

<span data-ttu-id="422cd-136">Kodunuz başka kod tarafından çağrılmayacak bir uygulamanın parçasıysa, güvenlik basittir ve özel kodlama gerekli olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="422cd-136">If your code is part of an application that won't be called by other code, security is simple and special coding might not be required.</span></span> <span data-ttu-id="422cd-137">Ancak, kötü amaçlı kodun kodunuzu çağırabileceğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="422cd-137">However, remember that malicious code can call your code.</span></span> <span data-ttu-id="422cd-138">Kod erişim güvenliği kötü amaçlı kodun kaynaklara erişmesini durdurabilir, ancak bu kod alanlarınızın değerlerini veya hassas bilgiler içerebilecek özellikleri okumaya devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="422cd-138">While code access security might stop malicious code from accessing resources, such code could still read values of your fields or properties that might contain sensitive information.</span></span>

<span data-ttu-id="422cd-139">Ayrıca, kodunuz Internet'ten veya diğer güvenilir olmayan kaynaklardan kullanıcı girişi kabul ederse, kötü amaçlı giriş konusunda dikkatli olmalısınız.</span><span class="sxs-lookup"><span data-stu-id="422cd-139">Additionally, if your code accepts user input from the Internet or other unreliable sources, you must be careful about malicious input.</span></span>

## <a name="managed-wrapper-to-native-code-implementation"></a><span data-ttu-id="422cd-140">Yerel kod uygulamasına yönetilen sarıcı</span><span class="sxs-lookup"><span data-stu-id="422cd-140">Managed wrapper to native code implementation</span></span>

<span data-ttu-id="422cd-141">Genellikle bu senaryoda, yönetilen kod için kullanılabilir hale getirmek istediğiniz yerel kodda bazı yararlı işlevler uygulanır.</span><span class="sxs-lookup"><span data-stu-id="422cd-141">Typically in this scenario, some useful functionality is implemented in native code that you want to make available to managed code.</span></span> <span data-ttu-id="422cd-142">Yönetilen sarmalayıcıları platform çağırmak veya COM interop kullanarak yazmak kolaydır.</span><span class="sxs-lookup"><span data-stu-id="422cd-142">Managed wrappers are easy to write using either platform invoke or COM interop.</span></span> <span data-ttu-id="422cd-143">Ancak, bunu yaparsanız, sarmalayıcılarınızın başarılı olması için yönetilmeyen kod haklarına sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="422cd-143">However, if you do this, callers of your wrappers must have unmanaged code rights in order to succeed.</span></span> <span data-ttu-id="422cd-144">Varsayılan ilke altında, bu, intranet veya Internet'ten indirilen kodun sarmalayıcılarla çalışmayamayacağı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="422cd-144">Under default policy, this means that code downloaded from an intranet or the Internet won't work with the wrappers.</span></span>

<span data-ttu-id="422cd-145">Bu sarıcıları kullanan tüm uygulamalara yönetilmeyen kod hakları vermek yerine, bu hakları yalnızca sarıcı koduna vermek daha iyidir.</span><span class="sxs-lookup"><span data-stu-id="422cd-145">Instead of giving unmanaged code rights to all applications that use these wrappers, it's better to give these rights only to the wrapper code.</span></span> <span data-ttu-id="422cd-146">Altta yatan işlevsellik hiçbir kaynak ortaya çıkarır ve uygulama aynı şekilde güvenli ise, sarıcı yalnızca herhangi bir kodun üzerinden aramasını sağlayan haklarını kanıtlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="422cd-146">If the underlying functionality exposes no resources and the implementation is likewise safe, the wrapper only needs to assert its rights, which enables any code to call through it.</span></span> <span data-ttu-id="422cd-147">Kaynaklar söz konusu olduğunda, güvenlik kodlaması sonraki bölümde açıklanan kitaplık kodu örneğiyle aynı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="422cd-147">When resources are involved, security coding should be the same as the library code case described in the next section.</span></span> <span data-ttu-id="422cd-148">Sarmalayıcı potansiyel olarak arayanları bu kaynaklara maruz bıraktığından, yerel kodun güvenliğinin dikkatli bir şekilde doğrulanması gereklidir ve paketleyicinin sorumluluğundadır.</span><span class="sxs-lookup"><span data-stu-id="422cd-148">Because the wrapper is potentially exposing callers to these resources, careful verification of the safety of the native code is necessary and is the wrapper's responsibility.</span></span>

## <a name="library-code-that-exposes-protected-resources"></a><span data-ttu-id="422cd-149">Korumalı kaynakları ortaya çıkaran kitaplık kodu</span><span class="sxs-lookup"><span data-stu-id="422cd-149">Library code that exposes protected resources</span></span>

<span data-ttu-id="422cd-150">Aşağıdaki yaklaşım, güvenlik kodlaması için en güçlü ve dolayısıyla tehlikeli (yanlış yapılırsa) olabilir: kitaplığınız, .NET sınıfları gibi başka türlü kullanılamayan belirli kaynaklara erişmek için diğer kodlar için bir arabirim görevi görür kullandıkları kaynaklar için izinler.</span><span class="sxs-lookup"><span data-stu-id="422cd-150">The following approach is the most powerful and hence potentially dangerous (if done incorrectly) for security coding: your library serves as an interface for other code to access certain resources that aren't otherwise available, just as the .NET classes enforce permissions for the resources they use.</span></span> <span data-ttu-id="422cd-151">Bir kaynağı nereye maruz bırakırsanız ortaya çıkarırsanız gösterin, kodunuz önce kaynağa uygun izni talep etmeli (diğer bir süre önce bir güvenlik denetimi gerçekleştirmesi gerekir) ve ardından genellikle gerçek işlemi gerçekleştirmek için haklarını ileri sürmelidir.</span><span class="sxs-lookup"><span data-stu-id="422cd-151">Wherever you expose a resource, your code must first demand the permission appropriate to the resource (that is, it must perform a security check) and then typically assert its rights to perform the actual operation.</span></span>

## <a name="related-topics"></a><span data-ttu-id="422cd-152">İlgili konular</span><span class="sxs-lookup"><span data-stu-id="422cd-152">Related topics</span></span>

|<span data-ttu-id="422cd-153">Başlık</span><span class="sxs-lookup"><span data-stu-id="422cd-153">Title</span></span>|<span data-ttu-id="422cd-154">Açıklama</span><span class="sxs-lookup"><span data-stu-id="422cd-154">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="422cd-155">Durum Verilerinin Güvenliğini Sağlama</span><span class="sxs-lookup"><span data-stu-id="422cd-155">Securing State Data</span></span>](securing-state-data.md)|<span data-ttu-id="422cd-156">Özel üyelerin nasıl korunacaklarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="422cd-156">Describes how to protect private members.</span></span>|
|[<span data-ttu-id="422cd-157">Güvenlik ve Kullanıcı Girdisi</span><span class="sxs-lookup"><span data-stu-id="422cd-157">Security and User Input</span></span>](security-and-user-input.md)|<span data-ttu-id="422cd-158">Kullanıcı girişi kabul eden uygulamaların güvenlik kaygılarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="422cd-158">Describes security concerns for applications that accept user input.</span></span>|
|[<span data-ttu-id="422cd-159">Güvenlik ve Yarış Durumları</span><span class="sxs-lookup"><span data-stu-id="422cd-159">Security and Race Conditions</span></span>](security-and-race-conditions.md)|<span data-ttu-id="422cd-160">Kodunuzda yarış koşullarından nasıl kaçınılabildiğini açıklar.</span><span class="sxs-lookup"><span data-stu-id="422cd-160">Describes how to avoid race conditions in your code.</span></span>|
|[<span data-ttu-id="422cd-161">Güvenlik ve Çalışma Sırasında Kod Oluşturma</span><span class="sxs-lookup"><span data-stu-id="422cd-161">Security and On-the-Fly Code Generation</span></span>](security-and-on-the-fly-code-generation.md)|<span data-ttu-id="422cd-162">Dinamik kod oluşturan uygulamaların güvenlik kaygılarını açıklar.</span><span class="sxs-lookup"><span data-stu-id="422cd-162">Describes security concerns for applications that generate dynamic code.</span></span>|
|[<span data-ttu-id="422cd-163">Rol Tabanlı Güvenlik</span><span class="sxs-lookup"><span data-stu-id="422cd-163">Role-Based Security</span></span>](role-based-security.md)|<span data-ttu-id="422cd-164">.NET rol tabanlı güvenliği ayrıntılı olarak açıklar ve kodunızda kullanmak için yönergeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="422cd-164">Describes .NET role-based security in detail and provides instructions for using it in your code.</span></span>|
