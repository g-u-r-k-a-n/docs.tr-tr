---
title: SDK kavramlarını ve nesne modelini .NET Compiler Platform
description: Bu genel bakış, .NET derleyici SDK 'Sı ile etkin şekilde çalışmanız için gereken arka planı sağlar. API katmanlarını, ilgili ana türleri ve genel nesne modelini öğreneceksiniz.
ms.date: 07/13/2020
ms.custom: mvc
ms.openlocfilehash: f4b2163c3bf8824b6ad93f0b144a6b02d870f50a
ms.sourcegitcommit: 8299abfbd5c49b596d61f1e4d09bc6b8ba055b36
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/27/2021
ms.locfileid: "98899171"
---
# <a name="understand-the-net-compiler-platform-sdk-model"></a><span data-ttu-id="0b762-104">.NET Compiler Platform SDK modelini anlama</span><span class="sxs-lookup"><span data-stu-id="0b762-104">Understand the .NET Compiler Platform SDK model</span></span>

<span data-ttu-id="0b762-105">Derleyiciler, genellikle, insanların kodu okumasından ve anlayacağından farklı şekilde yazdığınız yapılandırılmış kurallara göre yazdığınız kodu işler.</span><span class="sxs-lookup"><span data-stu-id="0b762-105">Compilers process the code you write following structured rules that often differ from the way humans read and understand code.</span></span> <span data-ttu-id="0b762-106">Derleyiciler tarafından kullanılan modelin temel olarak anlaşılmasına, Roslyn tabanlı araçlar oluştururken kullandığınız API 'Leri anlamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="0b762-106">A basic understanding of the model used by compilers is essential to understanding the APIs you use when building Roslyn-based tools.</span></span>

## <a name="compiler-pipeline-functional-areas"></a><span data-ttu-id="0b762-107">Derleyici ardışık düzeni işlevsel alanı</span><span class="sxs-lookup"><span data-stu-id="0b762-107">Compiler pipeline functional areas</span></span>

<span data-ttu-id="0b762-108">.NET Compiler Platform SDK, geleneksel bir derleyici işlem hattını yansıtan bir API katmanı sağlayarak C# ve Visual Basic derleyicilerinin Kod analizini bir tüketici olarak kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="0b762-108">The .NET Compiler Platform SDK exposes the C# and Visual Basic compilers' code analysis to you as a consumer by providing an API layer that mirrors a traditional compiler pipeline.</span></span>

![Derleyici işlem hattının, nesne koduna işleme kaynak kodu adımları](media/compiler-api-model/compiler-pipeline.png)

<span data-ttu-id="0b762-110">Bu işlem hattının her aşaması ayrı bir bileşendir.</span><span class="sxs-lookup"><span data-stu-id="0b762-110">Each phase of this pipeline is a separate component.</span></span> <span data-ttu-id="0b762-111">İlk olarak, ayrıştırma aşaması, kaynak metnini simgeleştirir ve dil dilbilgisini izleyen söz dizimine ayrıştırır.</span><span class="sxs-lookup"><span data-stu-id="0b762-111">First, the parse phase tokenizes and parses source text into syntax that follows the language grammar.</span></span> <span data-ttu-id="0b762-112">İkinci olarak, bildirim aşaması, adlandırılmış sembolleri biçimlendirmek için kaynağı ve içeri aktarılan meta verileri analiz eder.</span><span class="sxs-lookup"><span data-stu-id="0b762-112">Second, the declaration phase analyzes source and imported metadata to form named symbols.</span></span> <span data-ttu-id="0b762-113">Sonra, bağlama aşaması koddaki tanımlayıcılarla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="0b762-113">Next, the bind phase matches identifiers in the code to symbols.</span></span> <span data-ttu-id="0b762-114">Son olarak, yayma aşaması derleyici tarafından oluşturulan tüm bilgileri içeren bir derleme yayar.</span><span class="sxs-lookup"><span data-stu-id="0b762-114">Finally, the emit phase emits an assembly with all the information built up by the compiler.</span></span>

![Derleyici ardışık düzeni API 'si, derleyici ardışık düzeninin parçası olan her adıma erişim sağlar](media/compiler-api-model/compiler-pipeline-api.png)

<span data-ttu-id="0b762-116">Bu aşamaların her birine karşılık gelen .NET Compiler Platform SDK, söz konusu aşamadaki bilgilere erişim sağlayan bir nesne modeli sunar.</span><span class="sxs-lookup"><span data-stu-id="0b762-116">Corresponding to each of those phases, the .NET Compiler Platform SDK exposes an object model that allows access to the information at that phase.</span></span> <span data-ttu-id="0b762-117">Ayrıştırma aşaması bir sözdizimi ağacı sunar, bildirim aşaması hiyerarşik bir sembol tablosu gösterir, bağlama aşaması derleyicinin anlam analizinin sonucunu gösterir ve yayma aşaması, IL bayt kodları üreten bir API 'dir.</span><span class="sxs-lookup"><span data-stu-id="0b762-117">The parsing phase exposes a syntax tree, the declaration phase exposes a hierarchical symbol table, the binding phase exposes the result of the compiler's semantic analysis, and the emit phase is an API that produces IL byte codes.</span></span>

![Derleyici işlem hattının her adımında derleyici API 'sinde kullanılabilen dil Hizmetleri](media/compiler-api-model/compiler-pipeline-lang-svc.png)

<span data-ttu-id="0b762-119">Her derleyici bu bileşenleri tek bir uçtan uca tam olarak birleştirir.</span><span class="sxs-lookup"><span data-stu-id="0b762-119">Each compiler combines these components together as a single end-to-end whole.</span></span>

<span data-ttu-id="0b762-120">Bu API 'Ler, Visual Studio tarafından kullanılan aynı olanlardır.</span><span class="sxs-lookup"><span data-stu-id="0b762-120">These APIs are the same ones used by Visual Studio.</span></span> <span data-ttu-id="0b762-121">Örneğin, kod ana hattı ve biçimlendirme özellikleri, sözdizimi ağaçlarını, **nesne tarayıcısı** ve gezinti özelliklerini kullanır, yeniden düzenlemeler ve **Açıklama ' ya git** , anlam modelini kullanır ve **Düzenle ve devam et** , yayma API 'si de dahil olmak üzere tümünü kullanır.</span><span class="sxs-lookup"><span data-stu-id="0b762-121">For instance, the code outlining and formatting features use the syntax trees, the **Object Browser**, and navigation features use the symbol table, refactorings and **Go to Definition** use the semantic model, and **Edit and Continue** uses all of these, including the Emit API.</span></span>

## <a name="api-layers"></a><span data-ttu-id="0b762-122">API katmanları</span><span class="sxs-lookup"><span data-stu-id="0b762-122">API layers</span></span>

<span data-ttu-id="0b762-123">.NET derleyici SDK 'Sı birçok API katmanından oluşur: derleyici API 'Leri, tanılama API 'leri, betik API 'leri ve çalışma alanı API 'Leri.</span><span class="sxs-lookup"><span data-stu-id="0b762-123">The .NET compiler SDK consists of several layers of APIs: compiler APIs, diagnostic APIs, scripting APIs, and workspaces APIs.</span></span>

### <a name="compiler-apis"></a><span data-ttu-id="0b762-124">Derleyici API 'Leri</span><span class="sxs-lookup"><span data-stu-id="0b762-124">Compiler APIs</span></span>

<span data-ttu-id="0b762-125">Derleyici katmanı, derleyici ardışık düzeninin her aşamasında gösterilen bilgilere karşılık gelen nesne modellerini, hem sözdizimsel hem de anlam içerir.</span><span class="sxs-lookup"><span data-stu-id="0b762-125">The compiler layer contains the object models that correspond to information exposed at each phase of the compiler pipeline, both syntactic and semantic.</span></span> <span data-ttu-id="0b762-126">Derleyici katmanı, derleme başvuruları, derleyici seçenekleri ve kaynak kodu dosyaları da dahil olmak üzere tek bir derleyici çağrısının sabit bir anlık görüntüsünü içerir.</span><span class="sxs-lookup"><span data-stu-id="0b762-126">The compiler layer also contains an immutable snapshot of a single invocation of a compiler, including assembly references, compiler options, and source code files.</span></span> <span data-ttu-id="0b762-127">C# dilini ve Visual Basic dilini temsil eden iki ayrı API vardır.</span><span class="sxs-lookup"><span data-stu-id="0b762-127">There are two distinct APIs that represent the C# language and the Visual Basic language.</span></span> <span data-ttu-id="0b762-128">İki API, şekille benzerdir ancak her bir dil için yüksek uygunluğa göre tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0b762-128">The two APIs are similar in shape but tailored for high-fidelity to each individual language.</span></span> <span data-ttu-id="0b762-129">Bu katmanın Visual Studio bileşenlerinde hiçbir bağımlılığı yoktur.</span><span class="sxs-lookup"><span data-stu-id="0b762-129">This layer has no dependencies on Visual Studio components.</span></span>

### <a name="diagnostic-apis"></a><span data-ttu-id="0b762-130">Tanılama API 'Leri</span><span class="sxs-lookup"><span data-stu-id="0b762-130">Diagnostic APIs</span></span>

<span data-ttu-id="0b762-131">Analizinin bir parçası olarak, derleyici söz dizimi, anlam ve belirli atama hatalarından her şeyi kapsayan bir tanılama kümesi oluşturabilir ve çeşitli uyarılar ve bilgilendirici tanılamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="0b762-131">As part of its analysis, the compiler may produce a set of diagnostics covering everything from syntax, semantic, and definite assignment errors to various warnings and informational diagnostics.</span></span> <span data-ttu-id="0b762-132">Derleyici API katmanı, Kullanıcı tanımlı çözümleyiciler derleme sürecine takılmasına olanak sağlayan genişletilebilir bir API aracılığıyla tanılamayı kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="0b762-132">The Compiler API layer exposes diagnostics through an extensible API that allows user-defined analyzers to be plugged into the compilation process.</span></span> <span data-ttu-id="0b762-133">StyleCop gibi araçlar tarafından üretilenler gibi Kullanıcı tanımlı tanılamaları, derleyici tanımlı tanılamalarıyla birlikte üretilede sağlar.</span><span class="sxs-lookup"><span data-stu-id="0b762-133">It allows user-defined diagnostics, such as those produced by tools like StyleCop, to be produced alongside compiler-defined diagnostics.</span></span> <span data-ttu-id="0b762-134">Tanılamayı bu şekilde oluşturmak, MSBuild ve Visual Studio gibi araçlarla doğal olarak tümleştirmenin avantajına sahiptir. Bu, ilkeye dayalı bir derlemeyi durdurma ve düzenleyicide canlı dalgalı çizgiler gösterme ve kod düzeltmeleri önerme gibi deneyimlere bağlı olan bir deneyim tanımasına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="0b762-134">Producing diagnostics in this way has the benefit of integrating naturally with tools such as MSBuild and Visual Studio, which depend on diagnostics for experiences such as halting a build based on policy and showing live squiggles in the editor and suggesting code fixes.</span></span>

### <a name="scripting-apis"></a><span data-ttu-id="0b762-135">Betik oluşturma API 'Leri</span><span class="sxs-lookup"><span data-stu-id="0b762-135">Scripting APIs</span></span>

<span data-ttu-id="0b762-136">Barındırma ve betik oluşturma API 'Leri, derleyici katmanının bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="0b762-136">Hosting and scripting APIs are part of the compiler layer.</span></span> <span data-ttu-id="0b762-137">Bunları kod parçacıklarını yürütmek ve bir çalışma zamanı yürütme bağlamını biriktirme amacıyla kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0b762-137">You can use them for executing code snippets and accumulating a runtime execution context.</span></span>
<span data-ttu-id="0b762-138">C# etkileşimli REPL (Read-değerlendir-Print döngüsü) Bu API 'Leri kullanır.</span><span class="sxs-lookup"><span data-stu-id="0b762-138">The C# interactive REPL (Read-Evaluate-Print Loop) uses these APIs.</span></span> <span data-ttu-id="0b762-139">REPL, C# ' yi bir komut dosyası dili olarak kullanmanızı sağlar ve kodu yazarken etkileşimli olarak çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0b762-139">The REPL enables you to use C# as a scripting language, executing the code interactively as you write it.</span></span>

### <a name="workspaces-apis"></a><span data-ttu-id="0b762-140">Çalışma alanları API 'Leri</span><span class="sxs-lookup"><span data-stu-id="0b762-140">Workspaces APIs</span></span>

<span data-ttu-id="0b762-141">Çalışma alanları katmanı, Kod analizini yapmak ve tüm çözümlerin yeniden düzenlemesi için başlangıç noktası olan çalışma alanı API 'sini içerir.</span><span class="sxs-lookup"><span data-stu-id="0b762-141">The Workspaces layer contains the Workspace API, which is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="0b762-142">Bir çözümdeki projelerle ilgili tüm bilgileri tek bir nesne modeline göre organize etmek için size yardımcı olur. Bu, dosyaları ayrıştırmaya, seçenekleri yapılandırmanıza veya projeden projeye bağımlılıkları yönetmeye gerek kalmadan derleyici katmanı nesne modellerine doğrudan erişmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="0b762-142">It assists you in organizing all the information about the projects in a solution into a single object model, offering you direct access to the compiler layer object models without needing to parse files, configure options, or manage project-to-project dependencies.</span></span>

<span data-ttu-id="0b762-143">Ayrıca, çalışma alanları katmanı, Visual Studio IDE gibi bir konak ortamında işlev Analizi ve yeniden düzenleme araçları uygularken kullanılan bir API kümesini yüzey halinde gösterir.</span><span class="sxs-lookup"><span data-stu-id="0b762-143">In addition, the Workspaces layer surfaces a set of APIs used when implementing code analysis and refactoring tools that function within a host environment like the Visual Studio IDE.</span></span> <span data-ttu-id="0b762-144">Örnekler, tüm başvuruları bul, biçimlendirme ve kod oluşturma API 'Lerini içerir.</span><span class="sxs-lookup"><span data-stu-id="0b762-144">Examples include the Find All References, Formatting, and Code Generation APIs.</span></span>

<span data-ttu-id="0b762-145">Bu katmanın Visual Studio bileşenlerinde hiçbir bağımlılığı yoktur.</span><span class="sxs-lookup"><span data-stu-id="0b762-145">This layer has no dependencies on Visual Studio components.</span></span>
