---
title: DNX'ten .NET Core CLI'ye geçiş
description: DNX takımlarını kullanmaktan .NET Core CLI takımağına geçirin.
ms.date: 06/20/2016
ms.openlocfilehash: 31317f110ae1e8586b78becd757d0a8ff07f1459
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "77503824"
---
# <a name="migrating-from-dnx-to-net-core-cli-projectjson"></a><span data-ttu-id="cf6c6-103">DNX'ten .NET Core CLI'ye geçiş (project.json)</span><span class="sxs-lookup"><span data-stu-id="cf6c6-103">Migrating from DNX to .NET Core CLI (project.json)</span></span>

## <a name="overview"></a><span data-ttu-id="cf6c6-104">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="cf6c6-104">Overview</span></span>
<span data-ttu-id="cf6c6-105">.NET Core ve ASP.NET Core 1.0'ın RC1 sürümü DNX takımlarını tanıttı.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-105">The RC1 release of .NET Core and ASP.NET Core 1.0 introduced DNX tooling.</span></span> <span data-ttu-id="cf6c6-106">.NET Core ve ASP.NET Core 1.0'ın RC2 sürümü DNX'ten .NET Core CLI'ye taşındı.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-106">The RC2 release of .NET Core and ASP.NET Core 1.0 moved from DNX to the .NET Core CLI.</span></span>

<span data-ttu-id="cf6c6-107">Hafif bir tazeleyici olarak, DNX hakkında ne olduğunu özetleyelim.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-107">As a slight refresher, let's recap what DNX was about.</span></span> <span data-ttu-id="cf6c6-108">DNX bir çalışma zamanı ve .NET Core oluşturmak için kullanılan bir araç kümesi ve daha özel olarak, Core 1.0 uygulamaları ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-108">DNX was a runtime and a toolset used to build .NET Core and, more specifically, ASP.NET Core 1.0 applications.</span></span> <span data-ttu-id="cf6c6-109">Bu 3 ana parçadan oluşuyordu:</span><span class="sxs-lookup"><span data-stu-id="cf6c6-109">It consisted of 3 main pieces:</span></span>

1. <span data-ttu-id="cf6c6-110">DNVM - DNX elde etmek için bir yükleme komut dosyası</span><span class="sxs-lookup"><span data-stu-id="cf6c6-110">DNVM - an install script for obtaining DNX</span></span>
2. <span data-ttu-id="cf6c6-111">DNX (Dotnet Yürütme Runtime) - kodunuzu yürüten çalışma zamanı</span><span class="sxs-lookup"><span data-stu-id="cf6c6-111">DNX (Dotnet Execution Runtime) - the runtime that executes your code</span></span>
3. <span data-ttu-id="cf6c6-112">DNU (Dotnet Developer Utility) - bağımlılıkları yönetmek, uygulamalarınızı oluşturmak ve yayınlamak için araç</span><span class="sxs-lookup"><span data-stu-id="cf6c6-112">DNU (Dotnet Developer Utility) - tooling for managing dependencies, building and publishing your applications</span></span>

<span data-ttu-id="cf6c6-113">CLI'nin piyasaya sürülmesiyle birlikte, yukarıdakilerin hepsi artık tek bir araç kümesinin parçası haline gelen bir araç kümesidir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-113">With the introduction of the CLI, all of the above are now part of a single toolset.</span></span> <span data-ttu-id="cf6c6-114">Ancak, DNX RC1 zaman diliminde kullanıma sunulduğundan, yeni CLI aracına geçmek isteyeceğiniz projeler ekiolabilir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-114">However, since DNX was available in RC1 timeframe, you might have projects that were built using it that you would want to move off to the new CLI tooling.</span></span>

<span data-ttu-id="cf6c6-115">Bu geçiş kılavuzu, dnx ve .NET Core CLI üzerine projelerin nasıl geçirilir temel leri kapsayacaktır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-115">This migration guide will cover the essentials on how to migrate projects off of DNX and onto .NET Core CLI.</span></span> <span data-ttu-id="cf6c6-116">.NET Core'da bir projeye sıfırdan başlıyorsanız, bu belgeyi serbestçe atlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-116">If you are just starting a project on .NET Core from scratch, you can freely skip this document.</span></span>

## <a name="main-changes-in-the-tooling"></a><span data-ttu-id="cf6c6-117">Takımlamadaki temel değişiklikler</span><span class="sxs-lookup"><span data-stu-id="cf6c6-117">Main changes in the tooling</span></span>
<span data-ttu-id="cf6c6-118">Önce ana hatlarıyla belirtilmesi gereken takım bazı genel değişiklikler vardır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-118">There are some general changes in the tooling that should be outlined first.</span></span>

### <a name="no-more-dnvm"></a><span data-ttu-id="cf6c6-119">Artık DNVM yok</span><span class="sxs-lookup"><span data-stu-id="cf6c6-119">No more DNVM</span></span>
<span data-ttu-id="cf6c6-120">DNVM, *DotNet Version Manager* için kısa bir bash / PowerShell komut makinesi makinenize bir DNX yüklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-120">DNVM, short for *DotNet Version Manager* was a bash/PowerShell script used to install a DNX on your machine.</span></span> <span data-ttu-id="cf6c6-121">Kullanıcıların belirttikleri akıştan (veya varsayılan akışlardan) gereksinim duydukları DNX'i almalarına ve belirli bir DNX "etkin"i işaretlemelerine yardımcı oldu ve bu da belirli bir oturum için $PATH.'ya koydu.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-121">It helped users get the DNX they need from the feed they specified (or default ones) as well as mark a certain DNX "active", which would put it on the $PATH for the given session.</span></span> <span data-ttu-id="cf6c6-122">Bu çeşitli araçları kullanmanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-122">This would allow you to use the various tools.</span></span>

<span data-ttu-id="cf6c6-123">DNVM, özellik kümesi .NET Core CLI'de gelen değişikliklerle gereksiz hale geldiği için durduruldu.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-123">DNVM was discontinued because its feature set was made redundant by changes coming in the .NET Core CLI.</span></span>

<span data-ttu-id="cf6c6-124">CLI iki ana şekilde paketlenmiş olarak gelir:</span><span class="sxs-lookup"><span data-stu-id="cf6c6-124">The CLI comes packaged in two main ways:</span></span>

1. <span data-ttu-id="cf6c6-125">Belirli bir platform için yerel yükleyiciler</span><span class="sxs-lookup"><span data-stu-id="cf6c6-125">Native installers for a given platform</span></span>
2. <span data-ttu-id="cf6c6-126">Diğer durumlar için komut dosyası yükleme (CI sunucuları gibi)</span><span class="sxs-lookup"><span data-stu-id="cf6c6-126">Install script for other situations (like CI servers)</span></span>

<span data-ttu-id="cf6c6-127">Bu göz önüne alındığında, DNVM yükleme özellikleri gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-127">Given this, the DNVM install features are not needed.</span></span> <span data-ttu-id="cf6c6-128">Peki ya çalışma zamanı seçim özellikleri?</span><span class="sxs-lookup"><span data-stu-id="cf6c6-128">But what about the runtime selection features?</span></span>

<span data-ttu-id="cf6c6-129">Bağımlılıklarınıza belirli bir `project.json` sürümün paketini ekleyerek çalışma zamanınıza başvurursunuz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-129">You reference a runtime in your `project.json` by adding a package of a certain version to your dependencies.</span></span> <span data-ttu-id="cf6c6-130">Bu değişiklikle, uygulamanız yeni çalışma zamanı bitlerini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-130">With this change, your application will be able to use the new runtime bits.</span></span> <span data-ttu-id="cf6c6-131">Bu bitleri makinenize almak CLI ile aynıdır: çalışma süresini desteklediği yerel yükleyicilerden biri veya yükleme komut dosyası aracılığıyla yüklersiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-131">Getting these bits to your machine is the same as with the CLI: you install the runtime via one of the native installers it supports or via its install script.</span></span>

### <a name="different-commands"></a><span data-ttu-id="cf6c6-132">Farklı komutlar</span><span class="sxs-lookup"><span data-stu-id="cf6c6-132">Different commands</span></span>
<span data-ttu-id="cf6c6-133">DNX kullanıyorsanız, üç bölümden birinden (DNX, DNU veya DNVM) bazı komutlar kullandınız.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-133">If you were using DNX, you used some commands from one of its three parts (DNX, DNU or DNVM).</span></span> <span data-ttu-id="cf6c6-134">CLI ile, bu komutların bazıları değişir, bazıları mevcut değildir ve bazıları aynıdır, ancak biraz farklı semantik vardır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-134">With the CLI, some of these commands change, some are not available and some are the same but have slightly different semantics.</span></span>

<span data-ttu-id="cf6c6-135">Aşağıdaki tabloda DNX/DNU komutları ile CLI karşılıkları arasındaki eşleme gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-135">The table below shows the mapping between the DNX/DNU commands and their CLI counterparts.</span></span>

| <span data-ttu-id="cf6c6-136">DNX komutu</span><span class="sxs-lookup"><span data-stu-id="cf6c6-136">DNX command</span></span>                    | <span data-ttu-id="cf6c6-137">CLI komutu</span><span class="sxs-lookup"><span data-stu-id="cf6c6-137">CLI command</span></span>    | <span data-ttu-id="cf6c6-138">Açıklama</span><span class="sxs-lookup"><span data-stu-id="cf6c6-138">Description</span></span>                                                                                                     |
|--------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cf6c6-139">dnx çalıştır</span><span class="sxs-lookup"><span data-stu-id="cf6c6-139">dnx run</span></span>                        | `dotnet run`     | <span data-ttu-id="cf6c6-140">Kodu kaynaktan çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-140">Run code from source.</span></span>                                                                                           |
| <span data-ttu-id="cf6c6-141">dnu yapı</span><span class="sxs-lookup"><span data-stu-id="cf6c6-141">dnu build</span></span>                      | `dotnet build`   | <span data-ttu-id="cf6c6-142">Kodunuzu il ikili oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-142">Build an IL binary of your code.</span></span>                                                                                |
| <span data-ttu-id="cf6c6-143">dnu paketi</span><span class="sxs-lookup"><span data-stu-id="cf6c6-143">dnu pack</span></span>                       | `dotnet pack`    | <span data-ttu-id="cf6c6-144">Kodunuzu bir NuGet paketini paketle.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-144">Package up a NuGet package of your code.</span></span>                                                                        |
| <span data-ttu-id="cf6c6-145">dnx \[komutu] (örneğin, "dnx web")</span><span class="sxs-lookup"><span data-stu-id="cf6c6-145">dnx \[command] (for example, "dnx web")</span></span> | <span data-ttu-id="cf6c6-146">Yok\*</span><span class="sxs-lookup"><span data-stu-id="cf6c6-146">N/A\*</span></span>          | <span data-ttu-id="cf6c6-147">DNX dünyasında, project.json'da tanımlandığı şekilde bir komut çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-147">In DNX world, run a command as defined in the project.json.</span></span>                                                     |
| <span data-ttu-id="cf6c6-148">dnu yükleme</span><span class="sxs-lookup"><span data-stu-id="cf6c6-148">dnu install</span></span>                    | <span data-ttu-id="cf6c6-149">Yok\*</span><span class="sxs-lookup"><span data-stu-id="cf6c6-149">N/A\*</span></span>          | <span data-ttu-id="cf6c6-150">DNX dünyasında, bağımlılık olarak bir paket yükleyin.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-150">In the DNX world, install a package as a dependency.</span></span>                                                            |
| <span data-ttu-id="cf6c6-151">dnu geri yükleme</span><span class="sxs-lookup"><span data-stu-id="cf6c6-151">dnu restore</span></span>                    | `dotnet restore` | <span data-ttu-id="cf6c6-152">Projenizde belirtilen bağımlılıkları geri yükleyin.json.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-152">Restore dependencies specified in your project.json.</span></span> <span data-ttu-id="cf6c6-153">([bkz. not](#dotnet-restore-note))</span><span class="sxs-lookup"><span data-stu-id="cf6c6-153">([see note](#dotnet-restore-note))</span></span>                                                            |
| <span data-ttu-id="cf6c6-154">dnu yayınlamak</span><span class="sxs-lookup"><span data-stu-id="cf6c6-154">dnu publish</span></span>                    | `dotnet publish` | <span data-ttu-id="cf6c6-155">Dağıtım başvurunuzu üç formdan birinde yayımlayın (taşınabilir, yerel ve bağımsız taşınabilir).</span><span class="sxs-lookup"><span data-stu-id="cf6c6-155">Publish your application for deployment in one of the three forms (portable, portable with native and standalone).</span></span> |
| <span data-ttu-id="cf6c6-156">dnu sargı</span><span class="sxs-lookup"><span data-stu-id="cf6c6-156">dnu wrap</span></span>                       | <span data-ttu-id="cf6c6-157">Yok\*</span><span class="sxs-lookup"><span data-stu-id="cf6c6-157">N/A\*</span></span>          | <span data-ttu-id="cf6c6-158">DNX dünyasında, csproj bir project.json sarın.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-158">In DNX world, wrap a project.json in csproj.</span></span>                                                                    |
| <span data-ttu-id="cf6c6-159">dnu komutları</span><span class="sxs-lookup"><span data-stu-id="cf6c6-159">dnu commands</span></span>                   | <span data-ttu-id="cf6c6-160">Yok\*</span><span class="sxs-lookup"><span data-stu-id="cf6c6-160">N/A\*</span></span>          | <span data-ttu-id="cf6c6-161">DNX dünyasında, genel olarak yüklenen komutları yönetin.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-161">In DNX world, manage the globally installed commands.</span></span>                                                           |

<span data-ttu-id="cf6c6-162">(\*) - Bu özellikler CLI'de tasarım gereği desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-162">(\*) - these features are not supported in the CLI by design.</span></span>

## <a name="dnx-features-that-are-not-supported"></a><span data-ttu-id="cf6c6-163">Desteklenmeyen DNX özellikleri</span><span class="sxs-lookup"><span data-stu-id="cf6c6-163">DNX features that are not supported</span></span>
<span data-ttu-id="cf6c6-164">Yukarıdaki tabloda da görüldüğü gibi, DNX dünyasından en azından şimdilik CLI'de desteklememeye karar verdiğimiz özellikler vardır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-164">As the table above shows, there are features from the DNX world that we decided not to support in the CLI, at least for the time being.</span></span> <span data-ttu-id="cf6c6-165">Bu bölüm en önemli olanları gözden geçirilecek ve ihtiyacınız varsa onları desteklememek arkasındaki mantığı ve geçici çözümlerini ana hatlar.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-165">This section will go through the most important ones and outline the rationale behind not supporting them as well as workarounds if you do need them.</span></span>

### <a name="global-commands"></a><span data-ttu-id="cf6c6-166">Genel komutlar</span><span class="sxs-lookup"><span data-stu-id="cf6c6-166">Global commands</span></span>
<span data-ttu-id="cf6c6-167">DNU "küresel komutlar" adı verilen bir kavram ile geldi.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-167">DNU came with a concept called "global commands".</span></span> <span data-ttu-id="cf6c6-168">Bunlar, esasen, uygulamayı çalıştırmak için belirttiğiniz DNX'i çağıracak bir kabuk komut dosyasına sahip NuGet paketleri olarak paketlenmiş konsol uygulamalarıydı.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-168">These were, essentially, console applications packaged up as NuGet packages with a shell script that would invoke the DNX you specified to run the application.</span></span>

<span data-ttu-id="cf6c6-169">CLI bu kavramı desteklemez.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-169">The CLI does not support this concept.</span></span> <span data-ttu-id="cf6c6-170">Ancak, tanıdık `dotnet <command>` sözdizimi kullanılarak çağrılabilecek proje başına komut ekleme kavramını destekler.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-170">It does, however, support the concept of adding per-project commands that can be invoked using the familiar `dotnet <command>` syntax.</span></span>

### <a name="installing-dependencies"></a><span data-ttu-id="cf6c6-171">Bağımlılıkları yükleme</span><span class="sxs-lookup"><span data-stu-id="cf6c6-171">Installing dependencies</span></span>
<span data-ttu-id="cf6c6-172">v1 itibariyle,.NET Core CLI bağımlılıkları `install` yüklemek için bir komut yok.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-172">As of v1, the .NET Core CLI doesn't have an `install` command for installing dependencies.</span></span> <span data-ttu-id="cf6c6-173">NuGet'den bir paket yüklemek için, dosyanıza bağımlılık olarak eklemeniz ve `dotnet restore` ardından çalıştırmanız `project.json` gerekir[(bkz. not).](#dotnet-restore-note)</span><span class="sxs-lookup"><span data-stu-id="cf6c6-173">In order to install a package from NuGet, you would need to add it as a dependency to your `project.json` file and then run `dotnet restore` ([see note](#dotnet-restore-note)).</span></span>

### <a name="running-your-code"></a><span data-ttu-id="cf6c6-174">Kodunuzu çalıştırma</span><span class="sxs-lookup"><span data-stu-id="cf6c6-174">Running your code</span></span>
<span data-ttu-id="cf6c6-175">Kodunuzu çalıştırmanın iki ana yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-175">There are two main ways to run your code.</span></span> <span data-ttu-id="cf6c6-176">Biri kaynaktan, `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-176">One is from source, with `dotnet run`.</span></span> <span data-ttu-id="cf6c6-177">Aksine, `dnx run`bu herhangi bir bellek derleme yapmaz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-177">Unlike `dnx run`, this will not do any in-memory compilation.</span></span> <span data-ttu-id="cf6c6-178">Aslında kodunuzu `dotnet build` oluşturmak ve daha sonra yapılı ikili çalıştırmak için çağırır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-178">It will actually invoke `dotnet build` to build your code and then run the built binary.</span></span>

<span data-ttu-id="cf6c6-179">Başka bir yolu `dotnet` kodunuzu çalıştırmak için kendini kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-179">Another way is using the `dotnet` itself to run your code.</span></span> <span data-ttu-id="cf6c6-180">Bu, derlemenize bir yol sağlayarak `dotnet path/to/an/assembly.dll`yapılır: .</span><span class="sxs-lookup"><span data-stu-id="cf6c6-180">This is done by providing a path to your assembly: `dotnet path/to/an/assembly.dll`.</span></span>

## <a name="migrating-your-dnx-project-to-net-core-cli"></a><span data-ttu-id="cf6c6-181">DNX projenizi .NET Core CLI'ye geçirme</span><span class="sxs-lookup"><span data-stu-id="cf6c6-181">Migrating your DNX project to .NET Core CLI</span></span>
<span data-ttu-id="cf6c6-182">Kodunuzla çalışırken yeni komutlar kullanmanın yanı sıra, DNX'ten geçişte kalan üç önemli şey vardır:</span><span class="sxs-lookup"><span data-stu-id="cf6c6-182">In addition to using new commands when working with your code, there are three major things left in migrating from DNX:</span></span>

1. <span data-ttu-id="cf6c6-183">CLI `global.json` kullanabilmek için dosyayı geçirin.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-183">Migrate the `global.json` file if you have it to be able to use CLI.</span></span>
2. <span data-ttu-id="cf6c6-184">Proje dosyasını (`project.json`) kendisini CLI aracına geçirme.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-184">Migrating the project file (`project.json`) itself to the CLI tooling.</span></span>
3. <span data-ttu-id="cf6c6-185">Herhangi bir DNX API'den BCL karşılıklarına geçiş.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-185">Migrating off of any DNX APIs to their BCL counterparts.</span></span>

### <a name="changing-the-globaljson-file"></a><span data-ttu-id="cf6c6-186">global.json dosyasını değiştirme</span><span class="sxs-lookup"><span data-stu-id="cf6c6-186">Changing the global.json file</span></span>
<span data-ttu-id="cf6c6-187">Dosya, `global.json` hem RC1 hem de RC2 (veya sonraki) projeleri için bir çözüm dosyası gibi davranır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-187">The `global.json` file acts like a solution file for both the RC1 and RC2 (or later) projects.</span></span> <span data-ttu-id="cf6c6-188">.NET Core CLI'nin (ve Visual Studio'nun) RC1 ve sonraki sürümleri `"sdk": { "version" }` arasında ayrım yapabilmesi için, hangi projenin RC1 veya daha sonraki olduğunu ayrımı yapmak için özelliği kullanırlar.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-188">In order for the .NET Core CLI (as well as Visual Studio) to differentiate between RC1 and later versions, they use the `"sdk": { "version" }` property to make the distinction which project is RC1 or later.</span></span> <span data-ttu-id="cf6c6-189">Bu `global.json` düğüm hiç yoksa, en son olduğu varsayılır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-189">If `global.json` doesn't have this node at all, it is assumed to be the latest.</span></span>

<span data-ttu-id="cf6c6-190">Dosyayı `global.json` güncelleştirmek için, bu durumda **1.0.0-preview2-003121:**</span><span class="sxs-lookup"><span data-stu-id="cf6c6-190">In order to update the `global.json` file, either remove the property or set it to the exact version of the tools that you wish to use, in this case **1.0.0-preview2-003121**:</span></span>

```json
{
    "sdk": {
        "version": "1.0.0-preview2-003121"
    }
}
```

### <a name="migrating-the-project-file"></a><span data-ttu-id="cf6c6-191">Proje dosyasını geçirme</span><span class="sxs-lookup"><span data-stu-id="cf6c6-191">Migrating the project file</span></span>

<span data-ttu-id="cf6c6-192">CLI ve DNX her ikisi de dosyaya dayalı `project.json` aynı temel proje sistemini kullanır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-192">The CLI and DNX both use the same basic project system based on `project.json` file.</span></span> <span data-ttu-id="cf6c6-193">Proje dosyasının sözdizimi ve anlambilimi hemen hemen aynıdır ve senaryolara dayalı küçük farklılıklar vardır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-193">The syntax and the semantics of the project file are pretty much the same, with small differences based on the scenarios.</span></span> <span data-ttu-id="cf6c6-194">[Şema dosyasında](http://json.schemastore.org/project)görebileceğiniz şema bazı değişiklikler de vardır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-194">There are also some changes to the schema which you can see in the [schema file](http://json.schemastore.org/project).</span></span>

<span data-ttu-id="cf6c6-195">Bir konsol uygulaması oluşturuyorsanız, proje dosyanıza aşağıdaki snippet'i eklemeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="cf6c6-195">If you are building a console application, you need to add the following snippet to your project file:</span></span>

```json
"buildOptions": {
    "emitEntryPoint": true
}
```

<span data-ttu-id="cf6c6-196">Bu, `dotnet build` uygulamanız için bir giriş noktası yontarak kodunuzu etkili bir şekilde çalıştırılabilir hale getirmenizi emreder.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-196">This instructs `dotnet build` to emit an entry point for your application, effectively making your code runnable.</span></span> <span data-ttu-id="cf6c6-197">Bir sınıf kitaplığı oluşturuyorsanız, yukarıdaki bölümü atlayın.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-197">If you are building a class library, simply omit the above section.</span></span> <span data-ttu-id="cf6c6-198">Tabii ki, dosyanıza `project.json` yukarıdaki snippet ekledikten sonra, statik bir giriş noktası eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-198">Of course, once you add the above snippet to your `project.json` file, you need to add a static entry point.</span></span> <span data-ttu-id="cf6c6-199">DNX'ten uzaklaşmayla, sağladığı DI hizmetleri artık kullanılamıyor ve bu nedenle bunun temel `static void Main()`bir .NET giriş noktası olması gerekiyor: .</span><span class="sxs-lookup"><span data-stu-id="cf6c6-199">With the move off DNX, the DI services it provided are no longer available and thus this needs to be a basic .NET entry point: `static void Main()`.</span></span>

<span data-ttu-id="cf6c6-200">Eğer içinde `project.json`bir "komutlar" bölümü varsa, kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-200">If you have a "commands" section in your `project.json`, you can remove it.</span></span> <span data-ttu-id="cf6c6-201">DNU komutları olarak kullanılan bazı komutlar (Varlık Çerçevesi CLI komutları gibi) CLI'ye proje başına uzantıolarak taşınır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-201">Some of the commands that used to exist as DNU commands, such as Entity Framework CLI commands, are being ported to be per-project extensions to the CLI.</span></span> <span data-ttu-id="cf6c6-202">Projelerinizde kullanmakta olduğunuz kendi komutlarınızı oluşturmuşsanız, bunları CLI uzantılarıyla değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-202">If you built your own commands that you are using in your projects, you need to replace them with CLI extensions.</span></span> <span data-ttu-id="cf6c6-203">Bu durumda, `commands` düğüm düğüm `project.json` tarafından `tools` değiştirilmesi gerekir ve araçları bağımlılıkları listelemek gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-203">In this case, the `commands` node in `project.json` needs to be replaced by the `tools` node and it needs to list the tools dependencies.</span></span>

<span data-ttu-id="cf6c6-204">Bu işler bittikten sonra, uygulama için istediğiniz taşınabilirlik türüne karar vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-204">After these things are done, you need to decide which type of portability you wish for you app.</span></span> <span data-ttu-id="cf6c6-205">.NET Core ile, aralarından seçim yapabileceğiniz taşınabilirlik seçenekleri yelpazesi ni sunmak için yatırım yaptık.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-205">With .NET Core, we have invested into providing a spectrum of portability options that you can choose from.</span></span> <span data-ttu-id="cf6c6-206">Örneğin, tamamen *taşınabilir* bir uygulamaya sahip olmak veya *bağımsız* bir uygulama isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-206">For instance, you may want to have a fully *portable* application or you may want to have a *self-contained* application.</span></span> <span data-ttu-id="cf6c6-207">Taşınabilir uygulama seçeneği daha çok .NET Framework uygulamalarının çalışması gibidir: hedef makinede (.NET Core) çalıştırmak için paylaşılan bir bileşene ihtiyaç duyar.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-207">The portable application option is more like .NET Framework applications work: it needs a shared component to execute it on the target machine (.NET Core).</span></span> <span data-ttu-id="cf6c6-208">Bağımsız uygulama,.NET Core'un hedefe yüklenmesini gerektirmez, ancak desteklemek istediğiniz her işletim sistemi için bir uygulama oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-208">The self-contained application doesn't require .NET Core to be installed on the target, but you have to produce one application for each OS you wish to support.</span></span> <span data-ttu-id="cf6c6-209">Bu taşınabilirlik türleri ve daha fazlası [uygulama taşınabilirlik türü](../deploying/index.md) belgesinde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-209">These portability types and more are discussed in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="cf6c6-210">Ne tür taşınabilirlik istediğinize ilişkin bir arama yaptıktan sonra, hedeflediğiniz çerçeveyi(ler) değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-210">Once you make a call on what type of portability you want, you need to change your targeted framework(s).</span></span> <span data-ttu-id="cf6c6-211">.NET Core için uygulama yazıyorsanız, büyük olasılıkla `dnxcore50` hedeflediğiniz çerçeveyi kullanıyordunuzun.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-211">If you were writing applications for .NET Core, you were most likely using `dnxcore50` as  your targeted framework.</span></span> <span data-ttu-id="cf6c6-212">CLI ve yeni [.NET Standardının](../../standard/net-standard.md) getirdiği değişikliklerle çerçevenin aşağıdakilerden biri olması gerekir:</span><span class="sxs-lookup"><span data-stu-id="cf6c6-212">With the CLI and the changes that the new [.NET Standard](../../standard/net-standard.md) brought, the framework needs to be one of the following:</span></span>

1. <span data-ttu-id="cf6c6-213">`netcoreapp1.0`- .NET Core'da uygulama yazıyorsanız (ASP.NET Çekirdek uygulamaları dahil)</span><span class="sxs-lookup"><span data-stu-id="cf6c6-213">`netcoreapp1.0` - if you are writing applications on .NET Core (including ASP.NET Core applications)</span></span>
2. <span data-ttu-id="cf6c6-214">`netstandard1.6`- .NET Core için sınıf kitaplıkları yazıyorsanız</span><span class="sxs-lookup"><span data-stu-id="cf6c6-214">`netstandard1.6` - if you are writing class libraries for .NET Core</span></span>

<span data-ttu-id="cf6c6-215">Diğer `dnx` hedefleri kullanıyorsanız, `dnx451` bu da değiştirmek gerekir gibi.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-215">If you are using other `dnx` targets, like `dnx451` you will need to change those as well.</span></span> <span data-ttu-id="cf6c6-216">`dnx451`olarak `net451`değiştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-216">`dnx451` should be changed to `net451`.</span></span>
<span data-ttu-id="cf6c6-217">Daha fazla bilgi için lütfen [.NET Standard](../../standard/net-standard.md) konusuna bakın.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-217">Please refer to the [.NET Standard](../../standard/net-standard.md) topic for more information.</span></span>

<span data-ttu-id="cf6c6-218">Senin `project.json` şimdi çoğunlukla hazır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-218">Your `project.json` is now mostly ready.</span></span> <span data-ttu-id="cf6c6-219">Bağımlılıklar listenizi gözden geçirmeniz ve bağımlılıkları yeni sürümlerine güncelleştirmeniz gerekir, özellikle de ASP.NET Temel bağımlılıkları kullanıyorsanız.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-219">You need to go through your dependencies list and update the dependencies to their newer versions, especially if you are using ASP.NET Core dependencies.</span></span> <span data-ttu-id="cf6c6-220">BCL API'leri için ayrı paketler kullanıyorsanız, [uygulama taşınabilirlik türü](../deploying/index.md) belgesinde açıklandığı gibi çalışma zamanı paketini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-220">If you were using separate packages for BCL APIs, you can use the runtime package as explained in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="cf6c6-221">Hazır olduktan sonra, geri `dotnet restore` ödemeyi deneyebilirsiniz ([bkz. not).](#dotnet-restore-note)</span><span class="sxs-lookup"><span data-stu-id="cf6c6-221">Once you are ready, you can try restoring with `dotnet restore` ([see note](#dotnet-restore-note)).</span></span> <span data-ttu-id="cf6c6-222">Bağımlılıklarınızın sürümüne bağlı olarak, NuGet yukarıdaki hedeflenen çerçevelerden birinin bağımlılıklarını çözemiyorsa hatalarla karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-222">Depending on the version of your dependencies, you may encounter errors if NuGet cannot resolve the dependencies for one of the targeted frameworks above.</span></span> <span data-ttu-id="cf6c6-223">Bu bir "nokta-in-time" sorundur; Zaman ilerledikçe, daha fazla paket bu çerçeveler için destek içerecektir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-223">This is a "point-in-time" problem; as time progresses, more and more packages will include support for these frameworks.</span></span> <span data-ttu-id="cf6c6-224">Şimdilik, bu ile çalışırsanız, nuget'e `framework` "içeri alma" deyimi içinde çerçeveyi hedefleyen paketleri geri yükleyebileceğini belirtmek için düğüm içindeki `imports` deyimi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-224">For now, if you run into this, you can use the `imports` statement within the `framework` node to specify to NuGet that it can restore the packages targeting the framework within the "imports" statement.</span></span>
<span data-ttu-id="cf6c6-225">Bu durumda elde ettiğiniz geri alma hataları, hangi çerçeveleri içe aktarmanız gerektiğini size bildirmek için yeterli bilgi sağlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-225">The restoring errors you get in this case should provide enough information to tell you which frameworks you need to import.</span></span> <span data-ttu-id="cf6c6-226">Eğer biraz kayıp ya da bu yeni iseniz, `dnxcore50` `portable-net45+win8` genel `imports` olarak, belirtme ve deyimi hile yapmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-226">If you are slightly lost or new to this, in general, specifying `dnxcore50` and `portable-net45+win8` in the `imports` statement should do the trick.</span></span> <span data-ttu-id="cf6c6-227">Aşağıdaki JSON snippet bu nasıl göründüğünü gösterir:</span><span class="sxs-lookup"><span data-stu-id="cf6c6-227">The JSON snippet below shows how this looks like:</span></span>

```json
    "frameworks": {
        "netcoreapp1.0": {
            "imports": ["dnxcore50", "portable-net45+win8"]
        }
    }
```

<span data-ttu-id="cf6c6-228">Çok `dotnet build` fazla olmaması gerekirken, çalıştırma herhangi bir nihai yapı hatası gösterir.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-228">Running `dotnet build` will show any eventual build errors, though there shouldn't be too many of them.</span></span> <span data-ttu-id="cf6c6-229">Kodunuz düzgün bir şekilde inşa edilip çalıştırıladıktan sonra, koşucuyla test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-229">After your code is building and running properly, you can test it out with the runner.</span></span> <span data-ttu-id="cf6c6-230">Çalıştırın `dotnet <path-to-your-assembly>` ve çalıştırın bakın.</span><span class="sxs-lookup"><span data-stu-id="cf6c6-230">Execute `dotnet <path-to-your-assembly>` and see it run.</span></span>

<a name="dotnet-restore-note"></a>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]
