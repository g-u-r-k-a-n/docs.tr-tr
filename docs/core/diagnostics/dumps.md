---
title: Dökümler-.NET
description: .NET ' te döküme giriş.
ms.date: 10/12/2020
ms.openlocfilehash: a5f12837e81edc82f420f7b325b0248f9f8989a3
ms.sourcegitcommit: 0802ac583585110022beb6af8ea0b39188b77c43
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/25/2020
ms.locfileid: "96034833"
---
# <a name="dumps"></a><span data-ttu-id="7db5d-103">Dökümleri</span><span class="sxs-lookup"><span data-stu-id="7db5d-103">Dumps</span></span>

<span data-ttu-id="7db5d-104">Döküm, oluşturulduğu sırada işlemin anlık görüntüsünü içeren ve uygulamanızın durumunu incelemek için yararlı olabilecek bir dosyadır.</span><span class="sxs-lookup"><span data-stu-id="7db5d-104">A dump is a file that contains a snapshot of the process at the time it was created and can be useful for examining the state of your application.</span></span> <span data-ttu-id="7db5d-105">Dökümler, üretim veya CI ortamları gibi bir hata ayıklayıcı eklemek zor olduğunda .NET uygulamanızda hata ayıklamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-105">Dumps can be used to debug your .NET application when it is difficult to attach a debugger to it such as production or CI environments.</span></span> <span data-ttu-id="7db5d-106">Dökümleri kullanmak, sorunlu işlemin durumunu yakalamanızı ve uygulamayı durdurmak zorunda kalmadan incelemenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="7db5d-106">Using dumps allows you to capture the state of the problematic process and examine it without having to stop the application.</span></span>

## <a name="collect-dumps"></a><span data-ttu-id="7db5d-107">Dökümleri topla</span><span class="sxs-lookup"><span data-stu-id="7db5d-107">Collect dumps</span></span>

<span data-ttu-id="7db5d-108">Dökümler, uygulamanızı çalıştırdığınız platforma bağlı olarak çeşitli yollarla toplanabilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-108">Dumps can be collected in a variety of ways depending on which platform you are running your app on.</span></span>

> [!NOTE]
> <span data-ttu-id="7db5d-109">Bir kapsayıcının içinde döküm toplama, veya aracılığıyla eklenebilen PTRACE özelliği gerektirir `--cap-add=SYS_PTRACE` `--privileged` .</span><span class="sxs-lookup"><span data-stu-id="7db5d-109">Collecting a dump inside a container requires PTRACE capability, which can be added via `--cap-add=SYS_PTRACE` or `--privileged`.</span></span>

> [!NOTE]
> <span data-ttu-id="7db5d-110">Dökümler, çalışan işlemin tam belleğini içerebildiğinden gizli bilgiler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-110">Dumps may contain sensitive information because they can contain the full memory of the running process.</span></span> <span data-ttu-id="7db5d-111">Bunları herhangi bir güvenlik kısıtlaması ve gudances ile işleyin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-111">Handle them with any security restrictions and guidances in mind.</span></span>

### <a name="collecting-dumps-on-crash"></a><span data-ttu-id="7db5d-112">Kilitlenme durumunda dökümleri toplama</span><span class="sxs-lookup"><span data-stu-id="7db5d-112">Collecting dumps on crash</span></span>

<span data-ttu-id="7db5d-113">Uygulamanızı kilitlenme sonrasında döküm toplayacak şekilde yapılandırmak için ortam değişkenlerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7db5d-113">You can use environment variables to configure your application to collect a dump upon a crash.</span></span> <span data-ttu-id="7db5d-114">Bu, neden çökme oluştuğunu anlamak istediğinizde yararlı olur.</span><span class="sxs-lookup"><span data-stu-id="7db5d-114">This is helpful when you want to get an understanding of why a crash happened.</span></span> <span data-ttu-id="7db5d-115">Örneğin, bir özel durum oluştuğunda döküm yakalama, kilitlendikçe uygulamanın durumunu inceleyerek bir sorunu belirlemenize yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="7db5d-115">For example, capturing a dump when an exception is thrown helps you identify an issue by examining the state of the app when it crashed.</span></span>

<span data-ttu-id="7db5d-116">Aşağıdaki tabloda, kilitlenme üzerinde dökümleri toplamak için yapılandırabileceğiniz ortam değişkenleri gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-116">The following table shows the environment variables you can configure for collecting dumps on a crash.</span></span>

|<span data-ttu-id="7db5d-117">Ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="7db5d-117">Environment variable</span></span>|<span data-ttu-id="7db5d-118">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7db5d-118">Description</span></span>|<span data-ttu-id="7db5d-119">Varsayılan değer</span><span class="sxs-lookup"><span data-stu-id="7db5d-119">Default value</span></span>|
|-------|---------|---|
|`COMPlus_DbgEnableMiniDump`|<span data-ttu-id="7db5d-120">1 olarak ayarlanırsa, temel döküm oluşturmayı etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-120">If set to 1, enable core dump generation.</span></span>|<span data-ttu-id="7db5d-121">0</span><span class="sxs-lookup"><span data-stu-id="7db5d-121">0</span></span>|
|`COMPlus_DbgMiniDumpType`|<span data-ttu-id="7db5d-122">Toplanacak döküm türü.</span><span class="sxs-lookup"><span data-stu-id="7db5d-122">Type of dump to be collected.</span></span> <span data-ttu-id="7db5d-123">Daha fazla bilgi için aşağıdaki tabloya bakın</span><span class="sxs-lookup"><span data-stu-id="7db5d-123">For more information, see the table below</span></span>|<span data-ttu-id="7db5d-124">2 ( `MiniDumpWithPrivateReadWriteMemory` )</span><span class="sxs-lookup"><span data-stu-id="7db5d-124">2 (`MiniDumpWithPrivateReadWriteMemory`)</span></span>|
|`COMPlus_DbgMiniDumpName`|<span data-ttu-id="7db5d-125">Döküm yazılacak dosyanın yolu.</span><span class="sxs-lookup"><span data-stu-id="7db5d-125">Path to a file to write the dump to.</span></span>|`/tmp/coredump.<pid>`|
|`COMPlus_CreateDumpDiagnostics`|<span data-ttu-id="7db5d-126">1 olarak ayarlanırsa, döküm işleminin tanılama günlüğünü etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-126">If set to 1, enable diagnostic logging of dump process.</span></span>|<span data-ttu-id="7db5d-127">0</span><span class="sxs-lookup"><span data-stu-id="7db5d-127">0</span></span>|

<span data-ttu-id="7db5d-128">Aşağıdaki tabloda, için, `COMPlus_DbgMiniDumpType` bir değer olarak belirtime için kullanabileceğiniz tüm seçenekler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-128">The table below shows all the options you may use for `COMPlus_DbgMiniDumpType` which can be specified as a value.</span></span> <span data-ttu-id="7db5d-129">Örneğin, `COMPlus_DbgMiniDumpType` 1 olarak ayarlandığında, `MiniDumpNormal` kilitlenme üzerinde tür dökümü toplanacaktır.</span><span class="sxs-lookup"><span data-stu-id="7db5d-129">For example, setting `COMPlus_DbgMiniDumpType` to 1 means `MiniDumpNormal` type dump will be collected on a crash.</span></span>

|<span data-ttu-id="7db5d-130">Değer</span><span class="sxs-lookup"><span data-stu-id="7db5d-130">Value</span></span>|<span data-ttu-id="7db5d-131">Ad</span><span class="sxs-lookup"><span data-stu-id="7db5d-131">Name</span></span>|<span data-ttu-id="7db5d-132">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7db5d-132">Description</span></span>|
|-----|----|-----------|
|<span data-ttu-id="7db5d-133">1</span><span class="sxs-lookup"><span data-stu-id="7db5d-133">1</span></span>|`MiniDumpNormal`|<span data-ttu-id="7db5d-134">Yalnızca bir işlemdeki mevcut tüm iş parçacıkları için yığın izlemelerini yakalamak için gereken bilgileri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-134">Include just the information necessary to capture stack traces for all existing threads in a process.</span></span> <span data-ttu-id="7db5d-135">Sınırlı GC yığın belleği ve bilgileri.</span><span class="sxs-lookup"><span data-stu-id="7db5d-135">Limited GC heap memory and information.</span></span>|
|<span data-ttu-id="7db5d-136">2</span><span class="sxs-lookup"><span data-stu-id="7db5d-136">2</span></span>|`MiniDumpWithPrivateReadWriteMemory`|<span data-ttu-id="7db5d-137">Bir işlemdeki tüm mevcut iş parçacıkları için yığın izlemelerini yakalamak için gereken GC yığınlarını ve bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-137">Includes the GC heaps and information necessary to capture stack traces for all existing threads in a process.</span></span>|
|<span data-ttu-id="7db5d-138">3</span><span class="sxs-lookup"><span data-stu-id="7db5d-138">3</span></span>|`MiniDumpFilterTriage`|<span data-ttu-id="7db5d-139">Yalnızca bir işlemdeki mevcut tüm iş parçacıkları için yığın izlemelerini yakalamak için gereken bilgileri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-139">Include just the information necessary to capture stack traces for all existing threads in a process.</span></span> <span data-ttu-id="7db5d-140">Sınırlı GC yığın belleği ve bilgileri.</span><span class="sxs-lookup"><span data-stu-id="7db5d-140">Limited GC heap memory and information.</span></span>|
|<span data-ttu-id="7db5d-141">4</span><span class="sxs-lookup"><span data-stu-id="7db5d-141">4</span></span>|`MiniDumpWithFullMemory`|<span data-ttu-id="7db5d-142">İşlemdeki tüm erişilebilir belleği dahil edin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-142">Include all accessible memory in the process.</span></span> <span data-ttu-id="7db5d-143">Ham bellek verileri sonuna dahildir, böylece ilk yapılar ham bellek bilgileri olmadan doğrudan eşleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-143">The raw memory data is included at the end, so that the initial structures can be mapped directly without the raw memory information.</span></span> <span data-ttu-id="7db5d-144">Bu seçenek çok büyük bir dosyanın oluşmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-144">This option can result in a very large file.</span></span>|

### <a name="collecting-dumps-at-specific-point-in-time"></a><span data-ttu-id="7db5d-145">Belirli bir zaman noktasında dökümleri toplama</span><span class="sxs-lookup"><span data-stu-id="7db5d-145">Collecting dumps at specific point in time</span></span>

<span data-ttu-id="7db5d-146">Uygulama henüz kilitlenmemişse bir döküm toplamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7db5d-146">You may want to collect a dump when the app hasn't crashed yet.</span></span> <span data-ttu-id="7db5d-147">Örneğin, bir kilitlenmeyle gibi görünen bir uygulamanın durumunu incelemek isterseniz, uygulama hala çalıştığından, kilitlenme üzerinde dökümleri toplamak üzere ortam değişkenlerini yapılandırmak yararlı olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="7db5d-147">For example, if you want to examine the state of an application that seems to be in a deadlock, configuring the environment variables to collect dumps on crash will not be helpful because the app is still running.</span></span>

<span data-ttu-id="7db5d-148">Kendi isteğinizin dökümünü toplamak için, `dotnet-dump` dökümleri toplamak ve analiz etmek için BIR CLI aracı olan kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7db5d-148">To collect dump at your own request, you can use `dotnet-dump`, which is a CLI tool for collecting and analyzing dumps.</span></span> <span data-ttu-id="7db5d-149">İle dökümleri toplamak üzere kullanma hakkında daha fazla bilgi için `dotnet-dump` bkz. [döküm toplama ve analiz yardımcı programı](dotnet-dump.md).</span><span class="sxs-lookup"><span data-stu-id="7db5d-149">For more information on how to use it to collect dumps with `dotnet-dump`, see [Dump collection and analysis utility](dotnet-dump.md).</span></span>

### <a name="types-of-dumps-in-net"></a><span data-ttu-id="7db5d-150">.NET 'teki döküm türleri</span><span class="sxs-lookup"><span data-stu-id="7db5d-150">Types of dumps in .NET</span></span>

<span data-ttu-id="7db5d-151">Amaca göre farklı döküm türleri toplayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7db5d-151">You can collect different types of the dump depending on the purpose.</span></span> <span data-ttu-id="7db5d-152">Bu, `COMPlus_DbgMiniDumpType` ortam değişkeni kullanılırken veya `--type` kullandığınız zaman bayrağıyla yapılandırılabilir `dotnet-dump` .</span><span class="sxs-lookup"><span data-stu-id="7db5d-152">This can be configured with the `COMPlus_DbgMiniDumpType` when using environment variable, or the `--type` flag when you are using `dotnet-dump`.</span></span> <span data-ttu-id="7db5d-153">Aşağıdaki tabloda .NET 'te toplayacağınız dökümlerinin türleri gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-153">The following table shows the types of dumps you can collect in .NET.</span></span>

|<span data-ttu-id="7db5d-154">Değer</span><span class="sxs-lookup"><span data-stu-id="7db5d-154">Value</span></span>|<span data-ttu-id="7db5d-155">Ad</span><span class="sxs-lookup"><span data-stu-id="7db5d-155">Name</span></span>|<span data-ttu-id="7db5d-156">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7db5d-156">Description</span></span>|
|-----|----|-----------|
|<span data-ttu-id="7db5d-157">1</span><span class="sxs-lookup"><span data-stu-id="7db5d-157">1</span></span>|`MiniDumpNormal`|<span data-ttu-id="7db5d-158">Yalnızca bir işlemdeki mevcut tüm iş parçacıkları için yığın izlemelerini yakalamak için gereken bilgileri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-158">Include just the information necessary to capture stack traces for all existing threads in a process.</span></span> <span data-ttu-id="7db5d-159">Sınırlı GC yığın belleği ve bilgileri.</span><span class="sxs-lookup"><span data-stu-id="7db5d-159">Limited GC heap memory and information.</span></span>|
|<span data-ttu-id="7db5d-160">2</span><span class="sxs-lookup"><span data-stu-id="7db5d-160">2</span></span>|`MiniDumpWithPrivateReadWriteMemory`|<span data-ttu-id="7db5d-161">Bir işlemdeki tüm mevcut iş parçacıkları için yığın izlemelerini yakalamak için gereken GC yığınlarını ve bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-161">Includes the GC heaps and information necessary to capture stack traces for all existing threads in a process.</span></span>|
|<span data-ttu-id="7db5d-162">3</span><span class="sxs-lookup"><span data-stu-id="7db5d-162">3</span></span>|`MiniDumpFilterTriage`|<span data-ttu-id="7db5d-163">Yalnızca bir işlemdeki mevcut tüm iş parçacıkları için yığın izlemelerini yakalamak için gereken bilgileri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-163">Include just the information necessary to capture stack traces for all existing threads in a process.</span></span> <span data-ttu-id="7db5d-164">Sınırlı GC yığın belleği ve bilgileri.</span><span class="sxs-lookup"><span data-stu-id="7db5d-164">Limited GC heap memory and information.</span></span>|
|<span data-ttu-id="7db5d-165">4</span><span class="sxs-lookup"><span data-stu-id="7db5d-165">4</span></span>|`MiniDumpWithFullMemory`|<span data-ttu-id="7db5d-166">İşlemdeki tüm erişilebilir belleği dahil edin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-166">Include all accessible memory in the process.</span></span> <span data-ttu-id="7db5d-167">Ham bellek verileri sonuna dahildir, böylece ilk yapılar ham bellek bilgileri olmadan doğrudan eşleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-167">The raw memory data is included at the end, so that the initial structures can be mapped directly without the raw memory information.</span></span> <span data-ttu-id="7db5d-168">Bu seçenek çok büyük bir dosyanın oluşmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-168">This option can result in a very large file.</span></span>|

## <a name="analyze-dumps"></a><span data-ttu-id="7db5d-169">Dökümleri çözümle</span><span class="sxs-lookup"><span data-stu-id="7db5d-169">Analyze dumps</span></span>

<span data-ttu-id="7db5d-170">Dökümler kullanılarak analiz edilebilir [`dotnet-dump`](dotnet-dump.md) .</span><span class="sxs-lookup"><span data-stu-id="7db5d-170">Dumps can be analyzed using [`dotnet-dump`](dotnet-dump.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="7db5d-171">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="7db5d-171">See also</span></span>

<span data-ttu-id="7db5d-172">.NET uygulamanızdaki sorunları tanılamanıza yardımcı olması için dökümleri nasıl kullanabileceğinizi öğrenin.</span><span class="sxs-lookup"><span data-stu-id="7db5d-172">Learn more about how you can leverage dumps to help diagnosing problems in your .NET application.</span></span>

* <span data-ttu-id="7db5d-173">[Linux dökümleri hata ayıklama](debug-linux-dumps.md) öğreticisinde, Linux 'ta toplanan bir dökümde hata ayıklama işlemi adım adım gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-173">[Debug Linux dumps](debug-linux-dumps.md) tutorial walks you through how to debug a dump that was collected in Linux.</span></span>

* <span data-ttu-id="7db5d-174">[Hata ayıklama kilitlenmesi](debug-deadlock.md) öğreticisinde, dökümleri kullanarak .net uygulamanızda kilitlenmeyle hata ayıklama işlemi adım adım gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="7db5d-174">[Debug deadlock](debug-deadlock.md) tutorial walks you through how to debug a deadlock in your .NET application using dumps.</span></span>
