---
title: Tek Yapılı Uygulamaları Kapsayıcıya Alma
description: Monolitik uygulamaları konteynerleme, mikro hizmetler mimarisinden tüm avantajları elde etmese de, hemen teslim edilebilen önemli dağıtım avantajlarına sahiptir.
ms.date: 01/30/2020
ms.openlocfilehash: 0e6f7504a91d2b1a89193471746168fc34f50956
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "77503275"
---
# <a name="containerizing-monolithic-applications"></a><span data-ttu-id="45fe7-103">Tek Yapılı Uygulamaları Kapsayıcıya Alma</span><span class="sxs-lookup"><span data-stu-id="45fe7-103">Containerizing monolithic applications</span></span>

<span data-ttu-id="45fe7-104">Tek, tek bir, monolitik olarak dağıtılan bir web uygulaması veya hizmeti oluşturmak ve bunu bir kapsayıcı olarak dağıtmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-104">You might want to build a single, monolithically deployed web application or service and deploy it as a container.</span></span> <span data-ttu-id="45fe7-105">Uygulamanın kendisi dahili olarak yekpare olmayabilir, ancak çeşitli kitaplıklar, bileşenler ve hatta katmanlar (uygulama katmanı, etki alanı katmanı, veri erişim katmanı, vb.) olarak yapılandırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-105">The application itself might not be internally monolithic, but structured as several libraries, components, or even layers (application layer, domain layer, data-access layer, etc.).</span></span> <span data-ttu-id="45fe7-106">Ancak, harici olarak, tek bir kapsayıcı- tek bir işlem, tek bir web uygulaması veya tek bir hizmet.</span><span class="sxs-lookup"><span data-stu-id="45fe7-106">Externally, however, it's a single container—a single process, a single web application, or a single service.</span></span>

<span data-ttu-id="45fe7-107">Bu modeli yönetmek için, uygulamayı temsil etmek için tek bir kapsayıcı dağıtın.</span><span class="sxs-lookup"><span data-stu-id="45fe7-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="45fe7-108">Kapasiteyi artırmak için, ölçeklendirin, yani önünde bir yük dengeleyicisi ile daha fazla kopya ekleyin.</span><span class="sxs-lookup"><span data-stu-id="45fe7-108">To increase capacity, you scale out, that is, just add more copies with a load balancer in front.</span></span> <span data-ttu-id="45fe7-109">Basitlik, tek bir kapsayıcıda veya VM'de tek bir dağıtımın yönetilmesinden gelir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-109">The simplicity comes from managing a single deployment in a single container or VM.</span></span>

![Yekpare kapsayıcı uygulamanın bileşenlerini gösteren diyagram.](./media/containerize-monolithic-applications/monolithic-containerized-application.png)

<span data-ttu-id="45fe7-111">**Şekil 4-1**.</span><span class="sxs-lookup"><span data-stu-id="45fe7-111">**Figure 4-1**.</span></span> <span data-ttu-id="45fe7-112">Konteynerleştirilmiş yekpare bir uygulamanın mimarisiörneği</span><span class="sxs-lookup"><span data-stu-id="45fe7-112">Example of the architecture of a containerized monolithic application</span></span>

<span data-ttu-id="45fe7-113">Şekil 4-1'de gösterildiği gibi, her kapsayıcıya birden çok bileşen, kitaplık veya dahili katman ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-113">You can include multiple components, libraries, or internal layers in each container, as illustrated in Figure 4-1.</span></span> <span data-ttu-id="45fe7-114">Yekpare kapsayıcılı bir uygulama, işlevselliğinin çoğunu dahili katmanları veya kitaplıkları olan tek bir kapsayıcı içinde kullanır ve kapsayıcıyı birden çok sunucu/VM'de klonlayarak ölçeklendirebilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-114">A monolithic containerized application has most of its functionality within a single container, with internal layers or libraries, and scales out by cloning the container on multiple servers/VMs.</span></span> <span data-ttu-id="45fe7-115">Ancak, bu yekpare desen kapsayıcı ilkesi ile çakışabilir "bir kapsayıcı bir şey yapar ve tek bir işlemde yapar", ancak bazı durumlarda tamam olabilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-115">However, this monolithic pattern might conflict with the container principle "a container does one thing, and does it in one process", but might be ok for some cases.</span></span>

<span data-ttu-id="45fe7-116">Uygulama büyürse, ölçeklendirmeyi gerektiren bu yaklaşımın dezavantajı belirgin hale gelir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-116">The downside of this approach becomes evident if the application grows, requiring it to scale.</span></span> <span data-ttu-id="45fe7-117">Tüm uygulama ölçeklendirebiliyorsa, bu gerçekten bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-117">If the entire application can scale, it isn't really a problem.</span></span> <span data-ttu-id="45fe7-118">Ancak, çoğu durumda, uygulamanın sadece birkaç bölümü ölçekleme gerektiren boğma noktalarıdır, diğer bileşenler ise daha az kullanılır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-118">However, in most cases, just a few parts of the application are the choke points that requiring scaling, while other components are used less.</span></span>

<span data-ttu-id="45fe7-119">Örneğin, tipik bir e-ticaret uygulamasında, ürün bilgileri alt sistemini ölçeklendirmeniz gerekir, çünkü çok daha fazla müşteri ürünleri satın almaktan daha fazla sınar.</span><span class="sxs-lookup"><span data-stu-id="45fe7-119">For example, in a typical e-commerce application, you likely need to scale the product information subsystem, because many more customers browse products than purchase them.</span></span> <span data-ttu-id="45fe7-120">Sepetlerini ödeme ardışık hattını kullanmaktan daha fazla müşteri kullanır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-120">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="45fe7-121">Daha az müşteri yorum ekler veya satın alma geçmişini görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="45fe7-121">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="45fe7-122">Ayrıca, içeriği ve pazarlama kampanyalarını yönetmesi gereken yalnızca bir avuç çalışanA sahip olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-122">And you might have only a handful of employees that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="45fe7-123">Yekpare tasarımı ölçeklendirin, bu farklı görevlerin tüm kodu birden çok kez dağıtılır ve aynı sınıfta ölçeklendirilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-123">If you scale the monolithic design, all the code for these different tasks is deployed multiple times and scaled at the same grade.</span></span>

<span data-ttu-id="45fe7-124">Uygulama yatay yinelemesini ölçeklendirmenin, uygulamanın farklı alanlarını bölmenin ve benzer iş kavramlarını veya verilerin bölümlenmesini ölçeklendirmenin birden çok yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-124">There are multiple ways to scale an application-horizontal duplication, splitting different areas of the application, and partitioning similar business concepts or data.</span></span> <span data-ttu-id="45fe7-125">Ancak, tüm bileşenleri ölçekleme sorununa ek olarak, tek bir bileşendeki değişiklikler tüm uygulamanın tam olarak yeniden test edilmesini ve tüm örneklerin tam olarak yeniden dağıtılmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-125">But, in addition to the problem of scaling all components, changes to a single component require complete retesting of the entire application, and a complete redeployment of all the instances.</span></span>

<span data-ttu-id="45fe7-126">Ancak, uygulamanın geliştirilmesi başlangıçta mikro hizmetler yaklaşımları için daha kolay olduğundan, monolitik yaklaşım yaygındır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-126">However, the monolithic approach is common, because the development of the application is initially easier than for microservices approaches.</span></span> <span data-ttu-id="45fe7-127">Böylece birçok kuruluş bu mimari yaklaşımı kullanarak gelişir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-127">Thus, many organizations develop using this architectural approach.</span></span> <span data-ttu-id="45fe7-128">Bazı kuruluşlar yeterince iyi sonuçlar elde ederken, diğerleri sınırları vuruyor.</span><span class="sxs-lookup"><span data-stu-id="45fe7-128">While some organizations have had good enough results, others are hitting limits.</span></span> <span data-ttu-id="45fe7-129">Araçlar ve altyapı yıllar önce hizmet odaklı mimariler (SOA) oluşturmayı çok zorlaştırdığı ve uygulama büyüyene kadar ihtiyacı görmedikleri için birçok kuruluş uygulamalarını bu modeli kullanarak tasarladı.</span><span class="sxs-lookup"><span data-stu-id="45fe7-129">Many organizations designed their applications using this model because tools and infrastructure made it too difficult to build service-oriented architectures (SOA) years ago, and they did not see the need-until the application grew.</span></span>

<span data-ttu-id="45fe7-130">Altyapı açısından bakıldığında, her sunucu aynı ana bilgisayar içinde birçok uygulama çalıştırabilir ve Şekil 4-2'de gösterildiği gibi kaynak kullanımında kabul edilebilir bir verimlilik oranına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-130">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in resources usage, as shown in Figure 4-2.</span></span>

![Bir ana bilgisayarın kaplarda birçok uygulama çalıştırdiğini gösteren diyagram.](./media/containerize-monolithic-applications/host-multiple-apps-containers.png)

<span data-ttu-id="45fe7-132">**Şekil 4-2**.</span><span class="sxs-lookup"><span data-stu-id="45fe7-132">**Figure 4-2**.</span></span> <span data-ttu-id="45fe7-133">Monolitik yaklaşım: Birden çok uygulamayı çalıştıran ana bilgisayar, her uygulama kapsayıcı olarak çalışıyor</span><span class="sxs-lookup"><span data-stu-id="45fe7-133">Monolithic approach: Host running multiple apps, each app running as a container</span></span>

<span data-ttu-id="45fe7-134">Microsoft Azure'daki monolitik uygulamalar her örnek için özel VM'ler kullanılarak dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-134">Monolithic applications in Microsoft Azure can be deployed using dedicated VMs for each instance.</span></span> <span data-ttu-id="45fe7-135">Ayrıca, [Azure sanal makine ölçek kümelerini](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/)kullanarak Sanal Makineler'i kolayca ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-135">Additionally, using [Azure virtual machine scale sets](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/), you can easily scale the VMs.</span></span> <span data-ttu-id="45fe7-136">[Azure Uygulama Hizmeti,](https://azure.microsoft.com/services/app-service/) VM'leri yönetmenize gerek kalmadan yekpare uygulamalar ve kolayca ölçeklendirilebilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-136">[Azure App Service](https://azure.microsoft.com/services/app-service/) can also run monolithic applications and easily scale instances without requiring you to manage the VMs.</span></span> <span data-ttu-id="45fe7-137">Azure Uygulama Hizmetleri, 2016 yılından bu yana tek sayıda Docker kapsayıcısı örneğini çalıştırarak dağıtımı basitleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-137">Since 2016, Azure App Services can run single instances of Docker containers as well, simplifying deployment.</span></span>

<span data-ttu-id="45fe7-138">QA ortamı veya sınırlı bir üretim ortamı olarak, şekil 4-3'te gösterildiği gibi birden çok Docker ana bilgisayar VM'si dağıtabilir ve Azure dengeleyicisini kullanarak bunları dengeleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-138">As a QA environment or a limited production environment, you can deploy multiple Docker host VMs and balance them using the Azure balancer, as shown in Figure 4-3.</span></span> <span data-ttu-id="45fe7-139">Bu, tüm uygulama tek bir kapsayıcı içinde yaşadığından, ölçeklemeyi kaba bir gren yaklaşımıyla yönetmenize olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-139">This lets you manage scaling with a coarse-grain approach, because the whole application lives within a single container.</span></span>

![Yekpare uygulama kaplarını çalıştıran birkaç ana bilgisayar ını gösteren diyagram.](./media/containerize-monolithic-applications/docker-infrastructure-monolithic-application.png)

<span data-ttu-id="45fe7-141">**Şekil 4-3**.</span><span class="sxs-lookup"><span data-stu-id="45fe7-141">**Figure 4-3**.</span></span> <span data-ttu-id="45fe7-142">Tek bir kapsayıcı uygulamasını ölçekleme birden çok ana bilgisayar örneği</span><span class="sxs-lookup"><span data-stu-id="45fe7-142">Example of multiple hosts scaling up a single container application</span></span>

<span data-ttu-id="45fe7-143">Çeşitli ana bilgisayarlara dağıtım geleneksel dağıtım teknikleri ile yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-143">Deployment to the various hosts can be managed with traditional deployment techniques.</span></span> <span data-ttu-id="45fe7-144">Docker ana bilgisayarları gibi `docker run` komutlarla veya `docker-compose` el ile gerçekleştirilen komutlarla veya sürekli teslimat (CD) ardışık hatları gibi otomasyonla yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-144">Docker hosts can be managed with commands like `docker run` or `docker-compose` performed manually, or through automation such as continuous delivery (CD) pipelines.</span></span>

## <a name="deploying-a-monolithic-application-as-a-container"></a><span data-ttu-id="45fe7-145">Yekpare bir uygulamayı kapsayıcı olarak dağıtma</span><span class="sxs-lookup"><span data-stu-id="45fe7-145">Deploying a monolithic application as a container</span></span>

<span data-ttu-id="45fe7-146">Yekpare uygulama dağıtımlarını yönetmek için kapsayıcıkullanmanın yararları vardır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-146">There are benefits to using containers to manage monolithic application deployments.</span></span> <span data-ttu-id="45fe7-147">Kapsayıcı örneklerini ölçekleme, ek VM'leri dağıtmaktan çok daha hızlı ve kolaydır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-147">Scaling container instances is far faster and easier than deploying additional VMs.</span></span> <span data-ttu-id="45fe7-148">Sanal makine ölçek kümeleri kullansanız bile, VM'lerin başlaması zaman alır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-148">Even if you use virtual machine scale sets, VMs take time to start.</span></span> <span data-ttu-id="45fe7-149">Kapsayıcılar yerine geleneksel uygulama örnekleri olarak dağıtıldığında, uygulamanın yapılandırması ideal olmayan VM'nin bir parçası olarak yönetilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-149">When deployed as traditional application instances instead of containers, the configuration of the application is managed as part of the VM, which isn't ideal.</span></span>

<span data-ttu-id="45fe7-150">Docker görüntüleri olarak güncellemeleri dağıtmak çok daha hızlı ve ağ verimlidir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-150">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="45fe7-151">Docker görüntüleri genellikle saniyeler içinde başlar ve bu da piyasaya çıkma hızlarını hızlandırR.</span><span class="sxs-lookup"><span data-stu-id="45fe7-151">Docker images typically start in seconds, which speeds rollouts.</span></span> <span data-ttu-id="45fe7-152">Docker görüntü örneğini yıkmak komut vermek `docker stop` kadar kolaydır ve genellikle bir saniyeden kısa sürede tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-152">Tearing down a Docker image instance is as easy as issuing a `docker stop` command, and typically completes in less than a second.</span></span>

<span data-ttu-id="45fe7-153">Kapsayıcılar tasarım gereği değişmez olduğundan, bozuk VM'ler hakkında endişelenmenize gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="45fe7-153">Because containers are immutable by design, you never need to worry about corrupted VMs.</span></span> <span data-ttu-id="45fe7-154">Buna karşılık, bir VM için güncelleştirme komut dosyaları diskte bırakılan belirli bir yapılandırma veya dosya için hesap unutabilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-154">In contrast, update scripts for a VM might forget to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="45fe7-155">Monolitik uygulamalar Docker'dan fayda lanabilirken, sadece avantajlara değiniyoruz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-155">While monolithic applications can benefit from Docker, we're touching only on the benefits.</span></span> <span data-ttu-id="45fe7-156">Kapsayıcıları yönetmenin ek avantajları, her konteyner örneğinin çeşitli örneklerini ve yaşam döngüsünü yöneten konteyner orkestratörleri ile dağıtımdan gelir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-156">Additional benefits of managing containers come from deploying with container orchestrators, which manage the various instances and lifecycle of each container instance.</span></span> <span data-ttu-id="45fe7-157">Monolitik uygulamayı tek tek ölçeklendirilebilen, geliştirilebilen ve dağıtılabilen alt sistemlere dönüştürmek, mikro hizmetler alanına giriş noktanızdır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-157">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

## <a name="publishing-a-single-container-based-application-to-azure-app-service"></a><span data-ttu-id="45fe7-158">Azure Uygulama Hizmetinde tek kapsayıcı tabanlı bir uygulama yayımlama</span><span class="sxs-lookup"><span data-stu-id="45fe7-158">Publishing a single-container-based application to Azure App Service</span></span>

<span data-ttu-id="45fe7-159">Azure'a dağıtılan bir kapsayıcının doğrulanmasını almak ister bir uygulama yalnızca tek kapsayıcı lı bir uygulama olduğunda, Azure Uygulama Hizmeti ölçeklenebilir tek kapsayıcı tabanlı hizmetler sağlamak için harika bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="45fe7-159">Whether you want to get validation of a container deployed to Azure or when an application is simply a single-container application, Azure App Service provides a great way to provide scalable single-container-based services.</span></span> <span data-ttu-id="45fe7-160">Azure Uygulama Hizmeti'ni kullanmak kolaydır.</span><span class="sxs-lookup"><span data-stu-id="45fe7-160">Using Azure App Service is simple.</span></span> <span data-ttu-id="45fe7-161">Kodunuzu almayı, Visual Studio'da oluşturmayı ve doğrudan Azure'a dağıtmayı kolaylaştırmak için Git ile harika entegrasyon sağlar.</span><span class="sxs-lookup"><span data-stu-id="45fe7-161">It provides great integration with Git to make it easy to take your code, build it in Visual Studio, and deploy it directly to Azure.</span></span>

![Kapsayıcı Kayıt Defteri'ni gösteren Uygulama Hizmeti Oluştur iletişim kutusunun ekran görüntüsü.](./media/containerize-monolithic-applications/publish-azure-app-service-container.png)

<span data-ttu-id="45fe7-163">**Şekil 4-4**.</span><span class="sxs-lookup"><span data-stu-id="45fe7-163">**Figure 4-4**.</span></span> <span data-ttu-id="45fe7-164">Visual Studio 2019'dan Azure Uygulama Hizmetine tek konteyner li bir uygulama yayınlama</span><span class="sxs-lookup"><span data-stu-id="45fe7-164">Publishing a single-container application to Azure App Service from Visual Studio 2019</span></span>

<span data-ttu-id="45fe7-165">Docker olmadan, Azure Uygulama Hizmeti'nde desteklenmeyen diğer özelliklere, çerçevelere veya bağımlılıklara ihtiyacınız varsa, Azure ekibinin Uygulama Hizmeti'ndeki bağımlılıkları güncelleştirmesini beklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-165">Without Docker, if you needed other capabilities, frameworks, or dependencies that aren't supported in Azure App Service, you had to wait until the Azure team updated those dependencies in App Service.</span></span> <span data-ttu-id="45fe7-166">Veya azure bulut hizmetleri veya VM'ler gibi diğer hizmetlere geçmeniz gerekir, burada daha fazla denetiminiz vardır ve uygulamanız için gerekli bir bileşeni veya çerçeveyi yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-166">Or you had to switch to other services like Azure Cloud Services or VMs, where you had further control and you could install a required component or framework for your application.</span></span>

<span data-ttu-id="45fe7-167">Visual Studio 2017'de konteyner desteği ve daha sonra Şekil 4-4'te gösterildiği gibi, uygulama ortamınıza istediğiniz her şeyi dahil edebilme nizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="45fe7-167">Container support in Visual Studio 2017 and later gives you the ability to include whatever you want in your application environment, as shown in Figure 4-4.</span></span> <span data-ttu-id="45fe7-168">Bir kapsayıcıda çalıştırdığınıza göre, uygulamanız için bir bağımlılık eklerseniz, dockerfile veya Docker resminize bağımlılık ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="45fe7-168">Since you're running it in a container, if you add a dependency to your application, you can include the dependency in your Dockerfile or Docker image.</span></span>

<span data-ttu-id="45fe7-169">Şekil 4-4'te de gösterildiği gibi, yayımlama akışı bir görüntüyü konteyner kayıt defterine iter.</span><span class="sxs-lookup"><span data-stu-id="45fe7-169">As also shown in Figure 4-4, the publish flow pushes an image through a container registry.</span></span> <span data-ttu-id="45fe7-170">Bu, Azure Konteyner Kayıt Defteri (Azure'daki dağıtımlarınıza yakın ve Azure Etkin Dizin grupları ve hesapları tarafından güvenli hale alınmış bir kayıt defteri) veya Docker Hub veya şirket içi kayıt defteri gibi diğer Docker kayıt defteri olabilir.</span><span class="sxs-lookup"><span data-stu-id="45fe7-170">This can be the Azure Container Registry (a registry close to your deployments in Azure and secured by Azure Active Directory groups and accounts), or any other Docker registry, like Docker Hub or an on-premises registry.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="45fe7-171">[Önceki](index.md)
>[Sonraki](docker-application-state-data.md)</span><span class="sxs-lookup"><span data-stu-id="45fe7-171">[Previous](index.md)
[Next](docker-application-state-data.md)</span></span>
