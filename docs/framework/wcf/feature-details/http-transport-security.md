---
title: HTTP Taşıma Güvenliği
ms.date: 03/30/2017
ms.assetid: d3439262-c58e-4d30-9f2b-a160170582bb
ms.openlocfilehash: 28d0ac164022f585f25b44b16c68994b592ef041
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/09/2020
ms.locfileid: "84592729"
---
# <a name="http-transport-security"></a><span data-ttu-id="47b5f-102">HTTP Taşıma Güvenliği</span><span class="sxs-lookup"><span data-stu-id="47b5f-102">HTTP Transport Security</span></span>
<span data-ttu-id="47b5f-103">Aktarım olarak HTTP kullanırken güvenlik, bir Güvenli Yuva Katmanı (SSL) uygulamasıyla sağlanır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-103">When using HTTP as the transport, security is provided by a Secure Sockets Layer (SSL) implementation.</span></span> <span data-ttu-id="47b5f-104">SSL, bir istemcide bir hizmetin kimliğini doğrulamak ve ardından kanala Gizlilik (şifreleme) sağlamak için Internet 'te yaygın olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-104">SSL is widely used on the Internet to authenticate a service to a client, and then to provide confidentiality (encryption) to the channel.</span></span> <span data-ttu-id="47b5f-105">Bu konuda, SSL 'nin nasıl çalıştığı ve Windows Communication Foundation (WCF) ' de nasıl uygulandığı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-105">This topic explains how SSL works and how it is implemented in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="basic-ssl"></a><span data-ttu-id="47b5f-106">Temel SSL</span><span class="sxs-lookup"><span data-stu-id="47b5f-106">Basic SSL</span></span>  
 <span data-ttu-id="47b5f-107">SSL 'nin nasıl çalıştığı, bu örnekte bir bankanın web sitesi olan tipik bir senaryo aracılığıyla en iyi şekilde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-107">How SSL works is best explained through a typical scenario, in this case, a bank's Web site.</span></span> <span data-ttu-id="47b5f-108">Site bir müşterinin Kullanıcı adı ve parolayla oturum açmasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-108">The site allows a customer to log on with a user name and password.</span></span> <span data-ttu-id="47b5f-109">Kimlik doğrulaması yapıldıktan sonra, Kullanıcı hesap bakiyelerini görüntüleme, faturaları ödeme ve bir hesaptan diğerine para taşıma gibi işlemleri gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-109">After being authenticated, the user can perform transactions, such as view account balances, pay bills, and move money from one account to another.</span></span>  
  
 <span data-ttu-id="47b5f-110">Bir kullanıcı siteyi ilk kez ziyaret ettiğinde, SSL mekanizması kullanıcının istemcisiyle (Bu durumda, Internet Explorer) *el sıkışma*olarak adlandırılan bir dizi anlaşmaya başlar.</span><span class="sxs-lookup"><span data-stu-id="47b5f-110">When a user first visits the site, the SSL mechanism begins a series of negotiations, called a *handshake*, with the user's client (in this case, Internet Explorer).</span></span> <span data-ttu-id="47b5f-111">Önce SSL, müşterinin banka sitesinin kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="47b5f-111">SSL first authenticates the bank site to the customer.</span></span> <span data-ttu-id="47b5f-112">Bu önemli bir adımdır çünkü müşterilerin, Kullanıcı adı ve parolasına yazmaya çalışan bir sızma değil, gerçek siteyle iletişim kurdıklarından haberdar olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-112">This is an essential step because customers must first know that they are communicating with the actual site, and not a spoof that tries to lure them into typing in their user name and password.</span></span> <span data-ttu-id="47b5f-113">SSL, VeriSign gibi güvenilir bir yetkili tarafından sağlanmış bir SSL sertifikası kullanarak bu kimlik doğrulamasını yapar.</span><span class="sxs-lookup"><span data-stu-id="47b5f-113">SSL does this authentication by using an SSL certificate provided by a trusted authority, such as VeriSign.</span></span> <span data-ttu-id="47b5f-114">Mantık şu şekilde gider: banka sitesinin kimliği için VeriSign voular.</span><span class="sxs-lookup"><span data-stu-id="47b5f-114">The logic goes like this: VeriSign vouches for the identity of the bank site.</span></span> <span data-ttu-id="47b5f-115">Internet Explorer VeriSign güvendiğinden, site güvenilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-115">Because Internet Explorer trusts VeriSign, the site is trusted.</span></span> <span data-ttu-id="47b5f-116">VeriSign ile kontrol yapmak istiyorsanız, bunu da VeriSign logosu ' na tıklayarak yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="47b5f-116">If you want to check with VeriSign, you can do so as well by clicking on the VeriSign logo.</span></span> <span data-ttu-id="47b5f-117">Bu, sona erme tarihi ve kim tarafından verildiği (banka sitesi) için bir özgünlük listesi sunar.</span><span class="sxs-lookup"><span data-stu-id="47b5f-117">That presents a statement of authenticity with its expiration date and who it is issued to (the bank site).</span></span>  
  
 <span data-ttu-id="47b5f-118">Güvenli bir oturum başlatmak için, istemci bir "Hello" öğesinin eşdeğerini, imzalamak, karmaları oluşturmak ve ile şifrelemek ve şifrelerini çözmek için kullanabileceği bir şifreleme algoritmaları listesiyle birlikte sunucuya gönderir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-118">To initiate a secure session, the client sends the equivalent of a "hello" to the server along with a list of cryptographic algorithms it can use to sign, generate hashes, and encrypt and decrypt with.</span></span> <span data-ttu-id="47b5f-119">Yanıt olarak, site bir bildirim ve bir algoritma paketlerinden birinin seçimini geri gönderir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-119">In response, the site sends back an acknowledgment and its choice of one of the algorithms suites.</span></span> <span data-ttu-id="47b5f-120">Bu ilk anlaşma sırasında, her iki taraf da nonce alıp alır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-120">During this initial handshake, both parties send and receive nonces.</span></span> <span data-ttu-id="47b5f-121">*Nonce* , bir karma oluşturmak için sitenin ortak anahtarı ile birlikte kullanılan rastgele oluşturulmuş bir veri parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-121">A *nonce* is a randomly generated piece of data that is used, in combination with the site's public key, to create a hash.</span></span> <span data-ttu-id="47b5f-122">*Karma* , SHA1 gibi standart bir algoritma kullanılarak iki sayıdan türetilmiş yeni bir sayıdır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-122">A *hash* is a new number that is derived from the two numbers using a standard algorithm, such as SHA1.</span></span> <span data-ttu-id="47b5f-123">(İstemci ve site ayrıca hangi karma algoritmanın kullanılacağını kabul etmek için iletiler de değiş tokuş ediyor.) Karma benzersizdir ve iletileri şifrelemek ve şifrelerini çözmek için istemci ile site arasındaki oturum için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-123">(The client and the site also exchange messages to agree which hash algorithm to use.) The hash is unique and is used only for the session between the client and the site to encrypt and decrypt messages.</span></span> <span data-ttu-id="47b5f-124">Hem istemci hem de hizmetin özgün nonce ve sertifikanın ortak anahtarı vardır; bu nedenle her iki taraf da aynı karma değeri oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-124">Both client and service have the original nonce and the certificate's public key, so both sides can generate the same hash.</span></span> <span data-ttu-id="47b5f-125">Bu nedenle, istemci, verileri karmayı hesaplamak için kabul edilen algoritmayı kullanarak (a) hizmet tarafından gönderilen karmayı doğrular ve (b) onu hizmet tarafından gönderilen karmayla karşılaştırır; iki eşleşme varsa, istemci karmaya müdahale yapılmadığını güvence altına aldı.</span><span class="sxs-lookup"><span data-stu-id="47b5f-125">Therefore, the client validates the hash sent by the service by (a) using the agreed upon algorithm to calculate the hash from the data, and (b) comparing it to the hash sent by the service; if the two match, then the client has assurance that the hash has not been tampered with.</span></span> <span data-ttu-id="47b5f-126">İstemci daha sonra bu karmayı bir anahtar olarak kullanabilir, ancak başka bir yeni karma içeren bir iletiyi şifreleyebilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-126">The client can then use this hash as a key to encrypt a message that contains yet another new hash.</span></span> <span data-ttu-id="47b5f-127">Hizmet, karmayı kullanarak iletinin şifresini çözebilir ve bu ikinci-son karmayı kurtarabilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-127">The service can decrypt the message using the hash, and recover this second-to-final hash.</span></span> <span data-ttu-id="47b5f-128">Birikmiş bilgiler (nonce, ortak anahtar ve diğer veriler) artık her iki taraf tarafından da biliniyor ve bir son karma (veya ana anahtar) oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-128">The accumulated information (nonces, public key, and other data) is now known to both sides, and a final hash (or master key) can be created.</span></span> <span data-ttu-id="47b5f-129">Bu son anahtar, bir sonraki son karma kullanılarak şifreli olarak gönderilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-129">This final key is sent encrypted using the next-to-last hash.</span></span> <span data-ttu-id="47b5f-130">Ana anahtar daha sonra, oturumun geri kalanı için iletileri şifrelemek ve şifrelerini çözmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-130">The master key is then used to encrypt and decrypt messages for the rest of the session.</span></span> <span data-ttu-id="47b5f-131">Hem istemci hem de hizmet aynı anahtarı kullandığından, buna bir *oturum anahtarı*da denir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-131">Because both client and service use the same key, this is also called a *session key*.</span></span>  
  
 <span data-ttu-id="47b5f-132">Oturum anahtarı ayrıca bir simetrik anahtar veya "paylaşılan gizlilik" olarak da belirlenir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-132">The session key is also characterized as a symmetric key, or a "shared secret."</span></span> <span data-ttu-id="47b5f-133">Bir simetrik anahtar olması, işlemin her iki tarafında da gereken hesaplamayı azalttığından önemlidir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-133">Having a symmetric key is important because it reduces the computation required by both sides of the transaction.</span></span> <span data-ttu-id="47b5f-134">Her ileti, yeni bir CES ve karma değer alışverişi talep altına alıyorsa, performans, performansı ortadan kaldırmaya başlar.</span><span class="sxs-lookup"><span data-stu-id="47b5f-134">If every message demanded a new exchange of nonces and hashes, performance would deteriorate.</span></span> <span data-ttu-id="47b5f-135">Bu nedenle, SSL 'nin nihai hedefi, iletilerin iki tarafla daha fazla güvenlik ve verimlilik arasında serbestçe akmasını sağlayan bir simetrik anahtar kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-135">Therefore, the ultimate goal of SSL is to use a symmetric key that allows messages to flow freely between the two sides with a greater degree of security and efficiency.</span></span>  
  
 <span data-ttu-id="47b5f-136">Protokol siteden siteye değişebildiğinden, önceki açıklama ne olduğunu basitleştirilmiş bir sürümdür.</span><span class="sxs-lookup"><span data-stu-id="47b5f-136">The previous description is a simplified version of what happens, because the protocol may vary from site to site.</span></span> <span data-ttu-id="47b5f-137">Ayrıca, hem istemci hem de site, el sıkışma sırasında, veri alışverişi sırasında daha fazla karmaşıklık ve bu nedenle koruma eklemek için algorithmically birleştirilmiş olmayan her ikisi de mümkündür.</span><span class="sxs-lookup"><span data-stu-id="47b5f-137">It is also possible that both the client and the site both generate nonces that are algorithmically combined during the handshake to add more complexity, and therefore protection, to the process of exchanging data.</span></span>  
  
### <a name="certificates-and-public-key-infrastructure"></a><span data-ttu-id="47b5f-138">Sertifikalar ve ortak anahtar altyapısı</span><span class="sxs-lookup"><span data-stu-id="47b5f-138">Certificates and Public Key Infrastructure</span></span>  
 <span data-ttu-id="47b5f-139">El sıkışma sırasında hizmet, SSL sertifikasını istemciye de gönderir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-139">During the handshake, the service also sends its SSL certificate to the client.</span></span> <span data-ttu-id="47b5f-140">Sertifika, son kullanma tarihi, veren yetkilisi ve sitenin Tekdüzen Kaynak tanımlayıcısı (URI) gibi bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-140">The certificate contains information, such as its expiration date, issuing authority, and the site's Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="47b5f-141">İstemci, bir eşleşme sağlamak için URI 'yi ilk olarak iletişim kuruyordu URI ile karşılaştırır ve ayrıca tarihi ve verme yetkilisini denetler.</span><span class="sxs-lookup"><span data-stu-id="47b5f-141">The client compares the URI to the URI it had originally contacted to ensure a match, and also checks the date and issuing authority.</span></span>  
  
 <span data-ttu-id="47b5f-142">Her sertifika iki anahtara, özel bir anahtara ve ortak anahtara sahiptir ve ikisi de *Exchange anahtar çifti*olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-142">Every certificate has two keys, a private key and a public key, and the two are known as an *exchange key pair*.</span></span> <span data-ttu-id="47b5f-143">Kısaca, ortak anahtar sertifikadan okunurken özel anahtar yalnızca sertifikanın sahibi olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-143">In brief, the private key is known only to the owner of the certificate while the public key is readable from the certificate.</span></span> <span data-ttu-id="47b5f-144">Her iki anahtar de bir Özet, karma veya başka bir anahtarı şifrelemek veya şifresini çözmek için kullanılabilir, ancak yalnızca tersine işlem olarak.</span><span class="sxs-lookup"><span data-stu-id="47b5f-144">Either key can be used to encrypt or decrypt a digest, hash, or other key, but only as contrary operations.</span></span> <span data-ttu-id="47b5f-145">Örneğin, istemci ortak anahtarla şifrelediği takdirde, yalnızca site özel anahtarı kullanarak iletinin şifresini çözebilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-145">For example, if the client encrypts with the public key, only the site can decrypt the message using the private key.</span></span> <span data-ttu-id="47b5f-146">Benzer şekilde, site özel anahtarla şifrelediği takdirde, istemci ortak anahtarla şifresini çözebilir.</span><span class="sxs-lookup"><span data-stu-id="47b5f-146">Similarly, if the site encrypts with the private key, the client can decrypt with the public key.</span></span> <span data-ttu-id="47b5f-147">Bu, yalnızca özel anahtarla şifrelenen iletilerin ortak anahtarla şifresi çözülebildiğinden, istemcinin yalnızca özel anahtarla birlikte alınıp değiştirildiğini istemciye güvence sağlar.</span><span class="sxs-lookup"><span data-stu-id="47b5f-147">This provides assurance to the client that the messages are being exchanged only with the possessor of the private key because only messages encrypted with the private key can be decrypted with the public key.</span></span> <span data-ttu-id="47b5f-148">Site, ortak anahtar kullanılarak şifrelenmiş bir istemciyle ileti alışverişi olduğundan emin olur.</span><span class="sxs-lookup"><span data-stu-id="47b5f-148">The site is assured that it is exchanging messages with a client that has encrypted using the public key.</span></span> <span data-ttu-id="47b5f-149">Bu değişim yalnızca bir başlangıç anlaşması için güvenlidir, ancak gerçek simetrik anahtarı oluşturmak için çok daha fazla şey yapılır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-149">This exchange is secure only for an initial handshake, however, which is why much more is done to create the actual symmetric key.</span></span> <span data-ttu-id="47b5f-150">Bununla birlikte, tüm iletişimler geçerli bir SSL sertifikasına sahip hizmete bağımlıdır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-150">Nevertheless, all communications depend on the service having a valid SSL certificate.</span></span>  
  
## <a name="implementing-ssl-with-wcf"></a><span data-ttu-id="47b5f-151">WCF ile SSL uygulama</span><span class="sxs-lookup"><span data-stu-id="47b5f-151">Implementing SSL with WCF</span></span>  
 <span data-ttu-id="47b5f-152">HTTP aktarım güvenliği (veya SSL), WCF 'ye dışarıdan sağlanır.</span><span class="sxs-lookup"><span data-stu-id="47b5f-152">HTTP transport security (or SSL) is provided externally to WCF.</span></span> <span data-ttu-id="47b5f-153">SSL 'yi iki şekilde uygulayabilirsiniz; karar verme faktörü uygulamanızın barındırıldığı bir uygulamadır:</span><span class="sxs-lookup"><span data-stu-id="47b5f-153">You can implement SSL in one of two ways; the deciding factor is how your application is hosted:</span></span>  
  
- <span data-ttu-id="47b5f-154">WCF ana bilgisayarınız olarak Internet Information Services (IIS) kullanıyorsanız, bir SSL hizmeti ayarlamak için IIS altyapısını kullanın.</span><span class="sxs-lookup"><span data-stu-id="47b5f-154">If you are using Internet Information Services (IIS) as your WCF host, use the IIS infrastructure to set up an SSL service.</span></span>  
  
- <span data-ttu-id="47b5f-155">Şirket içinde barındırılan bir WCF uygulaması oluşturuyorsanız, HttpCfg. exe aracını kullanarak adrese bir SSL sertifikası bağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="47b5f-155">If you are creating a self-hosted WCF application, you can bind an SSL certificate to the address using the HttpCfg.exe tool.</span></span>  
  
### <a name="using-iis-for-transport-security"></a><span data-ttu-id="47b5f-156">Taşıma güvenliği için IIS kullanma</span><span class="sxs-lookup"><span data-stu-id="47b5f-156">Using IIS for Transport Security</span></span>  
  
#### <a name="iis-70"></a><span data-ttu-id="47b5f-157">IIS 7.0</span><span class="sxs-lookup"><span data-stu-id="47b5f-157">IIS 7.0</span></span>  
 <span data-ttu-id="47b5f-158">IIS 7,0 ' ü güvenli bir ana bilgisayar (SSL kullanarak) olarak ayarlamak için bkz. [ııs 7,0 ' de güvenli yuva katmanı yapılandırma](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc771438(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="47b5f-158">To set up IIS 7.0 as a secure host (using SSL), see [Configuring Secure Sockets Layer in IIS 7.0](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc771438(v=ws.10)).</span></span>  
  
<span data-ttu-id="47b5f-159">Sertifikaları IIS 7,0 ile kullanmak üzere yapılandırmak için bkz. [ııs 7,0 ' de sunucu sertifikalarını yapılandırma](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="47b5f-159">To configure certificates for use with IIS 7.0, see [Configuring Server Certificates in IIS 7.0](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>  
  
#### <a name="iis-60"></a><span data-ttu-id="47b5f-160">IIS 6.0</span><span class="sxs-lookup"><span data-stu-id="47b5f-160">IIS 6.0</span></span>  
 <span data-ttu-id="47b5f-161">IIS 6,0 ' ü güvenli bir ana bilgisayar (SSL kullanarak) olarak ayarlamak için bkz. [yapılandırma güvenli yuva katmanı](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc736992(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="47b5f-161">To set up IIS 6.0 as a secure host (using SSL), see [Configuring Secure Sockets Layer](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc736992(v=ws.10)).</span></span>  
  
 <span data-ttu-id="47b5f-162">Sertifikaları IIS 6,0 ile kullanmak üzere yapılandırmak için, bkz. [Certificates_IIS_SP1_Ops](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc757474(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="47b5f-162">To configure certificates for use with IIS 6.0, see [Certificates_IIS_SP1_Ops](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc757474(v=ws.10)).</span></span>  
  
### <a name="using-httpcfg-for-ssl"></a><span data-ttu-id="47b5f-163">SSL için HttpCfg kullanma</span><span class="sxs-lookup"><span data-stu-id="47b5f-163">Using HttpCfg for SSL</span></span>  

 <span data-ttu-id="47b5f-164">Kendi kendine barındırılan bir WCF uygulaması oluşturuyorsanız, [Httpcfg. exe](/windows/win32/http/httpcfg-exe) aracını kullanın.</span><span class="sxs-lookup"><span data-stu-id="47b5f-164">If you're creating a self-hosted WCF application, use the [HttpCfg.exe](/windows/win32/http/httpcfg-exe) tool.</span></span>
  
 <span data-ttu-id="47b5f-165">X. 509.952 sertifikasıyla bir bağlantı noktası ayarlamak için HttpCfg. exe aracını kullanma hakkında daha fazla bilgi için bkz. [nasıl yapılır: SSL sertifikası Ile bağlantı noktası yapılandırma](how-to-configure-a-port-with-an-ssl-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="47b5f-165">For more information about using the HttpCfg.exe tool to set up a port with an X.509 certificate, see [How to: Configure a Port with an SSL Certificate](how-to-configure-a-port-with-an-ssl-certificate.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="47b5f-166">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="47b5f-166">See also</span></span>

- [<span data-ttu-id="47b5f-167">Aktarım Güvenliği</span><span class="sxs-lookup"><span data-stu-id="47b5f-167">Transport Security</span></span>](transport-security.md)
- [<span data-ttu-id="47b5f-168">İleti Güvenliği</span><span class="sxs-lookup"><span data-stu-id="47b5f-168">Message Security</span></span>](message-security-in-wcf.md)
