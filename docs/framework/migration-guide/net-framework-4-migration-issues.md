---
title: .NET Framework 4 geçiş sorunları
description: .NET Framework 3,5 Service Pack 1 ve .NET Framework 4 arasındaki geçiş sorunları hakkında bilgi edinmek için bkz. standartlar uyumluluğu ve güvenliğine yönelik düzeltmeler ve değişiklikler.
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: bbb9a3803986c922fd1ef04a87cd1e230fc3d623
ms.sourcegitcommit: cf5a800a33de64d0aad6d115ffcc935f32375164
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/20/2020
ms.locfileid: "86475287"
---
# <a name="net-framework-4-migration-issues"></a>.NET Framework 4 geçiş sorunları

Bu makalede, düzeltme, standartlar uyumluluğu ve güvenlik değişiklikleri ve müşteri geri bildirimlerine göre değişiklikler dahil .NET Framework sürüm 3,5 Service Pack 1 ve .NET Framework sürüm 4 arasındaki geçiş sorunları açıklanmaktadır. Bu değişikliklerin çoğu uygulamalarınızdaki programlamalarda herhangi bir değişiklik gerektirmez. Değişiklik gerektirebilecek değişiklikler için, tablonun **Önerilen değişiklikler** sütununa bakın. Notable değişiklikleri alana göre bölünür, örneğin, ASP.NET ve Windows Presentation Foundation (WPF).

Bu makaledeki sorunlara yönelik daha yüksek düzeyde bir genel bakış için bkz. [.NET Framework 4 ' e geçiş kılavuzu](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).

Yeni özellikler hakkında bilgi için bkz. [.NET Framework 4 ' teki](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)yenilikler.

## <a name="aspnet-and-web"></a>ASP.NET ve Web

Ad alanları: <xref:System.Web> , <xref:System.Web.Mobile> , <xref:System.Web.Security> ,<xref:System.Web.UI.WebControls>

Bütünleştirilmiş kod: System. Web (System.Web.dll)

| Özellik  | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| -------- | ------------------------ | ------------------- |
| **Tarayıcı tanım dosyaları** | Tarayıcı tanım dosyaları, yeni ve güncelleştirilmiş tarayıcı ve cihazlarla ilgili bilgileri içerecek şekilde güncelleştirilmiştir. Netscape Navigator gibi eski tarayıcılar ve cihazlar kaldırılmıştır ve Google Chrome ve Apple iPhone gibi yeni tarayıcılar ve cihazlar eklenmiştir.<br><br>Uygulamanız kaldırılmış tarayıcı tanımlarından birinden kalıtımla alan özel tarayıcı tanımları içeriyorsa, bir hata görürsünüz.<br><br><xref:System.Web.HttpBrowserCapabilities>Nesne (sayfanın özelliği tarafından gösterilen `Request.Browse` ) tarayıcı tanım dosyaları tarafından çalıştırılır. Bu nedenle, ASP.NET 4 ' te bu nesnenin bir özelliğine erişerek döndürülen bilgiler, ASP.NET 'in önceki bir sürümünde döndürülen bilgilerden farklı olabilir. | Uygulamanız eski tarayıcı tanımı dosyalarını kullanıyorsa, bunları aşağıdaki klasörden kopyalayabilirsiniz:<br><br>*Windows \\ Microsoft.net \\ Framework \\ v 2.0.50727 \\ yapılandırma \\ tarayıcıları*<br><br>Dosyaları ASP.NET 4 için karşılık gelen * \\ CONFIG \\ browsers* klasörüne kopyalayın. Dosyaları kopyaladıktan sonra, [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) komut satırı aracını çalıştırın. Daha fazla bilgi için bkz [https://www.asp.net/mobile](/aspnet/mobile/overview) . Web sitesi. |
| **ASP.NET 'in karma sürümleri altında çalışan alt uygulamalar** | ASP.NET 'ın önceki sürümlerini çalıştıran uygulamaların alt öğeleri olarak yapılandırılan ASP.NET 4 uygulamaları yapılandırma veya derleme hataları nedeniyle başlayamayabilir. Oluşan özel hata, uygulamanın IIS 6,0 veya IIS 7 veya IIS 7,5 altında çalışıp çalışmadığını bağlıdır. | Yapılandırma sisteminin ASP.NET 4 uygulamasını doğru şekilde tanıması için etkilenen uygulamaların yapılandırma dosyalarında değişiklik yapabilirsiniz. Yapmanız gereken değişiklikler hakkında daha fazla bilgi için, belgedeki "ASP.NET 4 alt uygulamalar ASP.NET 2,0 veya ASP.NET 3,5 uygulamaları altında başlatılamıyor" bölümüne bakın ASP.NET Web sitesindeki [4](/aspnet/whitepapers/aspnet4/breaking-changes) . |
| **ClientID değişiklikleri** | `clientIDMode`ASP.NET 4 ' teki yeni ayar, ASP.net 'ın `id` HTML öğeleri için özniteliği nasıl üretip belirtmeyeceğini belirtmenize imkan sağlar. Önceki ASP.NET sürümlerinde, varsayılan davranış `AutoID` ayarına eşdeğerdir `clientIDMode` . Varsayılan ayar artık ' dir `Predictable` . Daha fazla bilgi için bkz. [ASP.NET Web sunucusu denetim kimliği](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29). | Uygulamanızı ASP.NET 2,0 veya ASP.NET 3,5 ' den yükseltmek için Visual Studio kullanıyorsanız, araç otomatik olarak .NET Framework önceki sürümlerinin davranışını koruyan Web.config dosyasına bir ayar ekler. Ancak, IIS 'deki uygulama havuzunu .NET Framework 4 ' ü hedefleyecek şekilde değiştirerek bir uygulamayı yükseltirseniz, ASP.NET varsayılan olarak yeni modu kullanır. Yeni istemci KIMLIĞI modunu devre dışı bırakmak için Web.config dosyasına aşağıdaki ayarı ekleyin:<br><br>`<pages clientIDMode="AutoID" />` |
| **Kod erişim güvenliği (CAS)** | ASP.NET 3,5 ' de eklenen ASP.NET 2,0 NET özellikleri .NET Framework 1,1 ve .NET Framework 2,0 Code Access Security (CAS) modelini kullanır. Ancak, CA 'ların ASP.NET 4 ' te uygulanması önemli ölçüde fazla oldu. Sonuç olarak, genel derleme önbelleğinde çalışan güvenilir kodu kullanan kısmi güven ASP.NET uygulamaları çeşitli güvenlik özel durumlarıyla başarısız olabilir. Makine CAS ilkesi üzerinde kapsamlı değişikliklere dayanan kısmi güven uygulamaları da başarısız olabilir ve güvenlik özel durumları oluşturabilir. | `legacyCasModel`Aşağıdaki örnekte gösterildiği gibi, ASP.NET 4 uygulamalarını ASP.NET 1,1 ve 2,0 ' nin davranışını yapılandırma öğesinde yeni özniteliğini kullanarak döndürebilirsiniz `trust` :<br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br>Önemli: eski CAS modeline geri dönülmesi azaltılmış güvenliği temsil edebilir.<br><br>Yeni ASP.NET 4 kod erişimi güvenlik modeli hakkında daha fazla bilgi için bkz. [ASP.NET 4 uygulamalarında kod erişim güvenliği](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)). |
| **Yapılandırma dosyaları** | .NET Framework ve ASP.NET 4 için kök yapılandırma dosyaları (machine.config dosyası ve kök Web.config dosyası), ASP.NET 3,5 ' deki uygulama Web.config dosyalarında bulunan ortak yapılandırma bilgilerinin çoğunu içerecek şekilde güncelleştirilmiştir. Yönetilen IIS 7 ve IIS 7,5 yapılandırma sistemlerinin karmaşıklığı nedeniyle, ASP.NET 4 ve IIS 7 ve IIS 7,5 altında ASP.NET 3,5 uygulamalarını çalıştırmak, ASP.NET hataları veya IIS hatalarına neden olabilir. | Visual Studio 'daki proje yükseltme araçlarını kullanarak ASP.NET 3,5 uygulamalarını ASP.NET 4 ' e yükseltin. Visual Studio 2010, ASP.NET 4 için uygun ayarları içerecek şekilde ASP.NET 3,5 uygulamasının Web.config dosyasını otomatik olarak değiştirir.<br><br>Ancak, yeniden derleme olmadan .NET Framework 4 kullanarak ASP.NET 3,5 uygulamalarını çalıştırabilirsiniz. Bu durumda, uygulamayı .NET Framework 4 ' ün altında ve IIS 7 veya IIS 7,5 ' de çalıştırmadan önce uygulamanın Web.config dosyasını el ile değiştirmeniz gerekebilir. Yapmanız gereken belirli değişiklik, Service Pack (SP) sürümleri dahil olmak üzere çalıştığınız yazılımın birleşimine bağlıdır. Bu değişiklikten etkilenen olası yazılım birleşimleri ve belirli birleşimlerle ilgili sorunları çözme hakkında daha fazla bilgi için, ASP.NET Web sitesindeki "yeni [ASP.NET 4 kök](/aspnet/whitepapers/aspnet4/breaking-changes) yapılandırmasıyla Ilgili yapılandırma hataları" bölümüne bakın. |
| **Denetim işleme** | Önceki ASP.NET sürümlerinde, bazı denetimler devre dışı bırakamayan biçimlendirme olarak yayınlanır. Varsayılan olarak, bu biçimlendirme türü ASP.NET 4 ' te artık oluşturulmaz. İşleme değişiklikleri aşağıdaki denetimleri etkiler:<br><br>\*`Image`Ve `ImageButton` denetimleri artık bir `border="0"` özniteliği işlemez.<br>\*`BaseValidator`Bu sınıftan türetilen sınıf ve doğrulama denetimleri artık varsayılan olarak kırmızı metin işlemez.<br>\*`HtmlForm`Denetim bir `name` özniteliği işlemez.<br>\*`Table`Denetim artık bir `border="0"` özniteliği işler.<br><br>Kullanıcı girişi için tasarlanmamış denetimler (örneğin, `Label` Denetim), `disabled="disabled"` `Enabled` özelliği olarak ayarlandıysa `false` (veya bu ayarı bir kapsayıcı denetiminden kalıtımla alıyorsa) artık özniteliği işlemez. | Uygulamanızı ASP.NET 2,0 veya ASP.NET 3,5 ' den yükseltmek için Visual Studio kullanıyorsanız, araç, eski işlemeyi koruyan Web.config dosyasına otomatik olarak bir ayar ekler. Bununla birlikte, IIS 'deki uygulama havuzunu .NET Framework 4 ' ü hedefleyecek şekilde değiştirerek bir uygulamayı yükseltirseniz, ASP.NET varsayılan olarak yeni işleme modunu kullanır. Yeni işleme modunu devre dışı bırakmak için Web.config dosyasına aşağıdaki ayarı ekleyin:<br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| **Varsayılan belgelerde olay işleyicileri** | ASP.NET 4, varsayılan bir `form` `action` belgeye eşlenmiş bir UZANTıSıZ URL 'ye Istek yapıldığında HTML öğesinin öznitelik değerini boş bir dize olarak oluşturur. ASP.NET 'in önceki sürümlerinde, bir istek `http://contoso.com` default. aspx isteğine neden olur. Bu belgede, açma `form` etiketi aşağıdaki örnekte olduğu gibi işlenir:<br><br>`<form action="Default.aspx" />`<br><br>ASP.NET 4 ' te, ayrıca bir istek `http://contoso.com` default. aspx isteğine neden olur, ancak ASP.net `form` Şu örnekte olduğu gibi HTML açılış etiketini de oluşturur:<br><br>`<form action="" />`<br><br>`action`Öznitelik boş bir dize olduğunda, IIS `DefaultDocumentModule` nesnesi default. aspx için bir alt istek oluşturur. Çoğu koşul altında, bu alt istek uygulama koduna saydamdır ve varsayılan. aspx sayfası normal şekilde çalışır. Ancak, yönetilen kod ile IIS 7 veya IIS 7,5 tümleşik modu arasında olası bir etkileşim, yönetilen. aspx sayfalarının alt istek sırasında düzgün çalışmayı durdurmasına neden olabilir. Aşağıdaki koşullar gerçekleşirse, default. aspx belgesine yönelik alt istek bir hata veya beklenmeyen davranışlara neden olur:<br><br>\*Bir. aspx sayfası, `form` öğenin `action` özniteliği "" olarak ayarlanmış şekilde tarayıcıya gönderilir.<br>\*Form, ASP.NET 'e geri gönderilir.<br>\*Yönetilen bir HTTP modülü, varlık gövdesinin veya gibi bazı bölümlerini okur `Request.Form` `Request.Params` . Bu, POST isteğinin varlık gövdesinin yönetilen bellekle okunmasına neden olur. Sonuç olarak, varlık gövdesi artık IIS 7 veya IIS 7,5 tümleşik modunda çalışan herhangi bir yerel kod modülü için kullanılamaz.<br>\*IIS `DefaultDocumentModule` nesnesi sonunda çalışır ve varsayılan. aspx belgesine bir alt istek oluşturur. Ancak, varlık gövdesi bir yönetilen kod parçası tarafından zaten okunduğu için, alt isteğe gönderilmek üzere kullanılabilecek bir varlık gövdesi yok.<br>\*HTTP işlem hattı alt istek için çalıştığında,. aspx dosyaları işleyicisi, işleyici yürütme aşamasında çalışır.<br><br>Varlık gövdesi olmadığından, hiçbir form değişkeni yoktur ve Görünüm durumu yoktur. Bu nedenle, hangi olayın (varsa) ne olduğunu belirlemek için. aspx sayfa işleyicisi için kullanılabilir bilgi yoktur. Sonuç olarak, etkilenen. aspx sayfası için geri gönderme olayı işleyicilerinin hiçbiri çalışmaz. | Bu değişikliğin sonucu olarak ortaya çıkabilecek sorunlara geçici çözüm yolları hakkında daha fazla bilgi için, ASP.NET Web sitesindeki " [ASP.NET 4](/aspnet/whitepapers/aspnet4/breaking-changes) ' te bulunan" olay işleyicileri IIS 7 veya IIS 7,5 tümleşik modunda bir varsayılan belgede çıkarılmayabilir "konusuna bakın. |
| **Karma algoritması** | ASP.NET, form kimlik doğrulaması tanımlama bilgileri ve Görünüm durumu gibi verilerin güvenliğini sağlamaya yardımcı olmak için hem şifreleme hem de karma algoritmaları kullanır Varsayılan olarak, ASP.NET 4 <xref:System.Security.Cryptography.HMACSHA256> tanımlama bilgileri ve görünüm durumundaki karma işlemleri için algoritmayı kullanır. Önceki ASP.NET sürümleri eski <xref:System.Security.Cryptography.HMACSHA1> algoritmayı kullandı. | Form kimlik doğrulaması tanımlama bilgileri gibi verilerin .NET Framework sürümler arasında çalışması gereken ASP.NET 2,0 ve ASP.NET 4 karışımını kullanan uygulamalar çalıştırırsanız, <xref:System.Security.Cryptography.HMACSHA1> Web.config dosyasına aşağıdaki ayarı ekleyerek bir ASP.NET 4 Web uygulamasını eski algoritmayı kullanacak şekilde yapılandırın:<br><br>`<machineKey validation="SHA1" />` |
| **Internet Explorer 'da barındırma denetimleri** | Web üzerinde denetimleri barındırmak için daha fazla çözüm olduğundan, Internet Explorer 'da artık Windows Forms denetimleri barındırdırabilirsiniz. Bu nedenle, IEHost.dll ve IEExec.exe derlemeleri .NET Framework kaldırılmıştır. | Web uygulamalarında özel denetim geliştirmesi için aşağıdaki teknolojileri kullanabilirsiniz:<br><br>\*Bir Silverlight uygulaması oluşturup tarayıcı dışında çalışacak şekilde yapılandırabilirsiniz. Daha fazla bilgi için bkz. [tarayıcı dışı destek](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).<br>\*WPF özellikleri avantajlarından yararlanmak için bir XAML tarayıcı uygulaması (XBAP) oluşturabilirsiniz (istemci makinelerde .NET Framework gerekir). Daha fazla bilgi için bkz. [WPF XAML tarayıcı uygulamalarına genel bakış](../wpf/app-development/wpf-xaml-browser-applications-overview.md). |
| **HtmlEncode ve UrlEncode yöntemleri** | Ve `HtmlEncode` `UrlEncode` sınıflarının ve yöntemleri, <xref:System.Web.HttpUtility> <xref:System.Web.HttpServerUtility> tek tırnak işareti karakterini (') şu şekilde kodlamak üzere güncelleştirilmiştir:<br><br>\*`HtmlEncode`Yöntemi, tek tırnak işaretinin örneklerini şu şekilde kodlar`&#39;`<br>\*`UrlEncode`Yöntemi, tek tırnak işaretinin örneklerini şu şekilde kodlar`%27` | Ve yöntemlerini kullandığınız konumlar için kodunuzu inceleyin `HtmlEncode` `UrlEncode` ve Kodlamadaki değişikliğin uygulamanızı etkileyebilecek bir değişikliğe neden olmadığından emin olun. |
| **ASP.NET 2,0 uygulamalarında HttpException hataları** | ASP.NET 4 IIS 6 ' da etkinleştirildikten sonra, IIS 6 ' da (Windows Server 2003 veya Windows Server 2003 R2 'de) çalışan ASP.NET 2,0 uygulamaları aşağıdakiler gibi hatalar oluşturabilir:`System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.` | * Web sitesini çalıştırmak için ASP.NET 4 gerekli değilse, siteyi ASP.NET 2,0 kullanacak şekilde yeniden eşleyin.<br><br>-veya-<br><br>\*Web sitesini çalıştırmak için ASP.NET 4 gerekliyse, herhangi bir alt ASP.NET 2,0 sanal dizinini ASP.NET 2,0 ile eşlenmiş farklı bir Web sitesine taşıyın.<br><br>-veya-<br><br>\*Uzantısız URL 'Leri devre dışı bırakın. Daha fazla bilgi için, ASP.NET Web sitesindeki "ASP.NET 2,0 uygulamaları belgedeki eurl. [AXD ' ye](/aspnet/whitepapers/aspnet4/breaking-changes) başvuran HttpException hataları oluşturabilir. |
| **Üyelik türleri** | ASP.NET üyeliğinde kullanılan bazı türler (örneğin, <xref:System.Web.Security.MembershipProvider> ) System.Web.dll System.Web.ApplicationServices.dll derlemesine taşınmıştır. Türler, istemcideki türler ve genişletilmiş .NET Framework SKU 'Lar arasında mimari katmanlama bağımlılıklarını çözümlemek için taşınmıştır. | Önceki ASP.NET sürümlerinden yükseltilen ve taşınmış üyelik türlerini kullanan sınıf kitaplıkları bir ASP.NET 4 projesinde kullanıldığında derlenemeyebilir. Öyleyse, System.Web.ApplicationServices.dll için sınıf kitaplığı projesine bir başvuru ekleyin. |
| **Menü Denetim değişiklikleri** | <xref:System.Web.UI.WebControls.Menu>Denetimdeki değişiklikler aşağıdaki davranışa neden olacak:<br><br>\*<xref:System.Web.UI.WebControls.MenuRenderingMode>, Olarak ayarlanmışsa `List` veya olarak <xref:System.Web.UI.WebControls.MenuRenderingMode> ayarlandıysa `Default` ve <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> `4.0` veya daha sonraki bir sürümüne ayarlanırsa, <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> özelliğin etkisi yoktur.<br>\*<xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A>Ve özelliklerinde ayarlanan yol <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> ters eğik çizgi ( \\ ) içeriyorsa, görüntüler işlenir. (ASP.NET 'in önceki sürümlerinde, yol ters eğik çizgi içerebilir.) | * <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> Ayrı menü öğeleri için özelliği ayarlamak yerine, <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> üst denetimi veya öğesini ayarlayın <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> <xref:System.Web.UI.WebControls.Menu> .<br><br>-veya-<br><br>Olarak <xref:System.Web.UI.WebControls.MenuRenderingMode> ayarlayın `Table` veya olarak ayarlayın <xref:System.Web.UI.WebControls.MenuRenderingMode> `Default` ve olarak ayarlayın <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> `3.5` . Bu ayarlar, <xref:System.Web.UI.WebControls.Menu> denetimin önceki ASP.net sürümlerinde kullanılan HTML tablo tabanlı düzeni kullanmasına neden olur.<br>\*<xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A>Ya da <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özelliğindeki yol ters eğik çizgi ( \\ ) içeriyorsa, eğik çizgi karakteri (/) koyun. |
| **Web.config dosyasında mobil derleme** | Önceki ASP.NET sürümlerinde, System.Web.Mobile.dll derlemesine bir başvuru, altındaki bölümündeki kök Web.config dosyasına eklenmiştir `assemblies` `system.web` / `compilation` . Performansı artırmak için bu derlemeye başvuru kaldırılmıştır.<br><br>Note: System.Web.Mobile.dll derlemesi ve ASP.NET Mobile denetimleri ASP.NET 4 ' te bulunur, ancak kullanım dışıdır. | Bu derlemedeki türleri kullanmak istiyorsanız, kök Web.config dosyasında ya da bir uygulama Web.config dosyasında derlemeye bir başvuru ekleyin. |
| **Çıktıyı önbelleğe alma** | ASP.NET 1,0 ' de bir hata, `Location="ServerAndClient"` &euro; `Vary:*` yanıtta bir http üst bilgisini göstermek için çıktı olarak belirtilen önbelleğe alınmış sayfalara neden oldu. Bu, istemci tarayıcılarına sayfayı hiçbir şekilde yerel olarak önbelleğe almamasını söyleme etkisi içeriyordu. ASP.NET 1,1 ' de <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> Yöntem eklenmiştir ve bu, üstbilgiyi bastırmak için çağrılabilir `Vary:*` . Ancak, hata raporları geliştiricilerin var olan davranışın farkında olduğunu önerir `SetOmitVaryStar` .<br><br>ASP.NET 4 ' te, `Vary:*` http üst bilgisi artık aşağıdaki yönergeyi belirten yanıtlardan yayılmadı:<br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br>Sonuç olarak, <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> üst bilgiyi bastırmak için yöntemi artık gerekli değildir `Vary:*` . Özniteliği için "ServerAndClient" belirten uygulamalarda `Location` , sayfalar, çağrı yapmanız gerekmeden tarayıcıda önbelleğe alınır <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> . | Uygulamadaki sayfaların `Vary:*` gösterilmesi gerekiyorsa, <xref:System.Web.HttpResponse.AppendHeader%2A> yöntemi aşağıdaki örnekte gösterildiği gibi çağırın:<br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br>Alternatif olarak, çıktı önbelleği `Location` özniteliğinin değerini "sunucu" olarak değiştirebilirsiniz. |
| **Sayfa ayrıştırma** | ASP.NET Web Pages (. aspx dosyaları) ve Kullanıcı denetimleri (. ascx dosyaları) için sayfa ayrıştırıcısı, ASP.NET 4 ' te daha önceki ASP.NET sürümlerinden daha katı ve önceki sürümlerden daha fazla biçimlendirme bayraklarıyla. | Bir sayfa çalıştırıldığında üretilen hata iletilerini inceleyin ve geçersiz biçimlendirmeden kaynaklanan hataları düzeltir. |
| **Passport türleri** | ASP.NET 2,0 ' de yerleşik olarak bulunan Passport desteği artık kullanılmıyor ve Passport 'daki değişiklikler nedeniyle desteklenmiyor (Şimdi canlı KIMLIK SDK). Sonuç olarak, ' de Passport ile ilgili türler <xref:System.Web.Security> artık `ObsoleteAttribute` özniteliğiyle işaretlenir. | Ad alanındaki Passport türlerini kullanan kodu değiştirin <xref:System.Web.Security> (örneğin, <xref:System.Web.Security.PassportIdentity> ) ve WINDOWS LIVE ID SDK 'sını kullanın. |
| **FilePath özelliğindeki PathInfo bilgileri** | ASP.NET 4 artık `PathInfo` ,, ve gibi özelliklerden dönüş değerlerinde değeri içermez <xref:System.Web.HttpRequest.FilePath> <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath> <xref:System.Web.HttpRequest.CurrentExecutionFilePath> . Bunun yerine, `PathInfo` bilgileri ' de bulabilirsiniz <xref:System.Web.HttpRequest.PathInfo> . Örneğin, aşağıdaki URL parçasını düşünün:<br><br>`/testapp/Action.mvc/SomeAction`<br><br>Önceki ASP.NET sürümlerinde, <xref:System.Web.HttpRequest> Özellikler aşağıdaki değerlere sahiptir:<br><br>\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`<br>\*<xref:System.Web.HttpRequest.PathInfo>: (boş)<br><br>ASP.NET 4 ' te, <xref:System.Web.HttpRequest> bunun yerine özellikler aşağıdaki değerlere sahiptir:<br><br>\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`<br>\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction` | Yol bilgilerini döndürmek için sınıfın özelliklerine bağlı olduğunuz konumlar için kodunuzu inceleyin <xref:System.Web.HttpRequest> ; yol bilgilerinin döndürüldüğü değişiklikleri yansıtacak şekilde kodu değiştirin. |
| **İstek doğrulaması** | İstek doğrulamasını geliştirmek için, ASP.NET istek doğrulaması istek yaşam döngüsü içinde daha önce çağrılır. Sonuç olarak, Web hizmeti çağrıları ve özel işleyiciler gibi. aspx dosyaları için olmayan istekler için istek doğrulama çalıştırmaları gerekir. İstek işleme işlem hattında özel HTTP modülleri çalışırken istek doğrulaması da etkin olur.<br><br>Bu değişikliğin sonucunda,. aspx dosyalarından farklı kaynak istekleri istek doğrulama hataları oluşturabilir. İstek ardışık düzeninde çalışan özel kod (örneğin, özel HTTP modülleri) istek doğrulama hataları da oluşturabilir. | Gerekirse, Web yapılandırma dosyasında aşağıdaki ayarı kullanarak yalnızca. aspx sayfalarının istek doğrulamasını tetiklemesini sağlamak için eski davranışa dönüştürebilirsiniz:<br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br>Uyarı: eski davranışa döndürürseniz, var olan işleyicilerde, modüllerde ve diğer özel koddaki tüm kodun, XSS saldırı vektörleri olabilecek güvenli olmayan HTTP girişlerini denetlediğinizden emin olun. |
| **Yönlendirme** | Visual Studio 2010 ' de bir dosya sistemi Web sitesi oluşturursanız ve Web sitesi, klasör adında nokta (.) içeren bir klasörde yer alıyorsa, URL yönlendirmesi güvenilir bir şekilde çalışmaz. Bazı sanal yollardan bir HTTP 404 hatası döndürülür. Bu durum Visual Studio 2010, kök sanal dizin için yanlış bir yol kullanarak Visual Studio geliştirme sunucusunu başlattığında oluşur. | * Dosya tabanlı Web sitesinin **Özellikler** sayfasında, **sanal yol** özniteliğini "/" olarak değiştirin.<br><br>-veya-<br><br>\*Web sitesi projesi yerine bir Web uygulaması projesi oluşturun. Web uygulaması projeleri bu soruna sahip değildir ve proje klasörü adında bir nokta olsa bile URL yönlendirme işe yarar.<br><br>-veya-<br><br>\*IIS 'de barındırılan HTTP tabanlı bir Web sitesi oluşturun. IIS tarafından barındırılan Web sitelerinde, sanal yolda ve proje dosyası klasöründe noktalar bulunabilir. |
| **SharePoint siteleri** | Adında özel bir kısmi güven düzeyi içeren bir SharePoint Web sitesinin alt öğesi olarak dağıtılan bir ASP.NET 4 Web sitesi çalıştırmayı denerseniz `WSS_Minimal` , aşağıdaki hatayı görürsünüz:<br><br>`Could not find permission set named 'ASP.Net'.` | Şu anda, SharePoint 'in hiçbir sürümü ASP.NET ile uyumlu değildir. Sonuç olarak, bir ASP.NET 4 Web sitesini bir SharePoint Web sitesinin alt öğesi olarak çalıştırmayı denememelisiniz. |
| **XHTML 1,1 standartları** | Yeni Web siteleri için XHTML 1,1 uyumluluğunu etkinleştirmek üzere .NET Framework 4 ' teki ASP.NET denetimleri XHTML 1,1 uyumlu HTML oluşturacaktır. Bu işleme, öğesinin içindeki Web.config dosyasında aşağıdaki seçenek kullanılarak etkinleştirilir `<system.Web>` :<br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br>Bu seçenek varsayılan olarak 4,0 olarak ayarlanır. Visual Studio 2008 ' den yükseltilen web projelerinin uyumluluk için etkinleştirilmiş 3,5 ayarı vardır. | Yok. |

## <a name="core"></a>Çekirdek

### <a name="general-features"></a>Genel Özellikler

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **CardSpace** | Windows CardSpace artık .NET Framework ' de bulunmamaktadır; ayrı olarak sağlanır. | Windows CardSpace 'i [Microsoft Indirme merkezi](https://go.microsoft.com/fwlink/?LinkId=199868)' nden indirin. |
| **Yapılandırma dosyaları** | .NET Framework uygulama yapılandırma dosyalarına eriştiğinde düzeltmeler yapılmıştır. | Uygulama yapılandırma dosyanız *application-name.config*olarak adlandırılmışsa, *application-name.exe.config*olarak yeniden adlandırın. Örneğin, *MyApp.config* *MyApp.exe.config*olarak yeniden adlandırın. |
| **C# kod derleyicisi** | `Compiler` `CompilerError` Ad alanındaki, ve `ErrorLevel` sınıfları <xref:Microsoft.CSharp> artık kullanılamaz ve derleme (cscompmgd.dll) artık .NET Framework dahil değildir. | <xref:System.CodeDom.Compiler.CodeDomProvider>Ad alanındaki sınıfını ve diğer sınıfları kullanın <xref:System.CodeDom.Compiler> . Daha fazla bilgi için bkz. [CodeDOM kullanma](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29). |
| **Barındırma** (yönetilmeyen API) | Barındırma yeteneklerini geliştirmek için, barındırma etkinleştirme API 'Lerinden bazıları kullanım dışı bırakılmıştır. İşlem içi yan yana yürütme özellikleri, bir uygulamanın aynı işlemde .NET Framework birden çok sürümünü yüklemesini ve başlatmasını sağlar. Örneğin, aynı işlemde .NET Framework 4 ' ü temel alan .NET Framework 2,0 SP1 ve eklentilerini temel alan eklentileri (veya bileşenleri) yükleyen uygulamalar çalıştırabilirsiniz. Eski bileşenler eski .NET Framework sürümünü kullanmaya devam eder ve yeni bileşenler yeni .NET Framework sürümünü kullanır. | [Işlem Içi yan yana yürütme](../deployment/in-process-side-by-side-execution.md)bölümünde açıklanan konfigürasyonları kullanın. |
| **Yeni güvenlik modeli** | Kod erişim güvenliği (CAS) ilkesi kapatılmış ve [.NET Framework 4 ' teki güvenlik değişiklikleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29)bölümünde açıklandığı gibi basitleştirilmiş bir modelle değiştirilmiştir. | Uygulamalarınızda CA 'lara bağlı olduğunuzda değişiklikler yapmanız gerekebilir. Daha fazla bilgi için bkz. [kod erişimi güvenlik Ilkesi uyumluluğu ve geçişi](../misc/code-access-security-policy-compatibility-and-migration.md). |

### <a name="date-and-time"></a>Tarih ve saat

Uzayına<xref:System>

Bütünleştirilmiş kod: mscorlib (mscorlib.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Gün ışığından yararlanma** | Sistem saatiyle tutarlı olması için zaman özellikleri ( <xref:System.TimeZoneInfo.Local> ve gibi <xref:System.DateTime.Now> ), artık yaz saati işlemleri için diğer .NET Framework verileri yerine işletim sistemi kurallarını kullanır. | Yok. |
| **Biçimlendirme dizeleri** | Kültüre duyarlı biçimlendirmeyi desteklemek için, yapı, <xref:System.TimeSpan> `ToString` `Parse` `TryParse` yeni ve yöntemlerine ek olarak,, ve yöntemlerinin yeni aşırı yüklerini içerir `ParseExact` `TryParseExact` . | Yok. |

### <a name="globalization"></a>Genelleştirme

Yeni nötr ve belirli kültürlerin listesi için bkz. [Genelleştirme ve yerelleştirme yenilikleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).

Uzayına<xref:System.Globalization>

Bütünleştirilmiş kod: mscorlib (mscorlib.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Kültür adları** | Aşağıdaki ad değişiklikleri Almanca, Divehi ve Afrika kültürlerini etkiler:<br><br>\*<xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Almanca (İsviçre) (de-ch) kültürünün para birimi adı "sFr" iken değiştirildi. "fr.".<br>\*<xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Divehi (Maldivler) (DV-MV) kültürü için uzun tarih deseninin "gg/AAAA/yyyy" iken "gg/aa/yyyy" olarak değiştirildi.<br>\*<xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: P.M. Afrikandili (Güney Afrika) (AF-ZA) kültürünün göstergesi "NM" iken "PM" olarak değiştirildi. | Kültür adı değişikliklerini Note. |
| **LCıD parametresi** | Otomasyon sunucu ayarlarındaki beklenen davranışla tutarlı olması için CLR artık bu parametre için geçerli kültürü `LCID` YÖNETILMEYEN com tabanlı uygulamalara geçirmemektedir. Bunun yerine, kültür için 1033 (en-US) geçirir. | Belirli bir kültür gerektiren yerel uygulamalar haricinde hiçbir değişiklik gerekmiyor. |
| **Kullanılmayan kültür türleri** | <xref:System.Globalization.CultureTypes>Ve <xref:System.Globalization.CultureTypes> kültür türleri artık kullanılmıyor.<br><br>Geriye dönük uyumluluk için, <xref:System.Globalization.CultureTypes> artık önceki .NET Framework dahil edilen nötr ve özel kültürler döndürür ve <xref:System.Globalization.CultureTypes> artık boş bir liste döndürüyor. | Sabit listesinin diğer değerlerini kullanın <xref:System.Globalization.CultureTypes> . |
| **Kültür alınıyor** | Windows 7 ' den başlayarak .NET Framework 4, verilerin kendisini depolamak yerine işletim sisteminden kültür bilgilerini alır. Ayrıca, .NET Framework verileri sıralama ve büyük harfe çevirme için Windows ile eşitlenir. | Yok. |
| **Unicode 5,1 standartları** | .NET Framework, yaklaşık 1400 karakterden oluşan tüm UNICODE 5,1 karakterlerini desteklemektedir. Yeni semboller, oklar, aksanlar, noktalama, matematik sembolleri, ÇJK konturları ve kavram, ek Malayalam ve Telugu sayısal karakterler ve çeşitli Myanmar, Latin, Arapça, Yunanca, Moğolca ve Kiril karakterleri arasında ek karakterler bulunur. Aşağıdaki yeni betikler Unicode 5,1: sunda, Lepcha, ol Chiki, Vai, Saurashtra, Kayah li, Rejang, Gurmukhi, odia, Tamil dili, Telugu dili, Malayalam Dili ve çam dili ile desteklenir. | Yok. |

### <a name="exceptions"></a>Özel Durumlar

Ad alanları: <xref:System> ,<xref:System.Runtime.ExceptionServices>

Bütünleştirilmiş kod: mscorlib (mscorlib.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bozuk işlem durumu için özel durumlar** | CLR artık, Yönetilen koddaki özel durum işleyicilerine bozuk işlem durumu için özel durumlar teslim eder. | Bu özel durumlar, bir işlemin durumunun bozuk olduğunu gösterir. Uygulamanızı bu durumda çalıştırmanızı önermiyoruz.<br><br>Daha fazla bilgi için <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> MSDN Magazine 'Teki [bozuk durum özel durumlarını işleme](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) ve giriş konusuna bakın. |
| **Yürütme motoru özel durumları** | <xref:System.ExecutionEngineException>Kullanımdan kalktı bir özel durum, kararsız bir işlemin çalıştırılmaya devam etmesine izin vereceğinden artık kullanılmıyor. Bu değişiklik, çalışma zamanındaki öngörülebilirlik ve güvenilirliği artırır. | <xref:System.InvalidOperationException>Koşulu bildirmek için bir kullanın. |

### <a name="reflection"></a>Yansıma

Uzayına<xref:System.Reflection>

Bütünleştirilmiş kod: mscorlib (mscorlib.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bütünleştirilmiş kod karma algoritmaları** | <xref:System.Reflection.AssemblyName.HashAlgorithm>Özellik artık, <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm> derleme yüklü olmadığında başvurulan derlemenin karma algoritmasını bilmez olduğundan, özelliği döndürülür. (Bu, yöntemi tarafından döndürülen gibi Başvurulmuş bir derlemede özelliğini kullanmayı ifade eder <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> .) | Yok. |
| **Derlemeyi yükleme** | Derlemelerin gereksiz şekilde yüklenmesini engellemek ve sanal adres alanını kaydetmek için, CLR artık yalnızca Win32 işlevini kullanarak derlemeleri yükler `MapViewOfFile` . Artık işlevi de çağırmayacaktır `LoadLibrary` .<br><br>Bu değişiklik tanılama uygulamalarını aşağıdaki yollarla etkiler:<br><br>\*<xref:System.Diagnostics.ProcessModuleCollection>, ' A çağrısından elde edilen bir sınıf kitaplığı (. dll dosyası) ile artık modül içermez `Process.GetCurrentProcess().Modules` .<br>\*İşlevi kullanan Win32 uygulamaları `EnumProcessModules` listelenen tüm yönetilen modülleri görmez. | Yok. |
| **Bildirim türü** | Bu <xref:System.Type.DeclaringType> özellik, türün bir bildirim türü olmadığında doğru şekilde null değer döndürüyor. | Yok. |
| **Temsilciler** | Temsilci <xref:System.ArgumentNullException> <xref:System.NullReferenceException> , Temsilci oluşturucunun oluşturucusuna null değer geçirildiğinde bir yerine bir atar. | Tüm özel durum işlemenin catch olduğundan emin olun <xref:System.ArgumentNullException> . |
| **Genel bütünleştirilmiş kod önbelleği konum değişikliği** | .NET Framework 4 derlemeleri için, genel derleme önbelleği Windows dizininden taşındı (% WINDIR%) Microsoft.Net alt dizinine (*% WINDIR% \\ Microsoft.net*). Önceki sürümlerden alınan derlemeler eski dizinde kalır.<br><br>Yönetilmeyen [asm_cache_flags](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) numaralandırması yeni `ASM_CACHE_ROOT_EX` bayrağı içerir. Bu bayrak, [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) işlevi tarafından edinilen .NET Framework 4 derlemelerinin önbellek konumunu alır. | Hiçbiri, uygulamaların derlemeler için açık yollar kullanmadığı varsayılarak, bu önerilen bir uygulama değildir. |
| **Genel derleme önbelleği aracı** | [Gacutil.exe (genel bütünleştirilmiş kod önbelleği aracı)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) artık kabuk eklentisi görüntüleyicisini desteklemiyor. | Yok. |

### <a name="interoperability"></a>Birlikte çalışabilirlik

Uzayına<xref:System.Runtime.InteropServices>

Bütünleştirilmiş kod: mscorlib (mscorlib.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Arabellek uzunluğu** (yönetilmeyen API) | Belleği kaydetmek için, `pBufferLengthOffset` [ICorProfilerInfo2:: GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) metoduna yönelik parametrenin işlevselliği parametresiyle eşleşecek şekilde değiştirilmiştir `pStringLengthOffset` . Her iki parametre de artık dizenin uzunluğunun konum konumunu işaret. Arabellek uzunluğu dize sınıfının gösteriminden kaldırıldı. | Arabellek uzunluğunun bağımlılığını kaldırın. |
| **JıT hata ayıklama** | Tam zamanında (JıT) hata ayıklama için kayıt işlemini basitleştirmek üzere .NET Framework hata ayıklayıcı artık yalnızca yerel kod için JıT hata ayıklama davranışını denetleyen AeDebug kayıt defteri anahtarını kullanır. Bu değişiklik aşağıdaki şekilde sonuçlanır:<br><br>\*Hem yönetilen hem de yerel kod için iki farklı hata ayıklayıcıları kaydedemiyor.<br>\*Etkileşimli olmayan bir işlem için artık hata ayıklayıcıyı otomatik olarak başlatamazsınız, ancak kullanıcıdan etkileşimli bir işlem için istemde bulunabilir.<br>\*Hata ayıklayıcı başlayamazsa veya başlaması gereken kayıtlı bir hata ayıklayıcı olmadığında artık bilgilendirilirsiniz.<br>\*Uygulamanın etkileşimini temel alan otomatik başlatma ilkeleri artık desteklenmemektedir. | Hata ayıklama işlemlerini gereken şekilde ayarlayın. |
| **Platform çağırma** | Yönetilmeyen kod ile birlikte çalışabilirlik performansını artırmak için, bir platform çağırmada hatalı çağırma kuralları artık uygulamanın başarısız olmasına neden olur. Önceki sürümlerde, sıralama katmanı bu hataları yığının üzerinde çözmüştür. | Microsoft Visual Studio ' de uygulamalarınızın hatalarını ayıklama, bu hatalara göre sizi düzeltebilmeniz için sizi uyarır.<br><br>Güncelleştirilemeyen ikili dosyalarınız varsa, bu [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) öğeyi daha önceki sürümlerde olduğu gibi çağırma hatalarının çağrılmasını sağlamak için uygulamanızın yapılandırma dosyasına ekleyebilirsiniz. Bununla birlikte, bu durum uygulamanızın performansını etkileyebilir. |
| **Kaldırılan arabirimler** (yönetilmeyen API) | Geliştirici karışıklığına engel olmak için aşağıdaki arabirimler kaldırılmıştır, çünkü herhangi bir faydalı çalışma zamanı senaryosu sağlamamış ve CLR hiçbir uygulama sağlamadı veya kabul etmedi:<br><br>\***INativeImageINativeImageDependency**<br>\***INativeImageInstallInfo**<br>\***INativeImageEvaluate**<br>\***INativeImageConverter**<br>\***Icormodule**<br>\***IMetaDataConverter** | Yok. |

## <a name="data"></a>Veriler

Bu bölümde, veri kümeleri ve SQL istemcileri, Entity Framework, LINQ to SQL ve WCF veri sunucuları (eski adıyla ADO.NET veri Hizmetleri) kullanımına ilişkin geçiş sorunları açıklanmaktadır.

### <a name="dataset-and-sql-client"></a>Veri kümesi ve SQL Istemcisi

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data> , <xref:System.Data.Objects.DataClasses> ,<xref:System.Data.SqlClient>

Derlemeler: System. Data (System.Data.dll), System. Data. Entity (System.Data.Entity.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **POCO senaryoları** | <xref:System.Data.Objects.DataClasses.IRelatedEnd>Arabirimin, düz eskı CLR nesne (POCO) senaryolarında kullanılabilirliğini geliştirmek için yeni yöntemleri vardır. Bu yeni yöntemler bir <xref:System.Object> varlık yerine bir <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> parametre olarak alır. |
| **Satırları düzenle** | <xref:System.Collections.IList.IndexOf%2A>Sınıfı tarafından uygulanan yöntemi, <xref:System.Data.DataView> artık,-1 döndürmek yerine düzenlenmekte olan bir satırın değerini doğru bir şekilde döndürür. |
| **Olaylar** | <xref:System.Data.DataRowView.PropertyChanged>Olay artık bir satır değiştirilmiş durumda olduğunda ve <xref:System.Data.DataRow.RejectChanges%2A> yöntemi çağrıldığında tetiklenir. Bu değişiklik, bir nesnenin içeriğini açığa çıkaran UI denetimleri oluşturmayı kolaylaştırır <xref:System.Data.DataSet> . |
| **Özel Durumlar** | <xref:System.Data.SqlClient.SqlCommand.Prepare%2A>Yöntemi artık <xref:System.InvalidOperationException> bir bağlantı ayarlanmamışsa veya değil, bir bağlantı olarak oluşturulur <xref:System.NullReferenceException> . |
| **Görünümleri eşleme** | Sorgu görünümü eşleme hataları artık çalışma zamanında oluşturmak yerine tasarım zamanında yakalanır <xref:System.NullReferenceException> .<br><br>Eşleme doğrulaması artık kavramsal şema (CSDL) içindeki iki ilişkilendirme kümesinin aynı sütunla eşlendiği hatayı yakalar. |
| **İşlemler** | Bir uygulama, bir işlem tamamlandıktan sonra bağlantı üzerinde bir ifadeyi yürütmeye çalışırsa (Durdurulan veya geri alındı dahil), şimdi bir oluşturulur <xref:System.InvalidOperationException> . Önceki sürümler özel durum oluşturmadı ve bir işlem durdurulmuş olsa bile ek komutlar yürütmenizi sağlar. |

### <a name="entity-framework"></a>Varlık Çerçevesi

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data> , <xref:System.Data.Objects> ,<xref:System.Data.Objects.DataClasses>

Derlemeler: System. Data. Entity (System.Data.Entity.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık nesneleri** | Metodu <xref:System.Data.Objects.ObjectContext.Detach%2A> ve yöntemi çağrıldığında varlık nesnesinin durumu arasında eşlik vardır <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> . Bu iyileştirilmiş tutarlılık, beklenmeyen özel durumların oluşturulmasını engeller. |
| **Varlık SQL** | Kurallar Entity SQL ' de tanımlayıcı çözümleri için geliştirilmiştir.<br><br>Entity SQL ayrıştırıcısı çok parçalı tanımlayıcıları çözümlemek için iyileştirildi. |
| **Yapısal ek açıklamaları** | Entity Framework artık yapısal ek açıklamaları tanır. |
| **Sorgular** | Sorgularda aşağıdaki iyileştirmeler yapılmıştır:<br><br>\*`GroupBy`Boş bir koleksiyon üzerinde null anahtar kullanan bir sorgu, sorguda ek seçim olmasına bakılmaksızın herhangi bir satır döndürmez.<br>\*LINQ ve Entity-SQL sorguları içinde oluşturulan SQL, artık dize parametrelerini varsayılan olarak Unicode olmayan değerler olarak değerlendirir. |

### <a name="linq-to-sql"></a>LINQ - SQL

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Uzayına<xref:System.Data.Linq>

Bütünleştirilmiş kod: System. Data. LINQ (System.Data.Linq.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Olaylar** | Bir <xref:System.Data.Linq.EntitySet%601> koleksiyon artık <xref:System.Data.Linq.EntitySet%601.ListChanged> kaldırıldığında ekleme ve kaldırma işlemleri için olayı, koleksiyon yüklenirken <xref:System.Data.Linq.EntitySet%601> olayı derlemeye ek olarak başlatır. |
| **Sorgular** | `Skip(0)`Artık LINQ to SQL sorgularında yok sayılır. Sonuç olarak, bu yönteme sahip olan sorgular farklı şekilde davranmayabilir. Örneğin, bazı durumlarda bir `OrderBy` yan tümce ile birlikte gereklidir `Skip(0)` ve <xref:System.NotSupportedException> `OrderBy` yan tümce dahil edilmediğinden sorgu şimdi bir özel durum oluşturur. |

### <a name="wcf-data-services"></a>WCF Veri Hizmetleri

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data.Services> , <xref:System.Data.Services.Client> , <xref:System.Data.Services.Common> ,<xref:System.Data.Services.Providers>

Derlemeler: System. Data. Services (System.Data.Services.dll), System. Data. Services. Client (System.Data.Services.Client.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Toplu Ikili Içerik** | WCF Veri Hizmetleri artık isteklerde ve yanıtlarda toplu ikili içeriği desteklemektedir. |
| **Değişiklik yakalayıcılar** | Değişiklik dinleyicileri artık silme isteği için yürütülür.<br><br>Değişiklik yakalayıcısı, varlık kümesindeki bir varlığı değiştirmek için sunucu tarafından her istek alındığında çalışan bir yöntemdir. Gelen istek yürütülmeden önce çalışır. Değişiklik yakalayıcısı, değiştirilmekte olan varlığa ve üzerinde gerçekleştirilen işleme erişim sağlar. |
| **Özel Durumlar** | Aşağıdaki koşullar artık yerine daha faydalı özel durumlar oluşturur <xref:System.NullReferenceException> :<br><br>\*Bir <xref:System.ServiceProcess.TimeoutException> veri hizmetine yapılan çağrı zaman aşımına uğrar.<br>\*Bir <xref:System.Data.Services.Client.DataServiceRequestException> veri hizmetine hatalı istek yapıldığında.<br><br>Uygulamalarınızda, yeni özel durumları yakalamak için özel durum işlemeyi değiştirmelisiniz. |
| **Üst Bilgiler** | Üst bilgilerde aşağıdaki iyileştirmeler yapılmıştır:<br><br>\*WCF Veri Hizmetleri artık `eTag` belirtilmemiş bir değere sahip olan üstbilgiyi doğru bir şekilde reddeder.<br>\*WCF Veri Hizmetleri şimdi bir hata döndürüyor ve bir üst bilgi istekte olduğunda bir bağlantıya silme isteği için isteği yürütmüyor `if-*` .<br>\*WCF Veri Hizmetleri artık istemciye, Accept üst bilgisinde belirtilen biçimde (Atom, JSON) bir hata döndürür. |
| **JSON okuyucusu** | JavaScript Nesne Gösterimi (JSON) okuyucusu artık, \\ BIR WCF veri hizmetine GÖNDERILEN JSON yüklerini işlediğinde, tek ters eğik çizgi ("") kaçış karakterini okurken bir hatayı doğru bir şekilde döndürür. |
| **'Ün** | Numaralandırmada aşağıdaki iyileştirmeler yapılmıştır <xref:System.Data.Services.Client.MergeOption> :<br><br>\*<xref:System.Data.Services.Client.MergeOption>Birleştirme seçeneği artık, bir veri hizmetinden sonraki yanıt nedeniyle istemci üzerindeki varlığı değiştirmiyor.<br>\*Bu <xref:System.Data.Services.Client.MergeOption> seçenek artık dınamık SQL ve saklı yordam tabanlı güncelleştirmeler arasında tutarlıdır. |
| **İstekler** | <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A>Yöntemi artık veri Hizmetleri için bir istek işlenmeden önce çağırılır. Bu, isteğin hizmetler için düzgün çalışmasını sağlar <xref:System.Data.Services.Providers.ServiceOperation> . |
| **Akışlar** | WCF Veri Hizmetleri okuma ve yazma işlemleri için temel alınan akışı artık kapatmayacaktır. |
| **URI'ler** | WCF Veri Hizmetleri istemcisi tarafından URI kaçışı düzeltildi. |

## <a name="windows-communication-foundation-wcf"></a>Windows Communication Foundation (WCF)

Aşağıdaki tabloda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanmaktadır.

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Yapılandırma dosyaları** | Yapılandırma dosyası hiyerarşisi aracılığıyla davranışların devralınmasını etkinleştirmek için, WCF artık yapılandırma dosyaları arasında birleştirmeyi desteklemektedir.<br><br>Yapılandırma devralma modeli, kullanıcıların bilgisayarda çalışan tüm hizmetlere uygulanacak davranışları tanımlamasına izin vermek üzere genişletilir.<br><br>Hiyerarşinin farklı düzeylerinde aynı ada sahip davranışlar varsa, davranış değişiklikleriyle karşılaşabilirsiniz. |
| **Hizmet barındırma** | `<serviceHostingEnvironment>`Öğe tanımına özniteliği ekleyerek, artık hizmet düzeyinde yapılandırma öğesini belirtemezsiniz `allowDefinition="MachineToApplication"` .<br><br>`<serviceHostingEnvironment>`Öğesinin hizmet düzeyinde belirtilmesi teknik açıdan hatalı olur ve tutarsız davranışa neden olur. |

## <a name="windows-presentation-foundation-wpf"></a>Windows Presentation Foundation (WPF)

### <a name="applications"></a>Uygulamalar

Ad alanları: <xref:System.Windows> ,<xref:System.Windows.Controls>

Derlemeler: PresentationFramework (PresentationFramework.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Özel durum işleme** | Daha önce algılanabilmesi için WPF bir oluşturur <xref:System.Reflection.TargetInvocationException> ve <xref:System.Exception.InnerException> özelliği <xref:System.NullReferenceException> <xref:System.OutOfMemoryException> <xref:System.StackOverflowException> <xref:System.Security.SecurityException> özgün özel durumu yakalamak yerine,, ve gibi kritik özel durumlara ayarlar. | Yok. |
| **Bağlı kaynaklar** | Bağlama daha kolay hale getirmek için, projenin klasör yapısı dışında bir konumda bulunan kaynak dosyaları (örneğin, görüntüler), uygulama oluşturulduğunda kaynak KIMLIĞI olarak yalnızca dosya adı yerine kaynak dosyasının tam yolunu kullanır. Uygulama, çalışma zamanında dosyaları bulabilecektir. | Yok. |
| **Kısmi güven uygulamaları** | Güvenlik konuları için, kısmi güvende çalışan ve bir denetim veya HTML içeren bir denetim içeren Windows tabanlı uygulamalar <xref:System.Windows.Controls.WebBrowser> <xref:System.Windows.Controls.Frame> <xref:System.Security.SecurityException> Denetim oluşturulduğunda bir oluşturur.<br><br>Tarayıcı uygulamaları, bir özel durum oluşturur ve aşağıdaki koşulların tümü karşılanıyorsa bir ileti görüntüler:<br><br>\*Uygulama Firefox 'ta çalışmaktadır.<br>\*Uygulama, güvenilir olmayan sitelerden Internet bölgesinde kısmi güvende çalışıyor.<br>\*Uygulama, <xref:System.Windows.Controls.WebBrowser> HTML içeren bir denetim veya <xref:System.Windows.Controls.Frame> denetim içerir.<br><br>Güvenilen sitelerden veya intranet bölgesinden çalışan uygulamalar etkilenmeyecektir. | Tarayıcı uygulamalarınızda, aşağıdakilerden birini yaparak bu değişikliği kolay hale getirebilirsiniz:<br><br>\*Tarayıcı uygulamasını tam güvende çalıştırın.<br>\*Müşterilerin uygulamanın sitesini Güvenilen siteler bölgesine eklemesini sağlayabilirsiniz.<br>\*Müşterilerin uygulamayı Internet Explorer 'da çalıştırmasını sağlayabilirsiniz. |
| **Kaynak sözlükleri** | Tema düzeyi kaynak sözlüklerini geliştirmek ve bunların değiştirilmesini engellemek için, bir kaynak sözlüğünde tanımlanmış ve tema düzeyinde bir sözlükte birleştirilmiş Freezable kaynakları, her zaman dondurulmuş olarak işaretlenir ve sabittir. Bu, Freezable kaynakları için beklenen davranıştır. | Tema düzeyinde birleştirilmiş bir sözlükte tanımlanan bir kaynağı değiştiren uygulamalar, kaynağı klonlanmış ve kopyalanan kopyayı değiştirecek olmalıdır. Alternatif olarak, kaynak, `x:Shared="false"` <xref:System.Windows.ResourceDictionary> kaynak her sorgulandığında yeni bir kopya oluşturacak şekilde işaretlenebilir. |
| **Windows 7** | WPF uygulamalarının Windows 7 ' de daha iyi çalışmasını sağlamak için, bir pencerenin davranışını düzeltmek üzere aşağıdaki iyileştirmeler yapılmıştır:<br><br>\*Yerleştirme ve hareket durumları artık kullanıcı etkileşimlerine bağlı olarak beklendiği gibi çalışır.<br>\*Görev çubuğu komutları pencereleri **basamakla, pencereleri yığın olarak göster**ve **Windows yan yana** artık doğru davranışa sahiptir ve uygun özellikleri güncelleştirir.<br>\*`Top` `Left` `Width` `Height` Büyütülmüş veya küçültülmüş bir pencerenin,,, ve özellikleri, izlemeye bağlı olarak, diğer değerler yerine pencerenin doğru geri yükleme konumunu içerir. | Yok. |
| **Windows stili ve saydamlığı** | <xref:System.InvalidOperationException> <xref:System.Windows.Window.WindowStyle> <xref:System.Windows.WindowStyle> <xref:System.Windows.Window.AllowsTransparency> , `true` Ve olduğu durumlar dışında <xref:System.Windows.WindowState> bir değere ayarlamaya çalışırsanız oluşturulur <xref:System.Windows.WindowState> . | <xref:System.Windows.Window.WindowStyle>Ne zaman olduğunu değiştirmeniz gerekiyorsa <xref:System.Windows.Window.AllowsTransparency> `true` , Win32 `SetWindowLongPtr` işlevini çağırabilirsiniz. |
| **XPS Görüntüleyicisi** | WPF, Microsoft XML Kağıt Belirtimi Essentials paketi 'ni (XPSEP) içermez. XPSEP, Windows 7 ve Windows Vista 'da bulunur.<br><br>.NET Framework 3,5 SP1 yüklü olmayan Windows XP çalıştıran bir bilgisayarda, ' den başka bir WPF API kullanarak yazdırma işlemi <xref:System.Windows.Controls.PrintDialog> WINSPOOL 'a bağımlıdır. Bazı yazıcı özellikleri bildirilmeyecektir ve yazdırma sırasında bazı yazıcı ayarları uygulanmaz. | Gerekirse, [MICROSOFT XML Kağıt Belirtimi Essentials paketini](https://www.microsoft.com/en-us/download/details.aspx?id=11816)indirin. |

### <a name="controls"></a>Denetimler

Ad alanları: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input>

Derlemeler: PresentationFramework (PresentationFramework.dll), PresentationCore (PresentationCore.dll), WindowsBase (WindowsBase.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **İletişim kutuları** | Güvenilirliği artırmak için, <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> yöntemi denetimi oluşturan aynı iş parçacığında çağrılır <xref:Microsoft.Win32.FileDialog> . | Bir <xref:Microsoft.Win32.FileDialog> denetim oluşturup <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> aynı iş parçacığında yöntemi çağırdığınızdan emin olun. |
| **Kayan pencereler** | Kayan pencereyi yeniden yeniden etkinleştirme (kalıcı iletişim kutusu gibi görünür hale getirme) olan odak geri yükleme mantığını onarmak için, aday pencerenin bir alt öğesi değilse odak geri yükleme artık engellenir. | Yok. |
| **Koleksiyonlardaki öğeler** | Bir öğe taşındığında veya temel alınan bir koleksiyona eklendiğinde, sıralı değilse, içinde <xref:System.Windows.Data.CollectionView> aynı göreli konumda görüntülenir <xref:System.Windows.Data.CollectionView> . Bu, öğenin koleksiyondaki konumu ile ilişkili arasındaki tutarlılığı sağlar <xref:System.Windows.Data.CollectionView> . | Bir öğenin <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> <xref:System.Windows.Data.CollectionView.IndexOf%2A> <xref:System.Windows.Data.CollectionView> sabit konumuna güvenmek yerine bir öğenin konumunu bulmak için veya yöntemini kullanın. |
| **Düzenler** | Gereksiz yeniden düzenleri ortadan kaldırmak için, artık bu <xref:System.Windows.Controls.Page.ShowsNavigationUI> yerleşimi geçersiz kılar veya başka bir düzen geçişine neden olur. | Bu değiştirmenin <xref:System.Windows.Controls.Page.ShowsNavigationUI> başka bir düzen geçişine neden olacağını düşünüyorsanız, <xref:System.Windows.UIElement.InvalidateVisual%2A> özelliği ayarladıktan sonra çağrısı yapın. |
| **Menüler** | Menü açılır menüsünde ClearType metnini etkinleştirmek için, <xref:System.Windows.Controls.ControlTemplate> sınıfta ve <xref:System.Windows.Controls.MenuItem> denetimde ve diğer denetimlerde değişiklikler yapılmıştır. | Uygulamalar denetim şablonlarının görsel yapısına güvenmemelidir. Yalnızca bir öğesinin adlandırılmış parçaları <xref:System.Windows.Controls.ControlTemplate> ortak sözleşmenin bir parçasıdır. Bir uygulamanın içinde belirli bir nesne bulması gerekiyorsa <xref:System.Windows.Controls.ControlTemplate> , ağaç içindeki bir nesnenin sabit konumuna güvenmek yerine görsel ağaçta belirli bir tür için arama yapın. |
| **İçinde** | Doğrudan bir <xref:System.Windows.Controls.Frame> konuma gittiğinde, <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> özelliği `true` ilk gezinmeden sonra olur. Bu değişiklik, başlangıç senaryolarında ek olayların oluşturulmasını engeller. | Yok. |
| **Açılır pencereler** | <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback>Temsilci artık yalnızca bir kez değil, düzen geçişi sırasında birden çok kez çağrılabilir. | <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback>Temsilciniz bir önceki konumuna göre konumunu hesapladığında, <xref:System.Windows.Controls.Primitives.Popup> konumunu yalnızca `popupSize` , `targetSize` veya parametrelerinin değerleri değiştiğinde yeniden hesaplayın `offset` . |
| **Özellik değerleri** | <xref:System.Windows.DependencyObject.SetCurrentValue%2A>Yöntemi artık, özelliği etkileyen bağlama, stil veya tetikleyicisine devam eden bir özelliği etkin bir değere ayarlamanıza olanak sağlar. | Denetim yazarları, <xref:System.Windows.DependencyObject.SetCurrentValue%2A> özellik değeri kullanıcı düzenlemesi dahil olmak üzere başka bir eylemin yan etkisi olarak her değiştiğinde kullanılmalıdır. |
| **Metin kutuları** | Güvenlik konuları için, <xref:System.Windows.Forms.TextBoxBase.Copy%2A> ve <xref:System.Windows.Forms.TextBoxBase.Cut%2A> yöntemleri kısmi güvende çağrıldığında sessizce başarısız olur.<br><br>Ayrıca, ' <xref:System.Windows.Input.ApplicationCommands.Copy> <xref:System.Windows.Input.ApplicationCommands.Cut> den devralan bir denetimde veya özelliğinin programlı yürütmesi <xref:System.Windows.Controls.Primitives.TextBoxBase> kısmi güvende engellenir. Ancak, <xref:System.Windows.Controls.Primitives.ButtonBase.Command> özelliği bu komutlardan birine ait olan bir düğmeye tıklanması gibi kullanıcı tarafından başlatılan kopyalama ve kesme komutları çalışır. Standart kopyalama ve klavye kısayollarını ve bağlam menüsünü kısmi güvende daha önce olduğu gibi çalışmaya devam edecektir. | <xref:System.Windows.Input.ApplicationCommands.Copy>Veya <xref:System.Windows.Input.ApplicationCommands.Cut> komutunu, bir düğmeye tıklanması gibi kullanıcı tarafından başlatılan bir eyleme bağlayın. |

### <a name="graphics"></a>Grafikler

Ad alanları: <xref:System.Windows> , <xref:System.Windows.Controls> ,, <xref:System.Windows.Data> <xref:System.Windows.Input> ,<xref:System.Windows.Media.Effects>

Derlemeler: PresentationFramework (PresentationFramework.dll), PresentationCore (PresentationCore.dll), WindowsBase (WindowsBase.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bit eşlem efektleri** | Performansı artırmak için, sınıfı <xref:System.Windows.Media.Effects.BitmapEffect> ve sınıftan kalıtımla alan sınıflar <xref:System.Windows.Media.Effects.BitmapEffect> devre dışı bırakılmış olabilir. Aşağıdaki koşullar doğruysa, efekt, donanım hızlandırmalı işleme işlem hattı kullanılarak işlenir:<br><br>\*Uygulama, <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> <xref:System.Windows.Media.Effects.BlurBitmapEffect> 100 Diu 'dan küçük bir Radius özelliği ayarlanmış olan bir veya bir kullanır.<br>\*Uygulamayı çalıştıran bilgisayardaki ekran kartı, Pixel Shader 2,0 ' i destekler.<br><br>Bu koşullar karşılanmazsa, bir <xref:System.Windows.Media.Effects.BitmapEffect> nesnenin hiçbir etkisi olmayacaktır.<br><br>Ayrıca, Visual Studio, <xref:System.Windows.Media.Effects.BitmapEffect> nesne veya alt sınıf ile karşılaştığında bir derleyici uyarısı oluşturur.<br><br><xref:System.Windows.Media.DrawingContext.PushEffect%2A>Yöntemi kullanılmıyor olarak işaretlendi. | Eski <xref:System.Windows.Media.Effects.BitmapEffect> ve türetilmiş sınıfları kullanmayı, bunun yerine <xref:System.Windows.Media.Effects.Effect> :, ve ' den türetilmiş yeni sınıfları <xref:System.Windows.Media.Effects.BlurEffect> kullanın <xref:System.Windows.Media.Effects.DropShadowEffect> <xref:System.Windows.Media.Effects.ShaderEffect> .<br><br>Ayrıca sınıfından devralarak kendi efektlerinizi de oluşturabilirsiniz <xref:System.Windows.Media.Effects.ShaderEffect> . |
| **Bit eşlem çerçeveleri** | Kopyalanan <xref:System.Windows.Media.Imaging.BitmapFrame> nesneler artık <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress> , <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> ve <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> olaylarını alır. Bu, Web 'den indirilen ve <xref:System.Windows.Controls.Image> denetime doğru bir şekilde çalışmak için uygulanan görüntüleri sağlar <xref:System.Windows.Style> .<br><br>Bir değişikliği yalnızca aşağıdaki tüm deyimler doğru olduğunda görürsünüz:<br><br>\*<xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, Veya olayına abone olursunuz <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> .<br>\*Kaynağı <xref:System.Windows.Media.Imaging.BitmapFrame> Web 'den.<br>\*, <xref:System.Windows.Media.Imaging.BitmapFrame> İndirme devam ederken klonlanır. | Olay işleyicisindeki göndereni denetleyin ve yalnızca gönderen özgün ise işlem yapın <xref:System.Windows.Media.Imaging.BitmapFrame> . |
| **Görüntülerin kodunu çözme** | <xref:System.IO.IOException>Görüntülerin kodu çözemediği zaman işlenmemesi için, <xref:System.Windows.Media.Imaging.BitmapSource> sınıf <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> bir görüntünün kodunu çözemediği zaman olayı oluşturur. | İçin özel durum işlemeyi kaldırın <xref:System.IO.IOException> ve <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> kodu çözme hatası olup olmadığını denetlemek için olayını kullanın. |

### <a name="input"></a>Giriş

Ad alanları: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input>

Derlemeler: PresentationFramework (PresentationFramework.dll), PresentationCore (PresentationCore.dll), WindowsBase (WindowsBase.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Komut örnekleri bağlama** | Görünüm-model tabanlı komut örneklerini görüntüleme tabanlı giriş hareketlerine bağlama mekanizması sağlamak için, <xref:System.Windows.Input.InputBinding> sınıf artık yerine öğesinden devralır <xref:System.Windows.Freezable> <xref:System.Windows.DependencyObject> . Aşağıdaki özellikler artık bağımlılık özellikleridir:<br><br>\* <xref:System.Windows.Input.InputBinding.Command><br>\* <xref:System.Windows.Input.InputBinding.CommandParameter><br>\* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br>Bu değişiklik aşağıdaki şekilde sonuçlanır:<br><br>\*Bir <xref:System.Windows.Input.InputBinding> nesne, kayıt edildiğinde değişebilir yerine, artık dondurulmuş olur.<br>\*<xref:System.Windows.Input.InputBinding>Sınıfın kısıtlamaları nedeniyle, birden fazla iş parçacığından örnek düzeyi nesnelere erişemezsiniz <xref:System.Windows.DependencyObject> .<br>\*Sınıf kısıtlamalarından dolayı, kayıt işleminden sonra sınıf düzeyinde giriş bağlamaları olamaz <xref:System.Windows.Freezable> .<br>\*Bir görünüm modelinde oluşturulan komut örneklerinde giriş bağlamaları belirtemezsiniz. | <xref:System.Windows.Input.InputBinding>Bağlamaların değiştirilebilir olması durumunda ayrı iş parçacıklarında bir sınıfın ayrı örneklerini oluşturun veya bunları başka bir şekilde dondurun. Kaydedildikten sonra sınıf düzeyinde statik bir statik kullanmayın <xref:System.Windows.Input.InputBinding> . |
| **Tarayıcı uygulamaları** | WPF tarayıcı uygulamaları (. XBAP) artık tek başına WPF uygulamaları gibi önemli olayları, nesnelerin yönlendirilmiş anahtar olaylarını doğru sırada alması için işler. | Yok. |
| **Atılacak anahtar birleşimleri** | WPF, hiçbir görünür karakter üreten kullanılmayan anahtarları belirsizler, ancak bunun yerine anahtarın bir karakter üretmek için bir sonraki harfle birleştirilmek üzere olduğunu belirtir. Olay gibi anahtar giriş olayları, <xref:System.Windows.Input.Keyboard.KeyDownEvent> özelliği değere ayarlayarak bir anahtar ölü bir anahtar olduğunda bildirir <xref:System.Windows.Input.KeyEventArgs.Key> <xref:System.Windows.Input.Key> . Uygulamalar genellikle Birleşik bir karakter oluşturan klavye girdisine yanıt vermeyi düşünmediğinden, bu genellikle beklenen davranıştır. | Birleşik karakterlerin bir parçası olan anahtarları okumayı bekleyen uygulamalar, özelliği kullanarak artık karıştırılmış anahtarı alabilir <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> . |
| **Odak Yöneticisi** | Yöntemi, <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) iliştirilmiş özelliği olarak ayarlanmış bir öğeyi geçirildiğinde `true` , yöntemi bu odak kapsamındaki son klavye odaklı öğe olan bir öğe döndürür ve yalnızca döndürülen öğe, <xref:System.Windows.PresentationSource> metoduna geçirilen öğeyle aynı nesneye aitse. | Yok. |

### <a name="ui-automation"></a>UI Otomasyonu

Ad alanı: <xref:System.Windows> , <xref:System.Windows.Automation.Peers> ,, <xref:System.Windows.Automation.Provider> <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input>

Derlemeler: PresentationFramework (PresentationFramework.dll), PresentationCore (PresentationCore.dll), UIAutomationProvider (UIAutomationProvider.dll), WindowsBase (WindowsBase.dll olarak)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Görünümlerin sınıf hiyerarşisi** | <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer>Ve <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> sınıfları yerine öğesinden devralınır <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer> . | Sınıflardan devralıp <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> yöntemi geçersiz kıldıysanız <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> , yeni sınıftan devralan bir nesne döndürmeyi düşünün <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> . |
| **Kapsayıcılar ekran dışı** | Hatalı bir dönüş değerini onarmak için, <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> Yöntem artık `false` görünüm dışında kaydırılan öğe kapsayıcıları için doğru şekilde geri döner. Ayrıca, yöntemin değeri diğer pencereler tarafından occlusiyon veya öğenin belirli bir monitörde görünür olup olmadığı ile etkilenmez. | Yok. |
| **Menüler ve alt nesneler** | Nesneler dışında alt öğe içeren menülerde UI Otomasyonu 'nu etkinleştirmek için <xref:System.Windows.Controls.MenuItem> , <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> yöntemi artık <xref:System.Windows.Automation.Peers.AutomationPeer> <xref:System.Windows.UIElement> bir nesne yerine bir alt nesnenin nesnesini döndürür <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> . | Yok. |
| **Yeni arabirimler ve derleme** | UI Otomasyonu için yeni özellikleri etkinleştirmek üzere aşağıdaki arabirimler eklenmiştir:<br><br>\* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | WPF Otomasyonu eşleri oluşturan tüm projeler UIAutomationProvider.dll açık bir başvuru içermelidir. |
| **Thumbs** | <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A>Yöntemi null yerine bir değer döndürür. Bu nedenle, <xref:System.Windows.Controls.GridSplitter> sınıfından kalıtımla alan gibi denetimler, <xref:System.Windows.Controls.Primitives.Thumb> UI Otomasyonu 'na bir ad rapor eder. | Yok. |
| **Sanallaştırılmış öğeler** | Performansı artırmak için, <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> yöntemi sanallaştırıldıklarından bağımsız olarak, tüm alt nesneler yerine yalnızca aslında görsel ağaçta olan alt nesneleri döndürür. | <xref:System.Windows.Automation.ItemContainerPattern>Tüm öğelerini yinelemek için kullanın <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> . |

### <a name="xaml"></a>XAML

Ad alanları: <xref:System.Windows> , <xref:System.Windows.Controls> ,, <xref:System.Windows.Data> <xref:System.Windows.Input> ,<xref:System.Windows.Markup>

Derlemeler: PresentationFramework (PresentationFramework.dll), PresentationCore (PresentationCore.dll), WindowsBase (WindowsBase.dll)

| Özellik | 3,5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Biçimlendirme uzantısı** | WPF şimdi doğru bir şekilde bir <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> <xref:System.Windows.Markup.MarkupExtension> özelliği ayarlamak veya bir koleksiyonda bir öğe oluşturmak için bir biçimlendirme uzantısı kullanıldığında belirli durumlarda nesneyi döndürmek yerine yönteminden değeri her zaman kullanır. Bir biçimlendirme uzantısı, bazı durumlarda kendisini döndürebilir. | Uygulamanız önceki sürümlerde bir nesne döndüren bir kaynağa eriştiğinde, <xref:System.Windows.Markup.MarkupExtension> <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> nesne yerine, öğesinden döndürülen nesneye başvuru yapın <xref:System.Windows.Markup.MarkupExtension> . |
| **Öznitelikleri ayrıştırma** | XAML içindeki öznitelikler artık yalnızca bir nokta içerebilir. Örneğin, aşağıdakiler geçerlidir:<br><br>`<Button Background="Red"/>`(dönem yok)<br><br>`<Button Button.Background = "Red"/>`(bir nokta)<br><br>Aşağıdakiler artık geçerli değil:<br><br>`<Button Control.Button.Background = "Red"/>`(bir dönem daha fazla) | Birden fazla dönemi olan XAML özniteliklerini düzeltin. |

## <a name="xml"></a>XML

Bu tablodaki satırlarda, daha önce sınırlamalar veya diğer sorunlar bulunan özelliklerle ilgili iyileştirmeler açıklanır.

### <a name="schema-and-transforms"></a>Şema ve dönüşümler

Ad alanları: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath>

Derlemeler: System.Xml (System.Xml.dll), System.Xml. LINQ (System.Xml.Linq.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Chameleon şemaları** | Veri bozulmasını engellemek için, şemalarda Chameleon şemaları, birden çok şemaya dahil edildiğinde doğru şekilde klonlanır.<br><br>Chameleon şemaları, hedef ad alanı olmayan şemalarda bulunur ve başka bir XSD 'ye dahil edildiğinde, içeri aktarma şemasının hedef ad alanını alırlar. Genellikle bir şemaya ortak türler eklemek için kullanılır. |
| **KIMLIK işlevleri** | XSLT [ID işlevi](/sql/xquery/functions-on-sequences-id) , BIR XLST öğesine bir nesne geçirildiğinde null yerine doğru değeri döndürür <xref:System.Xml.XmlReader> .<br><br>Kullanıcı <xref:System.Xml.XmlReader> yöntemini kullanarak bir LINQ to XML sınıfından bir nesne oluşturmuştur <xref:System.Xml.Linq.XNode.CreateReader%2A> ve bu <xref:System.Xml.XmlReader> nesne bir XSLT 'ye geçirilmemişse, `id` XSLT 'de işlevin herhangi bir örneği daha önce null değerini döndürür. Bu, işlev için izin verilen bir dönüş değeri değildir `id` . |
| **Namespace özniteliği** | Bir nesne, verilerin bozulmasını engellemek için <xref:System.Xml.XPath.XPathNavigator> artık özniteliğin yerel adını `x:xmlns` doğru bir şekilde döndürür. |
| **Ad alanı bildirimleri** | <xref:System.Xml.XmlReader>Alt ağaçtaki bir nesne artık tek BIR XML öğesinde yinelenen ad alanı bildirimleri oluşturmayacaktır. |
| **Şema doğrulaması** | Hatalı şema doğrulamasını engellemek için sınıf, <xref:System.Xml.Schema.XmlSchemaSet> XSD şemalarının doğru ve tutarlı olarak derlenmesine izin verir. Bu şemalar, diğer şemaları içerebilir; Örneğin, içerebilir `A.xsd` ve dahil olabilir `B.xsd` `C.xsd` . Bunlardan herhangi birini derlemek, bu bağımlılık grafiğinin bırakılmasına neden olur. |
| **Betik işlevleri** | İşlev gerçekten kullanılabilir olduğunda [işlevi kullanılabilir işlevi](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) artık yanlış bir şekilde döndürmez `false` . |
| **URI'ler** | <xref:System.Xml.Linq.XElement.Load%2A>Yöntemi artık LINQ sorgularında doğru BaseURI 'yi döndürüyor. |

### <a name="validation"></a>Doğrulama

Ad alanları: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath>

Derlemeler: System.Xml (System.Xml.dll), System.Xml. LINQ (System.Xml.Linq.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Ad alanı çözümleyiciler** | <xref:System.Xml.XmlReader.ReadContentAs%2A>Yöntemi, <xref:System.Xml.IXmlNamespaceResolver> kendisine geçirilen çözümleyici 'yi artık yok saymaz.<br><br>Önceki sürümlerde, belirtilen ad alanı Çözümleyicisi yoksayıldı ve <xref:System.Xml.XmlReader> bunun yerine kullanıldı. |
| **Boşluk** | Bir okuyucu oluştururken veri kaybını engellemek için, <xref:System.Xml.XmlReader.Create%2A> Yöntem artık önemli boşluk atar.<br><br>XML doğrulaması karışık içerik modunu tanır ve metin XML işaretlemesi ile birbirine karışabilir. Karma modda, tüm boşluklar önemlidir ve bildirilmesi gerekir. |

### <a name="writing"></a>Yazılanlar

Ad alanları: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath>

Derlemeler: System.Xml (System.Xml.dll), System.Xml. LINQ (System.Xml.Linq.dll)

| Özellik | 3,5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık başvuruları** | Veri bozulmasını engellemek için, XML özniteliklerinde varlık başvuruları artık iki kez kullanılamaz.<br><br>Kullanıcı bir `xmlns` özniteliği bir özniteliğe veya yöntemini kullanarak bir veya özniteliğine bir varlık yazmaya çalıştıysanız `xml:lang` `xml:space` <xref:System.Xml.XmlWriter.WriteEntityRef%2A> , varlık çıktıda iki kez İşlidir ve bu nedenle verileri bozuyor. |
| **Yeni satır işleme** | Veri bozulmasını engellemek için <xref:System.Xml.XmlWriter> nesneleri seçeneğe göre kabul edin <xref:System.Xml.NewLineHandling> . |

## <a name="see-also"></a>Ayrıca bkz.

- [.NET Framework 4 ' te yeni türler ve Üyeler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [.NET Framework 4 ' e geçiş kılavuzu](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [.NET Framework 4 ' teki yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [.NET Framework sürümünde sürüm uyumluluğu](version-compatibility.md)
- [Office çözümlerini .NET Framework 4 ' e geçirme](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [.NET Framework Sınıf Kitaplığı'nda Artık Kullanılmayanlar](../whats-new/whats-obsolete.md)
