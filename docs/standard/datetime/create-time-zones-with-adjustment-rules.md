---
title: 'Nasıl yapılır: ayarlama kuralları ile saat dilimleri oluşturma'
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- time zones [.NET Framework], creating
- time zones [.NET Framework], and adjustment rules
- adjustment rule [.NET Framework]
ms.assetid: c52ef192-13a9-435f-8015-3b12eae8c47c
ms.openlocfilehash: 4ef3d93746c5688dc15fc7e45d9be054dcfba4c8
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73132548"
---
# <a name="how-to-create-time-zones-with-adjustment-rules"></a><span data-ttu-id="707a8-102">Nasıl yapılır: ayarlama kuralları ile saat dilimleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="707a8-102">How to: Create time zones with adjustment rules</span></span>

<span data-ttu-id="707a8-103">Bir uygulama için gerekli kesin saat dilimi bilgileri, bazı nedenlerle belirli bir sistemde mevcut olmayabilir:</span><span class="sxs-lookup"><span data-stu-id="707a8-103">The precise time zone information that is required by an application may not be present on a particular system for several reasons:</span></span>

- <span data-ttu-id="707a8-104">Saat dilimi, yerel sistemin kayıt defterinde hiç tanımlanmadı.</span><span class="sxs-lookup"><span data-stu-id="707a8-104">The time zone has never been defined in the local system's registry.</span></span>

- <span data-ttu-id="707a8-105">Saat dilimi hakkındaki veriler, kayıt defterinden değiştirilmiş veya kaldırılmış.</span><span class="sxs-lookup"><span data-stu-id="707a8-105">Data about the time zone has been modified or removed from the registry.</span></span>

- <span data-ttu-id="707a8-106">Saat dilimi, belirli bir geçmiş dönem için saat dilimi ayarlamaları hakkında doğru bilgilere sahip değildir.</span><span class="sxs-lookup"><span data-stu-id="707a8-106">The time zone does not have accurate information about time zone adjustments for a particular historic period.</span></span>

<span data-ttu-id="707a8-107">Bu durumlarda, uygulamanız için gereken saat dilimini tanımlamak üzere <xref:System.TimeZoneInfo.CreateCustomTimeZone%2A> yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="707a8-107">In these cases, you can call the <xref:System.TimeZoneInfo.CreateCustomTimeZone%2A> method to define the time zone required by your application.</span></span> <span data-ttu-id="707a8-108">Bu yöntemin aşırı yüklerini, ayarlama kuralları olan veya olmayan bir saat dilimi oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="707a8-108">You can use the overloads of this method to create a time zone with or without adjustment rules.</span></span> <span data-ttu-id="707a8-109">Saat dilimi yaz saati kaydetme süresini destekliyorsa, düzeltilen veya kayan ayarlama kuralları ile ayarlamalar tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="707a8-109">If the time zone supports daylight saving time, you can define adjustments with either fixed or floating adjustment rules.</span></span> <span data-ttu-id="707a8-110">(Bu terimlerin tanımları için, [saat dilimine genel bakış](../../../docs/standard/datetime/time-zone-overview.md)konusundaki "saat dilimi terminolojisi" bölümüne bakın.)</span><span class="sxs-lookup"><span data-stu-id="707a8-110">(For definitions of these terms, see the "Time Zone Terminology" section in [Time zone overview](../../../docs/standard/datetime/time-zone-overview.md).)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="707a8-111"><xref:System.TimeZoneInfo.CreateCustomTimeZone%2A> yöntemi çağırarak oluşturulan özel saat dilimleri kayıt defterine eklenmez.</span><span class="sxs-lookup"><span data-stu-id="707a8-111">Custom time zones created by calling the <xref:System.TimeZoneInfo.CreateCustomTimeZone%2A> method are not added to the registry.</span></span> <span data-ttu-id="707a8-112">Bunun yerine, yalnızca <xref:System.TimeZoneInfo.CreateCustomTimeZone%2A> yöntemi çağrısının döndürdüğü nesne başvurusu aracılığıyla erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="707a8-112">Instead, they can be accessed only through the object reference returned by the <xref:System.TimeZoneInfo.CreateCustomTimeZone%2A> method call.</span></span>

<span data-ttu-id="707a8-113">Bu konuda, ayarlama kuralları ile saat dilimi oluşturma gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="707a8-113">This topic shows how to create a time zone with adjustment rules.</span></span> <span data-ttu-id="707a8-114">Gün ışığından yararlanma zaman ayarlama kurallarını desteklemeyen bir saat dilimi oluşturmak için bkz. [nasıl yapılır: ayarlama kuralları olmadan saat dilimleri oluşturma](../../../docs/standard/datetime/create-time-zones-without-adjustment-rules.md).</span><span class="sxs-lookup"><span data-stu-id="707a8-114">To create a time zone that does not support daylight saving time adjustment rules, see [How to: Create Time Zones Without Adjustment Rules](../../../docs/standard/datetime/create-time-zones-without-adjustment-rules.md).</span></span>

### <a name="to-create-a-time-zone-with-floating-adjustment-rules"></a><span data-ttu-id="707a8-115">Kayan ayarlama kuralları ile saat dilimi oluşturmak için</span><span class="sxs-lookup"><span data-stu-id="707a8-115">To create a time zone with floating adjustment rules</span></span>

1. <span data-ttu-id="707a8-116">Her ayarlama için (diğer bir deyişle, belirli bir zaman aralığı içinde her bir geçiş ve standart saate geri döndüğünüzde) şunları yapın:</span><span class="sxs-lookup"><span data-stu-id="707a8-116">For each adjustment (that is, for each transition away from and back to standard time over a particular time interval), do the following:</span></span>

    1. <span data-ttu-id="707a8-117">Saat dilimi ayarlaması için başlangıç geçiş süresini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-117">Define the starting transition time for the time zone adjustment.</span></span>

       <span data-ttu-id="707a8-118"><xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A?displayProperty=nameWithType> yöntemini çağırmanız ve geçiş saatini tanımlayan bir <xref:System.DateTime> değeri, geçişin ayını tanımlayan bir tamsayı değeri, geçişin gerçekleştiği haftayı tanımlayan bir tamsayı değeri ve tanımlayan bir <xref:System.DayOfWeek> değeri geçirmeniz gerekir. geçişin gerçekleştiği haftanın günü.</span><span class="sxs-lookup"><span data-stu-id="707a8-118">You must call the <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A?displayProperty=nameWithType> method and pass it a <xref:System.DateTime> value that defines the time of the transition, an integer value that defines the month of the transition, an integer value that defines the week on which the transition occurs, and a <xref:System.DayOfWeek> value that defines the day of the week on which the transition occurs.</span></span> <span data-ttu-id="707a8-119">Bu yöntem çağrısı bir <xref:System.TimeZoneInfo.TransitionTime> nesnesini başlatır.</span><span class="sxs-lookup"><span data-stu-id="707a8-119">This method call instantiates a <xref:System.TimeZoneInfo.TransitionTime> object.</span></span>

    2. <span data-ttu-id="707a8-120">Saat dilimi ayarlaması için bitiş geçiş süresini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-120">Define the ending transition time for the time zone adjustment.</span></span> <span data-ttu-id="707a8-121">Bu, <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A?displayProperty=nameWithType> metoduna başka bir çağrı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="707a8-121">This requires another call to the <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="707a8-122">Bu yöntem çağrısı ikinci bir <xref:System.TimeZoneInfo.TransitionTime> nesnesini başlatır.</span><span class="sxs-lookup"><span data-stu-id="707a8-122">This method call instantiates a second <xref:System.TimeZoneInfo.TransitionTime> object.</span></span>

    3. <span data-ttu-id="707a8-123"><xref:System.TimeZoneInfo.AdjustmentRule.CreateAdjustmentRule%2A> yöntemi çağırın ve ayarlamanın etkili başlangıç ve bitiş tarihleri, geçişte zaman miktarını tanımlayan bir <xref:System.TimeSpan> nesnesi ve yaz saati kaydetme zamanına göre ve bu iki <xref:System.TimeZoneInfo.TransitionTime> nesnesi oluşur.</span><span class="sxs-lookup"><span data-stu-id="707a8-123">Call the <xref:System.TimeZoneInfo.AdjustmentRule.CreateAdjustmentRule%2A> method and pass it the effective start and end dates of the adjustment, a <xref:System.TimeSpan> object that defines the amount of time in the transition, and the two <xref:System.TimeZoneInfo.TransitionTime> objects that define when the transitions to and from daylight saving time occur.</span></span> <span data-ttu-id="707a8-124">Bu yöntem çağrısı bir <xref:System.TimeZoneInfo.AdjustmentRule> nesnesini başlatır.</span><span class="sxs-lookup"><span data-stu-id="707a8-124">This method call instantiates a <xref:System.TimeZoneInfo.AdjustmentRule> object.</span></span>

    4. <span data-ttu-id="707a8-125"><xref:System.TimeZoneInfo.AdjustmentRule> nesnesini <xref:System.TimeZoneInfo.AdjustmentRule> nesne dizisine atayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-125">Assign the <xref:System.TimeZoneInfo.AdjustmentRule> object to an array of <xref:System.TimeZoneInfo.AdjustmentRule> objects.</span></span>

2. <span data-ttu-id="707a8-126">Saat diliminin görünen adını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-126">Define the time zone's display name.</span></span> <span data-ttu-id="707a8-127">Görünen ad, saat diliminin Eşgüdümlü Evrensel Saat (UTC) arasındaki kaydırın parantez içine alındığı ve ardından saat dilimini, saat diliminizdeki bir veya daha fazla şehirden veya bir ya da daha fazlasını tanımlayan bir dize tarafından izlenen oldukça standart bir biçim izler saat dilimindeki ndenemeler veya bölgeler.</span><span class="sxs-lookup"><span data-stu-id="707a8-127">The display name follows a fairly standard format in which the time zone's offset from Coordinated Universal Time (UTC) is enclosed in parentheses and is followed by a string that identifies the time zone, one or more of the cities in the time zone, or one or more of the countries or regions in the time zone.</span></span>

3. <span data-ttu-id="707a8-128">Saat diliminin standart zamanının adını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-128">Define the name of the time zone's standard time.</span></span> <span data-ttu-id="707a8-129">Genellikle, bu dize saat diliminin tanımlayıcısı olarak da kullanılır.</span><span class="sxs-lookup"><span data-stu-id="707a8-129">Typically, this string is also used as the time zone's identifier.</span></span>

4. <span data-ttu-id="707a8-130">Saat diliminin yaz saatinin adını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-130">Define the name of the time zone's daylight time.</span></span>

5. <span data-ttu-id="707a8-131">Saat diliminin standart adından farklı bir tanımlayıcı kullanmak istiyorsanız, saat dilimi tanımlayıcısını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="707a8-131">If you want to use a different identifier than the time zone's standard name, define the time zone identifier.</span></span>

6. <span data-ttu-id="707a8-132">Saat diliminin UTC 'den sapmasını tanımlayan bir <xref:System.TimeSpan> nesnesi örneği oluşturun.</span><span class="sxs-lookup"><span data-stu-id="707a8-132">Instantiate a <xref:System.TimeSpan> object that defines the time zone's offset from UTC.</span></span> <span data-ttu-id="707a8-133">UTC 'den sonraki saatlere sahip saat dilimleri pozitif bir uzaklığa sahiptir.</span><span class="sxs-lookup"><span data-stu-id="707a8-133">Time zones with times that are later than UTC have a positive offset.</span></span> <span data-ttu-id="707a8-134">UTC 'den önceki zamanlarla saat dilimlerinin negatif bir boşluğu vardır.</span><span class="sxs-lookup"><span data-stu-id="707a8-134">Time zones with times that are earlier than UTC have a negative offset.</span></span>

7. <span data-ttu-id="707a8-135">Yeni saat dilimini başlatmak için <xref:System.TimeZoneInfo.CreateCustomTimeZone%28System.String%2CSystem.TimeSpan%2CSystem.String%2CSystem.String%2CSystem.String%2CSystem.TimeZoneInfo.AdjustmentRule%5B%5D%29?displayProperty=nameWithType> yöntemini çağırın.</span><span class="sxs-lookup"><span data-stu-id="707a8-135">Call the <xref:System.TimeZoneInfo.CreateCustomTimeZone%28System.String%2CSystem.TimeSpan%2CSystem.String%2CSystem.String%2CSystem.String%2CSystem.TimeZoneInfo.AdjustmentRule%5B%5D%29?displayProperty=nameWithType> method to instantiate the new time zone.</span></span>

## <a name="example"></a><span data-ttu-id="707a8-136">Örnek</span><span class="sxs-lookup"><span data-stu-id="707a8-136">Example</span></span>

<span data-ttu-id="707a8-137">Aşağıdaki örnek, 1918 'e kadar çeşitli zaman aralıkları için ayarlama kuralları içeren Birleşik Devletler için merkezi bir standart saat dilimini tanımlar.</span><span class="sxs-lookup"><span data-stu-id="707a8-137">The following example defines a Central Standard Time zone for the United States that includes adjustment rules for a variety of time intervals from 1918 to the present.</span></span>

[!code-csharp[System.TimeZone2.CreateTimeZone#5](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.CreateTimeZone/cs/System.TimeZone2.CreateTimeZone.cs#5)]
[!code-vb[System.TimeZone2.CreateTimeZone#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.CreateTimeZone/vb/System.TimeZone2.CreateTimeZone.vb#5)]

<span data-ttu-id="707a8-138">Bu örnekte oluşturulan saat diliminin birden çok ayarlama kuralı vardır.</span><span class="sxs-lookup"><span data-stu-id="707a8-138">The time zone created in this example has multiple adjustment rules.</span></span> <span data-ttu-id="707a8-139">Herhangi bir ayarlama kuralının etkin başlangıç ve bitiş tarihlerinin başka bir ayarlama kuralındaki tarihlerle çakışmadığından emin olmak için dikkatli olunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="707a8-139">Care must be taken to ensure that the effective start and end dates of any adjustment rule do not overlap with the dates of another adjustment rule.</span></span> <span data-ttu-id="707a8-140">Çakışma varsa bir <xref:System.InvalidTimeZoneException> oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="707a8-140">If there is an overlap, an <xref:System.InvalidTimeZoneException> is thrown.</span></span>

<span data-ttu-id="707a8-141">Kayan ayarlama kuralları için, 5 değeri, belirli bir ayın son haftasında geçişin oluştuğunu göstermek için <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A> yönteminin `week` parametresine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="707a8-141">For floating adjustment rules, the value 5 is passed to the `week` parameter of the <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A> method to indicate that the transition occurs on the last week of a particular month.</span></span>

<span data-ttu-id="707a8-142"><xref:System.TimeZoneInfo.CreateCustomTimeZone%28System.String%2CSystem.TimeSpan%2CSystem.String%2CSystem.String%2CSystem.String%2CSystem.TimeZoneInfo.AdjustmentRule%5B%5D%29?displayProperty=nameWithType> yöntemi çağrısında kullanmak üzere <xref:System.TimeZoneInfo.AdjustmentRule> nesnelerinin dizisini oluştururken, kod diziyi, saat dilimi için oluşturulacak ayarlama sayısı için gereken boyuta başlatabilir.</span><span class="sxs-lookup"><span data-stu-id="707a8-142">In creating the array of <xref:System.TimeZoneInfo.AdjustmentRule> objects to use in the <xref:System.TimeZoneInfo.CreateCustomTimeZone%28System.String%2CSystem.TimeSpan%2CSystem.String%2CSystem.String%2CSystem.String%2CSystem.TimeZoneInfo.AdjustmentRule%5B%5D%29?displayProperty=nameWithType> method call, the code could initialize the array to the size required by the number of adjustments to be created for the time zone.</span></span> <span data-ttu-id="707a8-143">Bunun yerine, bu kod örneği, her ayarlama kuralını <xref:System.TimeZoneInfo.AdjustmentRule> nesnelerinin genel <xref:System.Collections.Generic.List%601> koleksiyonuna eklemek için <xref:System.Collections.Generic.List%601.Add%2A> yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="707a8-143">Instead, this code example calls the <xref:System.Collections.Generic.List%601.Add%2A> method to add each adjustment rule to a generic <xref:System.Collections.Generic.List%601> collection of <xref:System.TimeZoneInfo.AdjustmentRule> objects.</span></span> <span data-ttu-id="707a8-144">Kodu daha sonra bu koleksiyonun üyelerini diziye kopyalamak için <xref:System.Collections.Generic.List%601.CopyTo%2A> yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="707a8-144">The code then calls the <xref:System.Collections.Generic.List%601.CopyTo%2A> method to copy the members of this collection to the array.</span></span>

<span data-ttu-id="707a8-145">Örnek ayrıca sabit tarih ayarlamalarını tanımlamak için <xref:System.TimeZoneInfo.TransitionTime.CreateFixedDateRule%2A> yöntemini kullanır.</span><span class="sxs-lookup"><span data-stu-id="707a8-145">The example also uses the <xref:System.TimeZoneInfo.TransitionTime.CreateFixedDateRule%2A> method to define fixed-date adjustments.</span></span> <span data-ttu-id="707a8-146">Bu, <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A> yöntemini çağırmaya benzerdir, ancak geçiş parametrelerinin yalnızca saatini, ayını ve gününü gerektirir.</span><span class="sxs-lookup"><span data-stu-id="707a8-146">This is similar to calling the <xref:System.TimeZoneInfo.TransitionTime.CreateFloatingDateRule%2A> method, except that it requires only the time, month, and day of the transition parameters.</span></span>

<span data-ttu-id="707a8-147">Örnek, aşağıdakiler gibi kod kullanılarak test edilebilir:</span><span class="sxs-lookup"><span data-stu-id="707a8-147">The example can be tested using code such as the following:</span></span>

[!code-csharp[System.TimeZone2.CreateTimeZone#7](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.CreateTimeZone/cs/System.TimeZone2.CreateTimeZone.cs#7)]
[!code-vb[System.TimeZone2.CreateTimeZone#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.CreateTimeZone/vb/System.TimeZone2.CreateTimeZone.vb#7)]

## <a name="compiling-the-code"></a><span data-ttu-id="707a8-148">Kodu derleme</span><span class="sxs-lookup"><span data-stu-id="707a8-148">Compiling the code</span></span>

<span data-ttu-id="707a8-149">Bu örnek şunları gerektirir:</span><span class="sxs-lookup"><span data-stu-id="707a8-149">This example requires:</span></span>

- <span data-ttu-id="707a8-150">Aşağıdaki ad alanları içeri aktarılmalıdır:</span><span class="sxs-lookup"><span data-stu-id="707a8-150">That the following namespaces be imported:</span></span>

  [!code-csharp[System.TimeZone2.CreateTimeZone#6](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.CreateTimeZone/cs/System.TimeZone2.CreateTimeZone.cs#6)]
  [!code-vb[System.TimeZone2.CreateTimeZone#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.CreateTimeZone/vb/System.TimeZone2.CreateTimeZone.vb#6)]

## <a name="see-also"></a><span data-ttu-id="707a8-151">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="707a8-151">See also</span></span>

- [<span data-ttu-id="707a8-152">Tarihler, saatler ve saat dilimleri</span><span class="sxs-lookup"><span data-stu-id="707a8-152">Dates, times, and time zones</span></span>](../../../docs/standard/datetime/index.md)
- [<span data-ttu-id="707a8-153">Saat dilimine genel bakış</span><span class="sxs-lookup"><span data-stu-id="707a8-153">Time zone overview</span></span>](../../../docs/standard/datetime/time-zone-overview.md)
- [<span data-ttu-id="707a8-154">Nasıl yapılır: Ayarlama kuralları olmadan saat dilimleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="707a8-154">How to: Create time zones without adjustment rules</span></span>](../../../docs/standard/datetime/create-time-zones-without-adjustment-rules.md)
