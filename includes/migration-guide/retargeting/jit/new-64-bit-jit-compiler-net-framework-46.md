---
ms.openlocfilehash: ddae1bfdd1a6f67bce111e0f97dd501c82022f36
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "72887851"
---
### <a name="new-64-bit-jit-compiler-in-the-net-framework-46"></a><span data-ttu-id="9f9cc-101">.NET Framework 4.6'daki yeni 64 bit JIT derleyicisi</span><span class="sxs-lookup"><span data-stu-id="9f9cc-101">New 64-bit JIT compiler in the .NET Framework 4.6</span></span>

|   |   |
|---|---|
|<span data-ttu-id="9f9cc-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="9f9cc-102">Details</span></span>|<span data-ttu-id="9f9cc-103">.NET Framework 4.6 ile başlayarak, tam zamanında derleme için yeni bir 64 bit JIT derleyicisi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-103">Starting with the .NET Framework 4.6, a new 64-bit JIT compiler is used for just-in-time compilation.</span></span> <span data-ttu-id="9f9cc-104">Bazı durumlarda, beklenmeyen bir özel durum atılır veya bir uygulama 32 bit derleyici veya eski 64 bit JIT derleyicisi kullanılarak çalıştırılırsa daha farklı bir davranış gözlenir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-104">In some cases, an unexpected exception is thrown or a different behavior is observed than if an app is run using the 32-bit compiler or the older 64-bit JIT compiler.</span></span> <span data-ttu-id="9f9cc-105">Bu değişiklik 32 bit JIT derleyicisini etkilemez.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-105">This change does not affect the 32-bit JIT compiler.</span></span> <span data-ttu-id="9f9cc-106">Bilinen farklar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="9f9cc-106">The known differences include the following:</span></span><ul><li><span data-ttu-id="9f9cc-107">Belirli koşullar altında, bir unboxing <xref:System.NullReferenceException> işlemi bir in Release oluşturur en iyi duruma getirilmesi açık atabilir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-107">Under certain conditions, an unboxing operation may throw a <xref:System.NullReferenceException> in Release builds with optimization turned on.</span></span></li><li><span data-ttu-id="9f9cc-108">Bazı durumlarda, büyük bir yöntem gövdesinde üretim <xref:System.StackOverflowException>kodunun yürütülmesi bir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-108">In some cases, execution of production code in a large method body may throw a <xref:System.StackOverflowException>.</span></span></li><li><span data-ttu-id="9f9cc-109">Belirli koşullar altında, bir yönteme geçirilen yapılar, Sürüm yapılarındaki değer türleri yerine başvuru türleri olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-109">Under certain conditions, structures passed to a method are treated as reference types rather than as value types in Release builds.</span></span> <span data-ttu-id="9f9cc-110">Bu sorunun tezahürlerinden biri, koleksiyondaki tek tek öğelerin beklenmeyen bir sırada görünmesidir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-110">One of the manifestations of this issue is that the individual items in a collection appear in an unexpected order.</span></span></li><li><span data-ttu-id="9f9cc-111">Belirli koşullar altında, <xref:System.UInt16> en iyi duruma getirilmesi etkinse değerlerin yüksek bit kümeleriyle karşılaştırılması yanlıştır.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-111">Under certain conditions, the comparison of <xref:System.UInt16> values with their high bit set is incorrect if optimization is enabled.</span></span></li><li><span data-ttu-id="9f9cc-112">Belirli koşullar altında, özellikle dizi değerlerini alırken, IL <xref:System.Reflection.Emit.OpCodes.Initblk?displayProperty=nameWithType> yönergesi ile bellek başlatma yanlış bir değerle belleği başlatmayı sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-112">Under certain conditions, particularly when initializing array values, memory initialization by the <xref:System.Reflection.Emit.OpCodes.Initblk?displayProperty=nameWithType> IL instruction may initialize memory with an incorrect value.</span></span> <span data-ttu-id="9f9cc-113">Bu, işlenmemiş bir özel durum veya yanlış çıktı neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-113">This can result either in an unhandled exception or incorrect output.</span></span></li><li><span data-ttu-id="9f9cc-114">Belirli nadir koşullar altında, koşullu bit <xref:System.Boolean> testi yanlış değeri döndürebilir veya derleyici optimizasyonları etkinse bir özel durum atabilir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-114">Under certain rare conditions, a conditional bit test can return the incorrect <xref:System.Boolean> value or throw an exception if compiler optimizations are enabled.</span></span></li><li><span data-ttu-id="9f9cc-115">Belirli koşullar altında, <code>if</code> bir <code>try</code> ifade bir blok girmeden önce ve <code>try</code> blok çıkışında bir durum için test etmek <code>catch</code> <code>finally</code> için kullanılırsa ve aynı koşul veya blok <code>if</code> tadisi sinde degistirilirse, yeni 64 bit JIT derleyicisi kodu en iyi duruma getirince durumu <code>catch</code> veya <code>finally</code> bloğu kaldırır.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-115">Under certain conditions, if an <code>if</code> statement is used to test for a condition before entering  a <code>try</code> block and in the exit from the <code>try</code> block, and the same condition is evaluated in the <code>catch</code> or <code>finally</code> block, the new 64-bit JIT compiler removes the <code>if</code> condition from the <code>catch</code> or <code>finally</code> block when it optimizes code.</span></span> <span data-ttu-id="9f9cc-116">Sonuç olarak, ekstre <code>if</code> içindeki <code>catch</code> <code>finally</code> veya bloktaki kod koşulsuz olarak yürütülür.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-116">As a result, code inside the <code>if</code> statement in the <code>catch</code> or <code>finally</code> block is executed unconditionally.</span></span></li></ul>|
|<span data-ttu-id="9f9cc-117">Öneri</span><span class="sxs-lookup"><span data-stu-id="9f9cc-117">Suggestion</span></span>|<span data-ttu-id="9f9cc-118">**Bilinen sorunların azaltılması**</span><span class="sxs-lookup"><span data-stu-id="9f9cc-118">**Mitigation of known issues**</span></span> <br/> <span data-ttu-id="9f9cc-119">Yukarıda listelenen sorunlarla karşılaşırsanız, aşağıdakilerden birini yaparak bunları ele alabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="9f9cc-119">If you encounter the issues listed above, you can address them by doing any of the following:</span></span><ul><li><span data-ttu-id="9f9cc-120">.NET Framework 4.6.2'ye yükseltin.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-120">Upgrade to the .NET Framework 4.6.2.</span></span> <span data-ttu-id="9f9cc-121">.NET Framework 4.6.2 ile birlikte eklenen yeni 64 bit derleyici, bilinen bu sorunların her birini giderir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-121">The new 64-bit compiler included with the .NET Framework 4.6.2 addresses each of these known issues.</span></span></li><li><span data-ttu-id="9f9cc-122">Windows Update çalıştırarak Windows sürümünüzün güncel olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-122">Ensure that your version of Windows is up to date by running Windows Update.</span></span> <span data-ttu-id="9f9cc-123">.NET Framework 4.6 ve 4.6.1'deki hizmet güncelleştirmeleri, kutudan çıkarma işlemi dışında <xref:System.NullReferenceException> bu sorunların her birini giderir.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-123">Service updates to the .NET Framework 4.6 and 4.6.1 address each of these issues except the <xref:System.NullReferenceException> in an unboxing operation.</span></span></li><li><span data-ttu-id="9f9cc-124">Eski 64 bit JIT derleyicisi ile derle.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-124">Compile with the older 64-bit JIT compiler.</span></span> <span data-ttu-id="9f9cc-125">Bunun nasıl yapılacıla ilgili daha fazla bilgi için **diğer sorunların azaltımı** bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-125">See the **Mitigation of other issues** section for more information on how to do this.</span></span></li></ul><span data-ttu-id="9f9cc-126">**Diğer konuların azaltılması**</span><span class="sxs-lookup"><span data-stu-id="9f9cc-126">**Mitigation of other issues**</span></span> <br/> <span data-ttu-id="9f9cc-127">Eski 64 bit derleyici ile derlenen kod ile yeni 64 bit JIT derleyicisi arasında veya uygulamanızın yeni 64 bit JIT derleyicisi ile derlenen hata ayıklama ve sürüm sürümleri arasında başka bir davranış farkıyla karşılaşırsanız, aşağıdakileri yapabilirsiniz: eski 64 bit JIT derleyicisi ile uygulamanızı derlemek için:</span><span class="sxs-lookup"><span data-stu-id="9f9cc-127">If you encounter any other difference in behavior between code compiled with the older 64-bit compiler and the new 64-bit JIT compiler, or between the debug and release versions of your app that are both compiled with the new 64-bit JIT compiler, you can do the following to compile your app with the older 64-bit JIT compiler:</span></span><ul><li><span data-ttu-id="9f9cc-128">Uygulama başına olarak, öğeyi [<](~/docs/framework/configure-apps/file-schema/runtime/uselegacyjit-element.md) uygulamanızın yapılandırma dosyasına ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-128">On a per-application basis, you can add the [<](~/docs/framework/configure-apps/file-schema/runtime/uselegacyjit-element.md) element to your application's configuration file.</span></span> <span data-ttu-id="9f9cc-129">Aşağıdaki devre dışı bırakma derlemesi yeni 64 bit JIT derleyicisi ile ve bunun yerine eski 64 bit JIT derleyicisi kullanır.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-129">The following disables compilation with the new 64-bit JIT compiler and instead uses the legacy 64-bit JIT compiler.</span></span></li></ul><pre><code class="lang-xml">&lt;?xml version =&quot;1.0&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;useLegacyJit enabled=&quot;1&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><ul><li><span data-ttu-id="9f9cc-130">Kullanıcı başına bazda, kayıt defterinin <code>REG_DWORD</code> <code>useLegacyJit</code> <code>HKEY_CURRENT_USER\SOFTWARE\Microsoft\.NETFramework</code> anahtarına adlandırılmış bir değer ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-130">On a per-user basis, you can add a <code>REG_DWORD</code> value named <code>useLegacyJit</code> to the <code>HKEY_CURRENT_USER\SOFTWARE\Microsoft\.NETFramework</code> key of the registry.</span></span> <span data-ttu-id="9f9cc-131">1 değeri eski 64 bit JIT derleyicisini sağlar; 0 değerini devre dışı kılabilir ve yeni 64 bit JIT derleyicisini etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-131">A value of 1 enables the legacy 64-bit JIT compiler; a value of 0 disables it and enables the new 64-bit JIT compiler.</span></span></li><li><span data-ttu-id="9f9cc-132">Makine başına olarak, kayıt defterinin <code>REG_DWORD</code> <code>useLegacyJit</code> <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework</code> anahtarına adlandırılmış bir değer ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-132">On a per-machine basis, you can add a <code>REG_DWORD</code> value named <code>useLegacyJit</code> to the <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework</code> key of the registry.</span></span> <span data-ttu-id="9f9cc-133">Eski 64 bit JIT derleyicisinin <code>1</code> değerini etkinleştirin; bir değer <code>0</code> devre dışı kılabilir ve yeni 64 bit JIT derleyicisi sağlar.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-133">A value of <code>1</code> enables the legacy 64-bit JIT compiler; a value of <code>0</code> disables it and enables the new 64-bit JIT compiler.</span></span></li></ul><span data-ttu-id="9f9cc-134">Microsoft [Connect'te](https://connect.microsoft.com/VisualStudio)bir hata bildirerek sorun hakkında da bize bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9f9cc-134">You can also let us know about the problem by reporting a bug on [Microsoft Connect](https://connect.microsoft.com/VisualStudio).</span></span>|
|<span data-ttu-id="9f9cc-135">Kapsam</span><span class="sxs-lookup"><span data-stu-id="9f9cc-135">Scope</span></span>|<span data-ttu-id="9f9cc-136">Edge</span><span class="sxs-lookup"><span data-stu-id="9f9cc-136">Edge</span></span>|
|<span data-ttu-id="9f9cc-137">Sürüm</span><span class="sxs-lookup"><span data-stu-id="9f9cc-137">Version</span></span>|<span data-ttu-id="9f9cc-138">4.6</span><span class="sxs-lookup"><span data-stu-id="9f9cc-138">4.6</span></span>|
|<span data-ttu-id="9f9cc-139">Tür</span><span class="sxs-lookup"><span data-stu-id="9f9cc-139">Type</span></span>|<span data-ttu-id="9f9cc-140">Yeniden Hedefleme</span><span class="sxs-lookup"><span data-stu-id="9f9cc-140">Retargeting</span></span>|
