---
title: anahtar ifadesi-C# başvurusu
description: Model eşleştirme ve diğer veri iç denetim için C# anahtar ifadesini nasıl kullanacağınızı öğrenin
ms.date: 01/14/2021
ms.openlocfilehash: 55fef8d351b178fd0ec23847e81e6c56eb1367b0
ms.sourcegitcommit: 3a8f1979a98c6c19217a1930e0af5908988eb8ba
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/16/2021
ms.locfileid: "98536092"
---
# <a name="switch-expression-c-reference"></a><span data-ttu-id="fb595-103">switch ifadesi (C# Başvurusu)</span><span class="sxs-lookup"><span data-stu-id="fb595-103">switch expression (C# reference)</span></span>

<span data-ttu-id="fb595-104">Bu makalede `switch` C# 8,0 ' de tanıtılan ifade ele alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="fb595-104">This article covers the `switch` expression, introduced in C# 8.0.</span></span> <span data-ttu-id="fb595-105">Deyimi hakkında daha fazla bilgi için `switch` , [deyimler](../keywords/index.md) bölümünde bulunan [ `switch` deyimindeki](../keywords/switch.md) makaleye bakın.</span><span class="sxs-lookup"><span data-stu-id="fb595-105">For information on the `switch` statement, see the article on the [`switch` statement](../keywords/switch.md) in the [statements](../keywords/index.md) section.</span></span>

## <a name="basic-example"></a><span data-ttu-id="fb595-106">Temel örnek</span><span class="sxs-lookup"><span data-stu-id="fb595-106">Basic example</span></span>

<span data-ttu-id="fb595-107">`switch`İfade `switch` bir ifade bağlamında for-LIKE semantiğini sağlar.</span><span class="sxs-lookup"><span data-stu-id="fb595-107">The `switch` expression provides for `switch`-like semantics in an expression context.</span></span> <span data-ttu-id="fb595-108">Anahtar kolları bir değer üretmediğinde kısa bir sözdizimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="fb595-108">It provides a concise syntax when the switch arms produce a value.</span></span> <span data-ttu-id="fb595-109">Aşağıdaki örnek, bir anahtar ifadesinin yapısını gösterir.</span><span class="sxs-lookup"><span data-stu-id="fb595-109">The following example shows the structure of a switch expression.</span></span> <span data-ttu-id="fb595-110">`enum`Bir çevrimiçi haritadaki bir temsil eden görsel yönden karşılık gelen değerleri karşılık gelen Kardinal yöne çevirir:</span><span class="sxs-lookup"><span data-stu-id="fb595-110">It translates values from an `enum` representing visual directions in an online map to the corresponding cardinal direction:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetBasicStructure":::

<span data-ttu-id="fb595-111">Yukarıdaki örnek, bir anahtar ifadesinin temel öğelerini gösterir:</span><span class="sxs-lookup"><span data-stu-id="fb595-111">The preceding sample shows the basic elements of a switch expression:</span></span>

- <span data-ttu-id="fb595-112">*Aralık ifadesi*: önceki örnek değişkeni `direction` Aralık ifadesi olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="fb595-112">The *range expression*: The preceding example uses the variable `direction` as the range expression.</span></span>
- <span data-ttu-id="fb595-113">*Anahtar ifadesi kolları*: her anahtar ifadesi ARM bir *model*, isteğe bağlı bir *Case Guard*, `=>` belirteç ve bir *ifade* içerir.</span><span class="sxs-lookup"><span data-stu-id="fb595-113">The *switch expression arms*: Each switch expression arm contains a *pattern*, an optional *case guard*, the `=>` token, and an *expression*.</span></span>

<span data-ttu-id="fb595-114">*Switch ifadesinin* sonucu, *stili* *Aralık ifadesiyle* eşleşen ve *Case Guard* varsa, olarak değerlendirilen ilk *anahtar ifadesi ARM* ifadesinin değeridir `true` .</span><span class="sxs-lookup"><span data-stu-id="fb595-114">The result of the *switch expression* is the value of the expression of the first *switch expression arm* whose *pattern* matches the *range expression* and whose *case guard*, if present, evaluates to `true`.</span></span> <span data-ttu-id="fb595-115">Belirtecin sağ tarafındaki *ifade* `=>` bir ifade deyimi olamaz.</span><span class="sxs-lookup"><span data-stu-id="fb595-115">The *expression* on the right of the `=>` token can't be an expression statement.</span></span>

<span data-ttu-id="fb595-116">*Anahtar ifadesi kolları* metin sırasıyla değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="fb595-116">The *switch expression arms* are evaluated in text order.</span></span> <span data-ttu-id="fb595-117">Daha yüksek bir anahtar *ifadesi ARM* , tüm değerleriyle eşleştiğinden, derleyici bir alt *anahtar ifadesi ARM* seçilemez bir hata verir.</span><span class="sxs-lookup"><span data-stu-id="fb595-117">The compiler issues an error when a lower *switch expression arm* can't be chosen because a higher *switch expression arm* matches all its values.</span></span>

## <a name="patterns-and-case-guards"></a><span data-ttu-id="fb595-118">Desenler ve durum koruyucuları</span><span class="sxs-lookup"><span data-stu-id="fb595-118">Patterns and case guards</span></span>

<span data-ttu-id="fb595-119">Birçok desen anahtar ifadesi kolları içinde desteklenir.</span><span class="sxs-lookup"><span data-stu-id="fb595-119">Many patterns are supported in switch expression arms.</span></span> <span data-ttu-id="fb595-120">Önceki örnek *sabit bir model* kullanır.</span><span class="sxs-lookup"><span data-stu-id="fb595-120">The preceding example uses a *constant pattern*.</span></span> <span data-ttu-id="fb595-121">*Sabit bir düzende* Aralık ifadesi bir değer ile karşılaştırılır.</span><span class="sxs-lookup"><span data-stu-id="fb595-121">A *constant pattern* compares the range expression to a value.</span></span> <span data-ttu-id="fb595-122">Bu değer, bir derleme zamanı sabiti olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="fb595-122">That value must be a compile-time constant.</span></span> <span data-ttu-id="fb595-123">*Tür stili* , Aralık ifadesini bilinen bir türle karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="fb595-123">The *type pattern* compares the range expression to a known type.</span></span> <span data-ttu-id="fb595-124">Aşağıdaki örnek, bir dizideki üçüncü öğeyi alır.</span><span class="sxs-lookup"><span data-stu-id="fb595-124">The following example retrieves the third element from a sequence.</span></span> <span data-ttu-id="fb595-125">Sıranın türüne göre farklı yöntemler kullanır:</span><span class="sxs-lookup"><span data-stu-id="fb595-125">It uses different methods based on the type of the sequence:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetTypePattern":::

<span data-ttu-id="fb595-126">Desenler yinelemeli olabilir, burada bir desen bir türü sınar ve bu tür eşleşiyorsa, desen Aralık ifadesinde bir veya daha fazla özellik değerleriyle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="fb595-126">Patterns can be recursive, where a pattern tests a type, and if that type matches, the pattern matches one or more property values on the range expression.</span></span> <span data-ttu-id="fb595-127">Önceki örneği genişletmek için özyinelemeli desenleri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb595-127">You can use recursive patterns to extend the preceding example.</span></span> <span data-ttu-id="fb595-128">3 ' ten az öğeye sahip diziler için anahtar ifadesi kolları eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="fb595-128">You add switch expression arms for arrays that have fewer than 3 elements.</span></span> <span data-ttu-id="fb595-129">Özyinelemeli desenler aşağıdaki örnekte gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="fb595-129">Recursive patterns are shown in the following example:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetRecursivePattern":::

<span data-ttu-id="fb595-130">Özyinelemeli desenler, Aralık ifadesinin özelliklerini inceleyebilir, ancak rastgele kod yürütüelenemez.</span><span class="sxs-lookup"><span data-stu-id="fb595-130">Recursive patterns can examine properties of the range expression, but can't execute arbitrary code.</span></span> <span data-ttu-id="fb595-131"> `when` Diğer dizi türlerine benzer denetimler sağlamak için, yan tümcesinde belirtilen bir Case Guard kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fb595-131">You can use a *case guard*, specified in a `when` clause, to provide similar checks for other sequence types:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetGuardCase":::

<span data-ttu-id="fb595-132">Son olarak, `_` `null` başka bir anahtar ifadesi ARM tarafından işlenmemiş olan catch bağımsız değişkenlerine ve düzenine ve düzenine ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb595-132">Finally, you can add the `_` pattern and the `null` pattern to catch arguments that aren't processed by any other switch expression arm.</span></span> <span data-ttu-id="fb595-133">Bu, anahtar ifadesini *ayrıntılı* hale getirir, yani Aralık ifadesinin olası bir değeri işlenir.</span><span class="sxs-lookup"><span data-stu-id="fb595-133">That makes the switch expression *exhaustive*, meaning any possible value of the range expression is handled.</span></span> <span data-ttu-id="fb595-134">Aşağıdaki örnek bu ifade kolları ekler:</span><span class="sxs-lookup"><span data-stu-id="fb595-134">The following example adds those expression arms:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetExhaustive":::

<span data-ttu-id="fb595-135">Yukarıdaki örnek bir model ekler `null` ve `IEnumerable<T>` tür modelini bir `_` düzene dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="fb595-135">The preceding example adds a `null` pattern, and changes the `IEnumerable<T>` type pattern to a `_` pattern.</span></span> <span data-ttu-id="fb595-136">Bu `null` kalıp, anahtar ifadesi ARM olarak null denetimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="fb595-136">The `null` pattern provides a null check as a switch expression arm.</span></span> <span data-ttu-id="fb595-137">Bu ARM için ifadesi bir oluşturur <xref:System.ArgumentNullException> .</span><span class="sxs-lookup"><span data-stu-id="fb595-137">The expression for that arm throws an <xref:System.ArgumentNullException>.</span></span> <span data-ttu-id="fb595-138">`_`Bu model, önceki kollu eşleşmeyen tüm girişlerle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="fb595-138">The `_` pattern matches all inputs that haven't been matched by previous arms.</span></span> <span data-ttu-id="fb595-139">Bu, denetim sonrasında gelmelidir `null` veya girişleri eşleşmelidir `null` .</span><span class="sxs-lookup"><span data-stu-id="fb595-139">It must come after the `null` check, or it would match `null` inputs.</span></span>

## <a name="non-exhaustive-switch-expressions"></a><span data-ttu-id="fb595-140">Ayrıntılı olmayan anahtar ifadeleri</span><span class="sxs-lookup"><span data-stu-id="fb595-140">Non-exhaustive switch expressions</span></span>

<span data-ttu-id="fb595-141">Anahtar ifadesinin desenlerinin hiçbiri bir bağımsız değişkeni yakalarsa, çalışma zamanı bir özel durum oluşturur.</span><span class="sxs-lookup"><span data-stu-id="fb595-141">If none of a switch expression's patterns catches an argument, the runtime throws an exception.</span></span> <span data-ttu-id="fb595-142">.NET Core 3,0 ve sonraki sürümlerinde, özel durum bir ' dır <xref:System.Runtime.CompilerServices.SwitchExpressionException?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="fb595-142">In .NET Core 3.0 and later versions, the exception is a <xref:System.Runtime.CompilerServices.SwitchExpressionException?displayProperty=nameWithType>.</span></span> <span data-ttu-id="fb595-143">.NET Framework, özel durum bir olur <xref:System.InvalidOperationException> .</span><span class="sxs-lookup"><span data-stu-id="fb595-143">In .NET Framework, the exception is an <xref:System.InvalidOperationException>.</span></span>

## <a name="see-also"></a><span data-ttu-id="fb595-144">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="fb595-144">See also</span></span>

- [<span data-ttu-id="fb595-145">Özyinelemeli desenler için C# dil belirtimi teklifi</span><span class="sxs-lookup"><span data-stu-id="fb595-145">C# language spec proposal for recursive patterns</span></span>](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression)
- [<span data-ttu-id="fb595-146">C# başvurusu</span><span class="sxs-lookup"><span data-stu-id="fb595-146">C# reference</span></span>](../index.md)
- [<span data-ttu-id="fb595-147">C# işleçleri ve ifadeleri</span><span class="sxs-lookup"><span data-stu-id="fb595-147">C# operators and expressions</span></span>](index.md)
- [<span data-ttu-id="fb595-148">Desen eşleştirme</span><span class="sxs-lookup"><span data-stu-id="fb595-148">Pattern matching</span></span>](../../pattern-matching.md)
