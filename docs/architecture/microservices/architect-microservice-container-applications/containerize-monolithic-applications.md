---
title: Tek Yapılı Uygulamaları Kapsayıcıya Alma
description: Tek parçalı uygulamaların kapsayıcılarından yararlanın, mikro hizmetler mimarisinin tüm avantajlarını almamakla birlikte, hemen teslim edilebilir önemli dağıtım avantajları vardır.
ms.date: 01/30/2020
ms.openlocfilehash: 0e6f7504a91d2b1a89193471746168fc34f50956
ms.sourcegitcommit: f38e527623883b92010cf4760246203073e12898
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/20/2020
ms.locfileid: "77503275"
---
# <a name="containerizing-monolithic-applications"></a><span data-ttu-id="7f674-103">Tek Yapılı Uygulamaları Kapsayıcıya Alma</span><span class="sxs-lookup"><span data-stu-id="7f674-103">Containerizing monolithic applications</span></span>

<span data-ttu-id="7f674-104">Tek, tek parçalı olarak dağıtılan bir Web uygulaması veya hizmeti oluşturmak ve bunu bir kapsayıcı olarak dağıtmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-104">You might want to build a single, monolithically deployed web application or service and deploy it as a container.</span></span> <span data-ttu-id="7f674-105">Uygulamanın kendisi dahili olarak tek parçalı olabilir, ancak birkaç kitaplık, bileşen veya hatta Katmanlar (uygulama katmanı, etki alanı katmanı, veri erişim katmanı, vb.) olarak yapılandırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="7f674-105">The application itself might not be internally monolithic, but structured as several libraries, components, or even layers (application layer, domain layer, data-access layer, etc.).</span></span> <span data-ttu-id="7f674-106">Dışarıdan, ancak tek bir işlem, tek bir Web uygulaması veya tek bir hizmet olan tek bir kapsayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="7f674-106">Externally, however, it's a single container—a single process, a single web application, or a single service.</span></span>

<span data-ttu-id="7f674-107">Bu modeli yönetmek için, uygulamayı temsil etmek üzere tek bir kapsayıcı dağıtırsınız.</span><span class="sxs-lookup"><span data-stu-id="7f674-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="7f674-108">Kapasiteyi artırmak için ölçeği ölçeklendirebilirsiniz, diğer bir deyişle, yalnızca bir yük dengeleyiciye sahip daha fazla kopya eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-108">To increase capacity, you scale out, that is, just add more copies with a load balancer in front.</span></span> <span data-ttu-id="7f674-109">Kolaylık, tek bir kapsayıcıda veya VM 'de tek bir dağıtımı yönetmekten gelir.</span><span class="sxs-lookup"><span data-stu-id="7f674-109">The simplicity comes from managing a single deployment in a single container or VM.</span></span>

![Tek parçalı Kapsayıcılı uygulamanın bileşenlerini gösteren diyagram.](./media/containerize-monolithic-applications/monolithic-containerized-application.png)

<span data-ttu-id="7f674-111">**Şekil 4-1**.</span><span class="sxs-lookup"><span data-stu-id="7f674-111">**Figure 4-1**.</span></span> <span data-ttu-id="7f674-112">Kapsayıcılı tek parçalı uygulama mimarisine örnek</span><span class="sxs-lookup"><span data-stu-id="7f674-112">Example of the architecture of a containerized monolithic application</span></span>

<span data-ttu-id="7f674-113">Şekil 4-1 ' de gösterildiği gibi, her bir kapsayıcıya birden çok bileşen, kitaplık veya iç katman ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-113">You can include multiple components, libraries, or internal layers in each container, as illustrated in Figure 4-1.</span></span> <span data-ttu-id="7f674-114">Tek parçalı kapsayıcılı bir uygulama, iç katmanlar ya da kitaplıklar içeren tek bir kapsayıcı içindeki işlevselliğinin çoğunu içerir ve kapsayıcıyı birden çok sunucu/VM 'de kopyalayarak ölçeği ölçeklendirir.</span><span class="sxs-lookup"><span data-stu-id="7f674-114">A monolithic containerized application has most of its functionality within a single container, with internal layers or libraries, and scales out by cloning the container on multiple servers/VMs.</span></span> <span data-ttu-id="7f674-115">Ancak, bu tek parçalı bir model, "kapsayıcı tek bir işlem" ve bu işlemi bir işlemde yapar "kapsayıcı ilkesiyle çakışabilir, ancak bazı durumlarda tamam olabilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-115">However, this monolithic pattern might conflict with the container principle "a container does one thing, and does it in one process", but might be ok for some cases.</span></span>

<span data-ttu-id="7f674-116">Uygulamanın büyümesi durumunda bu yaklaşımın aşağı kısmı, ölçeklendirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="7f674-116">The downside of this approach becomes evident if the application grows, requiring it to scale.</span></span> <span data-ttu-id="7f674-117">Uygulamanın tamamı ölçeklenebiliyorsanız, aslında bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="7f674-117">If the entire application can scale, it isn't really a problem.</span></span> <span data-ttu-id="7f674-118">Ancak çoğu durumda, uygulamanın yalnızca birkaç bölümü ölçeklendirmeyi gerektiren sıkıştırma noktalarından, diğer bileşenler daha az kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7f674-118">However, in most cases, just a few parts of the application are the choke points that requiring scaling, while other components are used less.</span></span>

<span data-ttu-id="7f674-119">Örneğin, tipik bir e-ticaret uygulamasında, büyük olasılıkla ürün bilgileri alt sistemini ölçeklendirmeniz gerekir, çünkü pek çok müşteri satın alma işleminden farklı ürünlere gözatacağından.</span><span class="sxs-lookup"><span data-stu-id="7f674-119">For example, in a typical e-commerce application, you likely need to scale the product information subsystem, because many more customers browse products than purchase them.</span></span> <span data-ttu-id="7f674-120">Daha fazla müşteri, kendi sepetini ödeme işlem hattını kullanmından kullanıyor.</span><span class="sxs-lookup"><span data-stu-id="7f674-120">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="7f674-121">Daha az müşteri, yorum ekler veya satın alma geçmişini görüntüler.</span><span class="sxs-lookup"><span data-stu-id="7f674-121">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="7f674-122">Ve yalnızca içerik ve pazarlama kampanyalarını yönetmesi gereken birkaç çalışandan da olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-122">And you might have only a handful of employees that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="7f674-123">Tek parçalı tasarımı ölçeklendirirseniz, bu farklı görevlere yönelik tüm kodlar birden çok kez dağıtılır ve aynı şekilde ölçeklendirilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-123">If you scale the monolithic design, all the code for these different tasks is deployed multiple times and scaled at the same grade.</span></span>

<span data-ttu-id="7f674-124">Uygulama yatay tekrarlarının ölçeklendirilmesi, uygulamanın farklı bölgelerini bölmek ve benzer iş kavramlarını veya verileri bölümlemek için birden çok yol vardır.</span><span class="sxs-lookup"><span data-stu-id="7f674-124">There are multiple ways to scale an application-horizontal duplication, splitting different areas of the application, and partitioning similar business concepts or data.</span></span> <span data-ttu-id="7f674-125">Ancak, tüm bileşenlerin ölçeklendirilmesi sorununa ek olarak, tek bir bileşendeki değişiklikler tüm uygulamanın tam yeniden test edilmesini ve tüm örneklerin tam yeniden dağıtılması gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7f674-125">But, in addition to the problem of scaling all components, changes to a single component require complete retesting of the entire application, and a complete redeployment of all the instances.</span></span>

<span data-ttu-id="7f674-126">Ancak, tek parçalı yaklaşım yaygın bir uygulamadır çünkü uygulamanın geliştirilmesi, mikro hizmetler yaklaşımlarından önce daha kolay.</span><span class="sxs-lookup"><span data-stu-id="7f674-126">However, the monolithic approach is common, because the development of the application is initially easier than for microservices approaches.</span></span> <span data-ttu-id="7f674-127">Bu nedenle, birçok kuruluş bu mimari yaklaşımı kullanarak geliştirir.</span><span class="sxs-lookup"><span data-stu-id="7f674-127">Thus, many organizations develop using this architectural approach.</span></span> <span data-ttu-id="7f674-128">Bazı kuruluşların yeterince iyi sonuçları olsa da, diğerleri sınırlara ulaşırlar.</span><span class="sxs-lookup"><span data-stu-id="7f674-128">While some organizations have had good enough results, others are hitting limits.</span></span> <span data-ttu-id="7f674-129">Birçok kuruluş, bu modeli kullanarak uygulamalarını tasarlamış çünkü araçlar ve altyapı, hizmet yönelimli mimariler (SOA) yıl önce oluşturmayı çok zorlaştırıyordu ve uygulama grew 'a kadar gerek olmadığını görmemelidir.</span><span class="sxs-lookup"><span data-stu-id="7f674-129">Many organizations designed their applications using this model because tools and infrastructure made it too difficult to build service-oriented architectures (SOA) years ago, and they did not see the need-until the application grew.</span></span>

<span data-ttu-id="7f674-130">Altyapı açısından, her sunucu aynı ana bilgisayar içinde birçok uygulama çalıştırabilir ve Şekil 4-2 ' de gösterildiği gibi, kaynakların kullanımı için kabul edilebilir bir verimlilik içerebilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-130">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in resources usage, as shown in Figure 4-2.</span></span>

![Kapsayıcılarda birçok uygulama çalıştıran bir konağı gösteren diyagram.](./media/containerize-monolithic-applications/host-multiple-apps-containers.png)

<span data-ttu-id="7f674-132">**Şekil 4-2**.</span><span class="sxs-lookup"><span data-stu-id="7f674-132">**Figure 4-2**.</span></span> <span data-ttu-id="7f674-133">Tek parçalı yaklaşım: bir kapsayıcı olarak çalışan birden çok uygulamayı çalıştıran konak</span><span class="sxs-lookup"><span data-stu-id="7f674-133">Monolithic approach: Host running multiple apps, each app running as a container</span></span>

<span data-ttu-id="7f674-134">Microsoft Azure tek parçalı uygulamalar, her örnek için adanmış VM 'Ler kullanılarak dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-134">Monolithic applications in Microsoft Azure can be deployed using dedicated VMs for each instance.</span></span> <span data-ttu-id="7f674-135">Ayrıca, [Azure sanal makine ölçek kümelerini](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/)kullanarak VM 'leri kolayca ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-135">Additionally, using [Azure virtual machine scale sets](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/), you can easily scale the VMs.</span></span> <span data-ttu-id="7f674-136">[Azure App Service](https://azure.microsoft.com/services/app-service/) , tek parçalı uygulamalar çalıştırabilir ve VM 'leri yönetmeniz gerekmeden örnekleri kolayca ölçeklendirebilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-136">[Azure App Service](https://azure.microsoft.com/services/app-service/) can also run monolithic applications and easily scale instances without requiring you to manage the VMs.</span></span> <span data-ttu-id="7f674-137">2016 ' den itibaren, Azure App Services, her Docker kapsayıcısının tek bir örneğini çalıştırabilir ve dağıtımı basitleştirecek.</span><span class="sxs-lookup"><span data-stu-id="7f674-137">Since 2016, Azure App Services can run single instances of Docker containers as well, simplifying deployment.</span></span>

<span data-ttu-id="7f674-138">Soru-cevap ortamında veya sınırlı bir üretim ortamında, Şekil 4-3 ' de gösterildiği gibi birden çok Docker Konağı sanal makinesi dağıtabilir ve bunları Azure dengeleyicisi kullanarak dengeleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-138">As a QA environment or a limited production environment, you can deploy multiple Docker host VMs and balance them using the Azure balancer, as shown in Figure 4-3.</span></span> <span data-ttu-id="7f674-139">Bu, tüm uygulamanın tek bir kapsayıcı içinde bulunduğu için ölçeği kaba bir yaklaşım ile yönetmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f674-139">This lets you manage scaling with a coarse-grain approach, because the whole application lives within a single container.</span></span>

![Tek parçalı uygulama kapsayıcılarını çalıştıran çeşitli Konakları gösteren diyagram.](./media/containerize-monolithic-applications/docker-infrastructure-monolithic-application.png)

<span data-ttu-id="7f674-141">**Şekil 4-3**.</span><span class="sxs-lookup"><span data-stu-id="7f674-141">**Figure 4-3**.</span></span> <span data-ttu-id="7f674-142">Tek bir kapsayıcı uygulamasını ölçeklendirerek birden çok ana bilgisayar örneği</span><span class="sxs-lookup"><span data-stu-id="7f674-142">Example of multiple hosts scaling up a single container application</span></span>

<span data-ttu-id="7f674-143">Çeşitli konaklara dağıtım, geleneksel dağıtım teknikleri ile yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-143">Deployment to the various hosts can be managed with traditional deployment techniques.</span></span> <span data-ttu-id="7f674-144">Docker konakları, el ile yapılan `docker run` veya `docker-compose` gibi komutlarla veya sürekli teslim (CD) işlem hatları gibi Otomasyon aracılığıyla yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-144">Docker hosts can be managed with commands like `docker run` or `docker-compose` performed manually, or through automation such as continuous delivery (CD) pipelines.</span></span>

## <a name="deploying-a-monolithic-application-as-a-container"></a><span data-ttu-id="7f674-145">Tek parçalı uygulamayı kapsayıcı olarak dağıtma</span><span class="sxs-lookup"><span data-stu-id="7f674-145">Deploying a monolithic application as a container</span></span>

<span data-ttu-id="7f674-146">Tek parçalı uygulama dağıtımlarını yönetmek için kapsayıcıları kullanmanın avantajları vardır.</span><span class="sxs-lookup"><span data-stu-id="7f674-146">There are benefits to using containers to manage monolithic application deployments.</span></span> <span data-ttu-id="7f674-147">Kapsayıcı örneklerinin ölçeklendirilmesi, ek VM 'Leri dağıtmaktan çok daha hızlı ve daha kolaydır.</span><span class="sxs-lookup"><span data-stu-id="7f674-147">Scaling container instances is far faster and easier than deploying additional VMs.</span></span> <span data-ttu-id="7f674-148">Sanal Makine Ölçek Kümeleri kullanıyor olsanız da VM 'Lerin başlaması zaman alır.</span><span class="sxs-lookup"><span data-stu-id="7f674-148">Even if you use virtual machine scale sets, VMs take time to start.</span></span> <span data-ttu-id="7f674-149">Kapsayıcılar yerine geleneksel uygulama örnekleri olarak dağıtıldığında, uygulamanın yapılandırması VM 'nin bir parçası olarak yönetilir ve bu ideal değildir.</span><span class="sxs-lookup"><span data-stu-id="7f674-149">When deployed as traditional application instances instead of containers, the configuration of the application is managed as part of the VM, which isn't ideal.</span></span>

<span data-ttu-id="7f674-150">Docker görüntüsü olarak güncelleştirmelerin dağıtımı, çok daha hızlı ve daha verimlidir.</span><span class="sxs-lookup"><span data-stu-id="7f674-150">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="7f674-151">Docker görüntüleri genellikle Saniyeler içinde başlar ve piyasaya çıkarma hızlanır.</span><span class="sxs-lookup"><span data-stu-id="7f674-151">Docker images typically start in seconds, which speeds rollouts.</span></span> <span data-ttu-id="7f674-152">Bir Docker görüntü örneğini aşağı doğru artırma, `docker stop` bir komut vermek kadar kolaydır ve genellikle bir saniyeden daha az tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="7f674-152">Tearing down a Docker image instance is as easy as issuing a `docker stop` command, and typically completes in less than a second.</span></span>

<span data-ttu-id="7f674-153">Kapsayıcılar tasarıma göre sabit olduğundan, bozulan VM 'Ler hakkında endişelenmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7f674-153">Because containers are immutable by design, you never need to worry about corrupted VMs.</span></span> <span data-ttu-id="7f674-154">Buna karşılık, bir VM için güncelleştirme betikleri, diskte kalan belirli bir yapılandırma veya dosya için hesap almayı unutabilirler.</span><span class="sxs-lookup"><span data-stu-id="7f674-154">In contrast, update scripts for a VM might forget to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="7f674-155">Tek parçalı uygulamalar Docker 'tan faydalanabilir, ancak avantajlara dokunuyoruz.</span><span class="sxs-lookup"><span data-stu-id="7f674-155">While monolithic applications can benefit from Docker, we're touching only on the benefits.</span></span> <span data-ttu-id="7f674-156">Kapsayıcıları yönetmenin ek avantajları, her bir kapsayıcı örneğinin çeşitli örneklerini ve yaşam döngüsünü yöneten kapsayıcı düzenleyicilerinin dağıtımıyla gelir.</span><span class="sxs-lookup"><span data-stu-id="7f674-156">Additional benefits of managing containers come from deploying with container orchestrators, which manage the various instances and lifecycle of each container instance.</span></span> <span data-ttu-id="7f674-157">Tek parçalı uygulamayı, ölçeklendirilebilir, geliştirilmiş ve dağıtılan alt sistemlere bölmek, mikro hizmetler bölgesine giriş noktanşa noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="7f674-157">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

## <a name="publishing-a-single-container-based-application-to-azure-app-service"></a><span data-ttu-id="7f674-158">Azure App Service için tek Kapsayıcılı tabanlı bir uygulama yayımlama</span><span class="sxs-lookup"><span data-stu-id="7f674-158">Publishing a single-container-based application to Azure App Service</span></span>

<span data-ttu-id="7f674-159">Azure 'a dağıtılan bir kapsayıcının doğrulanmasını mi yoksa bir uygulamanın yalnızca tek kapsayıcılı bir uygulama olduğu durumlarda Azure App Service, ölçeklenebilir tek kapsayıcı tabanlı hizmetler sağlamak için harika bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f674-159">Whether you want to get validation of a container deployed to Azure or when an application is simply a single-container application, Azure App Service provides a great way to provide scalable single-container-based services.</span></span> <span data-ttu-id="7f674-160">Azure App Service kullanmak basittir.</span><span class="sxs-lookup"><span data-stu-id="7f674-160">Using Azure App Service is simple.</span></span> <span data-ttu-id="7f674-161">Kodunuzu almak, Visual Studio 'da derlemek ve doğrudan Azure 'a dağıtmak için git ile harika bir tümleştirme sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f674-161">It provides great integration with Git to make it easy to take your code, build it in Visual Studio, and deploy it directly to Azure.</span></span>

![Container Registry gösteren App Service oluştur iletişim kutusunun ekran görüntüsü.](./media/containerize-monolithic-applications/publish-azure-app-service-container.png)

<span data-ttu-id="7f674-163">**Şekil 4-4**.</span><span class="sxs-lookup"><span data-stu-id="7f674-163">**Figure 4-4**.</span></span> <span data-ttu-id="7f674-164">Visual Studio 2019 Azure App Service için tek kapsayıcılı bir uygulama yayımlama</span><span class="sxs-lookup"><span data-stu-id="7f674-164">Publishing a single-container application to Azure App Service from Visual Studio 2019</span></span>

<span data-ttu-id="7f674-165">Docker olmadan, Azure App Service desteklenmeyen diğer yetenekler, çerçeveler veya bağımlılıklara ihtiyaç duymanız durumunda, Azure ekibi App Service bu bağımlılıkları güncelleştirene kadar beklemeniz gerekiyordu.</span><span class="sxs-lookup"><span data-stu-id="7f674-165">Without Docker, if you needed other capabilities, frameworks, or dependencies that aren't supported in Azure App Service, you had to wait until the Azure team updated those dependencies in App Service.</span></span> <span data-ttu-id="7f674-166">Ya da daha fazla denetiminiz olan Azure Cloud Services veya VM 'Ler gibi diğer hizmetlere geçmeniz gerekiyordu ve uygulamanız için gerekli bir bileşeni veya çerçeveyi yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-166">Or you had to switch to other services like Azure Cloud Services or VMs, where you had further control and you could install a required component or framework for your application.</span></span>

<span data-ttu-id="7f674-167">Visual Studio 2017 ve üzeri sürümlerde kapsayıcı desteği, Şekil 4-4 ' de gösterildiği gibi, uygulama ortamınıza istediğiniz şeyi dahil etmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f674-167">Container support in Visual Studio 2017 and later gives you the ability to include whatever you want in your application environment, as shown in Figure 4-4.</span></span> <span data-ttu-id="7f674-168">Bir kapsayıcıda çalıştırdığınız için, uygulamanıza bir bağımlılık eklerseniz, bu bağımlılığı Dockerfile veya Docker yansımanıza dahil edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f674-168">Since you're running it in a container, if you add a dependency to your application, you can include the dependency in your Dockerfile or Docker image.</span></span>

<span data-ttu-id="7f674-169">Şekil 4-4 ' de de gösterildiği gibi, yayımlama akışı bir görüntüyü kapsayıcı kayıt defteri aracılığıyla iter.</span><span class="sxs-lookup"><span data-stu-id="7f674-169">As also shown in Figure 4-4, the publish flow pushes an image through a container registry.</span></span> <span data-ttu-id="7f674-170">Bu, Azure Container Registry (Azure 'daki dağıtımlarınıza bir kayıt defteri yakın ve Azure Active Directory gruplar ve hesaplar ile güvenliği sağlanmış) veya Docker Hub veya şirket içi kayıt defteri gibi başka bir Docker kayıt defteri olabilir.</span><span class="sxs-lookup"><span data-stu-id="7f674-170">This can be the Azure Container Registry (a registry close to your deployments in Azure and secured by Azure Active Directory groups and accounts), or any other Docker registry, like Docker Hub or an on-premises registry.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="7f674-171">[Önceki](index.md)
>[İleri](docker-application-state-data.md)</span><span class="sxs-lookup"><span data-stu-id="7f674-171">[Previous](index.md)
[Next](docker-application-state-data.md)</span></span>
