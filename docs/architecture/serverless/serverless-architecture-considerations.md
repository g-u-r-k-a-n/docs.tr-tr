---
title: Sunucusuz mimari hususlar - Serverless uygulamaları
description: Devlet yönetiminden kalıcı depolamadan ölçeklendirmeye, günlüğe kaydetmeye, izlemeve tanılamaya kadar sunucusuz uygulamaları tanımlamanın zorluklarını anlayın.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: c856683cf6910be98661e634246cd003b93a6d76
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/14/2020
ms.locfileid: "72522429"
---
# <a name="serverless-architecture-considerations"></a><span data-ttu-id="3a288-103">Sunucusuz mimaride dikkat edilmesi gerekenler</span><span class="sxs-lookup"><span data-stu-id="3a288-103">Serverless architecture considerations</span></span>

<span data-ttu-id="3a288-104">Sunucusuz bir mimari benimsemek bazı zorluklarla birlikte gelir.</span><span class="sxs-lookup"><span data-stu-id="3a288-104">Adopting a serverless architecture does come with certain challenges.</span></span> <span data-ttu-id="3a288-105">Bu bölümde dikkat edilmesi gereken daha yaygın hususlardan bazıları incelenebilmelidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-105">This section explores some of the more common considerations to be aware of.</span></span> <span data-ttu-id="3a288-106">Tüm bu zorlukların çözümleri vardır.</span><span class="sxs-lookup"><span data-stu-id="3a288-106">All of these challenges have solutions.</span></span> <span data-ttu-id="3a288-107">Tüm mimari seçimlerde olduğu gibi, sunucusuz gitme kararı ancak artıları ve eksileri dikkatlice göz önünde bulundurularak verilmelidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-107">As with all architecture choices, the decision to go serverless should be made only after carefully considering the pros and cons.</span></span> <span data-ttu-id="3a288-108">Uygulamanızın gereksinimlerine bağlı olarak, sunucusuz bir uygulamanın belirli bileşenler için doğru çözüm olmadığına karar verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3a288-108">Depending on the needs of your application, you may decide a serverless implementation isn't the right solution for certain components.</span></span>

## <a name="managing-state"></a><span data-ttu-id="3a288-109">Devleti yönetme</span><span class="sxs-lookup"><span data-stu-id="3a288-109">Managing state</span></span>

<span data-ttu-id="3a288-110">Sunucusuz işlevler, genel olarak mikro hizmetlerde olduğu gibi, varsayılan olarak durumsuz.</span><span class="sxs-lookup"><span data-stu-id="3a288-110">Serverless functions, as with microservices in general, are stateless by default.</span></span> <span data-ttu-id="3a288-111">Durum kaçınmak, sunucusuzların geçici olmasını, ölçeklendirmesini ve merkezi bir hata noktası olmadan esneklik sağlamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="3a288-111">Avoiding state enables serverless to be ephemeral, to scale out, and to provide resiliency without a central point of failure.</span></span> <span data-ttu-id="3a288-112">Bazı durumlarda, iş süreçleri devlet gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3a288-112">In some circumstances, business processes require state.</span></span> <span data-ttu-id="3a288-113">İşleminizin durum gerektiriyorsa, iki seçeneğiniz var.</span><span class="sxs-lookup"><span data-stu-id="3a288-113">If your process requires state, you have two options.</span></span> <span data-ttu-id="3a288-114">Sunucusuz dışında bir model benimseyebilir veya durum sağlayan ayrı bir hizmetle etkileşimkurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3a288-114">You can adopt a model other than serverless, or interact with a separate service that provides state.</span></span> <span data-ttu-id="3a288-115">Durum eklemek çözümü zorlaştırabilir ve ölçeklendirmeyi zorlaştırabilir ve potansiyel olarak tek bir hata noktası oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-115">Adding state can complicate the solution and make it harder to scale, and potentially create a single point of failure.</span></span> <span data-ttu-id="3a288-116">İşlevinizin kesinlikle durum gerekip gerekmediğini dikkatlice düşünün.</span><span class="sxs-lookup"><span data-stu-id="3a288-116">Carefully consider whether your function absolutely requires state.</span></span> <span data-ttu-id="3a288-117">Yanıt "evet" ise, sunucusuz olarak uygulamanın mantıklı olup olmadığını belirleyin.</span><span class="sxs-lookup"><span data-stu-id="3a288-117">If the answer is "yes," determine whether it still makes sense to implement it with serverless.</span></span>

<span data-ttu-id="3a288-118">Sunucusuz yararları ödün vermeden devlet benimsemek için çeşitli çözümler vardır.</span><span class="sxs-lookup"><span data-stu-id="3a288-118">There are several solutions to adopt state without compromising the benefits of serverless.</span></span> <span data-ttu-id="3a288-119">Daha popüler çözümlerden bazıları şunlardır:</span><span class="sxs-lookup"><span data-stu-id="3a288-119">Some of the more popular solutions include:</span></span>

- <span data-ttu-id="3a288-120">Redis gibi geçici bir veri deposu veya dağıtılmış önbellek kullanma</span><span class="sxs-lookup"><span data-stu-id="3a288-120">Use a temporary data store or distributed cache, like Redis</span></span>
- <span data-ttu-id="3a288-121">SQL veya CosmosDB gibi bir veritabanında depo durumu</span><span class="sxs-lookup"><span data-stu-id="3a288-121">Store state in a database, like SQL or CosmosDB</span></span>
- <span data-ttu-id="3a288-122">Duruma dayanıklı işlevler gibi bir iş akışı altyapısı üzerinden işleme</span><span class="sxs-lookup"><span data-stu-id="3a288-122">Handle state through a workflow engine like durable functions</span></span>

<span data-ttu-id="3a288-123">Alt satırda, sunucusuz ile uygulamayı düşündüğünüz işlemler içinde herhangi bir devlet yönetimi için ihtiyaç farkında olması gerektiğidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-123">The bottom line is that you should be aware of the need for any state management within processes you're considering to implement with serverless.</span></span>

## <a name="long-running-processes"></a><span data-ttu-id="3a288-124">Uzun süren süreçler</span><span class="sxs-lookup"><span data-stu-id="3a288-124">Long-running processes</span></span>

<span data-ttu-id="3a288-125">Sunucusuzların birçok faydası, işlemlerin geçici olmasına dayanır.</span><span class="sxs-lookup"><span data-stu-id="3a288-125">Many benefits of serverless rely on the processes being ephemeral.</span></span> <span data-ttu-id="3a288-126">Kısa çalışma süreleri, sunucusuz sağlayıcının işlevleri sona ererken kaynakları boşaltmasını ve işlevleri ana bilgisayarlar arasında paylaşmasını kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="3a288-126">Short run times make it easier for the serverless provider to free up resources as functions end and share functions across hosts.</span></span> <span data-ttu-id="3a288-127">Çoğu bulut sağlayıcısı, işlevinizin çalıştırabileceği toplam süreyi yaklaşık 10 dakika ile sınırlar.</span><span class="sxs-lookup"><span data-stu-id="3a288-127">Most cloud providers limit the total time your function can run to around 10 minutes.</span></span> <span data-ttu-id="3a288-128">İşleminiz daha uzun sürebilirse, alternatif bir uygulama düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3a288-128">If your process may take longer, you might consider an alternative implementation.</span></span>

<span data-ttu-id="3a288-129">Birkaç istisna ve çözüm vardır.</span><span class="sxs-lookup"><span data-stu-id="3a288-129">There are a few exceptions and solutions.</span></span> <span data-ttu-id="3a288-130">Bir çözüm, işleminizi tek tek çalıştırmanın daha az zaman alan daha küçük bileşenlere dönüştürülmesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-130">One solution may be to break your process into smaller components that individually take less time to run.</span></span> <span data-ttu-id="3a288-131">İşlemleriniz bağımlılıklar nedeniyle uzun sürüyorsa, dayanıklı işlevler gibi bir çözüm kullanarak eşzamanlı bir iş akışı da düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3a288-131">If your process runs long because of dependencies, you can also consider an asynchronous workflow using a solution like durable functions.</span></span> <span data-ttu-id="3a288-132">Dayanıklı işlevler, tamamlanması için harici bir işlemi beklerken işleminizin durumunu duraklatabilir ve korur.</span><span class="sxs-lookup"><span data-stu-id="3a288-132">Durable functions pause and maintain the state of your process while it's waiting on an external process to finish.</span></span> <span data-ttu-id="3a288-133">Eşzamanlı işleme, gerçek işlemin çalışma süresini azaltır.</span><span class="sxs-lookup"><span data-stu-id="3a288-133">Asynchronous handling reduces the time the actual process runs.</span></span>

## <a name="startup-time"></a><span data-ttu-id="3a288-134">Başlangıç zamanı</span><span class="sxs-lookup"><span data-stu-id="3a288-134">Startup time</span></span>

<span data-ttu-id="3a288-135">Sunucusuz uygulamalarla ilgili olası endişelerden biri başlangıç zamanıdır.</span><span class="sxs-lookup"><span data-stu-id="3a288-135">One potential concern with serverless implementations is startup time.</span></span> <span data-ttu-id="3a288-136">Kaynakları korumak için, birçok sunucusuz sağlayıcı "isteğe bağlı" altyapı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3a288-136">To conserve resources, many serverless providers create infrastructure "on demand."</span></span> <span data-ttu-id="3a288-137">Bir süre sonra sunucusuz bir işlev tetiklendiğinde, işlevi barındıracak kaynakların oluşturulması veya yeniden başlatılması gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-137">When a serverless function is triggered after a period of time, the resources to host the function may need to be created or restarted.</span></span> <span data-ttu-id="3a288-138">Bazı durumlarda, soğuk başlar birkaç saniye gecikmelere neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-138">In some situations, cold starts may result in delays of several seconds.</span></span> <span data-ttu-id="3a288-139">Başlangıç süresi sağlayıcılar ve hizmet düzeyleri arasında değişir.</span><span class="sxs-lookup"><span data-stu-id="3a288-139">Startup time varies across providers and service levels.</span></span> <span data-ttu-id="3a288-140">Uygulamanın başarısı için en aza indirmek önemliyse, başlangıç süresini ele almak için birkaç yaklaşım vardır.</span><span class="sxs-lookup"><span data-stu-id="3a288-140">There are a few approaches to address startup time if it's important to minimize for the success of the app.</span></span>

- <span data-ttu-id="3a288-141">Bazı sağlayıcılar, kullanıcıların altyapının "her zaman açıktır" garanti eden hizmet düzeyleri için ödeme ödemesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="3a288-141">Some providers allow users to pay for service levels that guarantee infrastructure is "always on".</span></span>
- <span data-ttu-id="3a288-142">Bir keep-alive mekanizması uygulayın ("uyanık" tutmak için bitiş noktası ping).</span><span class="sxs-lookup"><span data-stu-id="3a288-142">Implement a keep-alive mechanism (ping the endpoint to keep it "awake").</span></span>
- <span data-ttu-id="3a288-143">Kapsayıcı bir işlev yaklaşımı ile Kubernetes gibi orkestrasyon kullanın (ana bilgisayar zaten yeni örnekleri kadar dönen son derece hızlı çalışıyor).</span><span class="sxs-lookup"><span data-stu-id="3a288-143">Use orchestration like Kubernetes with a containerized function approach (the host is already running so spinning up new instances is extremely fast).</span></span>

## <a name="database-updates-and-migrations"></a><span data-ttu-id="3a288-144">Veritabanı güncelleştirmeleri ve geçişler</span><span class="sxs-lookup"><span data-stu-id="3a288-144">Database updates and migrations</span></span>

<span data-ttu-id="3a288-145">Sunucusuz kodun bir avantajı, tüm uygulamayı yeniden dağıtmak zorunda kalmadan yeni işlevler serbest bırakabilmektir.</span><span class="sxs-lookup"><span data-stu-id="3a288-145">An advantage of serverless code is that you can release new functions without having to redeploy the entire application.</span></span> <span data-ttu-id="3a288-146">İlişkisel bir veritabanı söz konusu olduğunda bu avantaj bir dezavantaj haline gelebilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-146">This advantage can become a disadvantage when there's a relational database involved.</span></span> <span data-ttu-id="3a288-147">Veritabanı şemalarında yapılan değişiklikleri sunucusuz güncelleştirmelerle eşitlemek zordur.</span><span class="sxs-lookup"><span data-stu-id="3a288-147">Changes to database schemas are difficult to synchronize with serverless updates.</span></span> <span data-ttu-id="3a288-148">İşler ters gittiğinde ve değişiklikler geri alınmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3a288-148">Additional challenges are posed when things go wrong and the changes must be rolled back.</span></span> <span data-ttu-id="3a288-149">Veri bütünlüğü, mikro hizmetler ve sunucusuz işlevler için en iyi uygulamanın kendi verilerine sahip olmalarının bir nedenidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-149">Data integrity is one reason that a best practice for microservices and serverless functions is that they own their own data.</span></span> <span data-ttu-id="3a288-150">Değişiklikleri tek bir bilgi işlem ve veri birimi olarak dağıtmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="3a288-150">It is possible to deploy changes as a single unit of compute and data.</span></span> <span data-ttu-id="3a288-151">Gerçek şu ki, birçok eski sistem, sunucusuz mimarisi ile uzlaştırılması gereken büyük bir arka uç veritabanına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="3a288-151">The reality is that many legacy systems feature a large back-end database that must be reconciled with the serverless architecture.</span></span>

<span data-ttu-id="3a288-152">Şema sürümünü çözmek için popüler bir yaklaşım varolan özellikleri ve sütunları değiştirmek için asla, ancak yeni bilgi eklemektir.</span><span class="sxs-lookup"><span data-stu-id="3a288-152">A popular approach to solve schema versioning is to never modify existing properties and columns, but instead add new information.</span></span> <span data-ttu-id="3a288-153">Örneğin, bir yapılacaklar listesi için Boolean "tamamlanmış" bayrağından "tamamlanmış tarihe" geçmek için bir değişiklik düşünün.</span><span class="sxs-lookup"><span data-stu-id="3a288-153">For example, consider a change to move from a Boolean "completed" flag for a todo list to a "completed date."</span></span> <span data-ttu-id="3a288-154">Veritabanı değişikliği, eski alanı kaldırmak yerine:</span><span class="sxs-lookup"><span data-stu-id="3a288-154">Instead of removing the old field, the database change will:</span></span>

1. <span data-ttu-id="3a288-155">Yeni bir "tamamlanmış tarih" alanı ekleyin.</span><span class="sxs-lookup"><span data-stu-id="3a288-155">Add a new "completed date" field.</span></span>
1. <span data-ttu-id="3a288-156">"Tamamlanmış" Boolean alanını, tamamlanan tarihin geçerli tarihten sonra olup olmadığını değerlendiren bir hesaplanmış işleve dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="3a288-156">Transform the "completed" Boolean field to a computed function that evaluates whether the completed date is after the current date.</span></span>
1. <span data-ttu-id="3a288-157">Tamamlanan Boolean'ın doğru ayarlandığı geçerli tarihe tamamlanmış tarihi ayarlamak için bir tetikleyici ekleyin.</span><span class="sxs-lookup"><span data-stu-id="3a288-157">Add a trigger to set the completed date to the current date when the completed Boolean is set to true.</span></span>

<span data-ttu-id="3a288-158">Yeni sunucusuz işlevler yeni alandan yararlanabiliyorken, değişiklik sırası eski kodun "olduğu gibi" çalıştırılabilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="3a288-158">The sequence of changes ensures that legacy code continues to run "as is" while newer serverless functions can take advantage of the new field.</span></span>

<span data-ttu-id="3a288-159">Sunucusuz mimarideki veriler hakkında daha fazla bilgi [için, dağıtılmış veri yönetimi için Zorluklar ve çözümler](../microservices/architect-microservice-container-applications/distributed-data-management.md)bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="3a288-159">For more information about data in serverless architectures, see [Challenges and solutions for distributed data management](../microservices/architect-microservice-container-applications/distributed-data-management.md).</span></span>

## <a name="scaling"></a><span data-ttu-id="3a288-160">Ölçeklendirme</span><span class="sxs-lookup"><span data-stu-id="3a288-160">Scaling</span></span>

<span data-ttu-id="3a288-161">Sunucusuz'un "sunucu yok" anlamına geldiğini niçin yanlış bir yoruma sayılsın?</span><span class="sxs-lookup"><span data-stu-id="3a288-161">It's a common misconception that serverless means "no server."</span></span> <span data-ttu-id="3a288-162">Aslında "daha az sunucu."</span><span class="sxs-lookup"><span data-stu-id="3a288-162">It's in fact "less server."</span></span> <span data-ttu-id="3a288-163">Bir destek altyapısı nın olması, ölçekleme söz konusu olduğunda anlaşılması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-163">The fact there is a backing infrastructure is important to understand when it comes to scaling.</span></span> <span data-ttu-id="3a288-164">Çoğu sunucusuz platform, olay yoğunluğu arttığında altyapının nasıl ölçeklendirilebildiğini işlemek için bir denetim kümesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="3a288-164">Most serverless platforms provide a set of controls to handle how the infrastructure should scale when event density increases.</span></span> <span data-ttu-id="3a288-165">Çeşitli seçenekler arasından seçim yapabilirsiniz, ancak stratejiniz işleve bağlı olarak değişebilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-165">You can choose from a variety of options, but your strategy may vary depending on the function.</span></span> <span data-ttu-id="3a288-166">Ayrıca, işlevler genellikle ilgili bir ana bilgisayar altında çalıştırılır, böylece aynı ana bilgisayardaki işlevler aynı ölçek seçeneklerine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="3a288-166">Furthermore, functions are typically run under a related host, so that functions on the same host have the same scale options.</span></span> <span data-ttu-id="3a288-167">Bu nedenle ölçek gereksinimlerine göre hangi işlevlerin birlikte barındırıldığı organize etmek ve stratejilendirmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="3a288-167">Therefore it is necessary to organize and strategize which functions are hosted together based on scale requirements.</span></span>

<span data-ttu-id="3a288-168">Kurallar genellikle değişen parametrelere göre nasıl ölçeklendirileceği (ana bilgisayar kaynaklarını artıracağını) ve ölçeklendirmeyi (ana bilgisayar örneklerinin sayısını artıracağını) belirtir.</span><span class="sxs-lookup"><span data-stu-id="3a288-168">Rules often specify how to scale-up (increase the host resources) and scale-out (increase the number of host instances) based on varying parameters.</span></span> <span data-ttu-id="3a288-169">Ölçekler için tetikleyiciler zamanlama, istek oranları, CPU kullanımı ve bellek kullanımını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-169">Triggers for scales may include schedule, request rates, CPU utilization, and memory usage.</span></span> <span data-ttu-id="3a288-170">Daha yüksek performans genellikle daha büyük bir maliyetle gelir.</span><span class="sxs-lookup"><span data-stu-id="3a288-170">Higher performance often comes at a greater cost.</span></span> <span data-ttu-id="3a288-171">Daha az pahalı, tüketime dayalı yaklaşımlar, istek oranı aniden arttığında o kadar hızlı ölçeklendirilemez.</span><span class="sxs-lookup"><span data-stu-id="3a288-171">The less expensive, consumption-based approaches may not scale as quickly when the request rate suddenly increases.</span></span> <span data-ttu-id="3a288-172">Ön "sigorta maliyeti" kadar ödeme arasında bir trade-off kesinlikle "gitmek" ve talep ani artışlar nedeniyle daha yavaş tepkiler riski ödeme arasında dır.</span><span class="sxs-lookup"><span data-stu-id="3a288-172">There is a trade-off between paying up front "insurance cost" versus paying strictly "as you go" and risking slower responses due to sudden increases in demand.</span></span>

## <a name="monitoring-tracing-and-logging"></a><span data-ttu-id="3a288-173">İzleme, izleme ve günlüğe kaydetme</span><span class="sxs-lookup"><span data-stu-id="3a288-173">Monitoring, tracing, and logging</span></span>

<span data-ttu-id="3a288-174">DevOps'un gözden kaçan bir yönü, dağıtıldıktan sonra uygulamaları izlemektir.</span><span class="sxs-lookup"><span data-stu-id="3a288-174">An often overlooked aspect of DevOps is monitoring applications once deployed.</span></span> <span data-ttu-id="3a288-175">Sunucusuz işlevleri izlemek için bir stratejiye sahip olmak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-175">It's important to have a strategy for monitoring serverless functions.</span></span> <span data-ttu-id="3a288-176">En büyük zorluk genellikle korelasyon veya bir kullanıcı aynı etkileşimin bir parçası olarak birden fazla işlevi aradığında tanıma.</span><span class="sxs-lookup"><span data-stu-id="3a288-176">The biggest challenge is often correlation, or recognizing when a user calls multiple functions as part of the same interaction.</span></span> <span data-ttu-id="3a288-177">Çoğu sunucusuz platform, üçüncü taraf araçlara içe aktarılabilen konsol günlüğe kaydetmeye izin verir.</span><span class="sxs-lookup"><span data-stu-id="3a288-177">Most serverless platforms allow console logging that can be imported into third-party tools.</span></span> <span data-ttu-id="3a288-178">Telemetri koleksiyonunu otomatikleştirmek, korelasyon iLikleri oluşturmak ve izlemek ve ayrıntılı öngörüler sağlamak için belirli eylemleri izlemek için seçenekler de vardır.</span><span class="sxs-lookup"><span data-stu-id="3a288-178">There are also options to automate collection of telemetry, generate and track correlation IDs, and monitor specific actions to provide detailed insights.</span></span> <span data-ttu-id="3a288-179">Azure, izleme ve analiz için gelişmiş [Application Insights platformünü](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) sağlar.</span><span class="sxs-lookup"><span data-stu-id="3a288-179">Azure provides the advanced [Application Insights platform](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) for monitoring and analytics.</span></span>

## <a name="inter-service-dependencies"></a><span data-ttu-id="3a288-180">Servisler arası bağımlılıklar</span><span class="sxs-lookup"><span data-stu-id="3a288-180">Inter-service dependencies</span></span>

<span data-ttu-id="3a288-181">Sunucusuz bir mimari, diğer işlevlere dayanan işlevler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-181">A serverless architecture may include functions that rely on other functions.</span></span> <span data-ttu-id="3a288-182">Aslında, sunucusuz bir mimaride birden çok hizmetin etkileşim veya dağıtılmış işlemin bir parçası olarak birbirini araması nadir değildir.</span><span class="sxs-lookup"><span data-stu-id="3a288-182">In fact, it isn't uncommon in a serverless architecture to have multiple services call each other as part of an interaction or distributed transaction.</span></span> <span data-ttu-id="3a288-183">Güçlü bağlantıdan kaçınmak için, hizmetlerin doğrudan birbiriyle referans vermemeleri önerilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-183">To avoid strong coupling, it's recommended that services don't reference each other directly.</span></span> <span data-ttu-id="3a288-184">Bir hizmetin bitiş noktasının değişmesi gerektiğinde, doğrudan başvurular büyük yeniden düzenlemeyle sonuçlanabilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-184">When the endpoint for a service needs to change, direct references could result in major refactoring.</span></span> <span data-ttu-id="3a288-185">Önerilen çözüm, bir istek türü için uygun bitiş noktasını sağlayan kayıt defteri gibi bir hizmet bulma mekanizması sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="3a288-185">A suggested solution is to provide a service discovery mechanism, such as a registry, that provides the appropriate end point for a request type.</span></span> <span data-ttu-id="3a288-186">Başka bir çözüm, kuyruklar veya hizmetler arasındaki iletişim konuları gibi mesajlaşma hizmetlerinden yararlanmaktır.</span><span class="sxs-lookup"><span data-stu-id="3a288-186">Another solution is to leverage messaging services like queues or topics for communication between services.</span></span>

## <a name="managing-failure-and-providing-resiliency"></a><span data-ttu-id="3a288-187">Başarısızlığı yönetme ve esneklik sağlama</span><span class="sxs-lookup"><span data-stu-id="3a288-187">Managing failure and providing resiliency</span></span>

<span data-ttu-id="3a288-188">*Devre kesici deseni*de göz önünde bulundurmak da önemlidir: Bir nedenle bir hizmet başarısız olmaya devam ederse, bu hizmeti tekrar tekrar aramak tavsiye edilmez.</span><span class="sxs-lookup"><span data-stu-id="3a288-188">It's also important to consider the *circuit-breaker pattern*: If, for some reason, a service continues to fail, it isn't advisable to call that service repeatedly.</span></span> <span data-ttu-id="3a288-189">Bunun yerine, bağımlı hizmetin durumu yeniden kurulana kadar alternatif bir hizmet çağrılır veya ileti döndürülür.</span><span class="sxs-lookup"><span data-stu-id="3a288-189">Instead, an alternative service is called or a message returned until the health of the dependent service is re-established.</span></span> <span data-ttu-id="3a288-190">Sunucusuz mimari, servisler arası bağımlılıkları çözme ve yönetme stratejisini dikkate almalıdır.</span><span class="sxs-lookup"><span data-stu-id="3a288-190">The serverless architecture needs to take into account the strategy for resolving and managing inter-service dependencies.</span></span>

<span data-ttu-id="3a288-191">Devre kesici desenini devam ettirebilmek için hizmetlerin hataya dayanıklı ve esnek olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="3a288-191">To continue the circuit-breaker pattern, services need to be fault tolerant and resilient.</span></span> <span data-ttu-id="3a288-192">Hata toleransı, beklenmeyen özel durumlar veya geçersiz durumlarla karşılaşıldıktan sonra bile uygulamanızın çalışmaya devam etme yeteneğini ifade eder.</span><span class="sxs-lookup"><span data-stu-id="3a288-192">Fault tolerance refers to the ability of your application to continue running even after unexpected exceptions or invalid states are encountered.</span></span> <span data-ttu-id="3a288-193">Hata toleransı genellikle kodun kendisi ve özel durumları işlemek için nasıl yazıldığının bir fonksiyonudur.</span><span class="sxs-lookup"><span data-stu-id="3a288-193">Fault tolerance is typically a function of the code itself and how it's written to handle exceptions.</span></span> <span data-ttu-id="3a288-194">Esneklik, uygulamanın hatalardan kurtulmada ne kadar yetenekli olduğunu ifade eder.</span><span class="sxs-lookup"><span data-stu-id="3a288-194">Resiliency refers to how capable the app is at recovering from failures.</span></span> <span data-ttu-id="3a288-195">Esneklik genellikle sunucusuz platform tarafından yönetilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-195">Resiliency is often managed by the serverless platform.</span></span> <span data-ttu-id="3a288-196">Platform, varolan başarısız olduğunda yeni bir sunucusuz işlev örneği döndürebilmelidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-196">The platform should be able to spin up a new serverless function instance when the existing one fails.</span></span> <span data-ttu-id="3a288-197">Platform aynı zamanda her yeni örnek başarısız olduğunda yeni örnekler kadar dönen durdurmak için yeterince akıllı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3a288-197">The platform should also be intelligent enough to stop spinning up new instances when every new instance fails.</span></span>

<span data-ttu-id="3a288-198">Daha fazla bilgi için bkz: [Devre Kesici deseni uygulama.](../microservices/implement-resilient-applications/implement-circuit-breaker-pattern.md)</span><span class="sxs-lookup"><span data-stu-id="3a288-198">For more information, see [Implementing the Circuit Breaker pattern](../microservices/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span></span>

## <a name="versioning-and-greenblue-deployments"></a><span data-ttu-id="3a288-199">Sürüm ve yeşil/mavi dağıtımlar</span><span class="sxs-lookup"><span data-stu-id="3a288-199">Versioning and green/blue deployments</span></span>

<span data-ttu-id="3a288-200">Sunucusuz olmanın en önemli yararı, tüm uygulamayı yeniden dağıtmak zorunda kalmadan belirli bir işlevi yükseltme yeteneğidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-200">A major benefit of serverless is the ability to upgrade a specific function without having to redeploy the entire application.</span></span> <span data-ttu-id="3a288-201">Yükseltmelerin başarılı olabilmesi için işlevlerin, onları çağıran hizmetlerin kodun doğru sürümüne yönlendirilmesi için sürülmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="3a288-201">For upgrades to be successful, functions must be versioned so that services calling them are routed to the correct version of code.</span></span> <span data-ttu-id="3a288-202">Yeni sürümleri dağıtmak için bir strateji de önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3a288-202">A strategy for deploying new versions is also important.</span></span> <span data-ttu-id="3a288-203">Yaygın bir yaklaşım "yeşil/mavi dağıtımlar" kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="3a288-203">A common approach is to use "green/blue deployments."</span></span> <span data-ttu-id="3a288-204">Yeşil dağıtım geçerli işlevdir.</span><span class="sxs-lookup"><span data-stu-id="3a288-204">The green deployment is the current function.</span></span> <span data-ttu-id="3a288-205">Yeni bir "mavi" sürümü üretime dağıtılır ve test edilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-205">A new "blue" version is deployed to production and tested.</span></span> <span data-ttu-id="3a288-206">Test geçtiğinde, yeşil ve mavi sürümler yeni sürümün canlı olarak gelmesi için değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-206">When testing passes, the green and blue versions are swapped so the new version comes live.</span></span> <span data-ttu-id="3a288-207">Herhangi bir sorunla karşılaşılırsa, bunlar geri değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="3a288-207">If any issues are encountered, they can be swapped back.</span></span> <span data-ttu-id="3a288-208">Sürüm ve yeşil/mavi dağıtımları desteklemek, sürüm değişikliklerini karşılamak için işlevleri yazma nın ve dağıtımları işlemek için sunucusuz platformla çalışmanın bir birleşimini gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3a288-208">Supporting versioning and green/blue deployments requires a combination of authoring the functions to accommodate version changes and working with the serverless platform to handle deployments.</span></span> <span data-ttu-id="3a288-209">Olası bir yaklaşım, [Azure sunucusuz platform](azure-functions.md#proxies) bölümünde açıklanan yakınlıkları kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="3a288-209">One possible approach is to use proxies, which are described in the [Azure serverless platform](azure-functions.md#proxies) chapter.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="3a288-210">[Önceki](serverless-architecture.md)
>[Sonraki](serverless-design-examples.md)</span><span class="sxs-lookup"><span data-stu-id="3a288-210">[Previous](serverless-architecture.md)
[Next](serverless-design-examples.md)</span></span>
