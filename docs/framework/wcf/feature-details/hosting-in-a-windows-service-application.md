---
title: Windows Hizmet Uygulamasında Barındırma
ms.date: 03/30/2017
ms.assetid: f4199998-27f3-4dd9-aee4-0a4addfa9f24
ms.openlocfilehash: cb952cfcd670a790033fbec70de00a4db2541237
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90555854"
---
# <a name="hosting-in-a-windows-service-application"></a><span data-ttu-id="3c176-102">Windows Hizmet Uygulamasında Barındırma</span><span class="sxs-lookup"><span data-stu-id="3c176-102">Hosting in a Windows Service Application</span></span>
<span data-ttu-id="3c176-103">Windows Hizmetleri (eski adıyla Windows NT Hizmetleri), uzun süre çalışan bir çalıştırılabilirte canlı olması gereken uygulamalara özellikle uygun bir işlem modeli sağlar ve herhangi bir kullanıcı arabirimi formu görüntülemez.</span><span class="sxs-lookup"><span data-stu-id="3c176-103">Windows services (formerly known as Windows NT services) provide a process model particularly suited to applications that must live in a long-running executable and do not display any form of user interface.</span></span> <span data-ttu-id="3c176-104">Bir Windows hizmet uygulamasının işlem ömrü, Windows hizmeti uygulamalarını başlatabilmenizi, durdurmanızı ve duraklatmanızı sağlayan hizmet Denetim Yöneticisi (SCM) tarafından yönetilir.</span><span class="sxs-lookup"><span data-stu-id="3c176-104">The process lifetime of a Windows service application is managed by the service control manager (SCM), which allows you to start, stop, and pause Windows service applications.</span></span> <span data-ttu-id="3c176-105">Bir Windows hizmeti işlemini bilgisayar başlatıldığında otomatik olarak başlayacak şekilde yapılandırabilirsiniz. Bu, "Always On" uygulamaları için uygun bir barındırma ortamı yapar.</span><span class="sxs-lookup"><span data-stu-id="3c176-105">You can configure a Windows service process to start automatically when the computer starts, making it a suitable hosting environment for "always on" applications.</span></span> <span data-ttu-id="3c176-106">Windows hizmeti uygulamaları hakkında daha fazla bilgi için bkz. [Windows hizmeti uygulamaları](https://go.microsoft.com/fwlink/?LinkId=89450).</span><span class="sxs-lookup"><span data-stu-id="3c176-106">For more information about Windows service applications, see [Windows Service Applications](https://go.microsoft.com/fwlink/?LinkId=89450).</span></span>  
  
 <span data-ttu-id="3c176-107">Uzun süre çalışan Windows Communication Foundation (WCF) hizmetlerini barındıran uygulamalar, Windows hizmetleriyle birçok özelliği paylaşır.</span><span class="sxs-lookup"><span data-stu-id="3c176-107">Applications that host long-running Windows Communication Foundation (WCF) services share many characteristics with Windows services.</span></span> <span data-ttu-id="3c176-108">WCF hizmetleri özellikle kullanıcıyla etkileşime girmeyecek ve bu nedenle herhangi bir kullanıcı arabirimi formu uygulamayan uzun süreli sunucu yürütülebilirlerdir.</span><span class="sxs-lookup"><span data-stu-id="3c176-108">In particular, WCF services are long-running server executables that do not interact directly with the user and therefore do not implement any form of user interface.</span></span> <span data-ttu-id="3c176-109">Bu nedenle, bir Windows hizmeti uygulaması içindeki WCF hizmetleri barındırma, güçlü, uzun süreli ve WCF uygulamaları oluşturmaya yönelik bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="3c176-109">As such, hosting WCF services inside of a Windows service application is one option for building robust, long-running, WCF applications.</span></span>  
  
 <span data-ttu-id="3c176-110">WCF geliştiricilerinin genellikle Windows hizmet uygulamasının içinde veya Internet Information Services (IIS) ya da Windows Işlem etkinleştirme hizmeti (WAS) barındırma ortamının içinde WCF uygulamalarının barındırılmasına karar vermelidir.</span><span class="sxs-lookup"><span data-stu-id="3c176-110">Often, WCF developers must decide whether to host their WCF application inside of a Windows service application or inside of the Internet Information Services (IIS) or Windows Process Activation Service (WAS) hosting environment.</span></span> <span data-ttu-id="3c176-111">Aşağıdaki koşullarda Windows hizmeti uygulamaları kullanmayı göz önünde bulundurmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="3c176-111">You should consider using Windows service applications under the following conditions:</span></span>  
  
- <span data-ttu-id="3c176-112">Uygulamanız için açık etkinleştirme gerekir.</span><span class="sxs-lookup"><span data-stu-id="3c176-112">Your application requires explicit activation.</span></span> <span data-ttu-id="3c176-113">Örneğin, ilk gelen iletiye yanıt olarak sunucu başlatıldığında uygulamanızın otomatik olarak başlatılması yerine, uygulamanız otomatik olarak başlaması gerektiğinde Windows hizmetlerini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3c176-113">For example, you should use Windows services when your application must start automatically when the server starts instead of being dynamically started in response to the first incoming message.</span></span>  
  
- <span data-ttu-id="3c176-114">Uygulamanızı barındıran işlem başlatıldığında çalışmaya devam etmelidir.</span><span class="sxs-lookup"><span data-stu-id="3c176-114">The process that hosts your application must remain running once started.</span></span> <span data-ttu-id="3c176-115">Başlatıldıktan sonra, hizmet Denetim Yöneticisi kullanılarak bir sunucu yöneticisi tarafından açıkça kapatılmadığı sürece bir Windows hizmeti işlemi çalışır durumda kalır.</span><span class="sxs-lookup"><span data-stu-id="3c176-115">Once started, a Windows service process remains running unless explicitly shut down by a server administrator using the service control manager.</span></span> <span data-ttu-id="3c176-116">IIS 'de barındırılan uygulamalar, sistem kaynaklarının en iyi şekilde kullanılması için dinamik olarak başlatılabilir ve durdurulmuş olabilir.</span><span class="sxs-lookup"><span data-stu-id="3c176-116">Applications hosted in IIS or WAS may be started and stopped dynamically to make optimal use of system resources.</span></span> <span data-ttu-id="3c176-117">Barındırma sürecinin kullanım ömrü boyunca açık denetim gerektiren uygulamalar IIS veya WAS yerine Windows hizmetlerini kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3c176-117">Applications that require explicit control over the lifetime of their hosting process should use Windows services instead of IIS or WAS.</span></span>  
  
- <span data-ttu-id="3c176-118">WCF hizmetinizin Windows Server 2003 ' de çalışması ve HTTP dışındaki aktarımları kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="3c176-118">Your WCF service must run on Windows Server 2003 and use transports other than HTTP.</span></span> <span data-ttu-id="3c176-119">Windows Server 2003 ' de, IIS 6,0 barındırma ortamı yalnızca HTTP iletişimi ile kısıtlıdır.</span><span class="sxs-lookup"><span data-stu-id="3c176-119">On Windows Server 2003, the IIS 6.0 hosting environment is restricted to HTTP communication only.</span></span> <span data-ttu-id="3c176-120">Windows hizmeti uygulamaları bu kısıtlamaya tabi değildir ve net. TCP, net. pipe ve net. MSMQ dahil olmak üzere herhangi bir aktarım WCF desteği kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="3c176-120">Windows service applications are not subject to this restriction and can use any transport WCF supports, including net.tcp, net.pipe, and net.msmq.</span></span>  
  
### <a name="to-host-wcf-inside-of-a-windows-service-application"></a><span data-ttu-id="3c176-121">Bir Windows hizmet uygulamasının içinde WCF barındırmak için</span><span class="sxs-lookup"><span data-stu-id="3c176-121">To host WCF inside of a Windows service application</span></span>  
  
1. <span data-ttu-id="3c176-122">Bir Windows hizmet uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="3c176-122">Create a Windows service application.</span></span> <span data-ttu-id="3c176-123">Ad alanındaki sınıfları kullanarak yönetilen kodda Windows hizmeti uygulamalarını yazabilirsiniz <xref:System.ServiceProcess> .</span><span class="sxs-lookup"><span data-stu-id="3c176-123">You can write Windows service applications in managed code using the classes in the <xref:System.ServiceProcess> namespace.</span></span> <span data-ttu-id="3c176-124">Bu uygulama, öğesinden devralan bir sınıf içermelidir <xref:System.ServiceProcess.ServiceBase> .</span><span class="sxs-lookup"><span data-stu-id="3c176-124">This application must include one class that inherits from <xref:System.ServiceProcess.ServiceBase>.</span></span>  
  
2. <span data-ttu-id="3c176-125">WCF hizmetlerinin ömrünü Windows hizmet uygulamasının kullanım ömrü ile ilişkilendirin.</span><span class="sxs-lookup"><span data-stu-id="3c176-125">Link the lifetime of the WCF services to the lifetime of the Windows service application.</span></span> <span data-ttu-id="3c176-126">Genellikle, bir Windows hizmet uygulamasında barındırılan WCF hizmetlerinin barındırma hizmeti başlatıldığında etkin hale gelmesini, barındırma hizmeti durdurulduğunda iletileri dinlemeyi durdurmanız ve WCF hizmeti bir hatayla karşılaştığında barındırma işlemini kapatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3c176-126">Typically, you want WCF services hosted in a Windows service application to become active when the hosting service starts, stop listening for messages when the hosting service is stopped, and shut down the hosting process when the WCF service encounters an error.</span></span> <span data-ttu-id="3c176-127">Bu, aşağıdaki gibi gerçekleştirilebilir:</span><span class="sxs-lookup"><span data-stu-id="3c176-127">This can be accomplished as follows:</span></span>  
  
    - <span data-ttu-id="3c176-128"><xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>Bir veya daha fazla örneğini açmak için geçersiz kılın <xref:System.ServiceModel.ServiceHost> .</span><span class="sxs-lookup"><span data-stu-id="3c176-128">Override <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> to open one or more instances of <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="3c176-129">Tek bir Windows hizmeti uygulaması, bir grup olarak başlatılan ve durduran birden çok WCF hizmetini barındırabilir.</span><span class="sxs-lookup"><span data-stu-id="3c176-129">A single Windows service application can host multiple WCF services that start and stop as a group.</span></span>  
  
    - <span data-ttu-id="3c176-130"><xref:System.ServiceProcess.ServiceBase.OnStop%2A> <xref:System.ServiceModel.Channels.CommunicationObject.Closed> <xref:System.ServiceModel.ServiceHost> Sırasında başlatılan HERHANGI bir çalışan WCF hizmetini çağırmak için geçersiz kılın <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> .</span><span class="sxs-lookup"><span data-stu-id="3c176-130">Override <xref:System.ServiceProcess.ServiceBase.OnStop%2A> to call <xref:System.ServiceModel.Channels.CommunicationObject.Closed> on the <xref:System.ServiceModel.ServiceHost> any running WCF services that were started during <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span></span>  
  
    - <span data-ttu-id="3c176-131">Olayına abone olun <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> ve bir <xref:System.ServiceModel.ServiceHost> <xref:System.ServiceProcess.ServiceController> hata durumunda Windows hizmeti uygulamasını kapatmak için sınıfını kullanın.</span><span class="sxs-lookup"><span data-stu-id="3c176-131">Subscribe to the <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> event of <xref:System.ServiceModel.ServiceHost> and use the <xref:System.ServiceProcess.ServiceController> class to shut down the Windows service application in case of error.</span></span>  
  
     <span data-ttu-id="3c176-132">WCF hizmetlerini barındıran Windows hizmeti uygulamaları, WCF kullanmayan Windows hizmeti uygulamalarıyla aynı şekilde dağıtılır ve yönetilir.</span><span class="sxs-lookup"><span data-stu-id="3c176-132">Windows service applications that host WCF services are deployed and managed in the same way as Windows service applications that do not make use of WCF.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3c176-133">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="3c176-133">See also</span></span>

- <xref:System.ServiceProcess>
- [<span data-ttu-id="3c176-134">İzlenecek Yol: Bileşen Tasarımcısında Windows Hizmeti Uygulaması Oluşturma</span><span class="sxs-lookup"><span data-stu-id="3c176-134">Walkthrough: Creating a Windows Service Application in the Component Designer</span></span>](https://go.microsoft.com/fwlink/?LinkId=94875)
- [<span data-ttu-id="3c176-135">Nasıl yapılır: Yönetilen Bir Windows Hizmetinde Bir WCF Hizmeti Barındırma</span><span class="sxs-lookup"><span data-stu-id="3c176-135">How to: Host a WCF Service in a Managed Windows Service</span></span>](how-to-host-a-wcf-service-in-a-managed-windows-service.md)
- [<span data-ttu-id="3c176-136">Windows Hizmet Konağı</span><span class="sxs-lookup"><span data-stu-id="3c176-136">Windows Service Host</span></span>](../samples/windows-service-host.md)
- [<span data-ttu-id="3c176-137">Hizmet Uygulaması Programlama Mimarisi</span><span class="sxs-lookup"><span data-stu-id="3c176-137">Service Application Programming Architecture</span></span>](https://go.microsoft.com/fwlink/?LinkId=94876)
- <span data-ttu-id="3c176-138">[Windows Server App Fabric barındırma özellikleri](/previous-versions/appfabric/ee677189(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="3c176-138">[Windows Server App Fabric Hosting Features](/previous-versions/appfabric/ee677189(v=azure.10))</span></span>
