---
title: Zaman Uyumlu Metotları Zaman Uyumsuz Olarak Çağırma
description: BeginInvoke ve EndInvoke yöntemlerini kullanarak .NET 'te zaman uyumsuz yöntemleri nasıl çağrılacağını öğrenin.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- asynchronous programming, delegates
- asynchronous delegates
- AsyncWaitHandle property
- callback methods
- calling synchronous methods in asynchronous manner
- WaitHandle class, code examples
- asynchronous programming, status polling
- polling asynchronous operation status
- delegates [.NET], asynchronous
- synchronous calling in asynchronous manner
- waiting for asynchronous calls
- status information [.NET], asynchronous operations
ms.assetid: 41972034-92ed-450a-9664-ab93fcc6f1fb
ms.openlocfilehash: 668ac7552289a9d1015b62ed9e68f53415dd6211
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/18/2020
ms.locfileid: "94830447"
---
# <a name="calling-synchronous-methods-asynchronously"></a><span data-ttu-id="b0647-103">Zaman Uyumlu Metotları Zaman Uyumsuz Olarak Çağırma</span><span class="sxs-lookup"><span data-stu-id="b0647-103">Calling Synchronous Methods Asynchronously</span></span>

<span data-ttu-id="b0647-104">.NET, herhangi bir yöntemi zaman uyumsuz olarak çağırmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="b0647-104">.NET enables you to call any method asynchronously.</span></span> <span data-ttu-id="b0647-105">Bunu yapmak için, çağırmak istediğiniz yöntemle aynı imzaya sahip bir temsilci tanımlarsınız.</span><span class="sxs-lookup"><span data-stu-id="b0647-105">To do this, you define a delegate with the same signature as the method you want to call.</span></span> <span data-ttu-id="b0647-106">Ortak dil çalışma zamanı, `BeginInvoke` `EndInvoke` Bu temsilci için uygun imzalara göre otomatik olarak tanımlar ve yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="b0647-106">The common language runtime automatically defines `BeginInvoke` and `EndInvoke` methods for this delegate, with the appropriate signatures.</span></span>

> [!NOTE]
> <span data-ttu-id="b0647-107">Özellikle ve yöntemleri, zaman uyumsuz temsilci çağrıları `BeginInvoke` `EndInvoke` .NET Compact Framework desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="b0647-107">Asynchronous delegate calls, specifically the `BeginInvoke` and `EndInvoke` methods, are not supported in the .NET Compact Framework.</span></span>

<span data-ttu-id="b0647-108">`BeginInvoke`Yöntemi, zaman uyumsuz çağrıyı başlatır.</span><span class="sxs-lookup"><span data-stu-id="b0647-108">The `BeginInvoke` method initiates the asynchronous call.</span></span> <span data-ttu-id="b0647-109">Zaman uyumsuz olarak yürütmek istediğiniz yöntemle aynı parametrelere ve ek olarak iki isteğe bağlı parametreye sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b0647-109">It has the same parameters as the method that you want to execute asynchronously, plus two additional optional parameters.</span></span> <span data-ttu-id="b0647-110">İlk parametre, <xref:System.AsyncCallback> zaman uyumsuz arama tamamlandığında çağrılacak bir yönteme başvuran bir temsilcisidir.</span><span class="sxs-lookup"><span data-stu-id="b0647-110">The first parameter is an <xref:System.AsyncCallback> delegate that references a method to be called when the asynchronous call completes.</span></span> <span data-ttu-id="b0647-111">İkinci parametre, geri çağırma yöntemine bilgi geçiren Kullanıcı tanımlı bir nesnedir.</span><span class="sxs-lookup"><span data-stu-id="b0647-111">The second parameter is a user-defined object that passes information into the callback method.</span></span> <span data-ttu-id="b0647-112">`BeginInvoke` hemen döndürür ve zaman uyumsuz çağrının tamamlanmasını beklemez.</span><span class="sxs-lookup"><span data-stu-id="b0647-112">`BeginInvoke` returns immediately and does not wait for the asynchronous call to complete.</span></span> <span data-ttu-id="b0647-113">`BeginInvoke`<xref:System.IAsyncResult>zaman uyumsuz çağrının ilerlemesini izlemek için kullanılabilecek bir döndürür.</span><span class="sxs-lookup"><span data-stu-id="b0647-113">`BeginInvoke` returns an <xref:System.IAsyncResult>, which can be used to monitor the progress of the asynchronous call.</span></span>

<span data-ttu-id="b0647-114">`EndInvoke`Yöntemi, zaman uyumsuz çağrının sonuçlarını alır.</span><span class="sxs-lookup"><span data-stu-id="b0647-114">The `EndInvoke` method retrieves the results of the asynchronous call.</span></span> <span data-ttu-id="b0647-115">Bu, sonrasında herhangi bir kez çağrılabilir `BeginInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-115">It can be called any time after `BeginInvoke`.</span></span> <span data-ttu-id="b0647-116">Zaman uyumsuz çağrı tamamlanmazsa, `EndInvoke` çağıran iş parçacığını tamamlanana kadar engeller.</span><span class="sxs-lookup"><span data-stu-id="b0647-116">If the asynchronous call has not completed, `EndInvoke` blocks the calling thread until it completes.</span></span> <span data-ttu-id="b0647-117">Parametresi, `EndInvoke` `out` `ref` `<Out>` `ByRef` `ByRef` zaman uyumsuz olarak yürütmek istediğiniz yöntemin ve parametrelerini (ve Visual Basic) içerir ve <xref:System.IAsyncResult> tarafından döndürülen `BeginInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-117">The parameters of `EndInvoke` include the `out` and `ref` parameters (`<Out>` `ByRef` and `ByRef` in Visual Basic) of the method that you want to execute asynchronously, plus the <xref:System.IAsyncResult> returned by `BeginInvoke`.</span></span>

> [!NOTE]
> <span data-ttu-id="b0647-118">Visual Studio 'da IntelliSense özelliği ve parametrelerini görüntüler `BeginInvoke` `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-118">The IntelliSense feature in Visual Studio displays the parameters of `BeginInvoke` and `EndInvoke`.</span></span> <span data-ttu-id="b0647-119">Visual Studio veya benzer bir araç kullanmıyorsanız ya da Visual Studio Ile C# kullanıyorsanız, bu yöntemler için tanımlanan parametrelerin bir açıklaması için bkz. [zaman uyumsuz programlama modeli (APM)](asynchronous-programming-model-apm.md) .</span><span class="sxs-lookup"><span data-stu-id="b0647-119">If you're not using Visual Studio or a similar tool, or if you're using C# with Visual Studio, see [Asynchronous Programming Model (APM)](asynchronous-programming-model-apm.md) for a description of the parameters defined for these methods.</span></span>

<span data-ttu-id="b0647-120">Bu konudaki kod örnekleri, `BeginInvoke` `EndInvoke` zaman uyumsuz çağrılar yapmak ve kullanmanın dört ortak yolunu göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="b0647-120">The code examples in this topic demonstrate four common ways to use `BeginInvoke` and `EndInvoke` to make asynchronous calls.</span></span> <span data-ttu-id="b0647-121">Öğesini çağırdıktan sonra şunları yapabilirsiniz `BeginInvoke` :</span><span class="sxs-lookup"><span data-stu-id="b0647-121">After calling `BeginInvoke` you can do the following:</span></span>

- <span data-ttu-id="b0647-122">Biraz iş yapın ve ardından `EndInvoke` çağrı tamamlanana kadar bloğa çağrı yapın.</span><span class="sxs-lookup"><span data-stu-id="b0647-122">Do some work and then call `EndInvoke` to block until the call completes.</span></span>

- <span data-ttu-id="b0647-123"><xref:System.Threading.WaitHandle>Özelliğini kullanarak alma <xref:System.IAsyncResult.AsyncWaitHandle%2A?displayProperty=nameWithType> , <xref:System.Threading.WaitHandle.WaitOne%2A> sinyale kadar yürütmeyi engellemek için yöntemini kullanın <xref:System.Threading.WaitHandle> ve ardından öğesini çağırın `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-123">Obtain a <xref:System.Threading.WaitHandle> using the <xref:System.IAsyncResult.AsyncWaitHandle%2A?displayProperty=nameWithType> property, use its <xref:System.Threading.WaitHandle.WaitOne%2A> method to block execution until the <xref:System.Threading.WaitHandle> is signaled, and then call `EndInvoke`.</span></span>

- <span data-ttu-id="b0647-124"><xref:System.IAsyncResult>Tarafından döndürülen `BeginInvoke` zaman uyumsuz çağrının ne zaman tamamlandığını belirleme ve sonra çağırma `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-124">Poll the <xref:System.IAsyncResult> returned by `BeginInvoke` to determine when the asynchronous call has completed, and then call `EndInvoke`.</span></span>

- <span data-ttu-id="b0647-125">Bir geri çağırma yöntemi için bir temsilci geçirin `BeginInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-125">Pass a delegate for a callback method to `BeginInvoke`.</span></span> <span data-ttu-id="b0647-126"><xref:System.Threading.ThreadPool>Zaman uyumsuz arama tamamlandığında yöntemi bir iş parçacığında yürütülür.</span><span class="sxs-lookup"><span data-stu-id="b0647-126">The method is executed on a <xref:System.Threading.ThreadPool> thread when the asynchronous call completes.</span></span> <span data-ttu-id="b0647-127">Geri çağırma yöntemi çağırır `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-127">The callback method calls `EndInvoke`.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b0647-128">Hangi tekniği kullanırsanız kullanın, zaman `EndInvoke` uyumsuz çağrlarınızın tamamlanmasını her zaman çağırın.</span><span class="sxs-lookup"><span data-stu-id="b0647-128">No matter which technique you use, always call `EndInvoke` to complete your asynchronous call.</span></span>

## <a name="defining-the-test-method-and-asynchronous-delegate"></a><span data-ttu-id="b0647-129">Test yöntemini ve zaman uyumsuz temsilciyi tanımlama</span><span class="sxs-lookup"><span data-stu-id="b0647-129">Defining the Test Method and Asynchronous Delegate</span></span>
 <span data-ttu-id="b0647-130">Aşağıdaki kod örnekleri, zaman uyumsuz olarak aynı uzun süre çalışan yöntemi çağırmanın çeşitli yollarını gösterir `TestMethod` .</span><span class="sxs-lookup"><span data-stu-id="b0647-130">The code examples that follow demonstrate various ways of calling the same long-running method, `TestMethod`, asynchronously.</span></span> <span data-ttu-id="b0647-131">`TestMethod`Yöntemi, işleme başlamış olduğunu göstermek için bir konsol iletisi görüntüler ve birkaç saniye uyku moduna geçin ve sonra sona erer.</span><span class="sxs-lookup"><span data-stu-id="b0647-131">The `TestMethod` method displays a console message to show that it has begun processing, sleeps for a few seconds, and then ends.</span></span> <span data-ttu-id="b0647-132">`TestMethod` , `out` ve imzaları için bu tür parametrelerin Eklenme şeklini gösteren bir parametreye sahiptir `BeginInvoke` `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-132">`TestMethod` has an `out` parameter to demonstrate the way such parameters are added to the signatures of `BeginInvoke` and `EndInvoke`.</span></span> <span data-ttu-id="b0647-133">`ref`Parametreleri benzer şekilde işleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b0647-133">You can handle `ref` parameters similarly.</span></span>

 <span data-ttu-id="b0647-134">Aşağıdaki kod örneği, `TestMethod` `AsyncMethodCaller` zaman uyumsuz olarak çağırmak için kullanılabilen adlı temsilcinin ve tanımını gösterir `TestMethod` .</span><span class="sxs-lookup"><span data-stu-id="b0647-134">The following code example shows the definition of `TestMethod` and the delegate named `AsyncMethodCaller` that can be used to call `TestMethod` asynchronously.</span></span> <span data-ttu-id="b0647-135">Kod örneklerini derlemek için, ve temsilcisinin tanımlarını dahil etmeniz gerekir `TestMethod` `AsyncMethodCaller` .</span><span class="sxs-lookup"><span data-stu-id="b0647-135">To compile the code examples, you must include the definitions for `TestMethod` and the `AsyncMethodCaller` delegate.</span></span>

 [!code-cpp[AsyncDelegateExamples#1](../../../samples/snippets/cpp/VS_Snippets_CLR/AsyncDelegateExamples/cpp/TestMethod.cpp#1)]
 [!code-csharp[AsyncDelegateExamples#1](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDelegateExamples/CS/TestMethod.cs#1)]
 [!code-vb[AsyncDelegateExamples#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDelegateExamples/VB/TestMethod.vb#1)]

## <a name="waiting-for-an-asynchronous-call-with-endinvoke"></a><span data-ttu-id="b0647-136">EndInvoke ile zaman uyumsuz bir çağrı bekleniyor</span><span class="sxs-lookup"><span data-stu-id="b0647-136">Waiting for an Asynchronous Call with EndInvoke</span></span>
 <span data-ttu-id="b0647-137">Bir yöntemi zaman uyumsuz olarak yürütmenin en basit yolu, temsilcinin `BeginInvoke` metodunu çağırarak, ana iş parçacığında bazı işler yaparak ve sonra temsilcinin metodunu çağıran yöntemi çalıştırmaya başlamadır `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-137">The simplest way to execute a method asynchronously is to start executing the method by calling the delegate's `BeginInvoke` method, do some work on the main thread, and then call the delegate's `EndInvoke` method.</span></span> <span data-ttu-id="b0647-138">`EndInvoke` , zaman uyumsuz çağrı tamamlanana kadar döndürülmediği için çağıran iş parçacığını engelleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b0647-138">`EndInvoke` might block the calling thread because it does not return until the asynchronous call completes.</span></span> <span data-ttu-id="b0647-139">Bu, dosya veya ağ işlemleriyle birlikte kullanmak için iyi bir tekniktir.</span><span class="sxs-lookup"><span data-stu-id="b0647-139">This is a good technique to use with file or network operations.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b0647-140">`EndInvoke`Engelleyebileceğinden, bunu Kullanıcı arabirimine hizmet veren iş parçacıklarından asla Çağırmamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b0647-140">Because `EndInvoke` might block, you should never call it from threads that service the user interface.</span></span>

 [!code-cpp[AsyncDelegateExamples#2](../../../samples/snippets/cpp/VS_Snippets_CLR/AsyncDelegateExamples/cpp/EndInvoke.cpp#2)]
 [!code-csharp[AsyncDelegateExamples#2](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDelegateExamples/CS/EndInvoke.cs#2)]
 [!code-vb[AsyncDelegateExamples#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDelegateExamples/VB/EndInvoke.vb#2)]

## <a name="waiting-for-an-asynchronous-call-with-waithandle"></a><span data-ttu-id="b0647-141">WaitHandle ile zaman uyumsuz bir çağrı bekleniyor</span><span class="sxs-lookup"><span data-stu-id="b0647-141">Waiting for an Asynchronous Call with WaitHandle</span></span>
 <span data-ttu-id="b0647-142"><xref:System.Threading.WaitHandle> <xref:System.IAsyncResult.AsyncWaitHandle%2A> Tarafından döndürülen özelliğini kullanarak elde edebilirsiniz <xref:System.IAsyncResult> `BeginInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-142">You can obtain a <xref:System.Threading.WaitHandle> by using the <xref:System.IAsyncResult.AsyncWaitHandle%2A> property of the <xref:System.IAsyncResult> returned by `BeginInvoke`.</span></span> <span data-ttu-id="b0647-143">, <xref:System.Threading.WaitHandle> Zaman uyumsuz çağrı tamamlandığında sinyal alırsınız ve yöntemini çağırarak bunu bekleyebilirsiniz <xref:System.Threading.WaitHandle.WaitOne%2A> .</span><span class="sxs-lookup"><span data-stu-id="b0647-143">The <xref:System.Threading.WaitHandle> is signaled when the asynchronous call completes, and you can wait for it by calling the <xref:System.Threading.WaitHandle.WaitOne%2A> method.</span></span>

 <span data-ttu-id="b0647-144">Kullanıyorsanız <xref:System.Threading.WaitHandle> , zaman uyumsuz çağrı tamamlanmadan önce veya sonra, ancak sonuçları almak için çağrılmadan önce ek işlem yapabilirsiniz `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-144">If you use a <xref:System.Threading.WaitHandle>, you can perform additional processing before or after the asynchronous call completes, but before calling `EndInvoke` to retrieve the results.</span></span>

> [!NOTE]
> <span data-ttu-id="b0647-145">Bekleme tanıtıcısı, ' i çağırdığınızda otomatik olarak kapanmaz `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-145">The wait handle is not closed automatically when you call `EndInvoke`.</span></span> <span data-ttu-id="b0647-146">Bekleme tanıtıcısına yapılan tüm başvuruları serbest bırakırsanız, çöp toplama geri kazanır bekleme tutamacını, sistem kaynakları serbest bırakılır.</span><span class="sxs-lookup"><span data-stu-id="b0647-146">If you release all references to the wait handle, system resources are freed when garbage collection reclaims the wait handle.</span></span> <span data-ttu-id="b0647-147">Bekleme tutamacını kullanmayı tamamladıktan hemen sonra sistem kaynaklarını serbest bırakmak için yöntemini çağırarak onu atın <xref:System.Threading.WaitHandle.Close%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="b0647-147">To free the system resources as soon as you are finished using the wait handle, dispose of it by calling the <xref:System.Threading.WaitHandle.Close%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="b0647-148">Çöp toplama, atılabilir nesneleri açıkça atıldığı zaman daha verimli bir şekilde çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="b0647-148">Garbage collection works more efficiently when disposable objects are explicitly disposed.</span></span>

 [!code-cpp[AsyncDelegateExamples#3](../../../samples/snippets/cpp/VS_Snippets_CLR/AsyncDelegateExamples/cpp/waithandle.cpp#3)]
 [!code-csharp[AsyncDelegateExamples#3](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDelegateExamples/CS/waithandle.cs#3)]
 [!code-vb[AsyncDelegateExamples#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDelegateExamples/VB/WaitHandle.vb#3)]

## <a name="polling-for-asynchronous-call-completion"></a><span data-ttu-id="b0647-149">Zaman uyumsuz çağrı tamamlama yoklaması</span><span class="sxs-lookup"><span data-stu-id="b0647-149">Polling for Asynchronous Call Completion</span></span>
 <span data-ttu-id="b0647-150"><xref:System.IAsyncResult.IsCompleted%2A> <xref:System.IAsyncResult> `BeginInvoke` Zaman uyumsuz çağrının ne zaman tamamlandığını saptamak için tarafından döndürülen özelliğini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b0647-150">You can use the <xref:System.IAsyncResult.IsCompleted%2A> property of the <xref:System.IAsyncResult> returned by `BeginInvoke` to discover when the asynchronous call completes.</span></span> <span data-ttu-id="b0647-151">Bu işlem, Kullanıcı arabirimine hizmet veren bir iş parçacığından zaman uyumsuz çağrı yaparken yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b0647-151">You might do this when making the asynchronous call from a thread that services the user interface.</span></span> <span data-ttu-id="b0647-152">Tamamlanma yoklaması, zaman uyumsuz çağrı bir iş parçacığında yürütüldüğünde, çağıran iş parçacığının yürütmeye devam etmesine izin verir <xref:System.Threading.ThreadPool> .</span><span class="sxs-lookup"><span data-stu-id="b0647-152">Polling for completion allows the calling thread to continue executing while the asynchronous call executes on a <xref:System.Threading.ThreadPool> thread.</span></span>

 [!code-cpp[AsyncDelegateExamples#4](../../../samples/snippets/cpp/VS_Snippets_CLR/AsyncDelegateExamples/cpp/polling.cpp#4)]
 [!code-csharp[AsyncDelegateExamples#4](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDelegateExamples/CS/polling.cs#4)]
 [!code-vb[AsyncDelegateExamples#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDelegateExamples/VB/polling.vb#4)]

## <a name="executing-a-callback-method-when-an-asynchronous-call-completes"></a><span data-ttu-id="b0647-153">Zaman uyumsuz bir arama tamamlandığında bir geri çağırma yöntemi yürütülüyor</span><span class="sxs-lookup"><span data-stu-id="b0647-153">Executing a Callback Method When an Asynchronous Call Completes</span></span>
 <span data-ttu-id="b0647-154">Zaman uyumsuz çağrıyı başlatan iş parçacığının sonuçları işleyen iş parçacığı olması gerekmiyorsa, çağrı tamamlandığında bir geri çağırma yöntemi çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b0647-154">If the thread that initiates the asynchronous call does not need to be the thread that processes the results, you can execute a callback method when the call completes.</span></span> <span data-ttu-id="b0647-155">Geri çağırma yöntemi bir <xref:System.Threading.ThreadPool> iş parçacığında yürütülür.</span><span class="sxs-lookup"><span data-stu-id="b0647-155">The callback method is executed on a <xref:System.Threading.ThreadPool> thread.</span></span>

 <span data-ttu-id="b0647-156">Bir geri çağırma yöntemi kullanmak için, `BeginInvoke` <xref:System.AsyncCallback> geri çağırma yöntemini temsil eden bir temsilci geçirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b0647-156">To use a callback method, you must pass `BeginInvoke` an <xref:System.AsyncCallback> delegate that represents the callback method.</span></span> <span data-ttu-id="b0647-157">Geri çağırma yöntemi tarafından kullanılacak bilgileri içeren bir nesnesi de geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b0647-157">You can also pass an object that contains information to be used by the callback method.</span></span> <span data-ttu-id="b0647-158">Geri çağırma yönteminde, <xref:System.IAsyncResult> geri çağırma yönteminin tek parametresi olan öğesini bir <xref:System.Runtime.Remoting.Messaging.AsyncResult> nesnesine dönüştürebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b0647-158">In the callback method, you can cast the <xref:System.IAsyncResult>, which is the only parameter of the callback method, to an <xref:System.Runtime.Remoting.Messaging.AsyncResult> object.</span></span> <span data-ttu-id="b0647-159">Daha sonra <xref:System.Runtime.Remoting.Messaging.AsyncResult.AsyncDelegate%2A?displayProperty=nameWithType> çağrabilmeniz için çağrıyı başlatmak üzere kullanılan temsilciyi almak için özelliğini kullanabilirsiniz `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-159">You can then use the <xref:System.Runtime.Remoting.Messaging.AsyncResult.AsyncDelegate%2A?displayProperty=nameWithType> property to get the delegate that was used to initiate the call so that you can call `EndInvoke`.</span></span>

 <span data-ttu-id="b0647-160">Örnekteki Not:</span><span class="sxs-lookup"><span data-stu-id="b0647-160">Notes on the example:</span></span>

- <span data-ttu-id="b0647-161">`threadId`Parametresi parametresi `TestMethod` `out` ([ `<Out>` `ByRef` Visual Basic içinde), bu nedenle giriş değeri tarafından hiçbir şekilde kullanılmaz `TestMethod` .</span><span class="sxs-lookup"><span data-stu-id="b0647-161">The `threadId` parameter of `TestMethod` is an `out` parameter ([`<Out>` `ByRef` in Visual Basic), so its input value is never used by `TestMethod`.</span></span> <span data-ttu-id="b0647-162">Bir kukla değişken `BeginInvoke` çağrıya geçirilir.</span><span class="sxs-lookup"><span data-stu-id="b0647-162">A dummy variable is passed to the `BeginInvoke` call.</span></span> <span data-ttu-id="b0647-163">`threadId`Parametre bir `ref` parametre ise ( `ByRef` Visual Basic), her ikisine de geçirilebilmesi için değişkenin bir sınıf düzeyi alan olması gerekir `BeginInvoke` `EndInvoke` .</span><span class="sxs-lookup"><span data-stu-id="b0647-163">If the `threadId` parameter were a `ref` parameter (`ByRef` in Visual Basic), the variable would have to be a class-level field so that it could be passed to both `BeginInvoke` and `EndInvoke`.</span></span>

- <span data-ttu-id="b0647-164">Öğesine geçirilen durum bilgileri `BeginInvoke` , geri çağırma yönteminin bir çıktı iletisini biçimlendirmek için kullandığı bir biçim dizesidir.</span><span class="sxs-lookup"><span data-stu-id="b0647-164">The state information that is passed to `BeginInvoke` is a format string, which the callback method uses to format an output message.</span></span> <span data-ttu-id="b0647-165">Tür olarak geçirildiğinden <xref:System.Object> , kullanılmadan önce durum bilgilerinin uygun türe dönüştürülmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b0647-165">Because it is passed as type <xref:System.Object>, the state information must be cast to its proper type before it can be used.</span></span>

- <span data-ttu-id="b0647-166">Geri çağırma bir <xref:System.Threading.ThreadPool> iş parçacığında yapılır.</span><span class="sxs-lookup"><span data-stu-id="b0647-166">The callback is made on a <xref:System.Threading.ThreadPool> thread.</span></span> <span data-ttu-id="b0647-167"><xref:System.Threading.ThreadPool> iş parçacıkları, ana iş parçacığı sona erdiğinde uygulamayı çalışır durumda tutmayan arka plan iş parçacığıdır. bu nedenle, örneğin ana iş parçacığı geri aramanın tamamlanabilmesi için yeterince uzun süre uykuya geçecek.</span><span class="sxs-lookup"><span data-stu-id="b0647-167"><xref:System.Threading.ThreadPool> threads are background threads, which do not keep the application running if the main thread ends, so the main thread of the example has to sleep long enough for the callback to finish.</span></span>

 [!code-cpp[AsyncDelegateExamples#5](../../../samples/snippets/cpp/VS_Snippets_CLR/AsyncDelegateExamples/cpp/callback.cpp#5)]
 [!code-csharp[AsyncDelegateExamples#5](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDelegateExamples/CS/callback.cs#5)]
 [!code-vb[AsyncDelegateExamples#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDelegateExamples/VB/callback.vb#5)]

## <a name="see-also"></a><span data-ttu-id="b0647-168">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="b0647-168">See also</span></span>

- <xref:System.Delegate>
- [<span data-ttu-id="b0647-169">Olay Tabanlı Zaman Uyumsuz Desen (EAP)</span><span class="sxs-lookup"><span data-stu-id="b0647-169">Event-based Asynchronous Pattern (EAP)</span></span>](event-based-asynchronous-pattern-eap.md)
