---
title: XAML Biçimlendirme Uzantılarına Genel Bakış
ms.date: 03/30/2017
helpviewer_keywords:
- markup extensions [XAML Services], custom
- XAML [XAML Services], markup extensions
ms.assetid: 261b2b11-2dc0-462f-8c66-55b8c9c6e436
ms.openlocfilehash: efb41f31a3baa895b5739021af5fa36e32aefeea
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90556999"
---
# <a name="overview-of-markup-extensions-for-xaml"></a><span data-ttu-id="0e84a-102">XAML için işaretleme uzantılarına genel bakış</span><span class="sxs-lookup"><span data-stu-id="0e84a-102">Overview of markup extensions for XAML</span></span>

<span data-ttu-id="0e84a-103">Biçimlendirme uzantıları, ilkel veya belirli bir XAML türü olmayan bir değer elde etmek için XAML tekniğidir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-103">Markup extensions are a XAML technique for obtaining a value that's not a primitive or a specific XAML type.</span></span> <span data-ttu-id="0e84a-104">Biçimlendirme uzantıları, öznitelik kullanımı için, `{` işaretleme uzantısı kapsamını ve çıkış için bir kapanış küme ayracı girmek üzere bir açma küme ayracı bilinen karakter dizisini kullanır `}` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-104">For attribute usage, markup extensions use the known character sequence of an opening curly brace `{` to enter the markup extension scope, and a closing curly brace `}` to exit.</span></span> <span data-ttu-id="0e84a-105">.NET XAML Hizmetleri kullanılırken, System. Xaml derlemesinden önceden tanımlanmış XAML dili biçimlendirme genişletmelerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-105">When using .NET XAML Services, you can use some of the predefined XAML language markup extensions from the System.Xaml assembly.</span></span> <span data-ttu-id="0e84a-106">Ayrıca <xref:System.Windows.Markup.MarkupExtension> , System. xaml içinde tanımlanan sınıftan alt sınıf oluşturabilir ve kendi biçimlendirme uzantılarınızı tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-106">You can also subclass from the <xref:System.Windows.Markup.MarkupExtension> class, defined in System.Xaml, and define your own markup extensions.</span></span> <span data-ttu-id="0e84a-107">Ya da söz konusu çerçeveye zaten başvuruyordıysanız belirli bir Framework tarafından tanımlanan biçimlendirme uzantılarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-107">Or you can use markup extensions defined by a particular framework if you are already referencing that framework.</span></span>

<span data-ttu-id="0e84a-108">Biçimlendirme Uzantısı kullanımına erişildiğinde, XAML nesne yazıcısı <xref:System.Windows.Markup.MarkupExtension> geçersiz kılma içindeki bir hizmet bağlantı noktası aracılığıyla özel bir sınıfa hizmet sağlayabilir <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-108">When a markup extension usage is accessed, the XAML object writer can provide services to a custom <xref:System.Windows.Markup.MarkupExtension> class through a service connection point in the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> override.</span></span> <span data-ttu-id="0e84a-109">Hizmetler, nesne yazıcısının kullanımı, belirli özellikleri, XAML şeması bağlamı vb. için bağlam elde etmek üzere kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-109">The services can be used to obtain context about the usage, specific capabilities of the object writer, XAML schema context, and so on.</span></span>

## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="0e84a-110">XAML tanımlı biçimlendirme uzantıları</span><span class="sxs-lookup"><span data-stu-id="0e84a-110">XAML-defined markup extensions</span></span>

<span data-ttu-id="0e84a-111">Çeşitli biçimlendirme uzantıları, XAML dil desteği için .NET XAML Hizmetleri tarafından uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-111">Several markup extensions are implemented by .NET XAML Services for XAML language support.</span></span> <span data-ttu-id="0e84a-112">Bu biçimlendirme uzantıları, XAML belirtiminin bir dil olarak belirtilerinin bölümlerine karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-112">These markup extensions correspond to parts of the specification of XAML as a language.</span></span> <span data-ttu-id="0e84a-113">Bunlar genellikle `x:` yaygın kullanımda görüldüğü gibi söz dizimi ön ekine göre tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-113">These are typically identifiable by the `x:` prefix in the syntax as seen in common usage.</span></span> <span data-ttu-id="0e84a-114">Bu XAML dil öğeleri için .NET XAML Hizmetleri uygulamaları, hepsi  <xref:System.Windows.Markup.MarkupExtension> temel sınıftan türetilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-114">.NET XAML Services implementations for these XAML language elements all derive from the  <xref:System.Windows.Markup.MarkupExtension> base class.</span></span>

> [!NOTE]
> <span data-ttu-id="0e84a-115">Önek, XAML `x:` üretiminin kök ÖĞESINDE xaml dili ad alanının tıpık xaml ad alanı eşlemesi için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-115">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language namespace, in the root element of a XAML production.</span></span> <span data-ttu-id="0e84a-116">Örneğin, çeşitli belirli çerçeveler için Visual Studio projesi ve sayfa şablonları, bu eşlemeyi kullanarak bir XAML dosyası başlatır `x:` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-116">For example, the Visual Studio project and page templates for various specific frameworks initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="0e84a-117">Kendi XAML ad alanı eşlemesinde farklı bir ön ek belirteci seçebilirsiniz, ancak bu belge varsayılan `x:` eşlemeyi, XAML DILI xaml ad alanının tanımlı bir parçası olan varlıkların, belirli bir çerçevenin varsayılan xaml ad alanı veya diğer rasgele clr veya XML ad alanları aksine tanımlar.</span><span class="sxs-lookup"><span data-stu-id="0e84a-117">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML language XAML namespace, as opposed to a specific framework's default XAML namespace or other arbitrary CLR or XML namespaces.</span></span>

### <a name="xtype"></a><span data-ttu-id="0e84a-118">x:Type</span><span class="sxs-lookup"><span data-stu-id="0e84a-118">x:Type</span></span>

<span data-ttu-id="0e84a-119">`x:Type`<xref:System.Type>adlandırılmış tür için nesne sağlar.</span><span class="sxs-lookup"><span data-stu-id="0e84a-119">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="0e84a-120">Bu işlevsellik, temel alınan clr türü ve bir gruplama adı veya tanımlayıcı olarak tür Türetmenin kullanıldığı erteleme mekanizmalarındaki en sık kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-120">This functionality is used most frequently in deferral mechanisms that use underlying CLR type and type derivation as a grouping moniker or identifier.</span></span> <span data-ttu-id="0e84a-121">WPF stilleri ve şablonları ve bunların `TargetType` özelliklerinin kullanımları belirli bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-121">WPF styles and templates, and their usage of `TargetType` properties, are a specific example.</span></span> <span data-ttu-id="0e84a-122">Daha fazla bilgi için bkz. [X:Type Işaretleme uzantısı](xtype-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-122">For more information, see [x:Type Markup Extension](xtype-markup-extension.md).</span></span>

### <a name="xstatic"></a><span data-ttu-id="0e84a-123">x:Static</span><span class="sxs-lookup"><span data-stu-id="0e84a-123">x:Static</span></span>

<span data-ttu-id="0e84a-124">`x:Static` doğrudan bir özelliğin değerinin türü olmayan değer türü kod varlıklarından statik değerler üretir, ancak bu tür için değerlendirilebilirler.</span><span class="sxs-lookup"><span data-stu-id="0e84a-124">`x:Static` produces static values from value-type code entities that are not directly the type of a property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="0e84a-125">Bu, bir tür tanımında tanınmış sabitler olarak zaten var olan değerleri belirtmek için yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-125">This is useful for specifying values that already exist as well-known constants in a type definition.</span></span> <span data-ttu-id="0e84a-126">Daha fazla bilgi için bkz. [X:static Işaretleme uzantısı](xstatic-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-126">For more information, see [x:Static Markup Extension](xstatic-markup-extension.md).</span></span>

### <a name="xnull"></a><span data-ttu-id="0e84a-127">x:Null</span><span class="sxs-lookup"><span data-stu-id="0e84a-127">x:Null</span></span>

<span data-ttu-id="0e84a-128">`x:Null``null`xaml üyesi için değer olarak belirtir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-128">`x:Null` specifies `null` as a value for a XAML member.</span></span> <span data-ttu-id="0e84a-129">Belirli türlerin tasarımına veya daha büyük çerçeve kavramına bağlı olarak, `null` bir özellik için her zaman varsayılan bir değer veya boş bir dize özniteliğinin ima edilen değeri değildir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-129">Depending on the design of specific types or on larger framework concepts, `null` is not always a default value for a property, or the implied value of an empty string attribute.</span></span> <span data-ttu-id="0e84a-130">Daha fazla bilgi için bkz. [X:null Işaretleme uzantısı](xnull-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-130">For more information, see [x:Null Markup Extension](xnull-markup-extension.md).</span></span>

### <a name="xarray"></a><span data-ttu-id="0e84a-131">x:Array</span><span class="sxs-lookup"><span data-stu-id="0e84a-131">x:Array</span></span>

<span data-ttu-id="0e84a-132">`x:Array` , temel öğeler ve denetim modelleri tarafından sunulan koleksiyon desteğinin kasıtlı olarak kullanılmasında XAML sözdiziminde genel diziler oluşturulmasını destekler.</span><span class="sxs-lookup"><span data-stu-id="0e84a-132">`x:Array` supports creation of general arrays in XAML syntax in cases where the collection support that is provided by base elements and control models is deliberately not used.</span></span> <span data-ttu-id="0e84a-133">Daha fazla bilgi için bkz. [X:Array Işaretleme uzantısı](xarray-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-133">For more information, see [x:Array Markup Extension](xarray-markup-extension.md).</span></span> <span data-ttu-id="0e84a-134">XAML 2009 ' de özellikle, dizilere uzantı olarak değil dil temelleri olarak erişilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-134">In XAML 2009 specifically, arrays are accessed as language primitives instead of as an extension.</span></span> <span data-ttu-id="0e84a-135">Daha fazla bilgi için bkz. [XAML 2009 dil özellikleri](xaml-2009-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-135">For more information, see [XAML 2009 Language Features](xaml-2009-language-features.md).</span></span>

### <a name="xreference"></a><span data-ttu-id="0e84a-136">x:Reference</span><span class="sxs-lookup"><span data-stu-id="0e84a-136">x:Reference</span></span>

<span data-ttu-id="0e84a-137">`x:Reference` , özgün (2006) dil kümesinin bir uzantısı olan XAML 2009 ' in bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-137">`x:Reference` is part of XAML 2009, an extension of the original (2006) language set.</span></span> <span data-ttu-id="0e84a-138">`x:Reference` bir nesne grafiğinde varolan başka bir nesnenin başvurusunu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="0e84a-138">`x:Reference` represents a reference to another existing object in an object graph.</span></span> <span data-ttu-id="0e84a-139">Bu nesne, tarafından tanımlanır `x:Name` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-139">That object is identified by its `x:Name`.</span></span> <span data-ttu-id="0e84a-140">Daha fazla bilgi için bkz. [X:Reference Işaretleme uzantısı](xreference-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-140">For more information, see [x:Reference Markup Extension](xreference-markup-extension.md).</span></span>

### <a name="other-x-constructs"></a><span data-ttu-id="0e84a-141">Diğer x: yapılar</span><span class="sxs-lookup"><span data-stu-id="0e84a-141">Other x: Constructs</span></span>

<span data-ttu-id="0e84a-142">`x:`Xaml dil özelliklerini desteklemeye yönelik diğer yapılar mevcuttur, ancak bunlar biçimlendirme uzantıları olarak uygulanmaz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-142">Other `x:` constructs to support XAML language features exist, but these are not implemented as markup extensions.</span></span> <span data-ttu-id="0e84a-143">Daha fazla bilgi için bkz. [xaml ad alanı (x:) Dil özellikleri](namespace-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-143">For more information, see [XAML Namespace (x:) Language Features](namespace-language-features.md).</span></span>

## <a name="the-markupextension-base-class"></a><span data-ttu-id="0e84a-144">MarkupExtension temel sınıfı</span><span class="sxs-lookup"><span data-stu-id="0e84a-144">The MarkupExtension Base Class</span></span>

<span data-ttu-id="0e84a-145">System. xaml 'de XAML okuyucuları ve XAML yazıcılarının varsayılan uygulamalarıyla etkileşime girebilen özel bir işaretleme uzantısı tanımlamak için, soyut sınıftan bir sınıf türetirsiniz <xref:System.Windows.Markup.MarkupExtension> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-145">To define a custom markup extension that can interact with the default implementations of XAML readers and XAML writers in System.Xaml, you derive a class from the abstract <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="0e84a-146">Bu sınıfın, geçersiz kılmak için bir yöntemi vardır <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-146">That class has one method to override, which is <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="0e84a-147">Ayrıca, biçimlendirme uzantısı kullanımının bağımsız değişkenlerini desteklemek için ek oluşturucular tanımlamanız ve ayarlanabilir özelliklerle eşleşmesi gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-147">You might also need to define additional constructors to support arguments to the markup extension usage, and matching settable properties.</span></span>

<span data-ttu-id="0e84a-148"><xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, Özel bir biçimlendirme uzantısının, biçimlendirme uzantısının BIR XAML işlemcisi tarafından çağrıldığı ortamı raporlayan bir hizmet bağlamına erişimi vardır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-148">Through <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, a custom markup extension has access to a service context that reports the environment where the markup extension is invoked by a XAML processor.</span></span> <span data-ttu-id="0e84a-149">Yükleme yolunda bu genellikle bir ' dır <xref:System.Xaml.XamlObjectWriter> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-149">In the load path, this is typically a <xref:System.Xaml.XamlObjectWriter>.</span></span> <span data-ttu-id="0e84a-150">Kaydetme yolunda bu genellikle bir ' dır <xref:System.Xaml.XamlXmlWriter> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-150">In the save path this is typically a <xref:System.Xaml.XamlXmlWriter>.</span></span> <span data-ttu-id="0e84a-151">Her biri hizmet bağlamını bir hizmet sağlayıcı kalıbı uygulayan bir iç XAML hizmeti sağlayıcısı bağlam sınıfı olarak bildirir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-151">Each report the service context as an internal XAML service provider context class that implements a service provider pattern.</span></span> <span data-ttu-id="0e84a-152">Kullanılabilir hizmetler ve neleri temsil ettikleri hakkında daha fazla bilgi için bkz. [xaml Için tür dönüştürücüleri ve biçimlendirme uzantıları](type-converters-and-markup-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="0e84a-152">For more information about the available services and what they represent, see [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions.md).</span></span>

<span data-ttu-id="0e84a-153">Biçimlendirme Uzantısı sınıfınız ortak erişim düzeyi kullanmalıdır; XAML işlemcileri, hizmetlerini kullanmak için her zaman işaretleme uzantısının destek sınıfını örnekleyemez.</span><span class="sxs-lookup"><span data-stu-id="0e84a-153">Your markup extension class must use a public access level; XAML processors must always be able to instantiate the markup extension's support class in order to use its services.</span></span>

## <a name="defining-the-support-type-for-a-custom-markup-extension"></a><span data-ttu-id="0e84a-154">Özel bir Işaretleme uzantısı için destek türünü tanımlama</span><span class="sxs-lookup"><span data-stu-id="0e84a-154">Defining the Support Type for a Custom Markup Extension</span></span>

<span data-ttu-id="0e84a-155">.Net xaml Hizmetleri ' ni kullanarak .NET XAML Hizmetleri veya çerçeveler kullandığınızda, biçimlendirme uzantısı destek türünü adlandırma hakkında iki seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-155">When you use .NET XAML Services or frameworks that build on .NET XAML Services, you have two choices for how to name the markup extension support type.</span></span> <span data-ttu-id="0e84a-156">Tür adı, XAML nesne yazıcılarının XAML 'de biçimlendirme uzantısı kullanımıyla karşılaştıklarında biçimlendirme uzantısı destek türüne erişme ve çağırma ile ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-156">The type name is relevant to how XAML object writers attempt to access and invoke a markup extension support type when they encounter a markup extension usage in XAML.</span></span> <span data-ttu-id="0e84a-157">Aşağıdaki adlandırma stratejilerinden birini kullanın:</span><span class="sxs-lookup"><span data-stu-id="0e84a-157">Use one of the following naming strategies:</span></span>

- <span data-ttu-id="0e84a-158">Tür adını XAML biçimlendirme kullanım belirtecine tam eşleşme olacak şekilde adlandırın.</span><span class="sxs-lookup"><span data-stu-id="0e84a-158">Name the type name to be an exact match to the XAML markup usage token.</span></span> <span data-ttu-id="0e84a-159">Örneğin, bir `{Collate ...}` uzantı kullanımını desteklemek için, destek türünü adlandırın `Collate` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-159">For example, to support a `{Collate ...}` extension usage, name the support type `Collate`.</span></span>
- <span data-ttu-id="0e84a-160">Tür adını kullanım dizesi belirteci artı soneki olacak şekilde adlandırın `Extension` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-160">Name the type name to be the usage string token plus the suffix `Extension`.</span></span> <span data-ttu-id="0e84a-161">Örneğin, bir `{Collate ...}` uzantı kullanımını desteklemek için, destek türünü adlandırın `CollateExtension` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-161">For example, to support a `{Collate ...}` extension usage, name the support type `CollateExtension`.</span></span>

<span data-ttu-id="0e84a-162">Arama sırası, `Extension` önce-sonsabit sınıf adını aramak ve ardından sonek olmadan sınıf adını arayıyoruz `Extension` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-162">The order of lookup is to look for the `Extension`-suffixed class name first and then look for the class name without the `Extension` suffix.</span></span>

<span data-ttu-id="0e84a-163">Kullanım açısından sonek dahil, biçimlendirme kullanım perspektifinden `Extension` geçerli olur.</span><span class="sxs-lookup"><span data-stu-id="0e84a-163">From the markup usage perspective, including the `Extension` suffix as part of the usage is valid.</span></span> <span data-ttu-id="0e84a-164">Ancak, bu, `Extension` sınıf adının gerçekten bir parçası olduğu gibi davranır ve destek sınıfı sonekine sahip DEĞILSE xaml nesne yazarları bu kullanım için bir işaretleme uzantısı destek sınıfını çözemeyebilir `Extension` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-164">However, this behaves as if `Extension` is truly part of the class name, and XAML object writers would fail to resolve a markup extension support class for that usage if the support class did not have the `Extension` suffix.</span></span>

### <a name="the-parameterless-constructor"></a><span data-ttu-id="0e84a-165">Parametresiz Oluşturucu</span><span class="sxs-lookup"><span data-stu-id="0e84a-165">The parameterless constructor</span></span>

<span data-ttu-id="0e84a-166">Tüm biçimlendirme uzantısı destek türleri için ortak parametresiz bir Oluşturucu kullanıma sunmalısınız.</span><span class="sxs-lookup"><span data-stu-id="0e84a-166">For all markup extension support types, you should expose a public parameterless constructor.</span></span> <span data-ttu-id="0e84a-167">Parametresiz bir Oluşturucu, bir XAML nesne yazıcısının bir nesne öğesi kullanımındaki biçimlendirme uzantısını örneklemesinin oluşturulduğu herhangi bir durumda gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-167">A parameterless constructor is required for any case where a XAML object writer instantiates the markup extension from an object element usage.</span></span> <span data-ttu-id="0e84a-168">Destekleyici nesne öğesi kullanımı, özellikle serileştirme için bir işaretleme uzantısı için bir beklentidir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-168">Supporting object element usage is a fair expectation for a markup extension, particularly for serialization.</span></span> <span data-ttu-id="0e84a-169">Ancak, yalnızca biçimlendirme uzantısının öznitelik kullanımlarını desteklemek istiyorsanız, bir ortak Oluşturucu olmadan bir işaretleme uzantısı uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-169">However, you can implement a markup extension without a public constructor if you only intend to support attribute usages of the markup extension.</span></span>

<span data-ttu-id="0e84a-170">Biçimlendirme Uzantısı kullanımınızın bağımsız değişkeni yoksa, kullanımı desteklemek için parametresiz Oluşturucu gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-170">If your markup extension usage has no arguments, the parameterless constructor is required to support usage.</span></span>

## <a name="constructor-patterns-and-positional-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="0e84a-171">Özel bir Işaretleme uzantısı için Oluşturucu desenleri ve Konumsal bağımsız değişkenler</span><span class="sxs-lookup"><span data-stu-id="0e84a-171">Constructor Patterns and Positional Arguments for a Custom Markup Extension</span></span>

<span data-ttu-id="0e84a-172">Bağımsız değişken kullanımı amaçlanan bir işaretleme uzantısı için, ortak oluşturucuların amaçlanan kullanım modlarına karşılık gelmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-172">For a markup extension with intended argument usage, the public constructors must correspond to the modes of the intended usage.</span></span> <span data-ttu-id="0e84a-173">Diğer bir deyişle, biçimlendirme uzantınız geçerli kullanım olarak bir Konumsal bağımsız değişken gerektirecek şekilde tasarlanmışsa, konum bağımsız değişkenini alan bir giriş parametresiyle ortak bir oluşturucuyu desteklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-173">In other words, if your markup extension is designed to require one positional argument as a valid usage, you should support a public constructor with one input parameter that takes the positional argument.</span></span>

<span data-ttu-id="0e84a-174">Örneğin, `Collate` biçimlendirme uzantısının yalnızca bir numaralandırma sabiti olarak belirtilen modunu temsil eden bir konum bağımsız değişkeni olan bir modu desteklemeye yönelik olduğunu varsayalım `CollationMode` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-174">For example, suppose the `Collate` markup extension is intended to support only a mode where there is one positional argument that represents its mode, specified as a `CollationMode` enumeration constant.</span></span> <span data-ttu-id="0e84a-175">Bu durumda, aşağıdaki biçimde bir oluşturucu olmalıdır:</span><span class="sxs-lookup"><span data-stu-id="0e84a-175">In this case, there should be a constructor with the following form:</span></span>

```csharp
public Collate(CollationMode collationMode) {...}
```

<span data-ttu-id="0e84a-176">Temel düzeyde, biçimlendirme uzantısına geçirilen bağımsız değişkenler, biçimlendirmenin öznitelik değerlerinden iletileceği için bir dizedir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-176">At a basic level, the arguments passed to a markup extension are a string because they are being forwarded from the markup's attribute values.</span></span> <span data-ttu-id="0e84a-177">Bağımsız değişken Dizelerinizin tümünü yapabilir ve bu düzeyde giriş ile çalışabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-177">You can make all of your arguments strings and work with input at that level.</span></span> <span data-ttu-id="0e84a-178">Ancak, biçimlendirme uzantısı bağımsız değişkenleri destek sınıfına geçirilmeden önce gerçekleşen belirli işleme erişiminiz vardır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-178">However, you do have access to certain processing that occurs before the markup extension arguments are passed to the support class.</span></span>

<span data-ttu-id="0e84a-179">İşleme, biçimlendirme uzantısı oluşturulacak bir nesne olup, sonra üye değerleri ayarlanmış gibi kavramsal olarak çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-179">The processing works conceptually as if the markup extension is an object to be created, and then its member values are set.</span></span> <span data-ttu-id="0e84a-180">Ayarlanacak her bir özellik, XAML ayrıştırıldığında oluşturulan bir nesnede belirtilen üyenin nasıl ayarlanıladığına benzer şekilde değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-180">Each specified property to set is evaluated similar to how a specified member can be set on a created object when XAML is parsed.</span></span> <span data-ttu-id="0e84a-181">İki önemli fark vardır:</span><span class="sxs-lookup"><span data-stu-id="0e84a-181">There are two important differences:</span></span>

- <span data-ttu-id="0e84a-182">Daha önce belirtildiği gibi, biçimlendirme uzantısı destek türünün XAML 'de örneklendirmenin parametresiz oluşturucusu olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="0e84a-182">As noted previously, a markup extension support type does not need to have a parameterless constructor in order to be instantiated in XAML.</span></span> <span data-ttu-id="0e84a-183">Nesne oluşturma, metin sözdiziminde olası bağımsız değişkenlerin simgeleştirilmesine ve Konumsal ya da adlandırılmış bağımsız değişkenler olarak değerlendirilene kadar ertelenir ve uygun Oluşturucu o anda çağırılır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-183">Its object construction is deferred until its possible arguments in the text syntax are tokenized and evaluated as either positional or named arguments, and the appropriate constructor is called at that time.</span></span>
- <span data-ttu-id="0e84a-184">Biçimlendirme uzantıları kullanımları iç içe olabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-184">Markup extensions usages can be nested.</span></span> <span data-ttu-id="0e84a-185">En içteki biçimlendirme uzantısı ilk olarak değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-185">The innermost markup extension is evaluated first.</span></span> <span data-ttu-id="0e84a-186">Bu nedenle, bu tür bir kullanımı varsayabilir ve oluşturma parametrelerinden birini bir değer Dönüştürücüsü (örneğin, biçimlendirme uzantısı) gerektiren bir tür olacak şekilde bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-186">Therefore, you can assume such a usage and declare one of the construction parameters to be a type that requires a value converter (such as a markup extension) to produce.</span></span>

<span data-ttu-id="0e84a-187">Bu tür bir işlem, önceki örnekte gösterilmemiştir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-187">A reliance on such processing was shown in the previous example.</span></span> <span data-ttu-id="0e84a-188">.NET XAML Hizmetleri XAML nesne yazıcısı, sabit listesi sabit adlarını yerel düzeyde numaralandırılmış değerlerle işler.</span><span class="sxs-lookup"><span data-stu-id="0e84a-188">.NET XAML Services XAML object writer processes enumeration constant names into enumerated values at a native level.</span></span>

<span data-ttu-id="0e84a-189">Bir işaretleme uzantısı konumsal parametresinin metin sözdizimi işleme, oluşturma bağımsız değişkeninde bulunan türle ilişkili bir tür dönüştürücüde de olabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-189">Processing text syntax of a markup extension positional parameter can also rely on a type converter that is associated with the type that is in the construction argument.</span></span>

<span data-ttu-id="0e84a-190">Kullanımdaki belirteçlerin karşılaştığı sıra, atandıkları Oluşturucu parametresinin konumsal sırasına karşılık gelen bağımsız değişkenler Konumsal bağımsız değişkenler olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-190">The arguments are called positional arguments because the order in which the tokens in the usage is encountered corresponds to the positional order of the constructor parameter to which they are assigned.</span></span> <span data-ttu-id="0e84a-191">Örneğin, aşağıdaki Oluşturucu imzasını göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="0e84a-191">For example, consider the following constructor signature:</span></span>

```csharp
public Collate(CollationMode collationMode, object collateThis) {...}
```

<span data-ttu-id="0e84a-192">XAML işlemcisi, bu biçimlendirme uzantısı için iki Konumsal bağımsız değişken bekliyor.</span><span class="sxs-lookup"><span data-stu-id="0e84a-192">A XAML processor expects two positional arguments for this markup extension.</span></span> <span data-ttu-id="0e84a-193">Bir kullanım varsa `{Collate AlphaUp,{x:Reference circularFile}}` , `AlphaUp` belirteç ilk parametreye gönderilir ve `CollationMode` sabit adlı bir sabit listesi olarak değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-193">If there was a usage `{Collate AlphaUp,{x:Reference circularFile}}`, the `AlphaUp` token is sent to the first parameter and evaluated as a `CollationMode` enumeration named constant.</span></span> <span data-ttu-id="0e84a-194">İç sonucu `x:Reference` ikinci parametreye gönderilir ve bir nesne olarak değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-194">The result of the inner `x:Reference` is sent to the second parameter and evaluated as an object.</span></span>

<span data-ttu-id="0e84a-195">Biçimlendirme uzantısı sözdizimi ve işleme için XAML tarafından belirtilen kurallarda, bu bağımsız değişkenlerin Konumsal bağımsız değişkenler veya adlandırılmış bağımsız değişkenler olup olmadığı bağımsız değişkenler arasındaki sınırlayıcı virgüldür.</span><span class="sxs-lookup"><span data-stu-id="0e84a-195">In the XAML specified rules for markup extension syntax and processing, the comma is the delimiter between arguments, whether those arguments are positional arguments or named arguments.</span></span>

### <a name="duplicate-arity-of-positional-arguments"></a><span data-ttu-id="0e84a-196">Yinelenen sayıda Konumsal bağımsız değişken</span><span class="sxs-lookup"><span data-stu-id="0e84a-196">Duplicate arity of positional arguments</span></span>

<span data-ttu-id="0e84a-197">XAML nesne yazarı, Konumsal bağımsız değişkenlerle bir biçimlendirme uzantısı kullanımıyla karşılaşırsa ve bu sayıda bağımsız değişken (yinelenen parametre sayısı) alan birden çok Oluşturucu bağımsız değişkeni varsa, bu bir hata olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="0e84a-197">If a XAML object writer encounters a markup extension usage with positional arguments, and there are multiple constructor arguments that take that number of arguments (a duplicate arity), that is not necessarily an error.</span></span> <span data-ttu-id="0e84a-198">Davranış, özelleştirilebilir bir XAML şeması bağlam ayarına bağlıdır <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-198">The behavior depends on a customizable XAML schema context setting, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span></span> <span data-ttu-id="0e84a-199"><xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>İse `true` , bir xaml nesne yazıcısı yalnızca yinelenen parametre sayısının nedenleri için bir özel durum oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-199">If <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `true`, a XAML object writer should not throw an exception only for reasons of duplicate arity.</span></span> <span data-ttu-id="0e84a-200">Bu noktanın ötesinde davranış kesin olarak tanımlanmamıştır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-200">Behavior beyond that point is not strictly defined.</span></span> <span data-ttu-id="0e84a-201">Temel tasarım varsayımına, şema bağlamının belirli parametrelere ait tür bilgilerine sahip olması ve hangi imzanın en iyi eşleşme olabileceğini görmek için yinelenen adaylara uyan açık yayınları deneyebileceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-201">The basic design assumption is that the schema context has type information available for the specific parameters and can attempt explicit casts that match the duplicate candidates to see which signature might be the best match.</span></span> <span data-ttu-id="0e84a-202">Bir XAML nesne yazıcısında çalışan belirli şema bağlamı tarafından uygulanan testleri geçemezse bir özel durum yine de oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-202">An exception might still be thrown if no signatures can pass the tests that are imposed by that particular schema context that is running on a XAML object writer.</span></span>

<span data-ttu-id="0e84a-203">Varsayılan olarak, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> `false` <xref:System.Xaml.XamlSchemaContext> .net xaml Hizmetleri için clr tabanlıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-203">By default, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `false` in the CLR-based <xref:System.Xaml.XamlSchemaContext> for .NET XAML Services.</span></span> <span data-ttu-id="0e84a-204">Bu nedenle, varsayılan olarak, <xref:System.Xaml.XamlObjectWriter> bir biçimlendirme uzantısı kullanımı ile karşılaştığında, yedekleme türünün oluşturucularında yinelenen parametre sayısı olduğu durumlarda özel durumlar oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="0e84a-204">Thus, the default <xref:System.Xaml.XamlObjectWriter> throws exceptions if it encounters a markup extension usage where there is duplicate arity in the backing type's constructors.</span></span>

## <a name="named-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="0e84a-205">Özel biçimlendirme uzantısı için adlandırılmış bağımsız değişkenler</span><span class="sxs-lookup"><span data-stu-id="0e84a-205">Named arguments for a custom markup extension</span></span>

<span data-ttu-id="0e84a-206">XAML tarafından belirtilen biçimlendirme uzantıları, kullanım için adlandırılmış bağımsız değişkenler formunu da kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-206">Markup extensions as specified by XAML can also use a named arguments form for usage.</span></span> <span data-ttu-id="0e84a-207">Simgeleştirme 'nin ilk düzeyinde metin sözdizimi bağımsız değişkenlere bölünmüştür.</span><span class="sxs-lookup"><span data-stu-id="0e84a-207">At the first level of tokenization, the text syntax is divided into arguments.</span></span> <span data-ttu-id="0e84a-208">Herhangi bir bağımsız değişken içindeki bir eşittir işareti (=) varlığı, adlandırılmış bağımsız değişken olarak bir bağımsız değişken tanımlar.</span><span class="sxs-lookup"><span data-stu-id="0e84a-208">The presence of an equals sign (=) within any argument identifies an argument as a named argument.</span></span> <span data-ttu-id="0e84a-209">Böyle bir bağımsız değişken aynı zamanda bir ad/değer çiftinde simgeleştirilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-209">Such an argument is also tokenized into a name/value pair.</span></span> <span data-ttu-id="0e84a-210">Bu örnekte adı, biçimlendirme uzantısının destek türünün genel ayarlanabilir bir özelliğini adlandırır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-210">The name in this case names a public settable property of the markup extension's support type.</span></span> <span data-ttu-id="0e84a-211">Adlandırılmış bağımsız değişken kullanımını desteklemek istiyorsanız, bu genel ayarlanabilir özellikleri sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-211">If you intend to support named argument usage, you should provide these public settable properties.</span></span> <span data-ttu-id="0e84a-212">Özellikler, ortak kaldığı sürece devralınmış özellikler olabilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-212">The properties can be inherited properties as long as they remain public.</span></span>

## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="0e84a-213">Biçimlendirme Uzantısı uygulamasından hizmet sağlayıcı bağlamına erişme</span><span class="sxs-lookup"><span data-stu-id="0e84a-213">Accessing Service Provider Context from a Markup Extension Implementation</span></span>

<span data-ttu-id="0e84a-214">Kullanılabilir hizmetler herhangi bir değer Dönüştürücüsü için aynıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-214">The services available are the same for any value converter.</span></span> <span data-ttu-id="0e84a-215">Fark, her bir değer dönüştürücünün hizmet bağlamını nasıl aldığına ilişkin farktır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-215">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="0e84a-216">Hizmetlere ve kullanılabilir hizmetlere erişme, [xaml Için biçimlendirme uzantıları ve biçimlendirme uzantıları](type-converters-and-markup-extensions.md)konu başlığı altında belgelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-216">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions.md).</span></span>

## <a name="property-element-usage-of-a-markup-extension"></a><span data-ttu-id="0e84a-217">Biçimlendirme uzantısının Özellik öğesi kullanımı</span><span class="sxs-lookup"><span data-stu-id="0e84a-217">Property element usage of a markup extension</span></span>

<span data-ttu-id="0e84a-218">Biçimlendirme uzantısı kullanımları için senaryolar genellikle öznitelik kullanımında biçimlendirme uzantısının kullanımı etrafında tasarlanır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-218">The scenarios for markup extension usages are often designed around using the markup extension in attribute usage.</span></span> <span data-ttu-id="0e84a-219">Ancak, özellik öğesi kullanımını desteklemek için yedekleme sınıfını tanımlamak da olasıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-219">However, it is also potentially possible to define the backing class to support property element usage.</span></span>

<span data-ttu-id="0e84a-220">Biçimlendirme uzantınızın Özellik öğesi kullanımını desteklemek için ortak parametresiz bir Oluşturucu tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="0e84a-220">To support property element usage of your markup extension, define a public parameterless constructor.</span></span> <span data-ttu-id="0e84a-221">Bu, bir statik Oluşturucu olmamalıdır örnek oluşturucu olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-221">This should be an instance constructor not a static constructor.</span></span> <span data-ttu-id="0e84a-222">Bu gereklidir çünkü bir XAML işlemcisi, biçimlendirmeden işlenen herhangi bir nesne öğesinde parametresiz oluşturucuyu genellikle çağırmalıdır ve buna nesne öğeleri olarak biçimlendirme uzantısı sınıfları dahildir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-222">This is required because a XAML processor must generally invoke the parameterless constructor on any object element it processes from markup, and this includes markup extension classes as object elements.</span></span> <span data-ttu-id="0e84a-223">Gelişmiş senaryolar için, sınıflar için varsayılan olmayan oluşturma yolları tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-223">For advanced scenarios, you can define non-default construction paths for classes.</span></span> <span data-ttu-id="0e84a-224">(Daha fazla bilgi için bkz. [X:FactoryMethod yönergesi](xfactorymethod-directive.md).) Bununla birlikte, biçimlendirme uzantısı için bu desenleri kullanmamalısınız çünkü bu, hem tasarımcılar hem de ham biçimlendirme kullanıcıları için kullanım desenini bulmayı çok daha zor hale getirir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-224">(For more information, see [x:FactoryMethod Directive](xfactorymethod-directive.md).) However, you should not use these patterns for markup extension purposes because this makes discovery of the usage pattern much more difficult, both for designers and for users of raw markup.</span></span>

## <a name="attributing-for-a-custom-markup-extension"></a><span data-ttu-id="0e84a-225">Özel bir işaretleme uzantısı için Attributing</span><span class="sxs-lookup"><span data-stu-id="0e84a-225">Attributing for a custom markup extension</span></span>

<span data-ttu-id="0e84a-226">Hem tasarım ortamlarını hem de belirli XAML nesne yazıcısı senaryolarını desteklemek için, birkaç CLR özniteliğiyle bir biçimlendirme uzantısı destek türüne sahip olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-226">To support both design environments and certain XAML object writer scenarios, you should attribute a markup extension support type with several CLR attributes.</span></span> <span data-ttu-id="0e84a-227">Bu öznitelikler, istenen biçimlendirme uzantısı kullanımını raporlar.</span><span class="sxs-lookup"><span data-stu-id="0e84a-227">These attributes report the intended markup extension usage.</span></span>

 <span data-ttu-id="0e84a-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute><xref:System.Type>döndüren nesne türü bilgilerini raporlar <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute> reports the <xref:System.Type> information for the object type that <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns.</span></span> <span data-ttu-id="0e84a-229">Saf imzasına göre, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> döndürür <xref:System.Object> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-229">By its pure signature, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns <xref:System.Object>.</span></span> <span data-ttu-id="0e84a-230">Ancak çeşitli tüketiciler daha kesin dönüş türü bilgileri isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-230">But various consumers might want more precise return type information.</span></span> <span data-ttu-id="0e84a-231">Buna aşağıdakiler dahildir:</span><span class="sxs-lookup"><span data-stu-id="0e84a-231">This includes:</span></span>

- <span data-ttu-id="0e84a-232">Tasarımcılar ve Ides, biçimlendirme uzantısı kullanımları için tür duyarlı destek sağlayabilecek.</span><span class="sxs-lookup"><span data-stu-id="0e84a-232">Designers and IDEs, who might be able to provide type-aware support for markup extension usages.</span></span>
- <span data-ttu-id="0e84a-233">`SetMarkupExtension`Hedef sınıflarda işleyicilerin gelişmiş uygulamaları, bir biçimlendirme uzantısının, ada göre bilinen belirli uygulamalarda dallanması yerine bir işaretleme uzantısının dönüş türünü tespit etmek için yansıma üzerinde güvenebilen <xref:System.Windows.Markup.MarkupExtension> .</span><span class="sxs-lookup"><span data-stu-id="0e84a-233">Advanced implementations of `SetMarkupExtension` handlers on target classes, which might rely on reflection to determine a markup extension's return type instead of branching on specific known <xref:System.Windows.Markup.MarkupExtension> implementations by name.</span></span>

## <a name="serialization-of-markup-extension-usages"></a><span data-ttu-id="0e84a-234">Biçimlendirme Uzantısı kullanımlarının serileştirilmesi</span><span class="sxs-lookup"><span data-stu-id="0e84a-234">Serialization of markup extension usages</span></span>

<span data-ttu-id="0e84a-235">Bir XAML nesne yazıcısı bir biçimlendirme uzantısı kullanımını ve çağrılarını işlediğinde <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> , daha önce biçimlendirme uzantısı kullanımı olan bağlam xaml düğüm akışında devam ediyor ancak nesne grafiğinde yok.</span><span class="sxs-lookup"><span data-stu-id="0e84a-235">When a XAML object writer processes a markup extension usage and calls <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, the context for it previously being a markup extension usage persists in the XAML node stream but not in the object graph.</span></span> <span data-ttu-id="0e84a-236">Nesne grafiğinde yalnızca değer korunur.</span><span class="sxs-lookup"><span data-stu-id="0e84a-236">In the object graph, only the value is preserved.</span></span> <span data-ttu-id="0e84a-237">Özgün biçimlendirme uzantısı kullanımını serileştirilmiş çıkışa kalıcı hale getirmeniz için tasarım senaryolarınız veya başka nedenleriniz varsa, biçimlendirme uzantısı kullanımlarını, yük yolu XAML düğüm akışından izlemek için kendi altyapınızı tasarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-237">If you have design scenarios or other reasons for persisting the original markup extension usage into the serialized output, you must design your own infrastructure for tracking the markup extension usages from the load path XAML node stream.</span></span> <span data-ttu-id="0e84a-238">Yük yolundan düğüm akışının öğelerini yeniden oluşturmak ve bunları, düğüm akışının uygun konumundaki değeri yerine kaydetme yolunda serileştirme için XAML yazıcılarında geri oynatmak üzere bir davranış uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-238">You can implement behavior to recreate the elements of the node stream from the load path and play them back to XAML writers for serialization in the save path, substituting for the value in the appropriate position of the node stream.</span></span>

## <a name="markup-extensions-in-the-xaml-node-stream"></a><span data-ttu-id="0e84a-239">XAML düğüm akışındaki biçimlendirme uzantıları</span><span class="sxs-lookup"><span data-stu-id="0e84a-239">Markup extensions in the XAML node stream</span></span>

<span data-ttu-id="0e84a-240">Yükleme yolunda bir XAML düğüm akışı ile çalışıyorsanız, düğüm akışında bir nesne olarak biçimlendirme uzantısı kullanımı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-240">If you are working with a XAML node stream on the load path, a markup extension usage appears in the node stream as an object.</span></span>

<span data-ttu-id="0e84a-241">Biçimlendirme uzantısı kullanımı Konumsal bağımsız değişkenler kullanıyorsa, başlatma değeri olan bir başlangıç nesnesi olarak temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-241">If the markup extension usage uses positional arguments, it is represented as a start object with an initialization value.</span></span> <span data-ttu-id="0e84a-242">Kaba bir metin temsili olarak düğüm akışı aşağıdakine benzer:</span><span class="sxs-lookup"><span data-stu-id="0e84a-242">As a rough text representation, the node stream resembles the following:</span></span>

<span data-ttu-id="0e84a-243">`StartObject` ( <xref:System.Xaml.XamlType> biçimlendirme uzantısının, dönüş türü değil, tanım türüdür)</span><span class="sxs-lookup"><span data-stu-id="0e84a-243">`StartObject` (<xref:System.Xaml.XamlType> is the markup extension's definition type, not its return type)</span></span>

<span data-ttu-id="0e84a-244">`StartMember` ( <xref:System.Xaml.XamlMember> öğesinin adı `_InitializationText` )</span><span class="sxs-lookup"><span data-stu-id="0e84a-244">`StartMember` (name of the <xref:System.Xaml.XamlMember> is `_InitializationText`)</span></span>

<span data-ttu-id="0e84a-245">`Value` (değer, yer değişkenleri, araya giren sınırlayıcıları içeren bir dize olarak bulunur)</span><span class="sxs-lookup"><span data-stu-id="0e84a-245">`Value` (value is the positional arguments as a string including the intervening delimiters)</span></span>

`EndMember`

`EndObject`

<span data-ttu-id="0e84a-246">Adlandırılmış bağımsız değişkenlerle bir biçimlendirme uzantısı kullanımı, her biri metin dizesi değerleriyle ayarlanan ilgili adların üyelerine sahip bir nesne olarak temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-246">A markup extension usage with named arguments is represented as an object with members of the relevant names, each set with text string values.</span></span>

<span data-ttu-id="0e84a-247">`ProvideValue`Bir biçimlendirme uzantısının uygulanmasını gerçekten ÇAĞıRMAK xaml şeması bağlamını gerektirir çünkü bu, tür eşleme gerektirir ve bir işaretleme uzantısı destek türü örneği oluşturur.</span><span class="sxs-lookup"><span data-stu-id="0e84a-247">Actually invoking the `ProvideValue` implementation of a markup extension requires the XAML schema context because that requires type-mapping and creating a markup extension support type instance.</span></span> <span data-ttu-id="0e84a-248">Bu, biçimlendirme uzantısı kullanımlarının varsayılan .NET XAML Hizmetleri düğümü akışlarında bu şekilde korunmasının bir nedenidir-bir yükleme yolunun okuyucu bölümünde genellikle gerekli XAML şeması bağlamı kullanılabilir değildir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-248">This is one reason why markup extension usages are preserved this way in the default .NET XAML Services node streams -  the reader part of a load path often does not have the necessary XAML schema context available.</span></span>

<span data-ttu-id="0e84a-249">Kaydetme yolunda bir XAML düğüm akışı ile çalışıyorsanız, genellikle seri hale getirilecek nesnenin ilk olarak bir biçimlendirme uzantısı kullanımı ve sonuç tarafından sağlandığını bildiren bir nesne grafiği gösteriminde bir şey yoktur `ProvideValue` .</span><span class="sxs-lookup"><span data-stu-id="0e84a-249">If you are working with a XAML node stream on the save path, there generally is nothing present in an object graph representation that can inform you that the object to serialize was originally provided by a markup extension usage and a `ProvideValue` result.</span></span> <span data-ttu-id="0e84a-250">Biçimlendirme Uzantısı kullanımlarının gidiş dönüşü için sürdürülmesi gereken senaryolar, nesne grafiğindeki diğer değişiklikleri de yakalayan, özgün XAML girişinden biçimlendirme uzantısı kullanımı bilgisini korumak için kendi tekniklerini kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-250">Scenarios that need to persist markup extension usages for round-tripping while also capturing other changes in the object graph must devise their own techniques for preserving the knowledge of a markup extension usage from the original XAML input.</span></span> <span data-ttu-id="0e84a-251">Örneğin, biçimlendirme uzantısı kullanımlarını geri yüklemek için, biçimlendirme uzantısı kullanımlarını geri yüklemek için kayıt yolundaki düğüm akışıyla çalışmanız veya orijinal XAML ile yuvarlak daire içinde bir tür birleştirme gerçekleştirmeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="0e84a-251">For example, to restore the markup extension usages, you may need to work with the node stream on the save path in order to restore markup extension usages, or perform some type of merge between the original XAML and the round-tripped XAML.</span></span> <span data-ttu-id="0e84a-252">WPF gibi bazı XAML uygulayan çerçeveler, biçimlendirme uzantısı kullanımlarının değerlerinin sağlandığı durumları temsil etmenize yardımcı olmak için ara türler (ifadeler) kullanır.</span><span class="sxs-lookup"><span data-stu-id="0e84a-252">Some XAML-implementing frameworks such as WPF use intermediate types (expressions) to help represent cases where markup extension usages provided the values.</span></span>

## <a name="see-also"></a><span data-ttu-id="0e84a-253">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="0e84a-253">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- [<span data-ttu-id="0e84a-254">XAML İçin Tür Dönüştürücüleri ve İşaretleme Uzantıları</span><span class="sxs-lookup"><span data-stu-id="0e84a-254">Type Converters and Markup Extensions for XAML</span></span>](type-converters-and-markup-extensions.md)
- [<span data-ttu-id="0e84a-255">Biçimlendirme Uzantıları ve WPF XAML</span><span class="sxs-lookup"><span data-stu-id="0e84a-255">Markup Extensions and WPF XAML</span></span>](/dotnet/desktop/wpf/advanced/markup-extensions-and-wpf-xaml)
