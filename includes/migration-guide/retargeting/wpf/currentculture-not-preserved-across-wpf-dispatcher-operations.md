---
ms.openlocfilehash: 190bca720504535cb54e498ca8da23fbb6634ad4
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "67804441"
---
### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a><span data-ttu-id="d4b33-101">CurrentCulture WPF Dispatcher işlemleri nde korunmuyor</span><span class="sxs-lookup"><span data-stu-id="d4b33-101">CurrentCulture is not preserved across WPF Dispatcher operations</span></span>

|   |   |
|---|---|
|<span data-ttu-id="d4b33-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="d4b33-102">Details</span></span>|<span data-ttu-id="d4b33-103">.NET Framework 4.6'dan başlayarak, a'da <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> <xref:System.Windows.Threading.Dispatcher?displayProperty=name> yapılan değişiklikler, bu sevk irsaliyesi işleminin sonunda kaybolur.</span><span class="sxs-lookup"><span data-stu-id="d4b33-103">Beginning in the .NET Framework 4.6, changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> made within a <xref:System.Windows.Threading.Dispatcher?displayProperty=name> will be lost at the end of that dispatcher operation.</span></span> <span data-ttu-id="d4b33-104">Benzer şekilde, <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> bir <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> Dispatcher işleminde yapılan veya yapılan değişiklikler, bu işlem yürütüldüğünde yansıtılmayabilir. Pratik olarak konuşursak, <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> bu, wpf kullanıcı arabirimi geri aramaları ile WPF uygulamasındaki diğer kodlar arasında akış yapamayabileceği anlamına gelir. Bunun <xref:System.Threading.ExecutionContext?displayProperty=name> nedeni, .NET Framework <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> 4.6'yı hedefleyen uygulamalardan başlayarak yürütme bağlamında depolanacak olan ve nedenlerle olan bir değişikliktir.</span><span class="sxs-lookup"><span data-stu-id="d4b33-104">Similarly, changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> made outside of a Dispatcher operation may not be reflected when that operation executes.Practically speaking, this means that <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> changes may not flow between WPF UI callbacks and other code in a WPF application.This is due to a change in <xref:System.Threading.ExecutionContext?displayProperty=name> that causes <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> to be stored in the execution context beginning with apps targeting the .NET Framework 4.6.</span></span> <span data-ttu-id="d4b33-105">WPF gönderici işlemleri, işlemi başlatmak ve işlem tamamlandığında önceki bağlamı geri yüklemek için kullanılan yürütme bağlamını depolar.</span><span class="sxs-lookup"><span data-stu-id="d4b33-105">WPF dispatcher operations store the execution context used to begin the operation and restore the previous context when the operation is completed.</span></span> <span data-ttu-id="d4b33-106">Çünkü <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> ve şimdi bu bağlamın bir parçası olduğundan, bir sevk irsaliyesi işlemi içinde bu değişiklikler operasyon dışında kalıcı değildir.</span><span class="sxs-lookup"><span data-stu-id="d4b33-106">Because <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are now part of that context, changes to them within a dispatcher operation are not persisted outside of the operation.</span></span>|
|<span data-ttu-id="d4b33-107">Öneri</span><span class="sxs-lookup"><span data-stu-id="d4b33-107">Suggestion</span></span>|<span data-ttu-id="d4b33-108"><xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> Bu değişiklikten etkilenen uygulamalar, istenilen veya <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> bir alanda depolayarak ve doğru <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> ve ayarlanmış tüm Sevk Çisi operasyon gövdelerini (UI olay geri arama işleyicileri dahil) kontrol ederek geçici olarak çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="d4b33-108">Apps affected by this change may work around it by storing the desired <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in a field and checking in all Dispatcher operation bodies (including UI event callback handlers) that the correct <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are set.</span></span> <span data-ttu-id="d4b33-109">Alternatif olarak, bu WPF değişikliğinin altında yatan Yürütme Bağlamı değişikliği yalnızca .NET Framework 4.6 veya daha yenisini hedefleyen uygulamaları etkilediğiiçin, .NET Framework 4.5.2.Apps'ı hedefleyen uygulamalar hedeflenerek bu kırılma önlenebilir. bunun etrafında aşağıdaki uyumluluk anahtarı ayarlayarak:</span><span class="sxs-lookup"><span data-stu-id="d4b33-109">Alternatively, because the ExecutionContext change underlying this WPF change only affects apps targeting the .NET Framework 4.6 or newer, this break can be avoided by targeting the .NET Framework 4.5.2.Apps that target .NET Framework 4.6 or later can also work around this by setting the following compatibility switch:</span></span><pre><code class="lang-csharp">AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="d4b33-110">Bu sorun WPF tarafından .NET Framework 4.6.2'de giderilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d4b33-110">This issue has been fixed by WPF in .NET Framework 4.6.2.</span></span> <span data-ttu-id="d4b33-111">Ayrıca .NET Frameworks 4.6, 4.6.1 ile [KB 3139549](https://support.microsoft.com/kb/3139549)olarak sabitlenmiştir.</span><span class="sxs-lookup"><span data-stu-id="d4b33-111">It has also been fixed in .NET Frameworks 4.6, 4.6.1 through [KB 3139549](https://support.microsoft.com/kb/3139549).</span></span> <span data-ttu-id="d4b33-112">.NET Framework 4.6 veya daha sonrasını hedefleyen uygulamalar, WPF uygulamalarında otomatik olarak doğru davranışı alır - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) Dispatcher işlemleri nde korunur.</span><span class="sxs-lookup"><span data-stu-id="d4b33-112">Applications targeting .NET Framework 4.6 or later will automatically get the right behavior in WPF applications - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>/<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) would be preserved across Dispatcher operations.</span></span>|
|<span data-ttu-id="d4b33-113">Kapsam</span><span class="sxs-lookup"><span data-stu-id="d4b33-113">Scope</span></span>|<span data-ttu-id="d4b33-114">İkincil</span><span class="sxs-lookup"><span data-stu-id="d4b33-114">Minor</span></span>|
|<span data-ttu-id="d4b33-115">Sürüm</span><span class="sxs-lookup"><span data-stu-id="d4b33-115">Version</span></span>|<span data-ttu-id="d4b33-116">4.6</span><span class="sxs-lookup"><span data-stu-id="d4b33-116">4.6</span></span>|
|<span data-ttu-id="d4b33-117">Tür</span><span class="sxs-lookup"><span data-stu-id="d4b33-117">Type</span></span>|<span data-ttu-id="d4b33-118">Yeniden Hedefleme</span><span class="sxs-lookup"><span data-stu-id="d4b33-118">Retargeting</span></span>|
