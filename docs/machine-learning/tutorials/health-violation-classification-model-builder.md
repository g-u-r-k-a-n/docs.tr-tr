---
title: 'Öğretici: Model Oluşturucu ile sağlık ihlallerini sınıflandırma'
description: Bu öğretici, San Francisco'daki restoran sağlık ihlali şiddetini sınıflandırmak için ML.NET Model Builder kullanarak çok sınıflı bir sınıflandırma modelinin nasıl oluşturulabildiğini göstermektedir.
author: luisquintanilla
ms.author: luquinta
ms.date: 11/21/2019
ms.topic: tutorial
ms.custom: mvc,mlnet-tooling
ms.openlocfilehash: e94313277a025d482105a6d78b6608d4df442c43
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/15/2020
ms.locfileid: "79185829"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="15d58-103">Öğretici: Model Builder ile restoran sağlık ihlallerinin şiddetini sınıflandırmak</span><span class="sxs-lookup"><span data-stu-id="15d58-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="15d58-104">Sağlık denetimleri sırasında bulunan restoran ihlallerinin risk düzeyini kategorilere ayırmak için Model Builder'ı kullanarak çok sınıflı bir sınıflandırma modeli oluşturmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="15d58-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="15d58-105">Bu öğreticide şunların nasıl yapıldığını öğrenirsiniz:</span><span class="sxs-lookup"><span data-stu-id="15d58-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="15d58-106">Verileri hazırlama ve anlama</span><span class="sxs-lookup"><span data-stu-id="15d58-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="15d58-107">Bir senaryo seçin</span><span class="sxs-lookup"><span data-stu-id="15d58-107">Choose a scenario</span></span>
> - <span data-ttu-id="15d58-108">Veritabanından veri yükleme</span><span class="sxs-lookup"><span data-stu-id="15d58-108">Load data from a database</span></span>
> - <span data-ttu-id="15d58-109">Modeli eğitme</span><span class="sxs-lookup"><span data-stu-id="15d58-109">Train the model</span></span>
> - <span data-ttu-id="15d58-110">Modeli değerlendirme</span><span class="sxs-lookup"><span data-stu-id="15d58-110">Evaluate the model</span></span>
> - <span data-ttu-id="15d58-111">Öngörüler için modeli kullanma</span><span class="sxs-lookup"><span data-stu-id="15d58-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="15d58-112">Model Oluşturucu şu anda Önizleme'de.</span><span class="sxs-lookup"><span data-stu-id="15d58-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="15d58-113">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="15d58-113">Prerequisites</span></span>

<span data-ttu-id="15d58-114">Ön koşullar ve yükleme yönergeleri listesi için [Model Oluşturucu yükleme kılavuzunu ziyaret edin.](../how-to-guides/install-model-builder.md)</span><span class="sxs-lookup"><span data-stu-id="15d58-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="15d58-115">Model Builder çok sınıflı sınıflandırmaya genel bakış</span><span class="sxs-lookup"><span data-stu-id="15d58-115">Model Builder multiclass classification overview</span></span>

<span data-ttu-id="15d58-116">Bu örnek, Model Builder ile oluşturulmuş bir makine öğrenme modeli kullanarak sistem durumu ihlali riskini kategorize eden bir C# .NET Core konsol uygulaması oluşturur.</span><span class="sxs-lookup"><span data-stu-id="15d58-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="15d58-117">Bu öğreticinin kaynak kodunu [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub deposunda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="15d58-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="15d58-118">Konsol uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="15d58-118">Create a console application</span></span>

1. <span data-ttu-id="15d58-119">"RestaurantViolations" adlı bir **C# .NET Core konsol uygulaması** oluşturun.</span><span class="sxs-lookup"><span data-stu-id="15d58-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span> <span data-ttu-id="15d58-120">Çözüm **ve projeyi aynı dizindeki yerleştir** çözümve proje **işaretsiz** olduğundan emin olun (VS 2019) veya **çözüm için create directory** (VS 2017) **işaretlenir.**</span><span class="sxs-lookup"><span data-stu-id="15d58-120">Make sure **Place solution and project in the same directory** is **unchecked** (VS 2019), or **Create directory for solution** is **checked** (VS 2017).</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="15d58-121">Verileri hazırlama ve anlama</span><span class="sxs-lookup"><span data-stu-id="15d58-121">Prepare and understand the data</span></span>

> <span data-ttu-id="15d58-122">Makine öğrenimi modelini eğitmek ve değerlendirmek için kullanılan veri seti aslında [San Francisco Halk Sağlığı Restoran Güvenlik Puanları Bölümü'ndendir.](https://www.sfdph.org/dph/EH/Food/score/default.asp)</span><span class="sxs-lookup"><span data-stu-id="15d58-122">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="15d58-123">Kolaylık sağlamak için, veri kümesi yalnızca modeli eğitmek ve tahminlerde bulunmak la ilgili sütunları içerecek şekilde yoğunlaştırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="15d58-123">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="15d58-124">[Veri kümesi](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0)hakkında daha fazla bilgi edinmek için aşağıdaki web sitesini ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="15d58-124">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="15d58-125">[Restoran Güvenlik Puanları veri setini indirin](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) ve zip'ini çıkarın.</span><span class="sxs-lookup"><span data-stu-id="15d58-125">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="15d58-126">Veri kümesindeki her satır, Sağlık Bakanlığı'nın teftişi sırasında gözlemlenen ihlallerle ilgili bilgiler ve bu ihlallerin halk sağlığı ve güvenliği nezdinde mevcut olduğu tehdidin risk değerlendirmesini içerir.</span><span class="sxs-lookup"><span data-stu-id="15d58-126">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="15d58-127">Denetim Tipi</span><span class="sxs-lookup"><span data-stu-id="15d58-127">InspectionType</span></span> | <span data-ttu-id="15d58-128">İhlal Açıklaması</span><span class="sxs-lookup"><span data-stu-id="15d58-128">ViolationDescription</span></span> | <span data-ttu-id="15d58-129">Risk Kategorisi</span><span class="sxs-lookup"><span data-stu-id="15d58-129">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="15d58-130">Rutin - Planlanmamış</span><span class="sxs-lookup"><span data-stu-id="15d58-130">Routine - Unscheduled</span></span> | <span data-ttu-id="15d58-131">Yetersiz olarak temizlenmiş veya dezenfekte edilmiş gıda temas yüzeyleri</span><span class="sxs-lookup"><span data-stu-id="15d58-131">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="15d58-132">Orta Risk</span><span class="sxs-lookup"><span data-stu-id="15d58-132">Moderate Risk</span></span> |
| <span data-ttu-id="15d58-133">Yeni Sahiplik</span><span class="sxs-lookup"><span data-stu-id="15d58-133">New Ownership</span></span> | <span data-ttu-id="15d58-134">Yüksek riskli haşarat istilası</span><span class="sxs-lookup"><span data-stu-id="15d58-134">High risk vermin infestation</span></span> | <span data-ttu-id="15d58-135">Yüksek Risk</span><span class="sxs-lookup"><span data-stu-id="15d58-135">High Risk</span></span> |
| <span data-ttu-id="15d58-136">Rutin - Planlanmamış</span><span class="sxs-lookup"><span data-stu-id="15d58-136">Routine - Unscheduled</span></span> | <span data-ttu-id="15d58-137">Temiz olmayan veya düzgün depolanmayan veya yetersiz dezenfektan olmayan bezleri silme</span><span class="sxs-lookup"><span data-stu-id="15d58-137">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="15d58-138">Düşük Risk</span><span class="sxs-lookup"><span data-stu-id="15d58-138">Low Risk</span></span> |

- <span data-ttu-id="15d58-139">**InspectionType**: denetim türü.</span><span class="sxs-lookup"><span data-stu-id="15d58-139">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="15d58-140">Bu ya yeni bir kuruluş, rutin bir denetim, bir şikayet muayene ve diğer birçok tür için ilk kez muayene olabilir.</span><span class="sxs-lookup"><span data-stu-id="15d58-140">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="15d58-141">**İhlal Açıklaması**: Denetim sırasında bulunan ihlalin açıklaması.</span><span class="sxs-lookup"><span data-stu-id="15d58-141">**ViolationDescription**: a description of the violation found during inspection.</span></span>
- <span data-ttu-id="15d58-142">**RiskKategorisi**: bir ihlalin halk sağlığı ve güvenliği için oluşturduğu risk şiddeti.</span><span class="sxs-lookup"><span data-stu-id="15d58-142">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="15d58-143">Tahmin `label` etmek istediğiniz sütundur.</span><span class="sxs-lookup"><span data-stu-id="15d58-143">The `label` is the column you want to predict.</span></span> <span data-ttu-id="15d58-144">Bir sınıflandırma görevi gerçekleştirirken, amaç bir kategori (metin veya sayısal) atamaktır.</span><span class="sxs-lookup"><span data-stu-id="15d58-144">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="15d58-145">Bu sınıflandırma senaryosunda, ihlalin önem derecesidüşük, orta veya yüksek risk değeria atanır.</span><span class="sxs-lookup"><span data-stu-id="15d58-145">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="15d58-146">Bu nedenle, **RiskKategorisi** etikettir.</span><span class="sxs-lookup"><span data-stu-id="15d58-146">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="15d58-147">Modeli `features` tahmin etmek için verdiğiniz `label`girdiler.</span><span class="sxs-lookup"><span data-stu-id="15d58-147">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="15d58-148">Bu durumda, **Denetim Türü** ve **İhlal Açıklaması** **RiskKategorisi'ni**tahmin etmek için özellik veya girdi olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="15d58-148">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="15d58-149">Bir senaryo seçin</span><span class="sxs-lookup"><span data-stu-id="15d58-149">Choose a scenario</span></span>

![Model Oluşturucu sihirbazı Visual Studio'da](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="15d58-151">Modelinizi eğitmek için Model Oluşturucu tarafından sağlanan kullanılabilir makine öğrenimi senaryoları listesinden seçim inizi seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-151">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="15d58-152">Bu durumda, senaryo *Sorun*Sınıflandırmasıdır.</span><span class="sxs-lookup"><span data-stu-id="15d58-152">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="15d58-153">**Solution Explorer'da** *RestaurantViolations* projesine sağ tıklayın ve**Machine Learning** **Ekle'yi** > seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-153">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="15d58-154">Bu örnek için senaryo çok sınıflı sınıflandırmadır.</span><span class="sxs-lookup"><span data-stu-id="15d58-154">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="15d58-155">Model Oluşturucu'nun *Senaryo* adımında, **Sorun Sınıflandırma** senaryosunu seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-155">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="15d58-156">Verileri yükleme</span><span class="sxs-lookup"><span data-stu-id="15d58-156">Load the data</span></span>

<span data-ttu-id="15d58-157">Model Oluşturucu, SQL Server veritabanından veya `csv` yerel `tsv` bir dosyadaki veya biçimdeki verileri kabul eder.</span><span class="sxs-lookup"><span data-stu-id="15d58-157">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="15d58-158">Model Oluşturucu aracının veri adımında, veri kaynağı açılır tarafından **SQL Server'ı** seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-158">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="15d58-159">**SQL Server veritabanına bağlan** metin kutusunun yanındaki düğmeyi seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-159">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="15d58-160">Veri **Seç** iletişim kutusunda **Microsoft SQL Server Database File'yi**seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-160">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span>
    1. <span data-ttu-id="15d58-161">**Her Zaman bu seçim** onay kutusunu kullan denetiminden kaldırın ve Devam **et'i**seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-161">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="15d58-162">Bağlantı **Özellikleri** iletişim kutusunda **Gözat'ı** seçin ve indirilen *RestaurantScores.mdf* dosyasını seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-162">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="15d58-163">**Tamam'ı**seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-163">Select **OK**.</span></span>
1. <span data-ttu-id="15d58-164">**Tablo Adı** açılır tarafından **Ihlaller'i** seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-164">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="15d58-165">**Açılan düşüşü tahmin etmek (Etiketlemek) için Sütundaki RiskKategorisi'ni** seçin. **RiskCategory**</span><span class="sxs-lookup"><span data-stu-id="15d58-165">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="15d58-166">**Giriş Sütunları (Özellikler)** açılır durumda denetlenen varsayılan sütun seçimlerini, **Denetim Türü** ve **ViolationDescription'ı**bırakın.</span><span class="sxs-lookup"><span data-stu-id="15d58-166">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="15d58-167">Model Oluşturucu'da bir sonraki adıma geçmek için **Tren** bağlantısını seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-167">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="15d58-168">Modeli eğitme</span><span class="sxs-lookup"><span data-stu-id="15d58-168">Train the model</span></span>

<span data-ttu-id="15d58-169">Bu öğreticide konu sınıflandırma modelini eğitmek için kullanılan makine öğrenimi görevi çok sınıflı sınıflandırmadır.</span><span class="sxs-lookup"><span data-stu-id="15d58-169">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="15d58-170">Model eğitim süreci sırasında Model Builder, veri setiniz için en iyi performans gösteren modeli bulmak için farklı çok sınıflı sınıflandırma algoritmaları ve ayarları kullanarak ayrı modeller eğitir.</span><span class="sxs-lookup"><span data-stu-id="15d58-170">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="15d58-171">Modelin eğitilmesi için gereken süre veri miktarıyla orantılıdır.</span><span class="sxs-lookup"><span data-stu-id="15d58-171">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="15d58-172">Model Oluşturucu, veri kaynağınızın boyutuna bağlı **olarak, eğitme Süresi (saniye)** için varsayılan bir değer seçer.</span><span class="sxs-lookup"><span data-stu-id="15d58-172">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="15d58-173">Model Oluşturucu, **(saniye) eğitmek için Zamanın** değerini 10 saniyeye ayarlasa da, bunu 30 saniyeye yükseltin.</span><span class="sxs-lookup"><span data-stu-id="15d58-173">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="15d58-174">Daha uzun bir süre için eğitim Model Builder algoritmaları ve en iyi modeli arama parametrelerinin kombinasyonu daha fazla sayıda keşfetmek için izin verir.</span><span class="sxs-lookup"><span data-stu-id="15d58-174">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="15d58-175">**Start Training'i**seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-175">Select **Start Training**.</span></span>

    <span data-ttu-id="15d58-176">Eğitim süreci boyunca, ilerleme verileri tren `Progress` adımı bölümünde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="15d58-176">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="15d58-177">**Durum,** eğitim sürecinin tamamlanma durumunu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="15d58-177">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="15d58-178">**En iyi doğruluk,** Model Builder tarafından şimdiye kadar bulunan en iyi performans gösteren modelin doğruluğunu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="15d58-178">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="15d58-179">Daha yüksek doğruluk, modelin test verilerinde daha doğru tahmin ettiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="15d58-179">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="15d58-180">**En iyi algoritma,** Model Builder tarafından şimdiye kadar bulunan en iyi performans gösteren algoritmanın adını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="15d58-180">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="15d58-181">**Son algoritma,** modeli eğitmek için Model Oluşturucu tarafından en son kullanılan algoritmanın adını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="15d58-181">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="15d58-182">Eğitim tamamlandıktan sonra, bir sonraki adıma geçmek için **Değerlendir** bağlantısını seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-182">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="15d58-183">Modeli değerlendirme</span><span class="sxs-lookup"><span data-stu-id="15d58-183">Evaluate the model</span></span>

<span data-ttu-id="15d58-184">Eğitim adımının sonucu en iyi performansa sahip bir modeldir.</span><span class="sxs-lookup"><span data-stu-id="15d58-184">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="15d58-185">Model Oluşturucu'nun değerlendirme adımında, çıkış **bölümü, Best Model** **Doğruluğu'ndaki**ölçümlerle birlikte En İyi Model girişinde en iyi performans gösteren model tarafından kullanılan algoritmayı içerir.</span><span class="sxs-lookup"><span data-stu-id="15d58-185">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="15d58-186">Ayrıca, keşfedilen ve ölçümleri görüntülenen en fazla beş model içeren bir özet tablo.</span><span class="sxs-lookup"><span data-stu-id="15d58-186">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="15d58-187">Doğruluk ölçümlerinizden memnun değilseniz, model doğruluğunu iyileştirmeyi denemenin bazı kolay yolları, modeli eğitmek veya daha fazla veri kullanmak için gereken süreyi artırmakiçindir.</span><span class="sxs-lookup"><span data-stu-id="15d58-187">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="15d58-188">Aksi takdirde, Model Oluşturucu'da son adıma geçmek için **kod** bağlantısını seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-188">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="15d58-189">Tahminlerde bulunmak için kodu ekleme</span><span class="sxs-lookup"><span data-stu-id="15d58-189">Add the code to make predictions</span></span>

<span data-ttu-id="15d58-190">Eğitim süreci sonucunda iki proje oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="15d58-190">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="15d58-191">RestaurantViolationsML.ConsoleApp: Model eğitimi ve örnek tüketim kodunu içeren bir C# .NET Core Console uygulaması.</span><span class="sxs-lookup"><span data-stu-id="15d58-191">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="15d58-192">RestaurantViolationsML.Model: Giriş ve çıktı modeli verilerinin şemasını tanımlayan veri modellerini, eğitim sırasında en iyi performans gösteren modelin kaydedilmiş sürümünü `ConsumeModel` ve tahminde bulunmak için çağrılan yardımcı sınıfı içeren bir .NET Standart sınıf kitaplığı.</span><span class="sxs-lookup"><span data-stu-id="15d58-192">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="15d58-193">Model Oluşturucu'nun kod adımında, çözüme otomatik oluşturulan projeleri eklemek için **Projeler Ekle'yi** seçin.</span><span class="sxs-lookup"><span data-stu-id="15d58-193">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="15d58-194">*RestaurantViolations* projesinde *Program.cs* dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="15d58-194">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="15d58-195">*RestaurantViolationsML.Model* projesine başvurmak için aşağıdaki ifadesini ekleyin:</span><span class="sxs-lookup"><span data-stu-id="15d58-195">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="15d58-196">Modeli kullanarak yeni veriler üzerinde bir tahminde bulunmak `ModelInput` için, `Main` uygulama yöntemi içinde sınıfın yeni bir örneğini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="15d58-196">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="15d58-197">Risk kategorisinin girişin bir parçası olmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="15d58-197">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="15d58-198">Bunun nedeni, modelin bunun için tahmin oluşturmasıdır.</span><span class="sxs-lookup"><span data-stu-id="15d58-198">This is because the model generates the prediction for it.</span></span>

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="15d58-199">Sınıftaki `Predict` `ConsumeModel` yöntemi kullanın.</span><span class="sxs-lookup"><span data-stu-id="15d58-199">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="15d58-200">Yöntem, `Predict` eğitilen modeli yükler, model için bir model [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) oluşturur ve yeni veriler üzerinde öngörülerde bulunmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="15d58-200">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span>

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="15d58-201">Uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="15d58-201">Run the application.</span></span>

    <span data-ttu-id="15d58-202">Program tarafından oluşturulan çıktı aşağıdaki snippet benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="15d58-202">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="15d58-203">Oluşturulan projeleri başka bir çözüm içinde daha sonra göndermeniz gerekiyorsa, bunları `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` dizinin içinde bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="15d58-203">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="15d58-204">Tebrikler!</span><span class="sxs-lookup"><span data-stu-id="15d58-204">Congratulations!</span></span> <span data-ttu-id="15d58-205">Model Oluşturucu'yu kullanarak sağlık ihlali riskini kategorilere ayırmak için başarılı bir makine öğrenme modeli oluşturmuşsunuz.</span><span class="sxs-lookup"><span data-stu-id="15d58-205">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="15d58-206">Bu öğreticinin kaynak kodunu [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub deposunda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="15d58-206">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="15d58-207">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="15d58-207">Additional resources</span></span>

<span data-ttu-id="15d58-208">Bu eğitimde bahsedilen konular hakkında daha fazla bilgi edinmek için aşağıdaki kaynakları ziyaret edin:</span><span class="sxs-lookup"><span data-stu-id="15d58-208">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="15d58-209">Model Oluşturucu Senaryolar</span><span class="sxs-lookup"><span data-stu-id="15d58-209">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="15d58-210">Çok Sınıflı Sınıflandırma</span><span class="sxs-lookup"><span data-stu-id="15d58-210">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="15d58-211">Çok Sınıflı Sınıflandırma Modeli Ölçümleri</span><span class="sxs-lookup"><span data-stu-id="15d58-211">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#evaluation-metrics-for-multi-class-classification)
