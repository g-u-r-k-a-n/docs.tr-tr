---
title: Oturumlar, Örnek Oluşturma ve Eşzamanlılık
description: Oturumlar, örnek oluşturma ve eşzamanlılık, nasıl kullanılacağı ve WFC arasındaki etkileşimler hakkında bilgi edinin.
ms.date: 03/30/2017
ms.assetid: 50797a3b-7678-44ed-8138-49ac1602f35b
ms.openlocfilehash: 41eef5a962c702eebd6b9a34607b542ec6bbd97b
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/23/2020
ms.locfileid: "85246551"
---
# <a name="sessions-instancing-and-concurrency"></a><span data-ttu-id="fd765-103">Oturumlar, Örnek Oluşturma ve Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="fd765-103">Sessions, Instancing, and Concurrency</span></span>
<span data-ttu-id="fd765-104">*Oturum* , iki uç nokta arasında gönderilen tüm iletilerin bağıntısı olur.</span><span class="sxs-lookup"><span data-stu-id="fd765-104">A *session* is a correlation of all messages sent between two endpoints.</span></span> <span data-ttu-id="fd765-105">*Örnek* oluşturma, Kullanıcı tanımlı hizmet nesnelerinin ve bunlarla ilgili nesnelerin ömrünü denetlemeye başvurur <xref:System.ServiceModel.InstanceContext> .</span><span class="sxs-lookup"><span data-stu-id="fd765-105">*Instancing* refers to controlling the lifetime of user-defined service objects and their related <xref:System.ServiceModel.InstanceContext> objects.</span></span> <span data-ttu-id="fd765-106">*Eşzamanlılık* , aynı anda bir içinde yürütülen iş parçacığı sayısı denetimine verilen terimdir <xref:System.ServiceModel.InstanceContext> .</span><span class="sxs-lookup"><span data-stu-id="fd765-106">*Concurrency* is the term given to the control of the number of threads executing in an <xref:System.ServiceModel.InstanceContext> at the same time.</span></span>  
  
 <span data-ttu-id="fd765-107">Bu konu, bu ayarları, nasıl kullanılacağını ve aralarında çeşitli etkileşimleri açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="fd765-107">This topic describes these settings, how to use them, and the various interactions between them.</span></span>  
  
## <a name="sessions"></a><span data-ttu-id="fd765-108">Oturumlar</span><span class="sxs-lookup"><span data-stu-id="fd765-108">Sessions</span></span>  
 <span data-ttu-id="fd765-109">Bir hizmet sözleşmesi <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> özelliği olarak ayarladığında <xref:System.ServiceModel.SessionMode.Required?displayProperty=nameWithType> , bu sözleşme tüm çağrıların (yani, çağrıları destekleyen temel alınan ileti değişimlerinin) aynı görüşmenin parçası olması gerektiğini söyleyecektir.</span><span class="sxs-lookup"><span data-stu-id="fd765-109">When a service contract sets the <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.SessionMode.Required?displayProperty=nameWithType>, that contract is saying that all calls (that is, the underlying message exchanges that support the calls) must be part of the same conversation.</span></span> <span data-ttu-id="fd765-110">Bir sözleşme, oturumlara izin verdiğini ancak bir tane gerektirmediğini belirtir, istemciler bağlanabilir ve bir oturum oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="fd765-110">If a contract specifies that it allows sessions but does not require one, clients can connect and either establish a session or not.</span></span> <span data-ttu-id="fd765-111">Oturum sonlanıyorsa ve aynı oturum tabanlı kanalda bir ileti gönderildiğinde bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-111">If the session ends and a message is sent over the same session-based channel an exception is thrown.</span></span>  
  
 <span data-ttu-id="fd765-112">WCF oturumları aşağıdaki ana kavramsal özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="fd765-112">WCF sessions have the following main conceptual features:</span></span>  
  
- <span data-ttu-id="fd765-113">Bunlar, çağıran uygulama tarafından açık bir şekilde başlatılıp sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="fd765-113">They are explicitly initiated and terminated by the calling application.</span></span>  
  
- <span data-ttu-id="fd765-114">Bir oturum sırasında teslim edilen iletiler alındıkları sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="fd765-114">Messages delivered during a session are processed in the order in which they are received.</span></span>  
  
- <span data-ttu-id="fd765-115">Bir ileti grubunu bir konuşmaya ilişkilendirmede oturumlar.</span><span class="sxs-lookup"><span data-stu-id="fd765-115">Sessions correlate a group of messages into a conversation.</span></span> <span data-ttu-id="fd765-116">Bu korelasyon anlamı bir soyutlamadır.</span><span class="sxs-lookup"><span data-stu-id="fd765-116">The meaning of that correlation is an abstraction.</span></span> <span data-ttu-id="fd765-117">Örneğin, bir oturum tabanlı kanal, bir paylaşılan ağ bağlantısına göre iletileri ilişkilendirebilir, ancak başka bir oturum tabanlı kanal ileti gövdesinde paylaşılan bir etikete göre iletileri ilişkilendirip ilişkilendiremeyebilir.</span><span class="sxs-lookup"><span data-stu-id="fd765-117">For instance, one session-based channel may correlate messages based on a shared network connection while another session-based channel may correlate messages based on a shared tag in the message body.</span></span> <span data-ttu-id="fd765-118">Oturumdan türetilebilen özellikler, bağıntı yapısına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="fd765-118">The features that can be derived from the session depend on the nature of the correlation.</span></span>  
  
- <span data-ttu-id="fd765-119">Bir WCF oturumuyla ilişkili genel veri deposu yok.</span><span class="sxs-lookup"><span data-stu-id="fd765-119">There is no general data store associated with a WCF session.</span></span>  
  
 <span data-ttu-id="fd765-120"><xref:System.Web.SessionState.HttpSessionState?displayProperty=nameWithType>ASP.NET uygulamalarında sınıfı ve sağladığı işlevselliği biliyorsanız, bu tür oturum ve WCF oturumları arasında aşağıdaki farklılıkları fark edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fd765-120">If you are familiar with the <xref:System.Web.SessionState.HttpSessionState?displayProperty=nameWithType> class in ASP.NET applications and the functionality it provides, you might notice the following differences between that kind of session and WCF sessions:</span></span>  
  
- <span data-ttu-id="fd765-121">ASP.NET oturumları her zaman sunucu tarafından başlatılır.</span><span class="sxs-lookup"><span data-stu-id="fd765-121">ASP.NET sessions are always server-initiated.</span></span>  
  
- <span data-ttu-id="fd765-122">ASP.NET oturumları örtük olarak sırasız değildir.</span><span class="sxs-lookup"><span data-stu-id="fd765-122">ASP.NET sessions are implicitly unordered.</span></span>  
  
- <span data-ttu-id="fd765-123">ASP.NET oturumları, istekler arasında genel bir veri depolama mekanizması sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd765-123">ASP.NET sessions provide a general data storage mechanism across requests.</span></span>  
  
 <span data-ttu-id="fd765-124">İstemci uygulamaları ve hizmet uygulamaları farklı yollarla oturumlarla etkileşim kurar.</span><span class="sxs-lookup"><span data-stu-id="fd765-124">Client applications and service applications interact with sessions in different ways.</span></span> <span data-ttu-id="fd765-125">İstemci uygulamaları oturumları başlatır ve oturum içinde gönderilen iletileri alır ve işler.</span><span class="sxs-lookup"><span data-stu-id="fd765-125">Client applications initiate sessions and then receive and process the messages sent within the session.</span></span> <span data-ttu-id="fd765-126">Hizmet uygulamaları, ek davranış eklemek için oturumları bir genişletilebilirlik noktası olarak kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="fd765-126">Service applications can use sessions as an extensibility point to add additional behavior.</span></span> <span data-ttu-id="fd765-127">Bu, doğrudan <xref:System.ServiceModel.InstanceContext> özel bir örnek bağlam sağlayıcısı ile çalışarak veya uygulayarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="fd765-127">This is done by working directly with the <xref:System.ServiceModel.InstanceContext> or implementing a custom instance context provider.</span></span>  
  
## <a name="instancing"></a><span data-ttu-id="fd765-128">Örnek Oluşturma</span><span class="sxs-lookup"><span data-stu-id="fd765-128">Instancing</span></span>  
 <span data-ttu-id="fd765-129">Örnek oluşturma davranışı (özelliği kullanılarak ayarlanır <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> ), <xref:System.ServiceModel.InstanceContext> gelen iletilere yanıt olarak nasıl oluşturulduğunu denetler.</span><span class="sxs-lookup"><span data-stu-id="fd765-129">The instancing behavior (set by using the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property) controls how the <xref:System.ServiceModel.InstanceContext> is created in response to incoming messages.</span></span> <span data-ttu-id="fd765-130">Varsayılan olarak, her biri <xref:System.ServiceModel.InstanceContext> Kullanıcı tanımlı bir hizmet nesnesiyle ilişkilendirilir, yani (varsayılan durumda) <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> özellik ayarı Kullanıcı tanımlı hizmet nesnelerinin örneklemesini de denetler.</span><span class="sxs-lookup"><span data-stu-id="fd765-130">By default, each <xref:System.ServiceModel.InstanceContext> is associated with one user-defined service object, so (in the default case) setting the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> property also controls the instancing of user-defined service objects.</span></span> <span data-ttu-id="fd765-131"><xref:System.ServiceModel.InstanceContextMode>Sabit listesi, örnek oluşturma modlarını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="fd765-131">The <xref:System.ServiceModel.InstanceContextMode> enumeration defines the instancing modes.</span></span>  
  
 <span data-ttu-id="fd765-132">Aşağıdaki örnek oluşturma modları kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="fd765-132">The following instancing modes are available:</span></span>  
  
- <span data-ttu-id="fd765-133"><xref:System.ServiceModel.InstanceContextMode.PerCall>: <xref:System.ServiceModel.InstanceContext> Her istemci isteği için yeni bir (ve bu nedenle hizmet nesnesi) oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-133"><xref:System.ServiceModel.InstanceContextMode.PerCall>: A new <xref:System.ServiceModel.InstanceContext> (and therefore service object) is created for each client request.</span></span>  
  
- <span data-ttu-id="fd765-134"><xref:System.ServiceModel.InstanceContextMode.PerSession>: <xref:System.ServiceModel.InstanceContext> Her yeni istemci oturumu için yeni bir (ve bu nedenle hizmet nesnesi) oluşturulur ve bu oturumun kullanım ömrü boyunca korunur (Bu, oturumları destekleyen bir bağlama gerektirir).</span><span class="sxs-lookup"><span data-stu-id="fd765-134"><xref:System.ServiceModel.InstanceContextMode.PerSession>: A new <xref:System.ServiceModel.InstanceContext> (and therefore service object) is created for each new client session and maintained for the lifetime of that session (this requires a binding that supports sessions).</span></span>  
  
- <span data-ttu-id="fd765-135"><xref:System.ServiceModel.InstanceContextMode.Single>: Tek bir <xref:System.ServiceModel.InstanceContext> (ve bu nedenle hizmet nesnesi), uygulamanın kullanım ömrü boyunca tüm istemci isteklerini işler.</span><span class="sxs-lookup"><span data-stu-id="fd765-135"><xref:System.ServiceModel.InstanceContextMode.Single>: A single <xref:System.ServiceModel.InstanceContext> (and therefore service object) handles all client requests for the lifetime of the application.</span></span>  
  
 <span data-ttu-id="fd765-136">Aşağıdaki kod örneği <xref:System.ServiceModel.InstanceContextMode> , <xref:System.ServiceModel.InstanceContextMode.PerSession> bir hizmet sınıfında açıkça ayarlanan varsayılan değeri gösterir.</span><span class="sxs-lookup"><span data-stu-id="fd765-136">The following code example shows the default <xref:System.ServiceModel.InstanceContextMode> value, <xref:System.ServiceModel.InstanceContextMode.PerSession> being explicitly set on a service class.</span></span>  
  
```csharp  
[ServiceBehavior(InstanceContextMode=InstanceContextMode.PerSession)]
public class CalculatorService : ICalculatorInstance
{
    ...  
}  
```  
  
 <span data-ttu-id="fd765-137">Ancak <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özellik ne sıklıkta yayınlanacağını denetken, <xref:System.ServiceModel.InstanceContext> <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> <xref:System.ServiceModel.ServiceBehaviorAttribute.ReleaseServiceInstanceOnTransactionComplete%2A?displayProperty=nameWithType> hizmet nesnesi serbest bırakıldığında ve özellikleri denetimi.</span><span class="sxs-lookup"><span data-stu-id="fd765-137">And while the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property controls how often the <xref:System.ServiceModel.InstanceContext> is released, the <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.ServiceBehaviorAttribute.ReleaseServiceInstanceOnTransactionComplete%2A?displayProperty=nameWithType> properties control when the service object is released.</span></span>  
  
### <a name="well-known-singleton-services"></a><span data-ttu-id="fd765-138">İyi bilinen Singleton Hizmetleri</span><span class="sxs-lookup"><span data-stu-id="fd765-138">Well-Known Singleton Services</span></span>  
 <span data-ttu-id="fd765-139">Tek örnekli hizmet nesnelerinde bir çeşitleme bazen yararlı olur: bir hizmet nesnesi oluşturabilir ve bu nesneyi kullanarak hizmet konağını oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fd765-139">One variation on single instance service objects is sometimes useful: you can create a service object yourself and create the service host using that object.</span></span> <span data-ttu-id="fd765-140">Bunu yapmak için, <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> <xref:System.ServiceModel.InstanceContextMode.Single> hizmet ana bilgisayarı açıldığında özelliği olarak ayarlamanız veya bir özel durum oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="fd765-140">To do so, you must also set the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.InstanceContextMode.Single> or an exception is thrown when the service host is opened.</span></span>  
  
 <span data-ttu-id="fd765-141"><xref:System.ServiceModel.ServiceHost.%23ctor%28System.Object%2CSystem.Uri%5B%5D%29>Bu tür bir hizmet oluşturmak için oluşturucuyu kullanın.</span><span class="sxs-lookup"><span data-stu-id="fd765-141">Use the <xref:System.ServiceModel.ServiceHost.%23ctor%28System.Object%2CSystem.Uri%5B%5D%29> constructor to create such a service.</span></span> <span data-ttu-id="fd765-142"><xref:System.ServiceModel.Dispatcher.IInstanceContextInitializer?displayProperty=nameWithType>Tek bir hizmet tarafından kullanılmak üzere belirli bir nesne örneği sağlamak istediğinizde özel uygulamaya bir alternatif sağlar.</span><span class="sxs-lookup"><span data-stu-id="fd765-142">It provides an alternative to implementing a custom <xref:System.ServiceModel.Dispatcher.IInstanceContextInitializer?displayProperty=nameWithType> when you wish to provide a specific object instance for use by a singleton service.</span></span> <span data-ttu-id="fd765-143">Bu aşırı yüklemeyi, hizmet uygulama türü oluşturulması zor olduğunda kullanabilirsiniz (örneğin, parametresiz bir ortak Oluşturucu uygulamadıysanız).</span><span class="sxs-lookup"><span data-stu-id="fd765-143">You can use this overload when your service implementation type is difficult to construct (for example, if it does not implement a parameterless public constructor).</span></span>  
  
 <span data-ttu-id="fd765-144">Bu oluşturucuya bir nesne sağlandığında, Windows Communication Foundation (WCF) örnek oluşturma davranışıyla ilgili bazı özelliklerin farklı şekilde çalıştığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="fd765-144">Note that when an object is provided to this constructor, some features related to the Windows Communication Foundation (WCF) instancing behavior work differently.</span></span> <span data-ttu-id="fd765-145">Örneğin, <xref:System.ServiceModel.InstanceContext.ReleaseServiceInstance%2A?displayProperty=nameWithType> tek bir nesne örneği sağlandığında çağırmanın hiçbir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="fd765-145">For example, calling <xref:System.ServiceModel.InstanceContext.ReleaseServiceInstance%2A?displayProperty=nameWithType> has no effect when a singleton object instance is provided.</span></span> <span data-ttu-id="fd765-146">Benzer şekilde, diğer örnek yayın mekanizması yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="fd765-146">Similarly, any other instance-release mechanism is ignored.</span></span> <span data-ttu-id="fd765-147"><xref:System.ServiceModel.ServiceHost>Her zaman <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> özelliği tüm işlemler için olarak ayarlanmış gibi davranır <xref:System.ServiceModel.ReleaseInstanceMode.None?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="fd765-147">The <xref:System.ServiceModel.ServiceHost> always behaves as if the <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> property is set to <xref:System.ServiceModel.ReleaseInstanceMode.None?displayProperty=nameWithType> for all operations.</span></span>  
  
### <a name="sharing-instancecontext-objects"></a><span data-ttu-id="fd765-148">InstanceContext nesnelerini paylaşma</span><span class="sxs-lookup"><span data-stu-id="fd765-148">Sharing InstanceContext Objects</span></span>  
 <span data-ttu-id="fd765-149">Ayrıca, <xref:System.ServiceModel.InstanceContext> Bu ilişkilendirmeyi kendi başınıza gerçekleştirerek hangi oturumsuz kanalın veya çağrının hangi nesneyle ilişkilendirildiğini da denetleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fd765-149">You can also control which sessionful channel or call is associated with which <xref:System.ServiceModel.InstanceContext> object by performing that association yourself.</span></span>  
  
## <a name="concurrency"></a><span data-ttu-id="fd765-150">Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="fd765-150">Concurrency</span></span>  
 <span data-ttu-id="fd765-151">Eşzamanlılık, tek seferde etkin olan iş parçacıklarının sayısı denetimidir <xref:System.ServiceModel.InstanceContext> .</span><span class="sxs-lookup"><span data-stu-id="fd765-151">Concurrency is the control of the number of threads active in an <xref:System.ServiceModel.InstanceContext> at any one time.</span></span> <span data-ttu-id="fd765-152">Bu, numaralandırmasıyla birlikte kullanılarak denetlenir <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> <xref:System.ServiceModel.ConcurrencyMode> .</span><span class="sxs-lookup"><span data-stu-id="fd765-152">This is controlled by using the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> with the <xref:System.ServiceModel.ConcurrencyMode> enumeration.</span></span>  
  
 <span data-ttu-id="fd765-153">Aşağıdaki üç eşzamanlılık modu kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="fd765-153">The following three concurrency modes are available:</span></span>  
  
- <span data-ttu-id="fd765-154"><xref:System.ServiceModel.ConcurrencyMode.Single>: Her örnek bağlamının, örnek bağlamında aynı anda en fazla bir iş parçacığı işlem iletisi işlemesine izin verilir.</span><span class="sxs-lookup"><span data-stu-id="fd765-154"><xref:System.ServiceModel.ConcurrencyMode.Single>: Each instance context is allowed to have a maximum of one thread processing messages in the instance context at a time.</span></span> <span data-ttu-id="fd765-155">Aynı örnek bağlamını kullanmak isteyen diğer iş parçacıklarının, özgün iş parçacığı örnek bağlamından çıkana kadar blok olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="fd765-155">Other threads wishing to use the same instance context must block until the original thread exits the instance context.</span></span>  
  
- <span data-ttu-id="fd765-156"><xref:System.ServiceModel.ConcurrencyMode.Multiple>: Her hizmet örneği aynı anda iletileri işleyen birden fazla iş parçacığına sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="fd765-156"><xref:System.ServiceModel.ConcurrencyMode.Multiple>: Each service instance can have multiple threads processing messages concurrently.</span></span> <span data-ttu-id="fd765-157">Bu eşzamanlılık modunu kullanabilmek için hizmet uygulamasının iş parçacığı açısından güvenli olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="fd765-157">The service implementation must be thread-safe to use this concurrency mode.</span></span>  
  
- <span data-ttu-id="fd765-158"><xref:System.ServiceModel.ConcurrencyMode.Reentrant>: Her hizmet örneği tek seferde bir ileti işler, ancak yeniden entrant işlem çağrılarını kabul eder.</span><span class="sxs-lookup"><span data-stu-id="fd765-158"><xref:System.ServiceModel.ConcurrencyMode.Reentrant>: Each service instance processes one message at a time, but accepts re-entrant operation calls.</span></span> <span data-ttu-id="fd765-159">Hizmet yalnızca bir WCF istemci nesnesi aracılığıyla çağrı yapıldığında bu çağrıları kabul eder.</span><span class="sxs-lookup"><span data-stu-id="fd765-159">The service only accepts these calls when it is calling out through a WCF client object.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="fd765-160">Birden fazla iş parçacığının güvenli bir şekilde kullanıldığı kodun anlaşılmasına ve geliştirilmesine, başarıyla yazılması zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="fd765-160">Understanding and developing code that safely uses more than one thread can be difficult to write successfully.</span></span> <span data-ttu-id="fd765-161"><xref:System.ServiceModel.ConcurrencyMode.Multiple>Veya değerlerini kullanmadan önce <xref:System.ServiceModel.ConcurrencyMode.Reentrant> , hizmetinizin bu modlar için doğru şekilde tasarlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="fd765-161">Before using <xref:System.ServiceModel.ConcurrencyMode.Multiple> or <xref:System.ServiceModel.ConcurrencyMode.Reentrant> values, ensure that your service is properly designed for these modes.</span></span> <span data-ttu-id="fd765-162">Daha fazla bilgi için bkz. <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd765-162">For more information, see <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A>.</span></span>  
  
 <span data-ttu-id="fd765-163">Eşzamanlılık kullanımı, örnek oluşturma moduyla ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="fd765-163">The use of concurrency is related to the instancing mode.</span></span> <span data-ttu-id="fd765-164"><xref:System.ServiceModel.InstanceContextMode.PerCall>Örnek olarak, her ileti yeni bir tarafından işlendiği için eşzamanlılık ilgili değildir <xref:System.ServiceModel.InstanceContext> ve bu nedenle, içinde hiç bir iş parçacığı etkin değildir <xref:System.ServiceModel.InstanceContext> .</span><span class="sxs-lookup"><span data-stu-id="fd765-164">In <xref:System.ServiceModel.InstanceContextMode.PerCall> instancing, concurrency is not relevant, because each message is processed by a new <xref:System.ServiceModel.InstanceContext> and, therefore, never more than one thread is active in the <xref:System.ServiceModel.InstanceContext>.</span></span>  
  
 <span data-ttu-id="fd765-165">Aşağıdaki kod örneği özelliği olarak ayarlamayı gösterir <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> <xref:System.ServiceModel.ConcurrencyMode.Multiple> .</span><span class="sxs-lookup"><span data-stu-id="fd765-165">The following code example demonstrates setting the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> property to <xref:System.ServiceModel.ConcurrencyMode.Multiple>.</span></span>  
  
```csharp
[ServiceBehavior(ConcurrencyMode=ConcurrencyMode.Multiple, InstanceContextMode = InstanceContextMode.Single)]
public class CalculatorService : ICalculatorConcurrency
{
    ...  
}  
```  
  
## <a name="sessions-interact-with-instancecontext-settings"></a><span data-ttu-id="fd765-166">Oturumlar InstanceContext ayarlarıyla etkileşim kurar</span><span class="sxs-lookup"><span data-stu-id="fd765-166">Sessions Interact with InstanceContext Settings</span></span>  
 <span data-ttu-id="fd765-167">Oturumlar ve <xref:System.ServiceModel.InstanceContext> <xref:System.ServiceModel.SessionMode> bir sözleşmede numaralandırma değerinin birleşimine ve <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> hizmet uygulamasındaki özelliğe bağlı olarak, kanallar ve belirli hizmet nesneleri arasındaki ilişkilendirmeyi denetleyen şekilde etkileşime geçin.</span><span class="sxs-lookup"><span data-stu-id="fd765-167">Sessions and <xref:System.ServiceModel.InstanceContext> interact depending upon the combination of the value of the <xref:System.ServiceModel.SessionMode> enumeration in a contract and the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property on the service implementation, which controls the association between channels and specific service objects.</span></span>  
  
 <span data-ttu-id="fd765-168">Aşağıdaki tabloda, bir gelen kanalın sonuçları destekleme veya bir hizmetin özelliğin değerlerinin ve özelliğinin bir birleşimi olan oturumları desteklememinde gösterilmektedir <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="fd765-168">The following table shows the result of an incoming channel either supporting sessions or not supporting sessions given a service's combination of the values of the <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> property and the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property.</span></span>  
  
|<span data-ttu-id="fd765-169">InstanceContextMode değeri</span><span class="sxs-lookup"><span data-stu-id="fd765-169">InstanceContextMode value</span></span>|<xref:System.ServiceModel.SessionMode.Required>|<xref:System.ServiceModel.SessionMode.Allowed>|<xref:System.ServiceModel.SessionMode.NotAllowed>|  
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="fd765-170">PerCall</span><span class="sxs-lookup"><span data-stu-id="fd765-170">PerCall</span></span>|<span data-ttu-id="fd765-171">-Oturumsuz kanal ile davranış: bir oturum ve <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="fd765-171">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each call.</span></span><br /><span data-ttu-id="fd765-172">-Oturumsuz kanal ile davranış: bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-172">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="fd765-173">-Oturumsuz kanal ile davranış: bir oturum ve <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="fd765-173">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each call.</span></span><br /><span data-ttu-id="fd765-174">-Oturumsuz kanal: <xref:System.ServiceModel.InstanceContext> her bir çağrı Için bir davranıştır.</span><span class="sxs-lookup"><span data-stu-id="fd765-174">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|<span data-ttu-id="fd765-175">-Oturumsuz kanal ile davranış: bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-175">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="fd765-176">-Oturumsuz kanal: <xref:System.ServiceModel.InstanceContext> her bir çağrı Için bir davranıştır.</span><span class="sxs-lookup"><span data-stu-id="fd765-176">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|  
|<span data-ttu-id="fd765-177">PerSession</span><span class="sxs-lookup"><span data-stu-id="fd765-177">PerSession</span></span>|<span data-ttu-id="fd765-178">-Oturumsuz kanal ile davranış: bir oturum ve <xref:System.ServiceModel.InstanceContext> her kanal için.</span><span class="sxs-lookup"><span data-stu-id="fd765-178">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each channel.</span></span><br /><span data-ttu-id="fd765-179">-Oturumsuz kanal ile davranış: bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-179">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="fd765-180">-Oturumsuz kanal ile davranış: bir oturum ve <xref:System.ServiceModel.InstanceContext> her kanal için.</span><span class="sxs-lookup"><span data-stu-id="fd765-180">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each channel.</span></span><br /><span data-ttu-id="fd765-181">-Oturumsuz kanal: <xref:System.ServiceModel.InstanceContext> her bir çağrı Için bir davranıştır.</span><span class="sxs-lookup"><span data-stu-id="fd765-181">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|<span data-ttu-id="fd765-182">-Oturumsuz kanal ile davranış: bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-182">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="fd765-183">-Oturumsuz kanal: <xref:System.ServiceModel.InstanceContext> her bir çağrı Için bir davranıştır.</span><span class="sxs-lookup"><span data-stu-id="fd765-183">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|  
|<span data-ttu-id="fd765-184">Tek</span><span class="sxs-lookup"><span data-stu-id="fd765-184">Single</span></span>|<span data-ttu-id="fd765-185">-Oturumsuz kanal ile davranış: bir oturum ve <xref:System.ServiceModel.InstanceContext> Tüm çağrılar için bir oturum.</span><span class="sxs-lookup"><span data-stu-id="fd765-185">-   Behavior with sessionful channel: A session and one <xref:System.ServiceModel.InstanceContext> for all calls.</span></span><br /><span data-ttu-id="fd765-186">-Oturumsuz kanal ile davranış: bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-186">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="fd765-187">-Oturumlı kanal ile davranış: bir oturum ve <xref:System.ServiceModel.InstanceContext> oluşturulan ya da Kullanıcı tarafından belirtilen tek.</span><span class="sxs-lookup"><span data-stu-id="fd765-187">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for the created or user-specified singleton.</span></span><br /><span data-ttu-id="fd765-188">-Oturumsuz kanal ile davranış: <xref:System.ServiceModel.InstanceContext> oluşturulan veya Kullanıcı tarafından belirtilen tek.</span><span class="sxs-lookup"><span data-stu-id="fd765-188">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for the created or user-specified singleton.</span></span>|<span data-ttu-id="fd765-189">-Oturumsuz kanal ile davranış: bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="fd765-189">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="fd765-190">-Oturumsuz kanal ile davranış: <xref:System.ServiceModel.InstanceContext> her oluşturulan tek tekil veya Kullanıcı tarafından belirtilen tek için.</span><span class="sxs-lookup"><span data-stu-id="fd765-190">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each created singleton or for the user-specified singleton.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="fd765-191">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="fd765-191">See also</span></span>

- [<span data-ttu-id="fd765-192">Oturumları Kullanma</span><span class="sxs-lookup"><span data-stu-id="fd765-192">Using Sessions</span></span>](../using-sessions.md)
- [<span data-ttu-id="fd765-193">Nasıl yapılır: Oturum Gerektiren Bir Hizmet Oluşturma</span><span class="sxs-lookup"><span data-stu-id="fd765-193">How to: Create a Service That Requires Sessions</span></span>](how-to-create-a-service-that-requires-sessions.md)
- [<span data-ttu-id="fd765-194">Nasıl yapılır: Hizmet Örneği Oluşturmayı Denetleme</span><span class="sxs-lookup"><span data-stu-id="fd765-194">How to: Control Service Instancing</span></span>](how-to-control-service-instancing.md)
- [<span data-ttu-id="fd765-195">Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="fd765-195">Concurrency</span></span>](../samples/concurrency.md)
- [<span data-ttu-id="fd765-196">Örnek Oluşturma</span><span class="sxs-lookup"><span data-stu-id="fd765-196">Instancing</span></span>](../samples/instancing.md)
- [<span data-ttu-id="fd765-197">Oturum</span><span class="sxs-lookup"><span data-stu-id="fd765-197">Session</span></span>](../samples/session.md)
