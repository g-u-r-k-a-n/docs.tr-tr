---
title: Bulutta yerel bir uygulamada önbelleğe alma
description: Bulut Yerel uygulamasındaki önbelleğe alma stratejilerini öğrenin.
author: robvet
ms.date: 05/17/2020
ms.openlocfilehash: 84860ad4583e4b45d5ca9490d9f0167e7439d3d4
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/24/2020
ms.locfileid: "91161093"
---
# <a name="caching-in-a-cloud-native-app"></a><span data-ttu-id="974e6-103">Bulutta yerel bir uygulamada önbelleğe alma</span><span class="sxs-lookup"><span data-stu-id="974e6-103">Caching in a cloud-native app</span></span>

<span data-ttu-id="974e6-104">Önbelleğe almanın avantajları iyi anlaşılmıştır.</span><span class="sxs-lookup"><span data-stu-id="974e6-104">The benefits of caching are well understood.</span></span> <span data-ttu-id="974e6-105">Bu yöntem, sık erişilen verileri bir arka uç veri deposundan geçici olarak uygulamaya daha yakın olan *hızlı depolamaya* kopyalayarak işe yarar.</span><span class="sxs-lookup"><span data-stu-id="974e6-105">The technique works by temporarily copying frequently accessed data from a backend data store to *fast storage* that's located closer to the application.</span></span> <span data-ttu-id="974e6-106">Önbelleğe alma işlemi genellikle şu şekilde uygulanır...</span><span class="sxs-lookup"><span data-stu-id="974e6-106">Caching is often implemented where...</span></span>

- <span data-ttu-id="974e6-107">Veriler nispeten statik kalır.</span><span class="sxs-lookup"><span data-stu-id="974e6-107">Data remains relatively static.</span></span>
- <span data-ttu-id="974e6-108">Veri erişimi, özellikle önbelleğin hızına kıyasla yavaş olur.</span><span class="sxs-lookup"><span data-stu-id="974e6-108">Data access is slow, especially compared to the speed of the cache.</span></span>
- <span data-ttu-id="974e6-109">Veriler yüksek çekişme düzeylerine tabidir.</span><span class="sxs-lookup"><span data-stu-id="974e6-109">Data is subject to high levels of contention.</span></span>

## <a name="why"></a><span data-ttu-id="974e6-110">Neden?</span><span class="sxs-lookup"><span data-stu-id="974e6-110">Why?</span></span>

<span data-ttu-id="974e6-111">Önbelleğe alma, [Microsoft önbelleğe alma kılavuzunda](/azure/architecture/best-practices/caching)anlatıldığı gibi tek tek mikro hizmetler ve sistem için performansı, ölçeklenebilirliği ve kullanılabilirliği bir bütün olarak artırabilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-111">As discussed in the [Microsoft caching guidance](/azure/architecture/best-practices/caching), caching can increase performance, scalability, and availability for individual microservices and the system as a whole.</span></span> <span data-ttu-id="974e6-112">Çok sayıda eşzamanlı isteği bir veri deposuna işlemenin gecikme süresini ve çekişmesini azaltır.</span><span class="sxs-lookup"><span data-stu-id="974e6-112">It reduces the latency and contention of handling large volumes of concurrent requests to a data store.</span></span> <span data-ttu-id="974e6-113">Veri hacmi ve Kullanıcı sayısı arttıkça, önbelleğe almanın avantajları artar.</span><span class="sxs-lookup"><span data-stu-id="974e6-113">As data volume and the number of users increase, the greater the benefits of caching become.</span></span>

<span data-ttu-id="974e6-114">Bir istemci, sabit olan veya seyrek değişen verileri sürekli okuduğu zaman önbelleğe alma işlemi en etkilidir.</span><span class="sxs-lookup"><span data-stu-id="974e6-114">Caching is most effective when a client repeatedly reads data that is immutable or that changes infrequently.</span></span> <span data-ttu-id="974e6-115">Örnek olarak ürün ve fiyatlandırma bilgileri gibi başvuru bilgileri ya da yapı maliyeti olan paylaşılan statik kaynaklar sayılabilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-115">Examples include reference information such as product and pricing information, or shared static resources that are costly to construct.</span></span>

<span data-ttu-id="974e6-116">Mikro hizmetler durum bilgisiz olsa da, dağıtılmış bir önbellek, kesinlikle gerekli olduğunda oturum durumu verilerine eşzamanlı erişimi destekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-116">While microservices should be stateless, a distributed cache can support concurrent access to session state data when absolutely required.</span></span>

<span data-ttu-id="974e6-117">Ayrıca yinelenen hesaplamaları önlemek için önbelleğe almayı göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="974e6-117">Also consider caching to avoid repetitive computations.</span></span> <span data-ttu-id="974e6-118">Bir işlem verileri dönüştürirse veya karmaşık bir hesaplama gerçekleştiriyorsa, sonraki isteklerin sonucunu önbelleğe alma.</span><span class="sxs-lookup"><span data-stu-id="974e6-118">If an operation transforms data or performs a complicated calculation, cache the result for subsequent requests.</span></span>

## <a name="caching-architecture"></a><span data-ttu-id="974e6-119">Önbelleğe alma mimarisi</span><span class="sxs-lookup"><span data-stu-id="974e6-119">Caching architecture</span></span>

<span data-ttu-id="974e6-120">Bulutta yerel uygulamalar genellikle dağıtılmış bir önbelleğe alma mimarisi uygular.</span><span class="sxs-lookup"><span data-stu-id="974e6-120">Cloud native applications typically implement a distributed caching architecture.</span></span> <span data-ttu-id="974e6-121">Önbellek, mikro hizmetlerden ayrı olarak bulut tabanlı bir [yedekleme hizmeti](./definition.md#backing-services)olarak barındırılır.</span><span class="sxs-lookup"><span data-stu-id="974e6-121">The cache is hosted as a cloud-based [backing service](./definition.md#backing-services), separate from the microservices.</span></span> <span data-ttu-id="974e6-122">Şekil 5-15, mimariyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="974e6-122">Figure 5-15 shows the architecture.</span></span>

![Cloud Native bir uygulamada önbelleğe alma](media/caching-in-a-cloud-native-app.png)

<span data-ttu-id="974e6-124">**Şekil 5-15**: bir bulutta yerel uygulamada önbelleğe alma</span><span class="sxs-lookup"><span data-stu-id="974e6-124">**Figure 5-15**: Caching in a cloud native app</span></span>

<span data-ttu-id="974e6-125">Önceki şekilde, önbelleğin mikro hizmetlerden nasıl bağımsız olduğunu ve bu hizmetin nasıl paylaşıldığını aklınızda.</span><span class="sxs-lookup"><span data-stu-id="974e6-125">In the previous figure, note how the cache is independent of and shared by the microservices.</span></span> <span data-ttu-id="974e6-126">Bu senaryoda, önbellek [API ağ geçidi](./front-end-communication.md)tarafından çağrılır.</span><span class="sxs-lookup"><span data-stu-id="974e6-126">In this scenario, the cache is invoked by the [API Gateway](./front-end-communication.md).</span></span> <span data-ttu-id="974e6-127">Bölüm 4 ' te anlatıldığı gibi, ağ geçidi tüm gelen istekler için ön uç işlevi görür.</span><span class="sxs-lookup"><span data-stu-id="974e6-127">As discussed in chapter 4, the gateway serves as a front end for all incoming requests.</span></span> <span data-ttu-id="974e6-128">Dağıtılmış önbellek, mümkün olduğunda önbelleğe alınmış verileri döndürerek sistem yanıt hızını artırır.</span><span class="sxs-lookup"><span data-stu-id="974e6-128">The distributed cache increases system responsiveness by returning cached data whenever possible.</span></span> <span data-ttu-id="974e6-129">Ayrıca, önbelleğin hizmetten ayrılması, önbelleğin artan trafik taleplerini karşılamak için bağımsız olarak ölçeği artırma veya genişletme olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="974e6-129">Additionally, separating the cache from the services allows the cache to scale up or out independently to meet increased traffic demands.</span></span>

<span data-ttu-id="974e6-130">Önceki şekil, [önbellek stili](/azure/architecture/patterns/cache-aside)olarak bilinen ortak bir önbelleğe alma deseninin olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="974e6-130">The previous figure presents a common caching pattern known as the [cache-aside pattern](/azure/architecture/patterns/cache-aside).</span></span> <span data-ttu-id="974e6-131">Gelen bir istek için, ilk olarak \# bir yanıt için önbelleği (1. adım) sorgulayın.</span><span class="sxs-lookup"><span data-stu-id="974e6-131">For an incoming request, you first query the cache (step \#1) for a response.</span></span> <span data-ttu-id="974e6-132">Bulunursa, veriler hemen döndürülür.</span><span class="sxs-lookup"><span data-stu-id="974e6-132">If found, the data is returned immediately.</span></span> <span data-ttu-id="974e6-133">Veriler önbellekte yoksa ( [önbellek isabetsizliği](https://www.techopedia.com/definition/6308/cache-miss)olarak bilinir), bir aşağı akış hizmetindeki yerel bir veritabanından alınır ( \# 2. adım).</span><span class="sxs-lookup"><span data-stu-id="974e6-133">If the data doesn't exist in the cache (known as a [cache miss](https://www.techopedia.com/definition/6308/cache-miss)), it's retrieved from a local database in a downstream service (step \#2).</span></span> <span data-ttu-id="974e6-134">Daha sonra gelecek istekler için önbelleğe yazılır (3. adım \# ) ve çağırana döndürülür.</span><span class="sxs-lookup"><span data-stu-id="974e6-134">It's then written to the cache for future requests (step \#3), and returned to the caller.</span></span> <span data-ttu-id="974e6-135">Sistemin zamanında ve tutarlı kalması için düzenli olarak önbelleğe alınmış verileri çıkarmak üzere dikkatli olunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="974e6-135">Care must be taken to periodically evict cached data so that the system remains timely and consistent.</span></span>

<span data-ttu-id="974e6-136">Paylaşılan bir önbellek büyüdükçe, verilerin birden çok düğüm arasında bölümlenmesi yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-136">As a shared cache grows, it might prove beneficial to partition its data across multiple nodes.</span></span> <span data-ttu-id="974e6-137">Bunun yapılması çekişmeyi en aza indirmeye ve ölçeklenebilirliği iyileştirmenize yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-137">Doing so can help minimize contention and improve scalability.</span></span> <span data-ttu-id="974e6-138">Birçok önbelleğe alma hizmeti, düğümleri dinamik olarak ekleme ve kaldırma ve verileri bölümler arasında yeniden Dengeleme özelliğini destekler.</span><span class="sxs-lookup"><span data-stu-id="974e6-138">Many Caching services support the ability to dynamically add and remove nodes and rebalance data across partitions.</span></span> <span data-ttu-id="974e6-139">Bu yaklaşım genellikle kümeleme içerir.</span><span class="sxs-lookup"><span data-stu-id="974e6-139">This approach typically involves clustering.</span></span> <span data-ttu-id="974e6-140">Kümeleme, bir Federasyon düğümleri koleksiyonunu sorunsuz, tek bir önbellek olarak kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="974e6-140">Clustering exposes a collection of federated nodes as a seamless, single cache.</span></span> <span data-ttu-id="974e6-141">Bununla birlikte, veriler, yükü eşit olarak dengeleyen önceden tanımlanmış bir dağıtım stratejisi izleyen düğümlere dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="974e6-141">Internally, however, the data is dispersed across the nodes following a predefined distribution strategy that balances the load evenly.</span></span>

## <a name="azure-cache-for-redis"></a><span data-ttu-id="974e6-142">Redis için Azure Önbelleği</span><span class="sxs-lookup"><span data-stu-id="974e6-142">Azure Cache for Redis</span></span>

<span data-ttu-id="974e6-143">[Redsıs Için Azure önbelleği](https://azure.microsoft.com/services/cache/) , Microsoft tarafından tam olarak yönetilen, güvenli bir veri önbelleğe alma ve mesajlaşma Aracısı hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="974e6-143">[Azure Cache for Redis](https://azure.microsoft.com/services/cache/) is a secure data caching and messaging broker service, fully managed by Microsoft.</span></span> <span data-ttu-id="974e6-144">Hizmet olarak platform (PaaS) teklifi olarak tüketilen verilere yüksek aktarım hızı ve düşük gecikmeli erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="974e6-144">Consumed as a Platform as a Service (PaaS) offering, it provides high throughput and low-latency access to data.</span></span> <span data-ttu-id="974e6-145">Hizmet, Azure içindeki veya dışındaki tüm uygulamalar tarafından erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-145">The service is accessible to any application within or outside of Azure.</span></span>

<span data-ttu-id="974e6-146">Redsıs hizmeti için Azure önbelleği, Azure veri merkezleri genelinde barındırılan açık kaynaklı Redsıs sunucularına erişimi yönetir.</span><span class="sxs-lookup"><span data-stu-id="974e6-146">The Azure Cache for Redis service manages access to open-source Redis servers hosted across Azure data centers.</span></span> <span data-ttu-id="974e6-147">Hizmet, yönetim, erişim denetimi ve güvenlik sağlayan bir façlade işlevi görür.</span><span class="sxs-lookup"><span data-stu-id="974e6-147">The service acts as a facade providing management, access control, and security.</span></span> <span data-ttu-id="974e6-148">Hizmet, dizeler, karmalar, listeler ve kümeler dahil zengin bir veri yapıları kümesini yerel olarak destekler.</span><span class="sxs-lookup"><span data-stu-id="974e6-148">The service natively supports a rich set of data structures, including strings, hashes, lists, and sets.</span></span> <span data-ttu-id="974e6-149">Uygulamanız zaten Redsıs kullanıyorsa, bu,-olduğu gibi çalışır.</span><span class="sxs-lookup"><span data-stu-id="974e6-149">If your application already uses Redis, it will work as-is with Azure Cache for Redis.</span></span>

<span data-ttu-id="974e6-150">Redsıs için Azure önbelleği, basit bir önbellek sunucusundan daha fazla.</span><span class="sxs-lookup"><span data-stu-id="974e6-150">Azure Cache for Redis is more than a simple cache server.</span></span> <span data-ttu-id="974e6-151">Mikro hizmet mimarisini geliştirmeye yönelik bir dizi senaryoyu destekleyebilir:</span><span class="sxs-lookup"><span data-stu-id="974e6-151">It can support a number of scenarios to enhance a microservices architecture:</span></span>

- <span data-ttu-id="974e6-152">Bellek içi veri deposu</span><span class="sxs-lookup"><span data-stu-id="974e6-152">An in-memory data store</span></span>
- <span data-ttu-id="974e6-153">Dağıtılmış ilişkisel olmayan veritabanı</span><span class="sxs-lookup"><span data-stu-id="974e6-153">A distributed non-relational database</span></span>
- <span data-ttu-id="974e6-154">İleti Aracısı</span><span class="sxs-lookup"><span data-stu-id="974e6-154">A message broker</span></span>
- <span data-ttu-id="974e6-155">Yapılandırma veya bulma sunucusu</span><span class="sxs-lookup"><span data-stu-id="974e6-155">A configuration or discovery server</span></span>
  
<span data-ttu-id="974e6-156">Gelişmiş senaryolarda, önbelleğe alınmış verilerin bir kopyası [diskte kalıcı](/azure/azure-cache-for-redis/cache-how-to-premium-persistence)hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-156">For advanced scenarios, a copy of the cached data can be [persisted to disk](/azure/azure-cache-for-redis/cache-how-to-premium-persistence).</span></span> <span data-ttu-id="974e6-157">Çok zararlı bir olay hem birincil hem de çoğaltma önbelleklerini devre dışı bırakırsa, önbellek en son anlık görüntüden yeniden oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="974e6-157">If a catastrophic event disables both the primary and replica caches, the cache is reconstructed from the most recent snapshot.</span></span>

<span data-ttu-id="974e6-158">Azure Redis Cache, bir dizi önceden tanımlanmış yapılandırmada ve fiyatlandırma katmanlarında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="974e6-158">Azure Redis Cache is available across a number of predefined configurations and pricing tiers.</span></span> <span data-ttu-id="974e6-159">[Premium katman](/azure/azure-cache-for-redis/cache-overview#service-tiers) kümeleme, veri kalıcılığı, coğrafi çoğaltma ve sanal ağ yalıtımı gibi birçok kurumsal düzey özelliği sunar.</span><span class="sxs-lookup"><span data-stu-id="974e6-159">The [Premium tier](/azure/azure-cache-for-redis/cache-overview#service-tiers) features many enterprise-level features such as clustering, data persistence, geo-replication, and virtual-network isolation.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="974e6-160">[Önceki](relational-vs-nosql-data.md) 
> [Sonraki](elastic-search-in-azure.md)</span><span class="sxs-lookup"><span data-stu-id="974e6-160">[Previous](relational-vs-nosql-data.md)
[Next](elastic-search-in-azure.md)</span></span>
